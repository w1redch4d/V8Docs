<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>v8: src/snapshot/serializer.cc Source File</title>
<link rel="icon" href="v8.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="v8.png"/></td>
  <td id="projectalign">
   <div id="projectname">v8
   </div>
   <div id="projectbrief">V8 is Googleâ€™s open source high-performance JavaScript and WebAssembly engine, written in C++. It is used in Chrome and in Node.js, among others. It implements ECMAScript and WebAssembly, and runs on Windows, macOS, and Linux systems that use x64, IA-32, or ARM processors. V8 can be embedded into any C++ application.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('serializer_8cc_source.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">serializer.cc</div></div>
</div><!--header-->
<div class="contents">
<a href="serializer_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">// Copyright 2016 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &quot;<a class="code" href="serializer_8h.html">src/snapshot/serializer.h</a>&quot;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span> </div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &quot;<a class="code" href="v8-internal_8h.html">include/v8-internal.h</a>&quot;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &quot;<a class="code" href="assembler-inl_8h.html">src/codegen/assembler-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &quot;<a class="code" href="common_2globals_8h.html">src/common/globals.h</a>&quot;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &quot;<a class="code" href="global-handles-inl_8h.html">src/handles/global-handles-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &quot;<a class="code" href="heap-inl_8h.html">src/heap/heap-inl.h</a>&quot;</span>  <span class="comment">// For Space::identity().</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &quot;<a class="code" href="mutable-page-metadata-inl_8h.html">src/heap/mutable-page-metadata-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &quot;<a class="code" href="read-only-heap_8h.html">src/heap/read-only-heap.h</a>&quot;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &quot;<a class="code" href="visit-object_8h.html">src/heap/visit-object.h</a>&quot;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &quot;<a class="code" href="code_8h.html">src/objects/code.h</a>&quot;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;<a class="code" href="descriptor-array_8h.html">src/objects/descriptor-array.h</a>&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;<a class="code" href="instance-type-checker_8h.html">src/objects/instance-type-checker.h</a>&quot;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &quot;<a class="code" href="instance-type_8h.html">src/objects/instance-type.h</a>&quot;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &quot;<a class="code" href="js-array-buffer-inl_8h.html">src/objects/js-array-buffer-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &quot;<a class="code" href="map_8h.html">src/objects/map.h</a>&quot;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &quot;<a class="code" href="objects-body-descriptors-inl_8h.html">src/objects/objects-body-descriptors-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &quot;<a class="code" href="slots-inl_8h.html">src/objects/slots-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;<a class="code" href="slots_8h.html">src/objects/slots.h</a>&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &quot;<a class="code" href="smi_8h.html">src/objects/smi.h</a>&quot;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="js-dispatch-table-inl_8h.html">src/sandbox/js-dispatch-table-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &quot;<a class="code" href="embedded-data_8h.html">src/snapshot/embedded/embedded-data.h</a>&quot;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;<a class="code" href="serializer-deserializer_8h.html">src/snapshot/serializer-deserializer.h</a>&quot;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;<a class="code" href="serializer-inl_8h.html">src/snapshot/serializer-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span> </div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacev8.html">v8</a> {</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="keyword">namespace </span><a class="code hl_variable" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a> {</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span> </div>
<div class="foldopen" id="foldopen00033" data-start="{" data-end="}">
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#ab4bb72ec660acbfab28cd6bf83884b18">   33</a></span><a class="code hl_function" href="classv8_1_1internal_1_1Serializer.html#ab4bb72ec660acbfab28cd6bf83884b18">Serializer::Serializer</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1base_1_1Flags.html">Snapshot::SerializerFlags</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a62f9ba01cabe0363e57940200d641ea5">flags</a>)</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>    : <a class="code hl_variable" href="api-natives_8cc.html#a68072bca3fef7bd8b0d3cbac971cbf4b">isolate_</a>(isolate),</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>#if V8_COMPRESS_POINTERS</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>      cage_base_(isolate),</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>#endif  <span class="comment">// V8_COMPRESS_POINTERS</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>      hot_objects_(isolate-&gt;<a class="code hl_namespace" href="namespaceheap.html">heap</a>()),</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>      reference_map_(isolate),</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>      external_reference_encoder_(isolate),</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>      root_index_map_(isolate),</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>      deferred_objects_(isolate-&gt;<a class="code hl_namespace" href="namespaceheap.html">heap</a>()),</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>      forward_refs_per_pending_object_(isolate-&gt;<a class="code hl_namespace" href="namespaceheap.html">heap</a>()),</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>      <a class="code hl_variable" href="compilation-cache-table_8cc.html#ac845e03de27eac923877cf24fda703fd">flags_</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a62f9ba01cabe0363e57940200d641ea5">flags</a>)</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>#ifdef DEBUG</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>      ,</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>      back_refs_(isolate-&gt;<a class="code hl_namespace" href="namespaceheap.html">heap</a>()),</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>      stack_(isolate-&gt;<a class="code hl_namespace" href="namespaceheap.html">heap</a>())</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>#endif</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>{</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="preprocessor">#ifdef VERBOSE_SERIALIZATION_STATISTICS</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.serialization_statistics) {</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    for (int space = 0; space &lt; kNumberOfSnapshotSpaces; ++space) {</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>      <span class="comment">// Value-initialized to 0.</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>      instance_type_count_[space] = std::make_unique&lt;int[]&gt;(kInstanceTypes);</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>      instance_type_size_[space] = std::make_unique&lt;size_t[]&gt;(kInstanceTypes);</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    }</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>  }</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span><span class="preprocessor">#endif  </span><span class="comment">// VERBOSE_SERIALIZATION_STATISTICS</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>}</div>
</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span> </div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="keywordtype">void</span> Serializer::PopStack() { stack_.Pop(); }</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span> </div>
<div class="foldopen" id="foldopen00066" data-start="{" data-end="}">
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#a6990199dd4c6d6d70fc43dfba49d1404">   66</a></span><span class="keywordtype">void</span> Serializer::CountAllocation(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> map, <span class="keywordtype">int</span> size,</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>                                 <a class="code hl_enumeration" href="namespacev8_1_1internal.html#a46b9a1b06854a0906e24b2eb20af28f9">SnapshotSpace</a> space) {</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.serialization_statistics);</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span> </div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> space_number = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="flag-definitions_8h.html#ae50fea4f4c58d91d722bb7e290b4776b">space</a>);</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>  allocation_size_[space_number] += <a class="code hl_variable" href="setup-heap-internal_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span><span class="preprocessor">#ifdef VERBOSE_SERIALIZATION_STATISTICS</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>  <span class="keywordtype">int</span> instance_type = map-&gt;instance_type();</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>  instance_type_count_[space_number][instance_type]++;</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>  instance_type_size_[space_number][instance_type] += <a class="code hl_variable" href="setup-heap-internal_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><span class="preprocessor">#endif  </span><span class="comment">// VERBOSE_SERIALIZATION_STATISTICS</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>}</div>
</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span> </div>
<div class="foldopen" id="foldopen00079" data-start="{" data-end="}">
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#ab8fd0f66b25aea9ae8545d29c488327d">   79</a></span><span class="keywordtype">int</span> Serializer::TotalAllocationSize()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>  <span class="keywordtype">int</span> sum = 0;</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> space = 0; space &lt; kNumberOfSnapshotSpaces; space++) {</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    sum += allocation_size_[<a class="code hl_variable" href="flag-definitions_8h.html#ae50fea4f4c58d91d722bb7e290b4776b">space</a>];</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>  }</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>  <span class="keywordflow">return</span> sum;</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>}</div>
</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span> </div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span> </div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span><span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="data-view-ops_8h.html#a04ef3e8b3cbc9ea1605b3067d2a55474">ToString</a>(<a class="code hl_enumeration" href="namespacev8_1_1internal.html#a46b9a1b06854a0906e24b2eb20af28f9">SnapshotSpace</a> space) {</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>  <span class="keywordflow">switch</span> (space) {</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    <span class="keywordflow">case</span> SnapshotSpace::kReadOnlyHeap:</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>      <span class="keywordflow">return</span> <span class="stringliteral">&quot;ReadOnlyHeap&quot;</span>;</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>    <span class="keywordflow">case</span> SnapshotSpace::kOld:</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Old&quot;</span>;</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>    <span class="keywordflow">case</span> SnapshotSpace::kCode:</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Code&quot;</span>;</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    <span class="keywordflow">case</span> SnapshotSpace::kTrusted:</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Trusted&quot;</span>;</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>  }</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>}</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span> </div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span> </div>
<div class="foldopen" id="foldopen00104" data-start="{" data-end="}">
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#aa71724460718545dc17a6ce88b2c4300">  104</a></span><span class="keywordtype">void</span> Serializer::OutputStatistics(<span class="keyword">const</span> <span class="keywordtype">char</span>* name) {</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.serialization_statistics) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span> </div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>  <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;%s:\n&quot;</span>, name);</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>  <span class="keywordflow">if</span> (!serializer_tracks_serialization_statistics()) {</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  &lt;serialization statistics are not tracked&gt;\n&quot;</span>);</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>  }</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span> </div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>  <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  Spaces (bytes):\n&quot;</span>);</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span> </div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>  <span class="keyword">static</span> <span class="keyword">constexpr</span> <a class="code hl_enumeration" href="namespacev8_1_1internal.html#a46b9a1b06854a0906e24b2eb20af28f9">SnapshotSpace</a> kAllSnapshotSpaces[] = {</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>      SnapshotSpace::kReadOnlyHeap,</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>      SnapshotSpace::kOld,</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>      SnapshotSpace::kCode,</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>  };</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span> </div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>  <span class="keywordflow">for</span> (<a class="code hl_enumeration" href="namespacev8_1_1internal.html#a46b9a1b06854a0906e24b2eb20af28f9">SnapshotSpace</a> space : kAllSnapshotSpaces) {</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;%16s&quot;</span>, <a class="code hl_function" href="data-view-ops_8h.html#a04ef3e8b3cbc9ea1605b3067d2a55474">ToString</a>(space));</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>  }</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>  <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span> </div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>  <span class="keywordflow">for</span> (<a class="code hl_enumeration" href="namespacev8_1_1internal.html#a46b9a1b06854a0906e24b2eb20af28f9">SnapshotSpace</a> space : kAllSnapshotSpaces) {</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;%16zu&quot;</span>, allocation_size_[<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(space)]);</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>  }</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>  <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span><span class="preprocessor">#ifdef VERBOSE_SERIALIZATION_STATISTICS</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>  <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;  Instance types (count and bytes):\n&quot;</span>);</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span><span class="preprocessor">#define PRINT_INSTANCE_TYPE(Name)                                           \</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span><span class="preprocessor">  for (SnapshotSpace space : kAllSnapshotSpaces) {                          \</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span><span class="preprocessor">    const int space_i = static_cast&lt;int&gt;(space);                            \</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span><span class="preprocessor">    if (instance_type_count_[space_i][Name]) {                              \</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span><span class="preprocessor">      PrintF(&quot;%10d %10zu  %-10s %s\n&quot;, instance_type_count_[space_i][Name], \</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span><span class="preprocessor">             instance_type_size_[space_i][Name], ToString(space), #Name);   \</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span><span class="preprocessor">    }                                                                       \</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span><span class="preprocessor">  }</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>  <a class="code hl_define" href="objects-definitions_8h.html#a08f0e6d9ef2bb3e1927e95551a37e589">INSTANCE_TYPE_LIST</a>(PRINT_INSTANCE_TYPE)</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span><span class="preprocessor">#undef PRINT_INSTANCE_TYPE</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>  <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span><span class="preprocessor">#endif  </span><span class="comment">// VERBOSE_SERIALIZATION_STATISTICS</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>}</div>
</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span> </div>
<div class="foldopen" id="foldopen00147" data-start="{" data-end="}">
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#a96ef0df54684240f4839fc03c1e6717c">  147</a></span><span class="keywordtype">void</span> Serializer::SerializeDeferredObjects() {</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_serializer) {</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Serializing deferred objects\n&quot;</span>);</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>  }</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>  <a class="code hl_define" href="execution_2isolate_8h.html#a247253de51491e9fa25feb1d0686a07f">WHILE_WITH_HANDLE_SCOPE</a>(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>(), !deferred_objects_.empty(), {</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    Handle&lt;HeapObject&gt; obj = handle(deferred_objects_.Pop(), isolate());</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span> </div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    ObjectSerializer obj_serializer(this, obj, &amp;sink_);</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    obj_serializer.SerializeDeferred();</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>  });</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>  <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>.Put(kSynchronize, <span class="stringliteral">&quot;Finished with deferred objects&quot;</span>);</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>}</div>
</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span> </div>
<div class="foldopen" id="foldopen00160" data-start="{" data-end="}">
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#ad06db6eb2818b2b15a4ab94c427c12a6">  160</a></span><span class="keywordtype">void</span> Serializer::SerializeObject(<a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;HeapObject&gt;</a> obj, <a class="code hl_enumeration" href="classv8_1_1internal_1_1SerializerDeserializer.html#a108b70a5e6f10e237fd67e9ccb692c91">SlotType</a> slot_type) {</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>  <span class="comment">// ThinStrings are just an indirection to an internalized string, so elide the</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>  <span class="comment">// indirection and serialize the actual string directly.</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>  <span class="keywordflow">if</span> (IsThinString(*obj, <a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>())) {</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    obj = <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(Cast&lt;ThinString&gt;(*obj)-&gt;actual(), isolate());</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsCode(*obj, <a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>())) {</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Code&gt;</a> code = Cast&lt;Code&gt;(*obj);</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <span class="comment">// The only expected Code objects here are baseline code and builtins.</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    <span class="keywordflow">if</span> (code-&gt;kind() == CodeKind::BASELINE) {</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>      <span class="comment">// For now just serialize the BytecodeArray instead of baseline code.</span></div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>      <span class="comment">// TODO(v8:11429,pthier): Handle Baseline code in cases we want to</span></div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>      <span class="comment">// serialize it.</span></div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>      obj = <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(code-&gt;bytecode_or_interpreter_data(), isolate());</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>      <a class="code hl_define" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(code-&gt;is_builtin());</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    }</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>  }</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>  SerializeObjectImpl(obj, slot_type);</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>}</div>
</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span> </div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#a1d3fa128798ba258870b320d53fb1369">  180</a></span><span class="keywordtype">bool</span> Serializer::MustBeDeferred(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> <span class="keywordtype">object</span>) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span> </div>
<div class="foldopen" id="foldopen00182" data-start="{" data-end="}">
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#a35c2c2370059a9e4e688e23f81e67838">  182</a></span><span class="keywordtype">void</span> Serializer::VisitRootPointers(<a class="code hl_enumeration" href="namespacev8_1_1internal.html#ae1439207c9f98c41dbdea3eca3572d54">Root</a> root, <span class="keyword">const</span> <span class="keywordtype">char</span>* description,</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>                                   <a class="code hl_class" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> <a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a>, <a class="code hl_class" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> <a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a>) {</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> current = <a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a>; current &lt; <a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a>; ++<a class="code hl_variable" href="earley-parser_8cc.html#a69620d3d0bf3441e9802e4853271cad4">current</a>) {</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    SerializeRootObject(current);</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>  }</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>}</div>
</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span> </div>
<div class="foldopen" id="foldopen00189" data-start="{" data-end="}">
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#a833f82f88caf3eabbc47842198b913fa">  189</a></span><span class="keywordtype">void</span> Serializer::SerializeRootObject(<a class="code hl_class" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> slot) {</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Object&gt;</a> o = *slot;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacev8_1_1internal.html#a511c3dd03bb4fc2b91ed9ef5535e202e">IsSmi</a>(o)) {</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    PutSmiRoot(slot);</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    SerializeObject(<a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;HeapObject&gt;</a>(slot.<a class="code hl_function" href="classv8_1_1internal_1_1SlotBase.html#ac82fd382ab55f4413ba95c570e9d7654">location</a>()), SlotType::kAnySlot);</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>  }</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>}</div>
</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span> </div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span><span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span><span class="keywordtype">void</span> Serializer::PrintStack() { PrintStack(std::cout); }</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span> </div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span><span class="keywordtype">void</span> Serializer::PrintStack(std::ostream&amp; out) {</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> o : stack_) {</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    Print(*o, out);</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    out &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>  }</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>}</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span><span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span> </div>
<div class="foldopen" id="foldopen00209" data-start="{" data-end="}">
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#aa0ceafd7dc9eaf326d5f14caa30525f4">  209</a></span><span class="keywordtype">bool</span> Serializer::SerializeRoot(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> obj) {</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>  <a class="code hl_enumeration" href="namespacev8_1_1internal.html#ae6e8bb7da3421a00b1b77972829b7977">RootIndex</a> root_index;</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>  <span class="comment">// Derived serializers are responsible for determining if the root has</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>  <span class="comment">// actually been serialized before calling this.</span></div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>  <span class="keywordflow">if</span> (root_index_map()-&gt;Lookup(obj, &amp;root_index)) {</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    PutRoot(root_index);</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>  }</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>}</div>
</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span> </div>
<div class="foldopen" id="foldopen00220" data-start="{" data-end="}">
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#ae7ebac428ba04f4c58134e38c7f97f65">  220</a></span><span class="keywordtype">bool</span> Serializer::SerializeHotObject(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> obj) {</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>  <span class="comment">// Encode a reference to a hot object by its index in the working set.</span></div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#ae55190dbead0a94298bdfa37911694e3">index</a> = hot_objects_.Find(obj);</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#ae55190dbead0a94298bdfa37911694e3">index</a> == HotObjectsList::kNotFound) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#ae55190dbead0a94298bdfa37911694e3">index</a> &gt;= 0 &amp;&amp; <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#ae55190dbead0a94298bdfa37911694e3">index</a> &lt; kHotObjectCount);</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_serializer) {</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot; Encoding hot object %d:&quot;</span>, <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#ae55190dbead0a94298bdfa37911694e3">index</a>);</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <a class="code hl_function" href="namespacev8_1_1internal.html#a8899d90340d811cd369173aac228774e">ShortPrint</a>(obj);</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>  }</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>  <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>.Put(HotObject::Encode(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#ae55190dbead0a94298bdfa37911694e3">index</a>), <span class="stringliteral">&quot;HotObject&quot;</span>);</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>}</div>
</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span> </div>
<div class="foldopen" id="foldopen00235" data-start="{" data-end="}">
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#afd1dba8a5965260866a8e8c3891c89b0">  235</a></span><span class="keywordtype">bool</span> Serializer::SerializeBackReference(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> obj) {</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>  <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1SerializerReference.html">SerializerReference</a>* reference = reference_map_.LookupReference(obj);</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>  <span class="keywordflow">if</span> (reference == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>  <span class="comment">// Encode the location of an already deserialized object in order to write</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>  <span class="comment">// its location into a later object.  We can encode the location as an</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>  <span class="comment">// offset fromthe start of the deserialized objects or as an offset</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>  <span class="comment">// backwards from the current allocation pointer.</span></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>  <span class="keywordflow">if</span> (reference-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1SerializerReference.html#a62cda60648c9cd3a8573fb69f1f86234">is_attached_reference</a>()) {</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_serializer) {</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot; Encoding attached reference %d\n&quot;</span>,</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>             reference-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1SerializerReference.html#a1e4ed12a97d77d779a6c374bcd8213d2">attached_reference_index</a>());</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>    }</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>    PutAttachedReference(*reference);</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(reference-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1SerializerReference.html#a686441c62c3a91c539cf72f0cb6d83f7">is_back_reference</a>());</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_serializer) {</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot; Encoding back reference to: &quot;</span>);</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#a8899d90340d811cd369173aac228774e">ShortPrint</a>(obj);</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>    }</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span> </div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>    <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>.Put(kBackref, <span class="stringliteral">&quot;Backref&quot;</span>);</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    PutBackReference(obj, *reference);</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>  }</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>}</div>
</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span> </div>
<div class="foldopen" id="foldopen00263" data-start="{" data-end="}">
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#a12cc0c154fdab6e4aa55bc136dbc114e">  263</a></span><span class="keywordtype">bool</span> Serializer::SerializePendingObject(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> obj) {</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>  <a class="code hl_typedef" href="classv8_1_1internal_1_1Serializer.html#ae25a653f1cdcccecaff77e26c74a9cb8">PendingObjectReferences</a>* refs_to_object =</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>      forward_refs_per_pending_object_.Find(obj);</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>  <span class="keywordflow">if</span> (refs_to_object == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>  }</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>  PutPendingForwardReference(*refs_to_object);</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>}</div>
</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span> </div>
<div class="foldopen" id="foldopen00273" data-start="{" data-end="}">
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#a2dc6cdb18d5c3aa44acadb43d1311a33">  273</a></span><span class="keywordtype">bool</span> Serializer::ObjectIsBytecodeHandler(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> obj)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>  <span class="keywordflow">if</span> (!IsCode(obj)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>  <span class="keywordflow">return</span> (Cast&lt;Code&gt;(obj)-&gt;<a class="code hl_variable" href="builtins_8cc.html#adc156a864d6037c4df1b276073ae7277">kind</a>() == CodeKind::BYTECODE_HANDLER);</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>}</div>
</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span> </div>
<div class="foldopen" id="foldopen00278" data-start="{" data-end="}">
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#a9d4b89359059ae28e92b0ef58b635c53">  278</a></span><span class="keywordtype">void</span> Serializer::PutRoot(<a class="code hl_enumeration" href="namespacev8_1_1internal.html#ae6e8bb7da3421a00b1b77972829b7977">RootIndex</a> root) {</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>  <span class="keywordtype">int</span> root_index = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(root);</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> <span class="keywordtype">object</span> = Cast&lt;HeapObject&gt;(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>()-&gt;root(root));</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_serializer) {</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>    <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot; Encoding root %d:&quot;</span>, root_index);</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>    <a class="code hl_function" href="namespacev8_1_1internal.html#a8899d90340d811cd369173aac228774e">ShortPrint</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>    <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>  }</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span> </div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>  <span class="comment">// Assert that the first 32 root array items are a conscious choice. They are</span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>  <span class="comment">// chosen so that the most common ones can be encoded more efficiently.</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>  <span class="keyword">static_assert</span>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(RootIndex::kArgumentsMarker) ==</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>                kRootArrayConstantsCount - 1);</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span> </div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>  <span class="comment">// TODO(ulan): Check that it works with young large objects.</span></div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>  <span class="keywordflow">if</span> (root_index &lt; kRootArrayConstantsCount &amp;&amp;</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>      !HeapLayout::InYoungGeneration(<span class="keywordtype">object</span>)) {</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>    <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>.Put(RootArrayConstant::Encode(root), <span class="stringliteral">&quot;RootConstant&quot;</span>);</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>    <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>.Put(kRootArray, <span class="stringliteral">&quot;RootSerialization&quot;</span>);</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>    <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>.PutUint30(root_index, <span class="stringliteral">&quot;root_index&quot;</span>);</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>    hot_objects_.Add(<span class="keywordtype">object</span>);</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>  }</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>}</div>
</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span> </div>
<div class="foldopen" id="foldopen00304" data-start="{" data-end="}">
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#a327756f79cce31d86c3eda8fde154be1">  304</a></span><span class="keywordtype">void</span> Serializer::PutSmiRoot(<a class="code hl_class" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> slot) {</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>  <span class="comment">// Serializing a smi root in compressed pointer builds will serialize the</span></div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>  <span class="comment">// full object slot (of kSystemPointerSize) to avoid complications during</span></div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>  <span class="comment">// deserialization (endianness or smi sequences).</span></div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>  <span class="keyword">static_assert</span>(<span class="keyword">decltype</span>(slot)::kSlotDataSize == <span class="keyword">sizeof</span>(Address));</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>  <span class="keyword">static_assert</span>(<span class="keyword">decltype</span>(slot)::kSlotDataSize == <a class="code hl_variable" href="namespacev8_1_1internal.html#a72cbfdfeabb9a401f279f7b80bcff67a">kSystemPointerSize</a>);</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>  <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">int</span> bytes_to_output = <span class="keyword">decltype</span>(slot)::kSlotDataSize;</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>  <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">int</span> size_in_tagged = bytes_to_output &gt;&gt; <a class="code hl_variable" href="namespacev8_1_1internal.html#a7b94dc2dd5250e9341c12941db8e9595">kTaggedSizeLog2</a>;</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>  <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>.Put(FixedRawDataWithSize::Encode(size_in_tagged), <span class="stringliteral">&quot;Smi&quot;</span>);</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span> </div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>  Address raw_value = Cast&lt;Smi&gt;(*slot).ptr();</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>  <span class="keyword">const</span> uint8_t* raw_value_as_bytes =</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>      <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(&amp;raw_value);</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>  <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>.PutRaw(raw_value_as_bytes, bytes_to_output, <span class="stringliteral">&quot;Bytes&quot;</span>);</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>}</div>
</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span> </div>
<div class="foldopen" id="foldopen00320" data-start="{" data-end="}">
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#a617e3b365f258218fbaf9ce805cf7f93">  320</a></span><span class="keywordtype">void</span> Serializer::PutBackReference(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> <span class="keywordtype">object</span>,</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>                                  <a class="code hl_class" href="classv8_1_1internal_1_1SerializerReference.html">SerializerReference</a> reference) {</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<span class="keywordtype">object</span>, *back_refs_[reference.<a class="code hl_function" href="classv8_1_1internal_1_1SerializerReference.html#ae97c004f964d6aeb33e0659d36757c2f">back_ref_index</a>()]);</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>  <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>.PutUint30(reference.<a class="code hl_function" href="classv8_1_1internal_1_1SerializerReference.html#ae97c004f964d6aeb33e0659d36757c2f">back_ref_index</a>(), <span class="stringliteral">&quot;BackRefIndex&quot;</span>);</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>  hot_objects_.Add(<span class="keywordtype">object</span>);</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>}</div>
</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span> </div>
<div class="foldopen" id="foldopen00327" data-start="{" data-end="}">
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#ab17505173a5f49d4d800196d9f485bea">  327</a></span><span class="keywordtype">void</span> Serializer::PutAttachedReference(<a class="code hl_class" href="classv8_1_1internal_1_1SerializerReference.html">SerializerReference</a> reference) {</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(reference.<a class="code hl_function" href="classv8_1_1internal_1_1SerializerReference.html#a62cda60648c9cd3a8573fb69f1f86234">is_attached_reference</a>());</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>  <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>.Put(kAttachedReference, <span class="stringliteral">&quot;AttachedRef&quot;</span>);</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>  <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>.PutUint30(reference.<a class="code hl_function" href="classv8_1_1internal_1_1SerializerReference.html#a1e4ed12a97d77d779a6c374bcd8213d2">attached_reference_index</a>(), <span class="stringliteral">&quot;AttachedRefIndex&quot;</span>);</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>}</div>
</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span> </div>
<div class="foldopen" id="foldopen00333" data-start="{" data-end="}">
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#a87ec2f24e32aeb63f4ef71ccd7296ed1">  333</a></span><span class="keywordtype">void</span> Serializer::PutRepeatRoot(<span class="keywordtype">int</span> repeat_count, <a class="code hl_enumeration" href="namespacev8_1_1internal.html#ae6e8bb7da3421a00b1b77972829b7977">RootIndex</a> root_index) {</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>  <span class="keywordflow">if</span> (repeat_count &lt;= kLastEncodableFixedRepeatRootCount) {</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>    <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>.Put(FixedRepeatRootWithCount::Encode(repeat_count),</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>              <span class="stringliteral">&quot;FixedRepeatRoot&quot;</span>);</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>    <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>.Put(kVariableRepeatRoot, <span class="stringliteral">&quot;VariableRepeatRoot&quot;</span>);</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>    <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>.PutUint30(VariableRepeatRootCount::Encode(repeat_count),</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>                    <span class="stringliteral">&quot;repeat count&quot;</span>);</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>  }</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(root_index), UINT8_MAX);</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>  <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>.Put(<span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(root_index), <span class="stringliteral">&quot;root index&quot;</span>);</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>}</div>
</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span> </div>
<div class="foldopen" id="foldopen00346" data-start="{" data-end="}">
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#a72b716d61b11317b32f93152885e1088">  346</a></span><span class="keywordtype">void</span> Serializer::PutPendingForwardReference(<a class="code hl_typedef" href="classv8_1_1internal_1_1Serializer.html#ae25a653f1cdcccecaff77e26c74a9cb8">PendingObjectReferences</a>&amp; refs) {</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>  <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>.Put(kRegisterPendingForwardRef, <span class="stringliteral">&quot;RegisterPendingForwardRef&quot;</span>);</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>  unresolved_forward_refs_++;</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>  <span class="comment">// Register the current slot with the pending object.</span></div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>  <span class="keywordtype">int</span> forward_ref_id = next_forward_ref_id_++;</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>  <span class="keywordflow">if</span> (refs == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>    <span class="comment">// The IdentityMap holding the pending object reference vectors does not</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>    <span class="comment">// support non-trivial types; in particular it doesn&#39;t support destructors</span></div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    <span class="comment">// on values. So, we manually allocate a vector with new, and delete it when</span></div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>    <span class="comment">// resolving the pending object.</span></div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    refs = <span class="keyword">new</span> std::vector&lt;int&gt;();</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>  }</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>  refs-&gt;push_back(forward_ref_id);</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>}</div>
</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span> </div>
<div class="foldopen" id="foldopen00361" data-start="{" data-end="}">
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#ab0e28a3abe13740fd80270edebfb23f0">  361</a></span><span class="keywordtype">void</span> Serializer::ResolvePendingForwardReference(<span class="keywordtype">int</span> forward_reference_id) {</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>  <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>.Put(kResolvePendingForwardRef, <span class="stringliteral">&quot;ResolvePendingForwardRef&quot;</span>);</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>  <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>.PutUint30(forward_reference_id, <span class="stringliteral">&quot;with this index&quot;</span>);</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>  unresolved_forward_refs_--;</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span> </div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>  <span class="comment">// If there are no more unresolved forward refs, reset the forward ref id to</span></div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>  <span class="comment">// zero so that future forward refs compress better.</span></div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>  <span class="keywordflow">if</span> (unresolved_forward_refs_ == 0) {</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>    next_forward_ref_id_ = 0;</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>  }</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>}</div>
</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span> </div>
<div class="foldopen" id="foldopen00373" data-start="{" data-end="}">
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#a1b2b87d06484b99484378e1fcbfed6a8">  373</a></span><a class="code hl_class" href="classv8_1_1internal_1_1ExternalReferenceEncoder_1_1Value.html">ExternalReferenceEncoder::Value</a> Serializer::EncodeExternalReference(</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    Address addr) {</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>  <a class="code hl_class" href="classv8_1_1Maybe.html">Maybe&lt;ExternalReferenceEncoder::Value&gt;</a> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> =</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>      external_reference_encoder_.TryEncode(addr);</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.IsNothing()) {</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span><span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    PrintStack(std::cerr);</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>    <span class="keywordtype">void</span>* addr_ptr = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(addr);</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>    v8::base::OS::PrintError(<span class="stringliteral">&quot;Unknown external reference %p.\n&quot;</span>, addr_ptr);</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    v8::base::OS::PrintError(<span class="stringliteral">&quot;%s\n&quot;</span>,</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>                             ExternalReferenceTable::ResolveSymbol(addr_ptr));</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    <a class="code hl_function" href="classv8_1_1base_1_1OS.html#a3abddefa2e7ad8ab0628e6b44fad5a6b">v8::base::OS::Abort</a>();</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>  }</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.<a class="code hl_function" href="classv8_1_1Maybe.html#ab4550eea27732f24603ac46c53599676">FromJust</a>();</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>}</div>
</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span> </div>
<div class="foldopen" id="foldopen00390" data-start="{" data-end="}">
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#a346eaeae49ddf1454352cc086479f239">  390</a></span><span class="keywordtype">void</span> Serializer::RegisterObjectIsPending(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> obj) {</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>  <span class="keywordflow">if</span> (IsNotMappedSymbol(obj)) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span> </div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>  <span class="comment">// Add the given object to the pending objects -&gt; forward refs map.</span></div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>  <span class="keyword">auto</span> find_result = forward_refs_per_pending_object_.FindOrInsert(obj);</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>  <a class="code hl_define" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(find_result);</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span> </div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>  <span class="comment">// If the above emplace didn&#39;t actually add the object, then the object must</span></div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>  <span class="comment">// already have been registered pending by deferring. It might not be in the</span></div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>  <span class="comment">// deferred objects queue though, since it may be the very object we just</span></div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>  <span class="comment">// popped off that queue, so just check that it can be deferred.</span></div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(find_result.already_exists, *find_result.entry != <span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(find_result.already_exists,</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>                 CanBeDeferred(obj, SlotType::kAnySlot));</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>}</div>
</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span> </div>
<div class="foldopen" id="foldopen00407" data-start="{" data-end="}">
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#a2cd9731c34318384e8a047035bb5e3dd">  407</a></span><span class="keywordtype">void</span> Serializer::ResolvePendingObject(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> obj) {</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>  <span class="keywordflow">if</span> (IsNotMappedSymbol(obj)) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span> </div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>  std::vector&lt;int&gt;* refs;</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(forward_refs_per_pending_object_.Delete(obj, &amp;refs));</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>  <span class="keywordflow">if</span> (refs) {</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#ae55190dbead0a94298bdfa37911694e3">index</a> : *refs) {</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>      ResolvePendingForwardReference(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#ae55190dbead0a94298bdfa37911694e3">index</a>);</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>    }</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>    <span class="comment">// See PutPendingForwardReference -- we have to manually manage the memory</span></div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>    <span class="comment">// of non-trivial IdentityMap values.</span></div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>    <span class="keyword">delete</span> refs;</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>  }</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>}</div>
</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span> </div>
<div class="foldopen" id="foldopen00423" data-start="{" data-end="}">
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#ab5a0fb29fbf0f1c4db6044eafd5d5b97">  423</a></span><span class="keywordtype">void</span> Serializer::Pad(<span class="keywordtype">int</span> padding_offset) {</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>  <span class="comment">// The non-branching GetInt will read up to 3 bytes too far, so we need</span></div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>  <span class="comment">// to pad the snapshot to make sure we don&#39;t read over the end.</span></div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; <span class="keyword">sizeof</span>(int32_t) - 1; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>    <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>.Put(kNop, <span class="stringliteral">&quot;Padding&quot;</span>);</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>  }</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>  <span class="comment">// Pad up to pointer size for checksum.</span></div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>  <span class="keywordflow">while</span> (!<a class="code hl_function" href="src_2base_2macros_8h.html#ab7a19c1f785f31f2b190afc19875368a">IsAligned</a>(<a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>.Position() + padding_offset, <a class="code hl_variable" href="namespacev8_1_1internal.html#a02583de7306bd3b0ef9a17ac0b6a4389">kPointerAlignment</a>)) {</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>    <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>.Put(kNop, <span class="stringliteral">&quot;Padding&quot;</span>);</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>  }</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>}</div>
</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span> </div>
<div class="foldopen" id="foldopen00435" data-start="{" data-end="}">
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#a02df94cb146e256696d93d0062282d28">  435</a></span><span class="keywordtype">void</span> Serializer::InitializeCodeAddressMap() {</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>  <a class="code hl_variable" href="classv8_1_1Serializer.html#a4f521cfb3eebc1c97dfdd978533e87f4">isolate_</a>-&gt;InitializeLoggingAndCounters();</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>  code_address_map_ = std::make_unique&lt;CodeAddressMap&gt;(<a class="code hl_variable" href="classv8_1_1Serializer.html#a4f521cfb3eebc1c97dfdd978533e87f4">isolate_</a>);</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>}</div>
</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span> </div>
<div class="foldopen" id="foldopen00440" data-start="{" data-end="}">
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#a284a015857f010f74cc411fa88123525">  440</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> Serializer::CopyCode(</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> istream) {</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>  code_buffer_.clear();  <span class="comment">// Clear buffer without deleting backing store.</span></div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>  <span class="comment">// Add InstructionStream padding which is usually added by the allocator.</span></div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>  <span class="comment">// While this doesn&#39;t guarantee the exact same alignment, it&#39;s enough to</span></div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>  <span class="comment">// fulfill the alignment requirements of writes during relocation.</span></div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>  code_buffer_.resize(InstructionStream::kCodeAlignmentMinusCodeHeader);</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>  <span class="keywordtype">int</span> size = istream-&gt;Size();</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>  code_buffer_.insert(code_buffer_.end(),</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>                      <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(istream.<a class="code hl_function" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a07c12d3bf0972861e1c5aefabd00971f">address</a>()),</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>                      <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(istream.<a class="code hl_function" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a07c12d3bf0972861e1c5aefabd00971f">address</a>() + size));</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>  <span class="comment">// When pointer compression is enabled the checked cast will try to</span></div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>  <span class="comment">// decompress map field of off-heap InstructionStream object.</span></div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>  <span class="keywordflow">return</span> UncheckedCast&lt;InstructionStream&gt;(</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>      HeapObject::FromAddress(<span class="keyword">reinterpret_cast&lt;</span>Address<span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>          &amp;code_buffer_[InstructionStream::kCodeAlignmentMinusCodeHeader])));</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>}</div>
</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span> </div>
<div class="foldopen" id="foldopen00458" data-start="{" data-end="}">
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ad60ec9b31a65cd483a3f96e136213fde">  458</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::SerializePrologue(<a class="code hl_enumeration" href="namespacev8_1_1internal.html#a46b9a1b06854a0906e24b2eb20af28f9">SnapshotSpace</a> space,</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>                                                     <span class="keywordtype">int</span> size,</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>                                                     <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> map) {</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>  <span class="keywordflow">if</span> (serializer_-&gt;code_address_map_) {</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* code_name =</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>        serializer_-&gt;code_address_map_-&gt;Lookup(<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>-&gt;address());</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>    <a class="code hl_define" href="log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a>(serializer_-&gt;isolate_,</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>        CodeNameEvent(<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>-&gt;address(), <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Position(), code_name));</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>  }</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span> </div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>  <span class="keywordflow">if</span> (map.SafeEquals(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>)) {</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>    <span class="keywordflow">if</span> (map == <a class="code hl_class" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>()).meta_map()) {</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>      <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(space, SnapshotSpace::kReadOnlyHeap);</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>      <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(kNewContextlessMetaMap, <span class="stringliteral">&quot;NewContextlessMetaMap&quot;</span>);</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>      <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(space, SnapshotSpace::kOld);</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>      <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsContext(map-&gt;native_context_or_null()));</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>      <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(kNewContextfulMetaMap, <span class="stringliteral">&quot;NewContextfulMetaMap&quot;</span>);</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span> </div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>      <span class="comment">// Defer serialization of the native context in order to break</span></div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>      <span class="comment">// a potential cycle through the map slot:</span></div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>      <span class="comment">//   MAP -&gt; meta map -&gt; NativeContext -&gt; ... -&gt; MAP</span></div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>      <span class="comment">// Otherwise it&#39;ll be a &quot;forward ref to a map&quot; problem: deserializer</span></div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>      <span class="comment">// will not be able to create {obj} because {MAP} is not deserialized yet.</span></div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>      <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;NativeContext&gt;</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a> = map-&gt;native_context();</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span> </div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>      <span class="comment">// Sanity check - the native context must not be serialized yet since</span></div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>      <span class="comment">// it has a contextful map and thus the respective meta map must be</span></div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>      <span class="comment">// serialized first. So we don&#39;t have to search the native context</span></div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>      <span class="comment">// among the back refs before adding it to the deferred queue.</span></div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>      <a class="code hl_define" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>          serializer_-&gt;reference_map()-&gt;LookupReference(<a class="code hl_variable" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>));</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span> </div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>      <span class="keywordflow">if</span> (!serializer_-&gt;forward_refs_per_pending_object_.Find(<a class="code hl_variable" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>)) {</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>        serializer_-&gt;RegisterObjectIsPending(<a class="code hl_variable" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>);</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>        serializer_-&gt;QueueDeferredObject(<a class="code hl_variable" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>);</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>      }</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>    }</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(size, Map::kSize);</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>    <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(NewObject::Encode(space), <span class="stringliteral">&quot;NewObject&quot;</span>);</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span> </div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>    <span class="comment">// TODO(leszeks): Skip this when the map has a fixed size.</span></div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>    <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;PutUint30(size &gt;&gt; <a class="code hl_variable" href="namespacev8_1_1internal.html#aeb44daf78b4adf972ac5fda3c4561eff">kObjectAlignmentBits</a>, <span class="stringliteral">&quot;ObjectSizeInWords&quot;</span>);</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span> </div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>    <span class="comment">// Until the space for the object is allocated, it is considered &quot;pending&quot;.</span></div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>    serializer_-&gt;RegisterObjectIsPending(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>);</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span> </div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>    <span class="comment">// Serialize map (first word of the object) before anything else, so that</span></div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>    <span class="comment">// the deserializer can access it when allocating. Make sure that the map</span></div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>    <span class="comment">// is known to be being serialized for the map slot, so that it is not</span></div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>    <span class="comment">// deferred.</span></div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsMap(map));</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>    serializer_-&gt;SerializeObject(<a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(map, <a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>()), SlotType::kMapSlot);</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span> </div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>    <span class="comment">// Make sure the map serialization didn&#39;t accidentally recursively serialize</span></div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>    <span class="comment">// this object.</span></div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>        !serializer_-&gt;IsNotMappedSymbol(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>),</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>        serializer_-&gt;reference_map()-&gt;LookupReference(<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>) == <span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span> </div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>    <span class="comment">// To support deserializing pending objects referenced through indirect</span></div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>    <span class="comment">// pointers, we need to make sure that the &#39;self&#39; indirect pointer is</span></div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>    <span class="comment">// initialized before the pending reference is resolved. Otherwise, the</span></div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>    <span class="comment">// object cannot be referenced.</span></div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="common_2globals_8h.html#a9fbe5720e523e0d3c9202480f33405d7">V8_ENABLE_SANDBOX_BOOL</a> &amp;&amp; IsExposedTrustedObject(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>)) {</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>      <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(kInitializeSelfIndirectPointer,</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>                 <span class="stringliteral">&quot;InitializeSelfIndirectPointer&quot;</span>);</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>    }</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span> </div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>    <span class="comment">// Now that the object is allocated, we can resolve pending references to</span></div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>    <span class="comment">// it.</span></div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>    serializer_-&gt;ResolvePendingObject(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>);</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>  }</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span> </div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.serialization_statistics) {</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>    serializer_-&gt;CountAllocation(<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>-&gt;map(), size, space);</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>  }</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span> </div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>  <span class="comment">// The snapshot should only contain internalized strings (since these end up</span></div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>  <span class="comment">// in RO space). If this DCHECK fails, allocate the object_ String through</span></div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>  <span class="comment">// Factory::InternalizeString instead.</span></div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>  <span class="comment">// TODO(jgruber,v8:13789): Try to enable this DCHECK once custom snapshots</span></div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>  <span class="comment">// can extend RO space. We may have to do a pass over the heap prior to</span></div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>  <span class="comment">// serialization that in-place converts all strings to internalized strings.</span></div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>  <span class="comment">// DCHECK_IMPLIES(object_-&gt;IsString(), object_-&gt;IsInternalizedString());</span></div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span> </div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>  <span class="comment">// Mark this object as already serialized, and add it to the reference map so</span></div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>  <span class="comment">// that it can be accessed by backreference by future objects.</span></div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>  serializer_-&gt;num_back_refs_++;</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span><span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>  serializer_-&gt;back_refs_.Push(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>);</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(serializer_-&gt;back_refs_.size(), serializer_-&gt;num_back_refs_);</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>  <span class="keywordflow">if</span> (!serializer_-&gt;IsNotMappedSymbol(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>)) {</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>    <span class="comment">// Only add the object to the map if it&#39;s not not_mapped_symbol, else</span></div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>    <span class="comment">// the reference IdentityMap has issues. We don&#39;t expect to have back</span></div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>    <span class="comment">// references to the not_mapped_symbol anyway, so it&#39;s fine.</span></div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>    <a class="code hl_class" href="classv8_1_1internal_1_1SerializerReference.html">SerializerReference</a> back_reference =</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>        SerializerReference::BackReference(serializer_-&gt;num_back_refs_ - 1);</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>    serializer_-&gt;reference_map()-&gt;Add(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>, back_reference);</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>,</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>              *serializer_-&gt;back_refs_[back_reference.<a class="code hl_function" href="classv8_1_1internal_1_1SerializerReference.html#ae97c004f964d6aeb33e0659d36757c2f">back_ref_index</a>()]);</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(back_reference.<a class="code hl_function" href="classv8_1_1internal_1_1SerializerReference.html#ae97c004f964d6aeb33e0659d36757c2f">back_ref_index</a>(), serializer_-&gt;reference_map()</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>                                                   -&gt;LookupReference(<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>)</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>                                                   -&gt;back_ref_index());</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>  }</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>}</div>
</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span> </div>
<div class="foldopen" id="foldopen00567" data-start="{" data-end="}">
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a2570840c8733789271b9ba8c0b098edd">  567</a></span>uint32_t Serializer::ObjectSerializer::SerializeBackingStore(</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>    <span class="keywordtype">void</span>* backing_store, uint32_t byte_length,</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>    <a class="code hl_class" href="classv8_1_1Maybe.html">Maybe&lt;uint32_t&gt;</a> max_byte_length) {</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>  <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1SerializerReference.html">SerializerReference</a>* reference_ptr =</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>      serializer_-&gt;reference_map()-&gt;LookupBackingStore(backing_store);</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span> </div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>  <span class="comment">// Serialize the off-heap backing store.</span></div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>  <span class="keywordflow">if</span> (reference_ptr) {</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>    <span class="keywordflow">return</span> reference_ptr-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1SerializerReference.html#a49fac7397dd24788771630b725d7880a">off_heap_backing_store_index</a>();</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>  }</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>  <span class="keywordflow">if</span> (max_byte_length.<a class="code hl_function" href="classv8_1_1Maybe.html#a9f9150acc7eefe3dcb20b073bacd740f">IsJust</a>()) {</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>    <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(kOffHeapResizableBackingStore,</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>               <span class="stringliteral">&quot;Off-heap resizable backing store&quot;</span>);</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>    <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(kOffHeapBackingStore, <span class="stringliteral">&quot;Off-heap backing store&quot;</span>);</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>  }</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>  <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;PutUint32(byte_length, <span class="stringliteral">&quot;length&quot;</span>);</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>  <span class="keywordflow">if</span> (max_byte_length.<a class="code hl_function" href="classv8_1_1Maybe.html#a9f9150acc7eefe3dcb20b073bacd740f">IsJust</a>()) {</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>    <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;PutUint32(max_byte_length.<a class="code hl_function" href="classv8_1_1Maybe.html#ab4550eea27732f24603ac46c53599676">FromJust</a>(), <span class="stringliteral">&quot;max length&quot;</span>);</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>  }</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>  <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;PutRaw(<span class="keyword">static_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(backing_store), byte_length,</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>                <span class="stringliteral">&quot;BackingStore&quot;</span>);</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(0, serializer_-&gt;seen_backing_stores_index_);</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>  <a class="code hl_class" href="classv8_1_1internal_1_1SerializerReference.html">SerializerReference</a> reference =</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>      SerializerReference::OffHeapBackingStoreReference(</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>          serializer_-&gt;seen_backing_stores_index_++);</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>  <span class="comment">// Mark this backing store as already serialized.</span></div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>  serializer_-&gt;reference_map()-&gt;AddBackingStore(backing_store, reference);</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>  <span class="keywordflow">return</span> reference.<a class="code hl_function" href="classv8_1_1internal_1_1SerializerReference.html#a49fac7397dd24788771630b725d7880a">off_heap_backing_store_index</a>();</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>}</div>
</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span> </div>
<div class="foldopen" id="foldopen00599" data-start="{" data-end="}">
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ace1c954fbca6c4a9271b09b4a2c52a0f">  599</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::SerializeJSTypedArray() {</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>  {</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>    <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;JSTypedArray&gt;</a> typed_array = Cast&lt;JSTypedArray&gt;(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>);</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>    <span class="keywordflow">if</span> (typed_array-&gt;is_on_heap()) {</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>      typed_array-&gt;RemoveExternalPointerCompensationForSerialization(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>      <span class="keywordflow">if</span> (!typed_array-&gt;IsDetachedOrOutOfBounds()) {</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>        <span class="comment">// Explicitly serialize the backing store now.</span></div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>        <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;JSArrayBuffer&gt;</a> buffer =</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>            Cast&lt;JSArrayBuffer&gt;(typed_array-&gt;buffer());</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>        <span class="comment">// We cannot store byte_length or max_byte_length larger than uint32</span></div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>        <span class="comment">// range in the snapshot.</span></div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>        <span class="keywordtype">size_t</span> byte_length_size = buffer-&gt;GetByteLength();</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>        <a class="code hl_define" href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>(byte_length_size,</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>                 <span class="keywordtype">size_t</span>{std::numeric_limits&lt;uint32_t&gt;::max()});</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>        uint32_t byte_length = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(byte_length_size);</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>        <a class="code hl_class" href="classv8_1_1Maybe.html">Maybe&lt;uint32_t&gt;</a> max_byte_length = <a class="code hl_function" href="namespacev8.html#a44029b173d135df05011f8b904718cbc">Nothing&lt;uint32_t&gt;</a>();</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>        <span class="keywordflow">if</span> (buffer-&gt;is_resizable_by_js()) {</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>          <a class="code hl_define" href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>(buffer-&gt;max_byte_length(),</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>                   std::numeric_limits&lt;uint32_t&gt;::max());</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>          max_byte_length =</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>              <a class="code hl_function" href="namespacev8.html#aef5115fb284980e6c3772b55f8e8ca72">Just</a>(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(buffer-&gt;max_byte_length()));</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>        }</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>        <span class="keywordtype">size_t</span> byte_offset = typed_array-&gt;byte_offset();</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span> </div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>        <span class="comment">// We need to calculate the backing store from the data pointer</span></div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>        <span class="comment">// because the ArrayBuffer may already have been serialized.</span></div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>        <span class="keywordtype">void</span>* backing_store = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>            <span class="keyword">reinterpret_cast&lt;</span>Address<span class="keyword">&gt;</span>(typed_array-&gt;DataPtr()) - byte_offset);</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span> </div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>        uint32_t ref =</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>            SerializeBackingStore(backing_store, byte_length, max_byte_length);</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>        typed_array-&gt;SetExternalBackingStoreRefForSerialization(ref);</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>        typed_array-&gt;SetExternalBackingStoreRefForSerialization(0);</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>      }</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>    }</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>  }</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>  SerializeObject();</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>}</div>
</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span> </div>
<div class="foldopen" id="foldopen00641" data-start="{" data-end="}">
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a1104e122255b2a3f6e3f74ad2d9e3ce1">  641</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::SerializeJSArrayBuffer() {</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>  <a class="code hl_class" href="classv8_1_1internal_1_1ArrayBufferExtension.html">ArrayBufferExtension</a>* <a class="code hl_variable" href="intl-objects_8cc.html#a110d0f63b1860324c40bae0391908f88">extension</a>;</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>  <span class="keywordtype">void</span>* backing_store;</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>  {</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>    <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;JSArrayBuffer&gt;</a> buffer = Cast&lt;JSArrayBuffer&gt;(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>);</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>    backing_store = buffer-&gt;backing_store();</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>    <span class="comment">// We cannot store byte_length or max_byte_length larger than uint32 range</span></div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>    <span class="comment">// in the snapshot.</span></div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>(buffer-&gt;byte_length(), std::numeric_limits&lt;uint32_t&gt;::max());</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>    uint32_t byte_length = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(buffer-&gt;byte_length());</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>    <a class="code hl_class" href="classv8_1_1Maybe.html">Maybe&lt;uint32_t&gt;</a> max_byte_length = <a class="code hl_function" href="namespacev8.html#a44029b173d135df05011f8b904718cbc">Nothing&lt;uint32_t&gt;</a>();</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>    <span class="keywordflow">if</span> (buffer-&gt;is_resizable_by_js()) {</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>      <a class="code hl_define" href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>(buffer-&gt;max_byte_length(), std::numeric_limits&lt;uint32_t&gt;::max());</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>      max_byte_length = <a class="code hl_function" href="namespacev8.html#aef5115fb284980e6c3772b55f8e8ca72">Just</a>(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(buffer-&gt;max_byte_length()));</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>    }</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>    <a class="code hl_variable" href="intl-objects_8cc.html#a110d0f63b1860324c40bae0391908f88">extension</a> = buffer-&gt;extension();</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span> </div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>    <span class="comment">// Only serialize non-empty backing stores.</span></div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>    <span class="keywordflow">if</span> (buffer-&gt;IsEmpty()) {</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>      buffer-&gt;SetBackingStoreRefForSerialization(kEmptyBackingStoreRefSentinel);</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>      uint32_t ref =</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>          SerializeBackingStore(backing_store, byte_length, max_byte_length);</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>      buffer-&gt;SetBackingStoreRefForSerialization(ref);</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>    }</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span> </div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>    <span class="comment">// Ensure deterministic output by setting extension to null during</span></div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>    <span class="comment">// serialization.</span></div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>    buffer-&gt;set_extension(<span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>  }</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>  SerializeObject();</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>  {</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;JSArrayBuffer&gt;</a> buffer = Cast&lt;JSArrayBuffer&gt;(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>);</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>    buffer-&gt;set_backing_store(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>(), backing_store);</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>    buffer-&gt;set_extension(<a class="code hl_variable" href="intl-objects_8cc.html#a110d0f63b1860324c40bae0391908f88">extension</a>);</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>  }</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>}</div>
</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span> </div>
<div class="foldopen" id="foldopen00680" data-start="{" data-end="}">
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a51c6cf6eaea2198bd4e8c7862333511b">  680</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::SerializeExternalString() {</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>  <span class="comment">// For external strings with known resources, we replace the resource field</span></div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>  <span class="comment">// with the encoded external reference, which we restore upon deserialize.</span></div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>  <span class="comment">// For the rest we serialize them to look like ordinary sequential strings.</span></div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>  <span class="keyword">auto</span> <span class="keywordtype">string</span> = Cast&lt;ExternalString&gt;(<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>);</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>  Address resource = <span class="keywordtype">string</span>-&gt;resource_as_address();</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>  <a class="code hl_class" href="classv8_1_1internal_1_1ExternalReferenceEncoder_1_1Value.html">ExternalReferenceEncoder::Value</a> reference;</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>  <span class="keywordflow">if</span> (serializer_-&gt;external_reference_encoder_.TryEncode(resource).To(</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>          &amp;reference)) {</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(reference.<a class="code hl_function" href="classv8_1_1internal_1_1ExternalReferenceEncoder_1_1Value.html#a26cff1d3758cb434c65c72cfdb31adba">is_from_api</a>());</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span><span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>    uint32_t external_pointer_entry =</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>        <span class="keywordtype">string</span>-&gt;GetResourceRefForDeserialization();</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>    <span class="keywordtype">string</span>-&gt;SetResourceRefForSerialization(reference.<a class="code hl_function" href="classv8_1_1internal_1_1ExternalReferenceEncoder_1_1Value.html#ae55cd128360e9bb4dae468d13e3268b1">index</a>());</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>    SerializeObject();</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span><span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>    <span class="keywordtype">string</span>-&gt;SetResourceRefForSerialization(external_pointer_entry);</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>    <span class="keywordtype">string</span>-&gt;set_address_as_resource(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>(), resource);</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>    SerializeExternalStringAsSequentialString();</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>  }</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>}</div>
</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span> </div>
<div class="foldopen" id="foldopen00706" data-start="{" data-end="}">
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acb7a4d99767ca978dd60ca4ac819d513">  706</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::SerializeExternalStringAsSequentialString() {</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>  <span class="comment">// Instead of serializing this as an external string, we serialize</span></div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>  <span class="comment">// an imaginary sequential string with the same content.</span></div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>  <a class="code hl_class" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a> roots(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsExternalString(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>, cage_base));</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;ExternalString&gt;</a> <span class="keywordtype">string</span> = Cast&lt;ExternalString&gt;(<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>);</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>  uint32_t length = <span class="keywordtype">string</span>-&gt;length();</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> <a class="code hl_variable" href="js-date-time-format_8cc.html#a22ede25ca923109929a8dca3c225b2ad">map</a>;</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>  <span class="keywordtype">int</span> content_size;</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>  <span class="keywordtype">int</span> allocation_size;</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>  <span class="keyword">const</span> uint8_t* resource;</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>  <span class="comment">// Find the map and size for the imaginary sequential string.</span></div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>  <span class="keywordtype">bool</span> internalized = IsInternalizedString(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>, cage_base);</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>  <span class="keywordflow">if</span> (IsExternalOneByteString(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>, cage_base)) {</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>    map = internalized ? roots.internalized_one_byte_string_map()</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>                       : roots.seq_one_byte_string_map();</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>    allocation_size = SeqOneByteString::SizeFor(length);</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>    content_size = length * <a class="code hl_variable" href="namespacev8_1_1internal.html#a3c5a1b85562d862c803870241deaed67">kCharSize</a>;</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>    resource = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>        Cast&lt;ExternalOneByteString&gt;(<span class="keywordtype">string</span>)-&gt;resource()-&gt;data());</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>    map = internalized ? roots.internalized_two_byte_string_map()</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>                       : roots.seq_two_byte_string_map();</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>    allocation_size = SeqTwoByteString::SizeFor(length);</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>    content_size = length * <a class="code hl_variable" href="namespacev8_1_1internal.html#ae5fc7dfc0625c0d2a6bca971abf68365">kShortSize</a>;</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>    resource = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>        Cast&lt;ExternalTwoByteString&gt;(<span class="keywordtype">string</span>)-&gt;resource()-&gt;data());</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>  }</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span> </div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>  <a class="code hl_enumeration" href="namespacev8_1_1internal.html#a46b9a1b06854a0906e24b2eb20af28f9">SnapshotSpace</a> space = SnapshotSpace::kOld;</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>  SerializePrologue(space, allocation_size, map);</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span> </div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>  <span class="comment">// Output the rest of the imaginary string.</span></div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>  <span class="keywordtype">int</span> bytes_to_output = allocation_size - HeapObject::kHeaderSize;</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="src_2base_2macros_8h.html#ab7a19c1f785f31f2b190afc19875368a">IsAligned</a>(bytes_to_output, <a class="code hl_variable" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>));</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>  <span class="keywordtype">int</span> slots_to_output = bytes_to_output &gt;&gt; <a class="code hl_variable" href="namespacev8_1_1internal.html#a7b94dc2dd5250e9341c12941db8e9595">kTaggedSizeLog2</a>;</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span> </div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>  <span class="comment">// Output raw data header. Do not bother with common raw length cases here.</span></div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>  <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(kVariableRawData, <span class="stringliteral">&quot;RawDataForString&quot;</span>);</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>  <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;PutUint30(slots_to_output, <span class="stringliteral">&quot;length&quot;</span>);</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span> </div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>  <span class="comment">// Serialize string header (except for map).</span></div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>  uint8_t* string_start = <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(<span class="keywordtype">string</span>-&gt;address());</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = <span class="keyword">sizeof</span>(<a class="code hl_class" href="classv8_1_1internal_1_1HeapObjectLayout.html">HeapObjectLayout</a>); <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; <span class="keyword">sizeof</span>(<a class="code hl_class" href="classv8_1_1internal_1_1SeqString.html">SeqString</a>); <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>    <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(string_start[<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>], <span class="stringliteral">&quot;StringHeader&quot;</span>);</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>  }</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span> </div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>  <span class="comment">// Serialize string content.</span></div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>  <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;PutRaw(resource, content_size, <span class="stringliteral">&quot;StringContent&quot;</span>);</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span> </div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>  <span class="comment">// Since the allocation size is rounded up to object alignment, there</span></div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>  <span class="comment">// maybe left-over bytes that need to be padded.</span></div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>  <span class="keywordtype">size_t</span> padding_size = allocation_size - <span class="keyword">sizeof</span>(<a class="code hl_class" href="classv8_1_1internal_1_1SeqString.html">SeqString</a>) - content_size;</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(0 &lt;= padding_size &amp;&amp; padding_size &lt; <a class="code hl_variable" href="namespacev8_1_1internal.html#a2ccec82573e05962ef54cab168895c2a">kObjectAlignment</a>);</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; padding_size; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>    <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(<span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(0), <span class="stringliteral">&quot;StringPadding&quot;</span>);</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>  }</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>}</div>
</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span> </div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span><span class="comment">// Clear and later restore the next link in the weak cell or allocation site.</span></div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span><span class="comment">// TODO(all): replace this with proper iteration of weak slots in serializer.</span></div>
<div class="foldopen" id="foldopen00768" data-start="{" data-end="};">
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1UnlinkWeakNextScope.html">  768</a></span><span class="keyword">class </span><a class="code hl_define" href="v8config_8h.html#ae5350bf5d731891583a34f9c8c52b532">V8_NODISCARD</a> <a class="code hl_class" href="classv8_1_1internal_1_1UnlinkWeakNextScope.html">UnlinkWeakNextScope</a> {</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span> <span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen00770" data-start="{" data-end="}">
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1UnlinkWeakNextScope.html#a55573e2a1c2a3517d1f55b953a9e8f97">  770</a></span>  <span class="keyword">explicit</span> <a class="code hl_function" href="classv8_1_1internal_1_1UnlinkWeakNextScope.html#a55573e2a1c2a3517d1f55b953a9e8f97">UnlinkWeakNextScope</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code hl_namespace" href="namespaceheap.html">heap</a>, <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> <span class="keywordtype">object</span>) {</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate = <a class="code hl_namespace" href="namespaceheap.html">heap</a>-&gt;isolate();</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>    <span class="keywordflow">if</span> (IsAllocationSite(<span class="keywordtype">object</span>, isolate) &amp;&amp;</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>        Cast&lt;AllocationSite&gt;(<span class="keywordtype">object</span>)-&gt;HasWeakNext()) {</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>      <a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a> = object;</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>      next_ = Cast&lt;AllocationSite&gt;(<span class="keywordtype">object</span>)-&gt;weak_next();</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>      Cast&lt;AllocationSite&gt;(<span class="keywordtype">object</span>)-&gt;set_weak_next(</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>          <a class="code hl_class" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(isolate).undefined_value());</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>    }</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>  }</div>
</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span> </div>
<div class="foldopen" id="foldopen00781" data-start="{" data-end="}">
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1UnlinkWeakNextScope.html#ae1ab425e7433cc5952ee1c684be16481">  781</a></span>  <a class="code hl_function" href="classv8_1_1internal_1_1UnlinkWeakNextScope.html#ae1ab425e7433cc5952ee1c684be16481">~UnlinkWeakNextScope</a>() {</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>    <span class="keywordflow">if</span> (next_ == Smi::zero()) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>    Cast&lt;AllocationSite&gt;(<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>)-&gt;set_weak_next(next_, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13a936c581afe29bbe04ab84d8ae4c6267d">UPDATE_WRITE_BARRIER</a>);</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>  }</div>
</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span> </div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span> <span class="keyword">private</span>:</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1UnlinkWeakNextScope.html#a94865b079315a0257bb84339acb48d1f">  787</a></span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> <a class="code hl_variable" href="classv8_1_1internal_1_1UnlinkWeakNextScope.html#a94865b079315a0257bb84339acb48d1f">object_</a>;</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1UnlinkWeakNextScope.html#a85c4f209f0567ae4dc59906cd42f0b62">  788</a></span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Object&gt;</a> next_ = Smi::zero();</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>  <a class="code hl_define" href="assert-scope_8h.html#a6e895bc6891844f9b40e1e97d3fbd395">DISALLOW_GARBAGE_COLLECTION</a>(<a class="code hl_variable" href="experimental-interpreter_8cc.html#ac8769459fea404ce34890fa9f8ad4a93">no_gc_</a>)</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>};</div>
</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span> </div>
<div class="foldopen" id="foldopen00792" data-start="{" data-end="}">
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a9d10e3f4a351231668fe2144c84b6ef7">  792</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::Serialize(<a class="code hl_enumeration" href="classv8_1_1internal_1_1SerializerDeserializer.html#a108b70a5e6f10e237fd67e9ccb692c91">SlotType</a> slot_type) {</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Serializer_1_1RecursionScope.html">RecursionScope</a> recursion(serializer_);</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span> </div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>  {</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>    <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> raw = *<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>;</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>    <span class="comment">// Defer objects as &quot;pending&quot; if they cannot be serialized now, or if we</span></div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>    <span class="comment">// exceed a certain recursion depth. Some objects cannot be deferred.</span></div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>    <span class="keywordtype">bool</span> should_defer =</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>        recursion.<a class="code hl_function" href="classv8_1_1internal_1_1Serializer_1_1RecursionScope.html#aa9827ca3971fb7467476852bd20b14b1">ExceedsMaximum</a>() || serializer_-&gt;MustBeDeferred(raw);</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>    <span class="keywordflow">if</span> (should_defer &amp;&amp; CanBeDeferred(raw, slot_type)) {</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_serializer) {</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>        <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot; Deferring heap object: &quot;</span>);</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>        <a class="code hl_function" href="namespacev8_1_1internal.html#a8899d90340d811cd369173aac228774e">ShortPrint</a>(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>);</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>        <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>      }</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>      <span class="comment">// Deferred objects are considered &quot;pending&quot;.</span></div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>      serializer_-&gt;RegisterObjectIsPending(raw);</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>      serializer_-&gt;PutPendingForwardReference(</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>          *serializer_-&gt;forward_refs_per_pending_object_.Find(raw));</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>      serializer_-&gt;QueueDeferredObject(raw);</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_serializer &amp;&amp; recursion.<a class="code hl_function" href="classv8_1_1internal_1_1Serializer_1_1RecursionScope.html#aa9827ca3971fb7467476852bd20b14b1">ExceedsMaximum</a>()) {</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>        <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot; Exceeding max recursion depth by %d for: &quot;</span>,</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>               recursion.<a class="code hl_function" href="classv8_1_1internal_1_1Serializer_1_1RecursionScope.html#a302528dd16e8470e86bd9ddad4ad066a">ExceedsMaximumBy</a>());</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>        <a class="code hl_function" href="namespacev8_1_1internal.html#a8899d90340d811cd369173aac228774e">ShortPrint</a>(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>);</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>        <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>      }</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>    }</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span> </div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_serializer) {</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot; Encoding heap object: &quot;</span>);</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#a8899d90340d811cd369173aac228774e">ShortPrint</a>(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>);</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>    }</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>  }</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span> </div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>  <a class="code hl_enumeration" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">InstanceType</a> instance_type = <a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>-&gt;map(cage_base)-&gt;instance_type();</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>  <span class="keywordflow">if</span> (InstanceTypeChecker::IsExternalString(instance_type)) {</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>    SerializeExternalString();</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>  }</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>  <span class="keywordflow">if</span> (InstanceTypeChecker::IsJSTypedArray(instance_type)) {</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>    SerializeJSTypedArray();</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>  }</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>  <span class="keywordflow">if</span> (InstanceTypeChecker::IsJSArrayBuffer(instance_type)) {</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>    SerializeJSArrayBuffer();</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>  }</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>  <span class="keywordflow">if</span> (InstanceTypeChecker::IsScript(instance_type)) {</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>    <span class="comment">// Clear cached line ends &amp; compiled lazy function positions.</span></div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>    Cast&lt;Script&gt;(<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>)-&gt;set_line_ends(Smi::zero());</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>    Cast&lt;Script&gt;(<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>)-&gt;set_compiled_lazy_function_positions(</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>        <a class="code hl_class" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>()).undefined_value());</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>  }</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span> </div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span><span class="preprocessor">#if V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>  <span class="comment">// The padding for wasm null is a free space filler. We put it into the roots</span></div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>  <span class="comment">// table to be able to skip its payload when serializing the read only heap</span></div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>  <span class="comment">// in the ReadOnlyHeapImageSerializer.</span></div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>      !<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>-&gt;SafeEquals(<a class="code hl_class" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>()).wasm_null_padding()),</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>      !IsFreeSpaceOrFiller(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>, cage_base));</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!IsFreeSpaceOrFiller(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>, cage_base));</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span> </div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>  SerializeObject();</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>}</div>
</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span> </div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span><a class="code hl_enumeration" href="namespacev8_1_1internal.html#a46b9a1b06854a0906e24b2eb20af28f9">SnapshotSpace</a> GetSnapshotSpace(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> <span class="keywordtype">object</span>) {</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>  <span class="keywordflow">if</span> (ReadOnlyHeap::Contains(<span class="keywordtype">object</span>)) {</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>    <span class="keywordflow">return</span> SnapshotSpace::kReadOnlyHeap;</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>    <a class="code hl_enumeration" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fef">AllocationSpace</a> heap_space =</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>        MutablePageMetadata::FromHeapObject(<span class="keywordtype">object</span>)-&gt;owner_identity();</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>    <span class="comment">// Large code objects are not supported and cannot be expressed by</span></div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>    <span class="comment">// SnapshotSpace.</span></div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(heap_space, CODE_LO_SPACE);</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>    <span class="keywordflow">switch</span> (heap_space) {</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefacc7351aa01c6173555932b162b850e99">OLD_SPACE</a>:</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>      <span class="comment">// Young generation objects are tenured, as objects that have survived</span></div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>      <span class="comment">// until snapshot building probably deserve to be considered &#39;old&#39;.</span></div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa057ecb490c9eb2f2dc1677326b8a5621">NEW_SPACE</a>:</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>      <span class="comment">// Large objects (young and old) are encoded as simply &#39;old&#39; snapshot</span></div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>      <span class="comment">// obects, as &quot;normal&quot; objects vs large objects is a heap implementation</span></div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>      <span class="comment">// detail and isn&#39;t relevant to the snapshot.</span></div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa6f564dbff22ad6da21740d3143349d93">NEW_LO_SPACE</a>:</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa385454df67937debeccaa3ec05627542">LO_SPACE</a>:</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>      <span class="comment">// Shared objects are currently encoded as &#39;old&#39; snapshot objects. This</span></div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>      <span class="comment">// basically duplicates shared heap objects for each isolate again.</span></div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa800a76ff776aa278523aa6176cf222a8">SHARED_SPACE</a>:</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefaea13a1454fdc1412eea716033f5d503e">SHARED_LO_SPACE</a>:</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>        <span class="keywordflow">return</span> SnapshotSpace::kOld;</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa7b3b52e8b8e6e29f82884e41bfe0f500">CODE_SPACE</a>:</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>        <span class="keywordflow">return</span> SnapshotSpace::kCode;</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa8515da266a18e6c9f673363f2a37570b">TRUSTED_SPACE</a>:</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa14e4604f12b3138f8e00091e7093c023">TRUSTED_LO_SPACE</a>:</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>        <span class="keywordflow">return</span> SnapshotSpace::kTrusted;</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>      <span class="comment">// Shared objects are currently encoded as &#39;trusteds&#39; snapshot objects.</span></div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>      <span class="comment">// This basically duplicates shared trusted heap objects for each isolate</span></div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>      <span class="comment">// again.</span></div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa9acffab6677a59b1aac93aed5942cd7f">SHARED_TRUSTED_SPACE</a>:</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa352d11f88c5e95ed732c05ccf68c0f32">SHARED_TRUSTED_LO_SPACE</a>:</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>        <span class="keywordflow">return</span> SnapshotSpace::kTrusted;</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa93dfdbc84455c750a99db7dd0cc02aff">CODE_LO_SPACE</a>:</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa562d18bd6c0058c8ec356cce717a3324">RO_SPACE</a>:</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>        <a class="code hl_define" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>    }</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>  }</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>}</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span> </div>
<div class="foldopen" id="foldopen00909" data-start="{" data-end="}">
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a0abcc7d2448a3dfe6735d678038c5a9c">  909</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::SerializeObject() {</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> map = <a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>-&gt;map(serializer_-&gt;cage_base());</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>  <span class="keywordtype">int</span> size = <a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>-&gt;SizeFromMap(map);</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span> </div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>  <span class="comment">// Descriptor arrays have complex element weakness, that is dependent on the</span></div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>  <span class="comment">// maps pointing to them. During deserialization, this can cause them to get</span></div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>  <span class="comment">// prematurely trimmed one of their owners isn&#39;t deserialized yet. We work</span></div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>  <span class="comment">// around this by forcing all descriptor arrays to be serialized as &quot;strong&quot;,</span></div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>  <span class="comment">// i.e. no custom weakness, and &quot;re-weaken&quot; them in the deserializer once</span></div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>  <span class="comment">// deserialization completes.</span></div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>  <span class="comment">// See also `Deserializer::WeakenDescriptorArrays`.</span></div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>  <span class="keywordflow">if</span> (map == <a class="code hl_class" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>()).descriptor_array_map()) {</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>    map = <a class="code hl_class" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>()).strong_descriptor_array_map();</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>  }</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>  <a class="code hl_enumeration" href="namespacev8_1_1internal.html#a46b9a1b06854a0906e24b2eb20af28f9">SnapshotSpace</a> space = GetSnapshotSpace(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>);</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>  SerializePrologue(space, size, map);</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span> </div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>  <span class="comment">// Serialize the rest of the object.</span></div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(0, bytes_processed_so_far_);</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>  bytes_processed_so_far_ = <a class="code hl_variable" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>;</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span> </div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>  SerializeContent(map, size);</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>}</div>
</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span> </div>
<div class="foldopen" id="foldopen00934" data-start="{" data-end="}">
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a38c2c0ae3537fe25ec45162aeb077664">  934</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::SerializeDeferred() {</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>  <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1SerializerReference.html">SerializerReference</a>* back_reference =</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>      serializer_-&gt;reference_map()-&gt;LookupReference(<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>);</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span> </div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>  <span class="keywordflow">if</span> (back_reference != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_serializer) {</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot; Deferred heap object &quot;</span>);</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#a8899d90340d811cd369173aac228774e">ShortPrint</a>(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>);</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot; was already serialized\n&quot;</span>);</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>    }</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>  }</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span> </div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_serializer) {</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>    <a class="code hl_function" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot; Encoding deferred heap object\n&quot;</span>);</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>  }</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>  Serialize(SlotType::kAnySlot);</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>}</div>
</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span> </div>
<div class="foldopen" id="foldopen00953" data-start="{" data-end="}">
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a03da81c82477a2de4f6b3eed13f6adb2">  953</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::SerializeContent(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> map, <span class="keywordtype">int</span> size) {</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> raw = *<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>;</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>  <a class="code hl_class" href="classv8_1_1internal_1_1UnlinkWeakNextScope.html">UnlinkWeakNextScope</a> unlink_weak_next(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>()-&gt;<a class="code hl_namespace" href="namespaceheap.html">heap</a>(), raw);</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>  <span class="comment">// Iterate references first.</span></div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>  <a class="code hl_function" href="namespacev8_1_1internal.html#a239f1125191de952f41c27c683282d76">VisitObjectBody</a>(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>(), map, raw, <span class="keyword">this</span>);</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>  <span class="comment">// Then output data payload, if any.</span></div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>  OutputRawData(raw.<a class="code hl_function" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a07c12d3bf0972861e1c5aefabd00971f">address</a>() + size);</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>}</div>
</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span> </div>
<div class="foldopen" id="foldopen00962" data-start="{" data-end="}">
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a209b287eb78d36bdf77b7a434d6c4db0">  962</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::VisitPointers(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> host,</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>                                                 <a class="code hl_class" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> <a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a>,</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>                                                 <a class="code hl_class" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> <a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a>) {</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>  VisitPointers(host, <a class="code hl_class" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a>(<a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a>), <a class="code hl_class" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a>(<a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a>));</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>}</div>
</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span> </div>
<div class="foldopen" id="foldopen00968" data-start="{" data-end="}">
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a592c5336151e79cdb98fac3deec661a4">  968</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::VisitPointers(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> host,</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>                                                 <a class="code hl_class" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> <a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a>,</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>                                                 <a class="code hl_class" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> <a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a>) {</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>  <a class="code hl_class" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span> </div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>  <a class="code hl_class" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> current = <a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a>;</div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>  <span class="keywordflow">while</span> (current &lt; <a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a>) {</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>    <span class="keywordflow">while</span> (current &lt; <a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a> &amp;&amp; current.load(cage_base).IsSmi()) {</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>      ++<a class="code hl_variable" href="earley-parser_8cc.html#a69620d3d0bf3441e9802e4853271cad4">current</a>;</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>    }</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>    <span class="keywordflow">if</span> (current &lt; <a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a>) {</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>      OutputRawData(current.address());</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>    }</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>    <span class="comment">// TODO(ishell): Revisit this change once we stick to 32-bit compressed</span></div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>    <span class="comment">// tagged values.</span></div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>    <span class="keywordflow">while</span> (current &lt; <a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a> &amp;&amp; current.load(cage_base).IsCleared()) {</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>      <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(kClearedWeakReference, <span class="stringliteral">&quot;ClearedWeakReference&quot;</span>);</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>      bytes_processed_so_far_ += <a class="code hl_variable" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>;</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>      ++<a class="code hl_variable" href="earley-parser_8cc.html#a69620d3d0bf3441e9802e4853271cad4">current</a>;</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>    }</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> current_contents;</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>    HeapObjectReferenceType reference_type;</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>    <span class="keywordflow">while</span> (current &lt; <a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a> &amp;&amp; current.load(cage_base).GetHeapObject(</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>                                &amp;current_contents, &amp;reference_type)) {</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>      <span class="comment">// Write a weak prefix if we need it. This has to be done before the</span></div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>      <span class="comment">// potential pending object serialization.</span></div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>      <span class="keywordflow">if</span> (reference_type == HeapObjectReferenceType::WEAK) {</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>        <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(kWeakPrefix, <span class="stringliteral">&quot;WeakReference&quot;</span>);</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>      }</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span> </div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>      <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;HeapObject&gt;</a> obj = <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(current_contents, <a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>      <span class="keywordflow">if</span> (serializer_-&gt;SerializePendingObject(*obj)) {</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>        bytes_processed_so_far_ += <a class="code hl_variable" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>;</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>        ++<a class="code hl_variable" href="earley-parser_8cc.html#a69620d3d0bf3441e9802e4853271cad4">current</a>;</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>      }</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span> </div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>      <a class="code hl_enumeration" href="namespacev8_1_1internal.html#ae6e8bb7da3421a00b1b77972829b7977">RootIndex</a> root_index;</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>      <span class="comment">// Compute repeat count and write repeat prefix if applicable.</span></div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>      <span class="comment">// Repeats are not subject to the write barrier so we can only use</span></div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>      <span class="comment">// immortal immovable root members. In practice we&#39;re most likely to only</span></div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>      <span class="comment">// repeat smaller root indices, so we limit the root index to 256 to keep</span></div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>      <span class="comment">// decoding simple.</span></div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>      <span class="keyword">static_assert</span>(UINT8_MAX &lt;=</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>                    <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(RootIndex::kLastImmortalImmovableRoot));</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>      <a class="code hl_class" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> repeat_end = current + 1;</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>      <span class="keywordflow">if</span> (repeat_end &lt; <a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a> &amp;&amp;</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>          serializer_-&gt;root_index_map()-&gt;Lookup(*obj, &amp;root_index) &amp;&amp;</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>          <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(root_index) &lt;= UINT8_MAX &amp;&amp;</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>          current.<a class="code hl_function" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html#a7a1eca96493700aaebcdaaf293bfe3d1">load</a>(cage_base) == repeat_end.<a class="code hl_function" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html#a7a1eca96493700aaebcdaaf293bfe3d1">load</a>(cage_base) &amp;&amp;</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>          reference_type == HeapObjectReferenceType::STRONG) {</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>        <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!HeapLayout::InYoungGeneration(*obj));</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>        <span class="keywordflow">while</span> (repeat_end &lt; <a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a> &amp;&amp;</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>               repeat_end.<a class="code hl_function" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html#a7a1eca96493700aaebcdaaf293bfe3d1">load</a>(cage_base) == current.load(cage_base)) {</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>          repeat_end++;</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>        }</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>        <span class="keywordtype">int</span> repeat_count = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(repeat_end - <a class="code hl_variable" href="earley-parser_8cc.html#a69620d3d0bf3441e9802e4853271cad4">current</a>);</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>        current = repeat_end;</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>        bytes_processed_so_far_ += repeat_count * <a class="code hl_variable" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>;</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>        serializer_-&gt;PutRepeatRoot(repeat_count, root_index);</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>        bytes_processed_so_far_ += <a class="code hl_variable" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>;</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>        ++<a class="code hl_variable" href="earley-parser_8cc.html#a69620d3d0bf3441e9802e4853271cad4">current</a>;</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>        serializer_-&gt;SerializeObject(obj, SlotType::kAnySlot);</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>      }</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>    }</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>  }</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>}</div>
</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span> </div>
<div class="foldopen" id="foldopen01039" data-start="{" data-end="}">
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a02490f72325d234a359937032fa0cdb7"> 1039</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::VisitInstructionStreamPointer(</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Code&gt;</a> host, <a class="code hl_class" href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">InstructionStreamSlot</a> slot) {</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!host-&gt;has_instruction_stream());</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>}</div>
</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span> </div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span><span class="comment">// All of these visitor functions are unreachable since we don&#39;t serialize</span></div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span><span class="comment">// InstructionStream objects anymore.</span></div>
<div class="foldopen" id="foldopen01046" data-start="{" data-end="}">
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a6becbb8b20368418e6bbb44a78f9f4b8"> 1046</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::VisitEmbeddedPointer(</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> host, <a class="code hl_class" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a>* rinfo) {</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>}</div>
</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span> </div>
<div class="foldopen" id="foldopen01051" data-start="{" data-end="}">
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a1edbce9485a6a24c165d4ca8ac8de148"> 1051</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::VisitExternalReference(</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> host, <a class="code hl_class" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a>* rinfo) {</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>}</div>
</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span> </div>
<div class="foldopen" id="foldopen01056" data-start="{" data-end="}">
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ab700f495d152fb78c1733c887e05864b"> 1056</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::VisitInternalReference(</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> host, <a class="code hl_class" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a>* rinfo) {</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>}</div>
</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span> </div>
<div class="foldopen" id="foldopen01061" data-start="{" data-end="}">
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a91498c161f498524acfe923645fc4724"> 1061</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::VisitOffHeapTarget(</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> host, <a class="code hl_class" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a>* rinfo) {</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>}</div>
</div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span> </div>
<div class="foldopen" id="foldopen01066" data-start="{" data-end="}">
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ab47625176ff4525fab2fd51f836c6668"> 1066</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::VisitCodeTarget(</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> host, <a class="code hl_class" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a>* rinfo) {</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>}</div>
</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span> </div>
<div class="foldopen" id="foldopen01071" data-start="{" data-end="}">
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a97f3b97571ccc36318a4f69dd5c62311"> 1071</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::OutputExternalReference(</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>    Address target, <span class="keywordtype">int</span> target_size, <span class="keywordtype">bool</span> sandboxify, <a class="code hl_enumeration" href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbc">ExternalPointerTag</a> tag) {</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(target_size, <span class="keyword">sizeof</span>(target));  <span class="comment">// Must fit in Address.</span></div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(sandboxify, <a class="code hl_define" href="common_2globals_8h.html#a9fbe5720e523e0d3c9202480f33405d7">V8_ENABLE_SANDBOX_BOOL</a>);</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(sandboxify, tag != <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbca9e97412171740e65d15dfb935887e306">kExternalPointerNullTag</a>);</div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>  <a class="code hl_class" href="classv8_1_1internal_1_1ExternalReferenceEncoder_1_1Value.html">ExternalReferenceEncoder::Value</a> encoded_reference;</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>  <span class="keywordtype">bool</span> encoded_successfully;</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span> </div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>  <span class="keywordflow">if</span> (serializer_-&gt;allow_unknown_external_references_for_testing()) {</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>    encoded_successfully =</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>        serializer_-&gt;TryEncodeExternalReference(target).To(&amp;encoded_reference);</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>    encoded_reference = serializer_-&gt;EncodeExternalReference(target);</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>    encoded_successfully = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>  }</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span> </div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>  <span class="keywordflow">if</span> (!encoded_successfully) {</div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>    <span class="comment">// In this case the serialized snapshot will not be used in a different</span></div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>    <span class="comment">// Isolate and thus the target address will not change between</span></div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>    <span class="comment">// serialization and deserialization. We can serialize seen external</span></div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>    <span class="comment">// references verbatim.</span></div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(serializer_-&gt;allow_unknown_external_references_for_testing());</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="src_2base_2macros_8h.html#ab7a19c1f785f31f2b190afc19875368a">IsAligned</a>(target_size, <a class="code hl_variable" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>));</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>(target_size, kFixedRawDataCount * <a class="code hl_variable" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>);</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>    <span class="keywordflow">if</span> (sandboxify) {</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>      <a class="code hl_define" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(target_size, <a class="code hl_variable" href="namespacev8_1_1internal.html#a72cbfdfeabb9a401f279f7b80bcff67a">kSystemPointerSize</a>);</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>      <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(kSandboxedRawExternalReference, <span class="stringliteral">&quot;SandboxedRawReference&quot;</span>);</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>      <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;PutRaw(<span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(&amp;target), target_size,</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>                    <span class="stringliteral">&quot;raw pointer&quot;</span>);</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>      <span class="comment">// Encode as FixedRawData instead of RawExternalReference as the target</span></div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>      <span class="comment">// may be less than kSystemPointerSize large.</span></div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>      <span class="keywordtype">int</span> size_in_tagged = target_size &gt;&gt; <a class="code hl_variable" href="namespacev8_1_1internal.html#a7b94dc2dd5250e9341c12941db8e9595">kTaggedSizeLog2</a>;</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>      <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(FixedRawDataWithSize::Encode(size_in_tagged), <span class="stringliteral">&quot;FixedRawData&quot;</span>);</div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>      <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;PutRaw(<span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(&amp;target), target_size,</div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>                    <span class="stringliteral">&quot;raw pointer&quot;</span>);</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>    }</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (encoded_reference.<a class="code hl_function" href="classv8_1_1internal_1_1ExternalReferenceEncoder_1_1Value.html#a26cff1d3758cb434c65c72cfdb31adba">is_from_api</a>()) {</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>    <span class="keywordflow">if</span> (sandboxify) {</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>      <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(kSandboxedApiReference, <span class="stringliteral">&quot;SandboxedApiRef&quot;</span>);</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>      <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(kApiReference, <span class="stringliteral">&quot;ApiRef&quot;</span>);</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>    }</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>    <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;PutUint30(encoded_reference.<a class="code hl_function" href="classv8_1_1internal_1_1ExternalReferenceEncoder_1_1Value.html#ae55cd128360e9bb4dae468d13e3268b1">index</a>(), <span class="stringliteral">&quot;reference index&quot;</span>);</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>    <span class="keywordflow">if</span> (sandboxify) {</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>      <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(kSandboxedExternalReference, <span class="stringliteral">&quot;SandboxedExternalRef&quot;</span>);</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>      <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(kExternalReference, <span class="stringliteral">&quot;ExternalRef&quot;</span>);</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>    }</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>    <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;PutUint30(encoded_reference.<a class="code hl_function" href="classv8_1_1internal_1_1ExternalReferenceEncoder_1_1Value.html#ae55cd128360e9bb4dae468d13e3268b1">index</a>(), <span class="stringliteral">&quot;reference index&quot;</span>);</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>  }</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>  <span class="keywordflow">if</span> (sandboxify) {</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>    <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;PutUint30(tag, <span class="stringliteral">&quot;external pointer tag&quot;</span>);</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>  }</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>}</div>
</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span> </div>
<div class="foldopen" id="foldopen01128" data-start="{" data-end="}">
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ac0505bf1897edef3ec95d2ceb64109f2"> 1128</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::VisitCppHeapPointer(</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code hl_class" href="classv8_1_1internal_1_1CppHeapPointerSlot.html">CppHeapPointerSlot</a> slot) {</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>  <span class="comment">// Currently there&#39;s only very limited support for CppHeapPointerSlot</span></div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>  <span class="comment">// serialization as it&#39;s only used for API wrappers.</span></div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>  <span class="comment">//</span></div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>  <span class="comment">// We serialize the slot as initialized-but-unused slot.  The actual API</span></div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>  <span class="comment">// wrapper serialization is implemented in</span></div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>  <span class="comment">// `ContextSerializer::SerializeApiWrapperFields()`.</span></div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#ac4929939b731ec039fc28d711afbeead">IsJSApiWrapperObject</a>(<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>-&gt;map(cage_base)));</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>  <span class="keyword">static_assert</span>(<a class="code hl_variable" href="namespacev8_1_1internal.html#ab019f91902194a522ac883098c98f69d">kCppHeapPointerSlotSize</a> % <a class="code hl_variable" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a> == 0);</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>  <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>      FixedRawDataWithSize::Encode(<a class="code hl_variable" href="namespacev8_1_1internal.html#ab019f91902194a522ac883098c98f69d">kCppHeapPointerSlotSize</a> &gt;&gt; <a class="code hl_variable" href="namespacev8_1_1internal.html#a7b94dc2dd5250e9341c12941db8e9595">kTaggedSizeLog2</a>),</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>      <span class="stringliteral">&quot;FixedRawData&quot;</span>);</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>  <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;PutRaw(<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(&amp;<a class="code hl_variable" href="namespacev8_1_1internal.html#a57a373e86870b2b1e197193963523409">kNullCppHeapPointer</a>),</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>                <a class="code hl_variable" href="namespacev8_1_1internal.html#ab019f91902194a522ac883098c98f69d">kCppHeapPointerSlotSize</a>, <span class="stringliteral">&quot;empty cpp heap pointer handle&quot;</span>);</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>  bytes_processed_so_far_ += <a class="code hl_variable" href="namespacev8_1_1internal.html#ab019f91902194a522ac883098c98f69d">kCppHeapPointerSlotSize</a>;</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>}</div>
</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span> </div>
<div class="foldopen" id="foldopen01147" data-start="{" data-end="}">
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a6de87c7de13d21ab1128d59bfa818d28"> 1147</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::VisitExternalPointer(</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code hl_class" href="classv8_1_1internal_1_1ExternalPointerSlot.html">ExternalPointerSlot</a> slot) {</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>  <a class="code hl_enumeration" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">InstanceType</a> instance_type = <a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>-&gt;map(cage_base)-&gt;instance_type();</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>  <span class="keywordflow">if</span> (InstanceTypeChecker::IsForeign(instance_type) ||</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>      InstanceTypeChecker::IsJSExternalObject(instance_type) ||</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>      InstanceTypeChecker::IsAccessorInfo(instance_type) ||</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>      InstanceTypeChecker::IsFunctionTemplateInfo(instance_type)) {</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>    <span class="comment">// Output raw data payload, if any.</span></div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>    OutputRawData(slot.<a class="code hl_function" href="classv8_1_1internal_1_1SlotBase.html#a761a11659b4338ee734b79e7c6886911">address</a>());</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>    Address value = slot.<a class="code hl_function" href="classv8_1_1internal_1_1ExternalPointerSlot.html#ad2da7c54e772afc3d05123268346dc14">load</a>(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span><span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>    <span class="comment">// We need to load the actual tag from the table here since the slot may</span></div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>    <span class="comment">// use a generic tag (e.g. kAnyExternalPointerTag) if the concrete tag is</span></div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>    <span class="comment">// unknown by the visitor (for example the case for Foreigns).</span></div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>    <a class="code hl_typedef" href="namespacev8_1_1internal.html#ab9463710d94cd592e2742301e5f6c87a">ExternalPointerHandle</a> <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a> = slot.Relaxed_LoadHandle();</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>    <a class="code hl_enumeration" href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbc">ExternalPointerTag</a> tag = <a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>()-&gt;external_pointer_table().GetTag(<a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>);</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>    <a class="code hl_enumeration" href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbc">ExternalPointerTag</a> tag = <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbca9e97412171740e65d15dfb935887e306">kExternalPointerNullTag</a>;</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_SANDBOX</span></div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> sandboxify = <a class="code hl_define" href="common_2globals_8h.html#a9fbe5720e523e0d3c9202480f33405d7">V8_ENABLE_SANDBOX_BOOL</a>;</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>    OutputExternalReference(value, <a class="code hl_variable" href="namespacev8_1_1internal.html#a72cbfdfeabb9a401f279f7b80bcff67a">kSystemPointerSize</a>, sandboxify, tag);</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>    bytes_processed_so_far_ += <a class="code hl_variable" href="namespacev8_1_1internal.html#a961d4936b006deb497460eb9ab4a882a">kExternalPointerSlotSize</a>;</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>    <span class="comment">// Serialization of external references in other objects is handled</span></div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>    <span class="comment">// elsewhere or not supported.</span></div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>        <span class="comment">// Serialization of external pointers stored in EmbedderDataArray</span></div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>        <span class="comment">// is not supported yet, mostly because it&#39;s not used.</span></div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>        InstanceTypeChecker::IsEmbedderDataArray(instance_type) ||</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>        <span class="comment">// See ObjectSerializer::SerializeJSTypedArray().</span></div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>        InstanceTypeChecker::IsJSTypedArray(instance_type) ||</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>        <span class="comment">// See ObjectSerializer::SerializeJSArrayBuffer().</span></div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>        InstanceTypeChecker::IsJSArrayBuffer(instance_type) ||</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>        <span class="comment">// See ObjectSerializer::SerializeExternalString().</span></div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>        InstanceTypeChecker::IsExternalString(instance_type) ||</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>        <span class="comment">// See ObjectSerializer::SanitizeNativeContextScope.</span></div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>        InstanceTypeChecker::IsNativeContext(instance_type) ||</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>        <span class="comment">// Serialization of external pointers stored in</span></div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>        <span class="comment">// JSSynchronizationPrimitive is not supported.</span></div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>        <span class="comment">// TODO(v8:12547): JSSynchronizationPrimitives should also be sanitized</span></div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>        <span class="comment">// to always be serialized in an unlocked state.</span></div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>        InstanceTypeChecker::IsJSSynchronizationPrimitive(instance_type) ||</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>        <span class="comment">// See ContextSerializer::SerializeObjectWithEmbedderFields().</span></div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>        (InstanceTypeChecker::IsJSObject(instance_type) &amp;&amp;</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>         Cast&lt;JSObject&gt;(host)-&gt;GetEmbedderFieldCount() &gt; 0));</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>  }</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>}</div>
</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span> </div>
<div class="foldopen" id="foldopen01196" data-start="{" data-end="}">
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7d92b940acfc951419054ba579ed80b7"> 1196</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::VisitIndirectPointer(</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code hl_class" href="classv8_1_1internal_1_1IndirectPointerSlot.html">IndirectPointerSlot</a> slot,</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>    <a class="code hl_enumeration" href="namespacev8_1_1internal.html#a3d154fed8222e22068b915454f5db983">IndirectPointerMode</a> mode) {</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span><span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>  <span class="comment">// If the slot is empty (i.e. contains a null handle), then we can just skip</span></div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>  <span class="comment">// it since in that case the correct action is to encode the null handle as</span></div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>  <span class="comment">// raw data, which will automatically happen if the slot is skipped here.</span></div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>  <span class="keywordflow">if</span> (slot.<a class="code hl_function" href="classv8_1_1internal_1_1IndirectPointerSlot.html#aa70526d4e87d6c0778cf4c2a610619bb">IsEmpty</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span> </div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>  <span class="comment">// If necessary, output any raw data preceeding this slot.</span></div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>  OutputRawData(slot.<a class="code hl_function" href="classv8_1_1internal_1_1SlotBase.html#a761a11659b4338ee734b79e7c6886911">address</a>());</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span> </div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>  <span class="comment">// The slot must be properly initialized at this point, so will always contain</span></div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>  <span class="comment">// a reference to a HeapObject.</span></div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;HeapObject&gt;</a> slot_value(Cast&lt;HeapObject&gt;(slot.<a class="code hl_function" href="classv8_1_1internal_1_1IndirectPointerSlot.html#a7fe1f02a91eeb421fd2d18309c0d0352">load</a>(isolate())),</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>                                <a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(IsHeapObject(*slot_value));</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>  bytes_processed_so_far_ += <a class="code hl_variable" href="namespacev8_1_1internal.html#a992050d065034254293bc79869dee600">kIndirectPointerSize</a>;</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span> </div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>  <span class="comment">// Currently we cannot see pending objects here, but we may need to support</span></div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>  <span class="comment">// them in the future. They should already be supported by the deserializer.</span></div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!serializer_-&gt;SerializePendingObject(*slot_value));</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>  <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(kIndirectPointerPrefix, <span class="stringliteral">&quot;IndirectPointer&quot;</span>);</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>  serializer_-&gt;SerializeObject(slot_value, SlotType::kAnySlot);</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>}</div>
</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span> </div>
<div class="foldopen" id="foldopen01225" data-start="{" data-end="}">
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a6cab61279c0f62a91caa4b332c1ef5ec"> 1225</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::VisitTrustedPointerTableEntry(</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code hl_class" href="classv8_1_1internal_1_1IndirectPointerSlot.html">IndirectPointerSlot</a> slot) {</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span><span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>  <span class="comment">// These fields only exist on the ExposedTrustedObject class, and they are</span></div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>  <span class="comment">// located directly after the Map word.</span></div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(bytes_processed_so_far_,</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>            ExposedTrustedObject::kSelfIndirectPointerOffset);</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span> </div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>  <span class="comment">// Nothing to do here. We already emitted the kInitializeSelfIndirectPointer</span></div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>  <span class="comment">// after processing the Map word in SerializePrologue.</span></div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>  bytes_processed_so_far_ += <a class="code hl_variable" href="namespacev8_1_1internal.html#a992050d065034254293bc79869dee600">kIndirectPointerSize</a>;</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>}</div>
</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span> </div>
<div class="foldopen" id="foldopen01241" data-start="{" data-end="}">
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a30d1549386eae607447fb2b8567efdcf"> 1241</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::VisitProtectedPointer(</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;TrustedObject&gt;</a> host, <a class="code hl_class" href="classv8_1_1internal_1_1FullObjectSlot.html">ProtectedPointerSlot</a> slot) {</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Object&gt;</a> content = slot.<a class="code hl_function" href="classv8_1_1internal_1_1FullObjectSlot.html#a4e88c8ba68e8440c83abd6077dad7c0a">load</a>(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span> </div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>  <span class="comment">// Similar to the indirect pointer case, if the slot is empty (i.e. contains</span></div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>  <span class="comment">// Smi::zero()), then we skip it here.</span></div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>  <span class="keywordflow">if</span> (content == Smi::zero()) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code hl_function" href="namespacev8_1_1internal.html#a511c3dd03bb4fc2b91ed9ef5535e202e">IsSmi</a>(content));</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span> </div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>  <span class="comment">// If necessary, output any raw data preceeding this slot.</span></div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>  OutputRawData(slot.<a class="code hl_function" href="classv8_1_1internal_1_1SlotBase.html#a761a11659b4338ee734b79e7c6886911">address</a>());</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span> </div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;HeapObject&gt;</a> object(Cast&lt;HeapObject&gt;(content), <a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>  bytes_processed_so_far_ += <a class="code hl_variable" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>;</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span> </div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>  <span class="comment">// Currently we cannot see pending objects here, but we may need to support</span></div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>  <span class="comment">// them in the future. They should already be supported by the deserializer.</span></div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!serializer_-&gt;SerializePendingObject(*<span class="keywordtype">object</span>));</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>  <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(kProtectedPointerPrefix, <span class="stringliteral">&quot;ProtectedPointer&quot;</span>);</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>  serializer_-&gt;SerializeObject(<span class="keywordtype">object</span>, SlotType::kAnySlot);</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>}</div>
</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span> </div>
<div class="foldopen" id="foldopen01263" data-start="{" data-end="}">
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a8c817e546bcf3408ac3230e6179efc5f"> 1263</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::VisitProtectedPointer(</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;TrustedObject&gt;</a> host, <a class="code hl_class" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">ProtectedMaybeObjectSlot</a> slot) {</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;MaybeObject&gt;</a> maybe_content = slot.<a class="code hl_function" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html#a7a1eca96493700aaebcdaaf293bfe3d1">load</a>();</div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>  <span class="comment">// Empty slots (Smi::zero()) and Smi slots can be skipped here.</span></div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>  <span class="keywordflow">if</span> (maybe_content.<a class="code hl_function" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a75a38fd8cf1a1788ad8fa121168160e0">IsSmi</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span> </div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>  <span class="comment">// If necessary, output any raw data preceding this slot.</span></div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>  OutputRawData(slot.<a class="code hl_function" href="classv8_1_1internal_1_1SlotBase.html#a761a11659b4338ee734b79e7c6886911">address</a>());</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span> </div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>  <span class="keywordflow">if</span> (maybe_content.<a class="code hl_function" href="classv8_1_1internal_1_1TaggedImpl.html#a5d84dde6d0c8149b4560d7c79cf8f1a3">IsCleared</a>()) {</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>    <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(kClearedWeakReference, <span class="stringliteral">&quot;ClearedWeakReference&quot;</span>);</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>    bytes_processed_so_far_ += <a class="code hl_variable" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>;</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>  }</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span> </div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> content;</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>  HeapObjectReferenceType reference_type;</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>  <span class="keywordflow">if</span> (maybe_content.<a class="code hl_function" href="classv8_1_1internal_1_1TaggedImpl.html#a941f4af4ddba9f09e9ff1ca6e4382c36">GetHeapObject</a>(&amp;content, &amp;reference_type)) {</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>    <span class="keywordflow">if</span> (reference_type == HeapObjectReferenceType::WEAK) {</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>      <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(kWeakPrefix, <span class="stringliteral">&quot;WeakReference&quot;</span>);</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>    }</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;HeapObject&gt;</a> <span class="keywordtype">object</span> = <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(content, <a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>    <span class="comment">// Currently we cannot see pending objects here, but we may need to support</span></div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>    <span class="comment">// them in the future. They should already be supported by the deserializer.</span></div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!serializer_-&gt;SerializePendingObject(*<span class="keywordtype">object</span>));</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>    <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(kProtectedPointerPrefix, <span class="stringliteral">&quot;ProtectedPointer&quot;</span>);</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>    serializer_-&gt;SerializeObject(<span class="keywordtype">object</span>, SlotType::kAnySlot);</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>  }</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>}</div>
</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span> </div>
<div class="foldopen" id="foldopen01293" data-start="{" data-end="}">
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a1f4393b550c0d2b769ff09282bf9a16d"> 1293</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::VisitJSDispatchTableEntry(</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code hl_class" href="classv8_1_1base_1_1StrongAlias.html">JSDispatchHandle</a> handle) {</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span><span class="preprocessor">#ifdef V8_ENABLE_LEAPTIERING</span></div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>  JSDispatchTable* jdt = IsolateGroup::current()-&gt;js_dispatch_table();</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>  <span class="comment">// If the slot is empty, we will skip it here and then just serialize the</span></div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>  <span class="comment">// null handle as raw data.</span></div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a> == <a class="code hl_function" href="namespacev8_1_1internal.html#a81b2771da9cb582ba5af3c4bbb0714b8">kNullJSDispatchHandle</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span> </div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>  <span class="comment">// TODO(saelo): we might want to call OutputRawData here, but for that we</span></div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>  <span class="comment">// first need to pass the slot address to this method (e.g. as part of a</span></div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>  <span class="comment">// JSDispatchHandleSlot struct).</span></div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span><span class="preprocessor">#if !defined(V8_COMPRESS_POINTERS) &amp;&amp; defined(V8_TARGET_ARCH_64_BIT)</span></div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>  <span class="keyword">static_assert</span>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a3819bc8a26f6654b36067956454f614d">kJSDispatchHandleSize</a> + JSFunction::kPaddingOffsetEnd + 1 -</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>                    JSFunction::kPaddingOffset ==</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>                <a class="code hl_variable" href="namespacev8_1_1internal.html#a72cbfdfeabb9a401f279f7b80bcff67a">kSystemPointerSize</a>);</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span><span class="preprocessor">#endif  </span><span class="comment">// COMPRESS_POINTERS</span></div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>  bytes_processed_so_far_ += <a class="code hl_function" href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a3819bc8a26f6654b36067956454f614d">kJSDispatchHandleSize</a>, <a class="code hl_variable" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>);</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span> </div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>  uint32_t id;</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>  {</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>    <span class="keyword">auto</span> it = serializer_-&gt;dispatch_handle_map_.find(<a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>);</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>    <span class="keywordflow">if</span> (it == serializer_-&gt;dispatch_handle_map_.end()) {</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>      <span class="keywordtype">id</span> = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(serializer_-&gt;dispatch_handle_map_.size());</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>      serializer_-&gt;dispatch_handle_map_[<a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>] = id;</div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>      <span class="keywordtype">id</span> = it-&gt;second;</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>    }</div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>  }</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span> </div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>  <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(kAllocateJSDispatchEntry, <span class="stringliteral">&quot;AllocateJSDispatchEntry&quot;</span>);</div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>  <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;PutUint30(<span class="keywordtype">id</span>, <span class="stringliteral">&quot;EntryID&quot;</span>);</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>  <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;PutUint30(jdt-&gt;GetParameterCount(<a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>), <span class="stringliteral">&quot;ParameterCount&quot;</span>);</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span> </div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>  <span class="comment">// Currently we cannot see pending objects here, but we may need to support</span></div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>  <span class="comment">// them in the future. They should already be supported by the deserializer.</span></div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Code&gt;</a> <a class="code hl_variable" href="code-reference_8cc.html#aeaf31c189d3b2a89ff45fedfceb87d9d">code</a>(jdt-&gt;GetCode(<a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>), isolate());</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!serializer_-&gt;SerializePendingObject(*code));</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span>  serializer_-&gt;SerializeObject(code, SlotType::kAnySlot);</div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_LEAPTIERING</span></div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>}</div>
</div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span> </div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span><span class="comment">// Similar to OutputRawData, but substitutes the given field with the given</span></div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span><span class="comment">// value instead of reading it from the object.</span></div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span><span class="keywordtype">void</span> OutputRawWithCustomField(<a class="code hl_class" href="classv8_1_1internal_1_1SnapshotByteSink.html">SnapshotByteSink</a>* sink, Address object_start,</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>                              <span class="keywordtype">int</span> written_so_far, <span class="keywordtype">int</span> bytes_to_write,</div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span>                              <span class="keywordtype">int</span> field_offset, <span class="keywordtype">int</span> field_size,</div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span>                              <span class="keyword">const</span> uint8_t* field_value) {</div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> = field_offset - written_so_far;</div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>  <span class="keywordflow">if</span> (0 &lt;= <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> &amp;&amp; <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> &lt; bytes_to_write) {</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(bytes_to_write, <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + field_size);</div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>    sink-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1SnapshotByteSink.html#ad93d2ad1d56393d7d265886b92b58cd6">PutRaw</a>(<span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(object_start + written_so_far),</div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>                 <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>, <span class="stringliteral">&quot;Bytes&quot;</span>);</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>    sink-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1SnapshotByteSink.html#ad93d2ad1d56393d7d265886b92b58cd6">PutRaw</a>(field_value, field_size, <span class="stringliteral">&quot;Bytes&quot;</span>);</div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>    written_so_far += <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + field_size;</div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>    bytes_to_write -= <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + field_size;</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>    sink-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1SnapshotByteSink.html#ad93d2ad1d56393d7d265886b92b58cd6">PutRaw</a>(<span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(object_start + written_so_far),</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span>                 bytes_to_write, <span class="stringliteral">&quot;Bytes&quot;</span>);</div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>    sink-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1SnapshotByteSink.html#ad93d2ad1d56393d7d265886b92b58cd6">PutRaw</a>(<span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(object_start + written_so_far),</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>                 bytes_to_write, <span class="stringliteral">&quot;Bytes&quot;</span>);</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>  }</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span>}</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>}  <span class="comment">// anonymous namespace</span></div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span> </div>
<div class="foldopen" id="foldopen01360" data-start="{" data-end="}">
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a19c64c27afe9e7e32ba9688dfd1dcd82"> 1360</a></span><span class="keywordtype">void</span> Serializer::ObjectSerializer::OutputRawData(Address up_to) {</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>  Address object_start = <a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>-&gt;address();</div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a> = bytes_processed_so_far_;</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>  <span class="keywordtype">int</span> up_to_offset = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(up_to - object_start);</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>  <span class="keywordtype">int</span> to_skip = up_to_offset - bytes_processed_so_far_;</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>  <span class="keywordtype">int</span> bytes_to_output = to_skip;</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="src_2base_2macros_8h.html#ab7a19c1f785f31f2b190afc19875368a">IsAligned</a>(bytes_to_output, <a class="code hl_variable" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>));</div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>  <span class="keywordtype">int</span> tagged_to_output = bytes_to_output / <a class="code hl_variable" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>;</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>  bytes_processed_so_far_ += to_skip;</div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(to_skip, 0);</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>  <span class="keywordflow">if</span> (bytes_to_output != 0) {</div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(to_skip == bytes_to_output);</div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>    <span class="keywordflow">if</span> (tagged_to_output &lt;= kFixedRawDataCount) {</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>      <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(FixedRawDataWithSize::Encode(tagged_to_output),</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>                 <span class="stringliteral">&quot;FixedRawData&quot;</span>);</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>      <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;Put(kVariableRawData, <span class="stringliteral">&quot;VariableRawData&quot;</span>);</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>      <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;PutUint30(tagged_to_output, <span class="stringliteral">&quot;length&quot;</span>);</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>    }</div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span><span class="preprocessor">#ifdef MEMORY_SANITIZER</span></div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>    <span class="comment">// Check that we do not serialize uninitialized memory.</span></div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>    __msan_check_mem_is_initialized(</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>        <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(object_start + <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a>), bytes_to_output);</div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span><span class="preprocessor">#endif  </span><span class="comment">// MEMORY_SANITIZER</span></div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>    <a class="code hl_class" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base(<a class="code hl_variable" href="api-natives_8cc.html#a68072bca3fef7bd8b0d3cbac971cbf4b">isolate_</a>);</div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>    <span class="keywordflow">if</span> (IsSharedFunctionInfo(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>, cage_base)) {</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>      <span class="comment">// The bytecode age field can be changed by GC concurrently.</span></div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>      <span class="keyword">static_assert</span>(SharedFunctionInfo::kAgeSize == <a class="code hl_variable" href="namespacev8_1_1internal.html#ac0c09470b1de2d9aa46378e0fc5f937e">kUInt16Size</a>);</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>      uint16_t field_value = 0;</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>      OutputRawWithCustomField(<a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>, object_start, <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a>, bytes_to_output,</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>                               SharedFunctionInfo::kAgeOffset,</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>                               <span class="keyword">sizeof</span>(field_value),</div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>                               <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(&amp;field_value));</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsDescriptorArray(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>, cage_base)) {</div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>      <span class="comment">// The number of marked descriptors field can be changed by GC</span></div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>      <span class="comment">// concurrently.</span></div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>      <span class="keyword">const</span> <span class="keyword">auto</span> field_value = DescriptorArrayMarkingState::kInitialGCState;</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>      <span class="keyword">static_assert</span>(<span class="keyword">sizeof</span>(field_value) == DescriptorArray::kSizeOfRawGcState);</div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>      OutputRawWithCustomField(<a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>, object_start, <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a>, bytes_to_output,</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>                               DescriptorArray::kRawGcStateOffset,</div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>                               <span class="keyword">sizeof</span>(field_value),</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>                               <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(&amp;field_value));</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsCode(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>, cage_base)) {</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span><span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>      <span class="comment">// When the sandbox is enabled, this field contains the handle to this</span></div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>      <span class="comment">// Code object&#39;s code pointer table entry. This will be recomputed after</span></div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>      <span class="comment">// deserialization.</span></div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>      <span class="keyword">static</span> uint8_t field_value[<a class="code hl_variable" href="namespacev8_1_1internal.html#a992050d065034254293bc79869dee600">kIndirectPointerSize</a>] = {0};</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>      OutputRawWithCustomField(<a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>, object_start, <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a>, bytes_to_output,</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>                               Code::kSelfIndirectPointerOffset,</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>                               <span class="keyword">sizeof</span>(field_value), field_value);</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>      <span class="comment">// In this case, instruction_start field contains a raw value that will</span></div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>      <span class="comment">// similarly be recomputed after deserialization, so write zeros to keep</span></div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>      <span class="comment">// the snapshot deterministic.</span></div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>      <span class="keyword">static</span> uint8_t field_value[<a class="code hl_variable" href="namespacev8_1_1internal.html#a72cbfdfeabb9a401f279f7b80bcff67a">kSystemPointerSize</a>] = {0};</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>      OutputRawWithCustomField(<a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>, object_start, <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a>, bytes_to_output,</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>                               Code::kInstructionStartOffset,</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>                               <span class="keyword">sizeof</span>(field_value), field_value);</div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_SANDBOX</span></div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsSeqString(*<a class="code hl_variable" href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a>)) {</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>      <span class="comment">// SeqStrings may contain padding. Serialize the padding bytes as 0s to</span></div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>      <span class="comment">// make the snapshot content deterministic.</span></div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>      <a class="code hl_struct" href="structv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes.html">SeqString::DataAndPaddingSizes</a> sizes =</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>          Cast&lt;SeqString&gt;(*object_)-&gt;GetDataAndPaddingSizes();</div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span>      <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(bytes_to_output, sizes.<a class="code hl_variable" href="structv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes.html#a6ff18d1f9fe8da8a457fc8ee46eddfcb">data_size</a> - <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a> + sizes.<a class="code hl_variable" href="structv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes.html#a8f775739234169902b0e0ea2a54cc596">padding_size</a>);</div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>      <span class="keywordtype">int</span> data_bytes_to_output = sizes.<a class="code hl_variable" href="structv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes.html#a6ff18d1f9fe8da8a457fc8ee46eddfcb">data_size</a> - <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a>;</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>      <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;PutRaw(<span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(object_start + <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a>),</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>                    data_bytes_to_output, <span class="stringliteral">&quot;SeqStringData&quot;</span>);</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>      <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;PutN(sizes.<a class="code hl_variable" href="structv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes.html#a8f775739234169902b0e0ea2a54cc596">padding_size</a>, 0, <span class="stringliteral">&quot;SeqStringPadding&quot;</span>);</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span>      <a class="code hl_variable" href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a>-&gt;PutRaw(<span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(object_start + <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a>),</div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>                    bytes_to_output, <span class="stringliteral">&quot;Bytes&quot;</span>);</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>    }</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>  }</div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>}</div>
</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span> </div>
<div class="foldopen" id="foldopen01437" data-start="{" data-end="}">
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1HotObjectsList.html#ae095dffc56a6cdebdeb3b22a7d0b5377"> 1437</a></span>Serializer::HotObjectsList::HotObjectsList(<a class="code hl_class" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code hl_namespace" href="namespaceheap.html">heap</a>) : <a class="code hl_variable" href="cpp-heap_8cc.html#abf26aeebfa3b211a147d054e3acfa1aa">heap_</a>(<a class="code hl_namespace" href="namespaceheap.html">heap</a>) {</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1Serializer_1_1HotObjectsList.html#a43b9c90dd0a3230e4c8afa4929902d00">strong_roots_entry_</a> = <a class="code hl_namespace" href="namespaceheap.html">heap</a>-&gt;RegisterStrongRoots(</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>      <span class="stringliteral">&quot;Serializer::HotObjectsList&quot;</span>, <a class="code hl_class" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a>(&amp;<a class="code hl_variable" href="classv8_1_1internal_1_1Serializer_1_1HotObjectsList.html#af7dcb809b47b091959e4e5148efb3347">circular_queue_</a>[0]),</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>      <a class="code hl_class" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a>(&amp;<a class="code hl_variable" href="classv8_1_1internal_1_1Serializer_1_1HotObjectsList.html#af7dcb809b47b091959e4e5148efb3347">circular_queue_</a>[<a class="code hl_variable" href="classv8_1_1internal_1_1Serializer_1_1HotObjectsList.html#a5d89647126bad2685f20380fa8ad4808">kSize</a>]));</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>}</div>
</div>
<div class="foldopen" id="foldopen01442" data-start="{" data-end="}">
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer_1_1HotObjectsList.html#a48b5c931bc510e7930554dcab3ff9f9c"> 1442</a></span><a class="code hl_function" href="classv8_1_1internal_1_1Serializer_1_1HotObjectsList.html#a48b5c931bc510e7930554dcab3ff9f9c">Serializer::HotObjectsList::~HotObjectsList</a>() {</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>  <a class="code hl_variable" href="cpp-heap_8cc.html#abf26aeebfa3b211a147d054e3acfa1aa">heap_</a>-&gt;UnregisterStrongRoots(strong_roots_entry_);</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span>}</div>
</div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span> </div>
<div class="foldopen" id="foldopen01446" data-start="{" data-end="}">
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ObjectCacheIndexMap.html#a709d302f93b9e4534651aba721ed1459"> 1446</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;FixedArray&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1ObjectCacheIndexMap.html#a709d302f93b9e4534651aba721ed1459">ObjectCacheIndexMap::Values</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="setup-heap-internal_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>() == 0) {</div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span>    <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;empty_fixed_array();</div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>  }</div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;FixedArray&gt;</a> externals = isolate-&gt;factory()-&gt;NewFixedArray(<a class="code hl_variable" href="setup-heap-internal_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>());</div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;FixedArray&gt;</a> raw = *externals;</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span>  <a class="code hl_class" href="classv8_1_1internal_1_1IdentityMap_1_1IteratableScope.html">IdentityMap&lt;int, base::DefaultAllocationPolicy&gt;::IteratableScope</a> it_scope(</div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>      &amp;<a class="code hl_variable" href="compilation-dependencies_8cc.html#a2bde9a41de3f273ded28b9e63dcc05ca">map_</a>);</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = it_scope.<a class="code hl_function" href="classv8_1_1internal_1_1IdentityMap_1_1IteratableScope.html#acbce41aa371014e869c9425170c0c019">begin</a>(); it != it_scope.<a class="code hl_function" href="classv8_1_1internal_1_1IdentityMap_1_1IteratableScope.html#a2f4f5ac5cd83534857f06660a462ef7d">end</a>(); ++it) {</div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>    raw-&gt;set(*it.entry(), it.key());</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>  }</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span> </div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>  <span class="keywordflow">return</span> externals;</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>}</div>
</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span> </div>
<div class="foldopen" id="foldopen01462" data-start="{" data-end="}">
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Serializer.html#aa24dcab38dd340e096d15dcb7e1c4ff5"> 1462</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1Serializer.html#aa24dcab38dd340e096d15dcb7e1c4ff5">Serializer::SerializeReadOnlyObjectReference</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> obj,</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>                                                  <a class="code hl_class" href="classv8_1_1internal_1_1SnapshotByteSink.html">SnapshotByteSink</a>* sink) {</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classv8_1_1internal_1_1ReadOnlyHeap.html#a27e42af8000235aeb8fc6695f6296aca">ReadOnlyHeap::Contains</a>(obj)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span> </div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>  <span class="comment">// For objects on the read-only heap, never serialize the object, but instead</span></div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>  <span class="comment">// create a back reference that encodes the page number as the chunk_index and</span></div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>  <span class="comment">// the offset within the page as the chunk_offset.</span></div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a92ab64d42404e439be3d6a7556e32380">Address</a> address = obj.<a class="code hl_function" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a07c12d3bf0972861e1c5aefabd00971f">address</a>();</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>  <a class="code hl_class" href="classv8_1_1internal_1_1MemoryChunkMetadata.html">MemoryChunkMetadata</a>* chunk = <a class="code hl_function" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a93f0ee88ee72fd6e1231443f73b6f9d3">MemoryChunkMetadata::FromAddress</a>(address);</div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span>  uint32_t chunk_index = 0;</div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span>  <a class="code hl_class" href="classv8_1_1internal_1_1ReadOnlySpace.html">ReadOnlySpace</a>* <span class="keyword">const</span> read_only_space = <a class="code hl_function" href="classv8_1_1internal_1_1Serializer.html#a2e320f8c005de21fc162d9c232b60318">isolate</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Isolate.html#a8f158e28d6a29d8bf8459c45ba5e40c2">heap</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Heap.html#aa272a876c3c0399a08f279fa7d28ce84">read_only_space</a>();</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!read_only_space-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1ReadOnlySpace.html#a35e4a97560dd39bfb69dbc392ce7952a">writable</a>());</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classv8_1_1internal_1_1ReadOnlyPageMetadata.html">ReadOnlyPageMetadata</a>* <a class="code hl_variable" href="cppgc_2sweeper_8cc.html#a876e0ae5632dcb3138e6e718ac01ae8a">page</a> : read_only_space-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1ReadOnlySpace.html#aea66eba52f7e4acf1b4505c79a522c99">pages</a>()) {</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>    <span class="keywordflow">if</span> (chunk == <a class="code hl_variable" href="cppgc_2sweeper_8cc.html#a876e0ae5632dcb3138e6e718ac01ae8a">page</a>) <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>    ++chunk_index;</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>  }</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>  uint32_t chunk_offset = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(chunk-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#af9c5926ad8961fba9ea6888dfb0e572e">Offset</a>(address));</div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>  sink-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code hl_enumvalue" href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa40123b460f76e99a788be700e3817f44">kReadOnlyHeapRef</a>, <span class="stringliteral">&quot;ReadOnlyHeapRef&quot;</span>);</div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span>  sink-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1SnapshotByteSink.html#aabc2272982a939be24759c15eabaa615">PutUint30</a>(chunk_index, <span class="stringliteral">&quot;ReadOnlyHeapRefChunkIndex&quot;</span>);</div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>  sink-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1SnapshotByteSink.html#aabc2272982a939be24759c15eabaa615">PutUint30</a>(chunk_offset, <span class="stringliteral">&quot;ReadOnlyHeapRefChunkOffset&quot;</span>);</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span>}</div>
</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span> </div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>}  <span class="comment">// namespace internal</span></div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span>}  <span class="comment">// namespace v8</span></div>
<div class="ttc" id="aapi-natives_8cc_html_a68072bca3fef7bd8b0d3cbac971cbf4b"><div class="ttname"><a href="api-natives_8cc.html#a68072bca3fef7bd8b0d3cbac971cbf4b">isolate_</a></div><div class="ttdeci">Isolate * isolate_</div><div class="ttdef"><b>Definition</b> <a href="api-natives_8cc_source.html#l00037">api-natives.cc:37</a></div></div>
<div class="ttc" id="aassembler-inl_8h_html"><div class="ttname"><a href="assembler-inl_8h.html">assembler-inl.h</a></div></div>
<div class="ttc" id="aassert-scope_8h_html_a6e895bc6891844f9b40e1e97d3fbd395"><div class="ttname"><a href="assert-scope_8h.html#a6e895bc6891844f9b40e1e97d3fbd395">DISALLOW_GARBAGE_COLLECTION</a></div><div class="ttdeci">#define DISALLOW_GARBAGE_COLLECTION(name)</div><div class="ttdef"><b>Definition</b> <a href="assert-scope_8h_source.html#l00262">assert-scope.h:262</a></div></div>
<div class="ttc" id="abuiltins_8cc_html_adc156a864d6037c4df1b276073ae7277"><div class="ttname"><a href="builtins_8cc.html#adc156a864d6037c4df1b276073ae7277">kind</a></div><div class="ttdeci">Builtins::Kind kind</div><div class="ttdef"><b>Definition</b> <a href="builtins_8cc_source.html#l00040">builtins.cc:40</a></div></div>
<div class="ttc" id="aclassv8_1_1Maybe_html"><div class="ttname"><a href="classv8_1_1Maybe.html">v8::Maybe</a></div><div class="ttdef"><b>Definition</b> <a href="v8-maybe_8h_source.html#l00032">v8-maybe.h:32</a></div></div>
<div class="ttc" id="aclassv8_1_1Maybe_html_a9f9150acc7eefe3dcb20b073bacd740f"><div class="ttname"><a href="classv8_1_1Maybe.html#a9f9150acc7eefe3dcb20b073bacd740f">v8::Maybe::IsJust</a></div><div class="ttdeci">V8_INLINE bool IsJust() const</div><div class="ttdef"><b>Definition</b> <a href="v8-maybe_8h_source.html#l00035">v8-maybe.h:35</a></div></div>
<div class="ttc" id="aclassv8_1_1Maybe_html_ab4550eea27732f24603ac46c53599676"><div class="ttname"><a href="classv8_1_1Maybe.html#ab4550eea27732f24603ac46c53599676">v8::Maybe::FromJust</a></div><div class="ttdeci">V8_INLINE T FromJust() const &amp;</div><div class="ttdef"><b>Definition</b> <a href="v8-maybe_8h_source.html#l00063">v8-maybe.h:63</a></div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html_a4f521cfb3eebc1c97dfdd978533e87f4"><div class="ttname"><a href="classv8_1_1Serializer.html#a4f521cfb3eebc1c97dfdd978533e87f4">v8::Serializer::isolate_</a></div><div class="ttdeci">Isolate * isolate_</div><div class="ttdef"><b>Definition</b> <a href="d8_8cc_source.html#l06169">d8.cc:6169</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Flags_html"><div class="ttname"><a href="classv8_1_1base_1_1Flags.html">v8::base::Flags</a></div><div class="ttdef"><b>Definition</b> <a href="base_2flags_8h_source.html#l00025">flags.h:25</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a3abddefa2e7ad8ab0628e6b44fad5a6b"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a3abddefa2e7ad8ab0628e6b44fad5a6b">v8::base::OS::Abort</a></div><div class="ttdeci">static void Abort()</div><div class="ttdef"><b>Definition</b> <a href="platform-posix_8cc_source.html#l00723">platform-posix.cc:723</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1StrongAlias_html"><div class="ttname"><a href="classv8_1_1base_1_1StrongAlias.html">v8::base::StrongAlias</a></div><div class="ttdef"><b>Definition</b> <a href="strong-alias_8h_source.html#l00074">strong-alias.h:74</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ArrayBufferExtension_html"><div class="ttname"><a href="classv8_1_1internal_1_1ArrayBufferExtension.html">v8::internal::ArrayBufferExtension</a></div><div class="ttdef"><b>Definition</b> <a href="js-array-buffer_8h_source.html#l00192">js-array-buffer.h:196</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeapPointerSlot_html"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeapPointerSlot.html">v8::internal::CppHeapPointerSlot</a></div><div class="ttdef"><b>Definition</b> <a href="slots_8h_source.html#l00440">slots.h:442</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DirectHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1DirectHandle.html">v8::internal::DirectHandle</a></div><div class="ttdef"><b>Definition</b> <a href="handles_8h_source.html#l00643">handles.h:652</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ExternalPointerSlot_html"><div class="ttname"><a href="classv8_1_1internal_1_1ExternalPointerSlot.html">v8::internal::ExternalPointerSlot</a></div><div class="ttdef"><b>Definition</b> <a href="slots_8h_source.html#l00320">slots.h:322</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ExternalPointerSlot_html_ad2da7c54e772afc3d05123268346dc14"><div class="ttname"><a href="classv8_1_1internal_1_1ExternalPointerSlot.html#ad2da7c54e772afc3d05123268346dc14">v8::internal::ExternalPointerSlot::load</a></div><div class="ttdeci">Address load(IsolateForSandbox isolate)</div><div class="ttdef"><b>Definition</b> <a href="slots-inl_8h_source.html#l00228">slots-inl.h:228</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ExternalReferenceEncoder_1_1Value_html"><div class="ttname"><a href="classv8_1_1internal_1_1ExternalReferenceEncoder_1_1Value.html">v8::internal::ExternalReferenceEncoder::Value</a></div><div class="ttdef"><b>Definition</b> <a href="external-reference-encoder_8h_source.html#l00021">external-reference-encoder.h:21</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ExternalReferenceEncoder_1_1Value_html_a26cff1d3758cb434c65c72cfdb31adba"><div class="ttname"><a href="classv8_1_1internal_1_1ExternalReferenceEncoder_1_1Value.html#a26cff1d3758cb434c65c72cfdb31adba">v8::internal::ExternalReferenceEncoder::Value::is_from_api</a></div><div class="ttdeci">bool is_from_api() const</div><div class="ttdef"><b>Definition</b> <a href="external-reference-encoder_8h_source.html#l00029">external-reference-encoder.h:29</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ExternalReferenceEncoder_1_1Value_html_ae55cd128360e9bb4dae468d13e3268b1"><div class="ttname"><a href="classv8_1_1internal_1_1ExternalReferenceEncoder_1_1Value.html#ae55cd128360e9bb4dae468d13e3268b1">v8::internal::ExternalReferenceEncoder::Value::index</a></div><div class="ttdeci">uint32_t index() const</div><div class="ttdef"><b>Definition</b> <a href="external-reference-encoder_8h_source.html#l00030">external-reference-encoder.h:30</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullMaybeObjectSlot_html"><div class="ttname"><a href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">v8::internal::FullMaybeObjectSlot</a></div><div class="ttdef"><b>Definition</b> <a href="slots_8h_source.html#l00153">slots.h:154</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullMaybeObjectSlot_html_a7a1eca96493700aaebcdaaf293bfe3d1"><div class="ttname"><a href="classv8_1_1internal_1_1FullMaybeObjectSlot.html#a7a1eca96493700aaebcdaaf293bfe3d1">v8::internal::FullMaybeObjectSlot::load</a></div><div class="ttdeci">Tagged&lt; MaybeObject &gt; load() const</div><div class="ttdef"><b>Definition</b> <a href="slots-inl_8h_source.html#l00129">slots-inl.h:129</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullObjectSlot_html"><div class="ttname"><a href="classv8_1_1internal_1_1FullObjectSlot.html">v8::internal::FullObjectSlot</a></div><div class="ttdef"><b>Definition</b> <a href="slots_8h_source.html#l00099">slots.h:99</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullObjectSlot_html_a4e88c8ba68e8440c83abd6077dad7c0a"><div class="ttname"><a href="classv8_1_1internal_1_1FullObjectSlot.html#a4e88c8ba68e8440c83abd6077dad7c0a">v8::internal::FullObjectSlot::load</a></div><div class="ttdeci">Tagged&lt; Object &gt; load() const</div><div class="ttdef"><b>Definition</b> <a href="slots-inl_8h_source.html#l00047">slots-inl.h:47</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HandleScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1HandleScope.html">v8::internal::HandleScope</a></div><div class="ttdef"><b>Definition</b> <a href="handles_8h_source.html#l00258">handles.h:258</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Handle_html"><div class="ttname"><a href="classv8_1_1internal_1_1Handle.html">v8::internal::Handle</a></div><div class="ttdef"><b>Definition</b> <a href="handles_8h_source.html#l00145">handles.h:145</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapObjectLayout_html"><div class="ttname"><a href="classv8_1_1internal_1_1HeapObjectLayout.html">v8::internal::HeapObjectLayout</a></div><div class="ttdef"><b>Definition</b> <a href="heap-object_8h_source.html#l00031">heap-object.h:31</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html">v8::internal::Heap</a></div><div class="ttdef"><b>Definition</b> <a href="src_2heap_2heap_8h_source.html#l00192">heap.h:192</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_aa272a876c3c0399a08f279fa7d28ce84"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#aa272a876c3c0399a08f279fa7d28ce84">v8::internal::Heap::read_only_space</a></div><div class="ttdeci">ReadOnlySpace * read_only_space() const</div><div class="ttdef"><b>Definition</b> <a href="src_2heap_2heap_8h_source.html#l00730">heap.h:730</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IdentityMap_1_1IteratableScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1IdentityMap_1_1IteratableScope.html">v8::internal::IdentityMap::IteratableScope</a></div><div class="ttdef"><b>Definition</b> <a href="identity-map_8h_source.html#l00206">identity-map.h:206</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IdentityMap_1_1IteratableScope_html_a2f4f5ac5cd83534857f06660a462ef7d"><div class="ttname"><a href="classv8_1_1internal_1_1IdentityMap_1_1IteratableScope.html#a2f4f5ac5cd83534857f06660a462ef7d">v8::internal::IdentityMap::IteratableScope::end</a></div><div class="ttdeci">Iterator end()</div><div class="ttdef"><b>Definition</b> <a href="identity-map_8h_source.html#l00220">identity-map.h:220</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IdentityMap_1_1IteratableScope_html_acbce41aa371014e869c9425170c0c019"><div class="ttname"><a href="classv8_1_1internal_1_1IdentityMap_1_1IteratableScope.html#acbce41aa371014e869c9425170c0c019">v8::internal::IdentityMap::IteratableScope::begin</a></div><div class="ttdeci">Iterator begin()</div><div class="ttdef"><b>Definition</b> <a href="identity-map_8h_source.html#l00219">identity-map.h:219</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IndirectPointerSlot_html"><div class="ttname"><a href="classv8_1_1internal_1_1IndirectPointerSlot.html">v8::internal::IndirectPointerSlot</a></div><div class="ttdef"><b>Definition</b> <a href="slots_8h_source.html#l00474">slots.h:476</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IndirectPointerSlot_html_a7fe1f02a91eeb421fd2d18309c0d0352"><div class="ttname"><a href="classv8_1_1internal_1_1IndirectPointerSlot.html#a7fe1f02a91eeb421fd2d18309c0d0352">v8::internal::IndirectPointerSlot::load</a></div><div class="ttdeci">Tagged&lt; Object &gt; load(IsolateForSandbox isolate) const</div><div class="ttdef"><b>Definition</b> <a href="slots-inl_8h_source.html#l00340">slots-inl.h:340</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IndirectPointerSlot_html_aa70526d4e87d6c0778cf4c2a610619bb"><div class="ttname"><a href="classv8_1_1internal_1_1IndirectPointerSlot.html#aa70526d4e87d6c0778cf4c2a610619bb">v8::internal::IndirectPointerSlot::IsEmpty</a></div><div class="ttdeci">bool IsEmpty() const</div><div class="ttdef"><b>Definition</b> <a href="slots-inl_8h_source.html#l00401">slots-inl.h:401</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html">v8::internal::Isolate</a></div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l00575">isolate.h:575</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a8f158e28d6a29d8bf8459c45ba5e40c2"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a8f158e28d6a29d8bf8459c45ba5e40c2">v8::internal::Isolate::heap</a></div><div class="ttdeci">Heap * heap()</div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l01188">isolate.h:1188</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunkMetadata_html"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunkMetadata.html">v8::internal::MemoryChunkMetadata</a></div><div class="ttdef"><b>Definition</b> <a href="memory-chunk-metadata_8h_source.html#l00032">memory-chunk-metadata.h:32</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunkMetadata_html_a93f0ee88ee72fd6e1231443f73b6f9d3"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a93f0ee88ee72fd6e1231443f73b6f9d3">v8::internal::MemoryChunkMetadata::FromAddress</a></div><div class="ttdeci">static V8_INLINE MemoryChunkMetadata * FromAddress(Address a)</div><div class="ttdef"><b>Definition</b> <a href="memory-chunk-metadata-inl_8h_source.html#l00015">memory-chunk-metadata-inl.h:15</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunkMetadata_html_af9c5926ad8961fba9ea6888dfb0e572e"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunkMetadata.html#af9c5926ad8961fba9ea6888dfb0e572e">v8::internal::MemoryChunkMetadata::Offset</a></div><div class="ttdeci">size_t Offset(Address a) const</div><div class="ttdef"><b>Definition</b> <a href="memory-chunk-metadata_8h_source.html#l00055">memory-chunk-metadata.h:55</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ObjectCacheIndexMap_html_a709d302f93b9e4534651aba721ed1459"><div class="ttname"><a href="classv8_1_1internal_1_1ObjectCacheIndexMap.html#a709d302f93b9e4534651aba721ed1459">v8::internal::ObjectCacheIndexMap::Values</a></div><div class="ttdeci">Handle&lt; FixedArray &gt; Values(Isolate *isolate)</div><div class="ttdef"><b>Definition</b> <a href="#l01446">serializer.cc:1446</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OffHeapFullObjectSlot_html"><div class="ttname"><a href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">v8::internal::OffHeapFullObjectSlot</a></div><div class="ttdef"><b>Definition</b> <a href="slots_8h_source.html#l00303">slots.h:303</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PerThreadAssertScopeEmpty_html"><div class="ttname"><a href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">v8::internal::PerThreadAssertScopeEmpty&lt; kAllow, kTypes... &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PtrComprCageBase_html"><div class="ttname"><a href="classv8_1_1internal_1_1PtrComprCageBase.html">v8::internal::PtrComprCageBase</a></div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l02752">globals.h:2752</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ReadOnlyHeap_html_a27e42af8000235aeb8fc6695f6296aca"><div class="ttname"><a href="classv8_1_1internal_1_1ReadOnlyHeap.html#a27e42af8000235aeb8fc6695f6296aca">v8::internal::ReadOnlyHeap::Contains</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE bool Contains(Address address)</div><div class="ttdef"><b>Definition</b> <a href="read-only-heap_8cc_source.html#l00217">read-only-heap.cc:217</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ReadOnlyPageMetadata_html"><div class="ttname"><a href="classv8_1_1internal_1_1ReadOnlyPageMetadata.html">v8::internal::ReadOnlyPageMetadata</a></div><div class="ttdef"><b>Definition</b> <a href="read-only-spaces_8h_source.html#l00028">read-only-spaces.h:28</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ReadOnlyRoots_html"><div class="ttname"><a href="classv8_1_1internal_1_1ReadOnlyRoots.html">v8::internal::ReadOnlyRoots</a></div><div class="ttdef"><b>Definition</b> <a href="roots_8h_source.html#l00699">roots.h:699</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ReadOnlySpace_html"><div class="ttname"><a href="classv8_1_1internal_1_1ReadOnlySpace.html">v8::internal::ReadOnlySpace</a></div><div class="ttdef"><b>Definition</b> <a href="read-only-spaces_8h_source.html#l00148">read-only-spaces.h:148</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ReadOnlySpace_html_a35e4a97560dd39bfb69dbc392ce7952a"><div class="ttname"><a href="classv8_1_1internal_1_1ReadOnlySpace.html#a35e4a97560dd39bfb69dbc392ce7952a">v8::internal::ReadOnlySpace::writable</a></div><div class="ttdeci">bool writable() const</div><div class="ttdef"><b>Definition</b> <a href="read-only-spaces_8h_source.html#l00162">read-only-spaces.h:162</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ReadOnlySpace_html_aea66eba52f7e4acf1b4505c79a522c99"><div class="ttname"><a href="classv8_1_1internal_1_1ReadOnlySpace.html#aea66eba52f7e4acf1b4505c79a522c99">v8::internal::ReadOnlySpace::pages</a></div><div class="ttdeci">const std::vector&lt; ReadOnlyPageMetadata * &gt; &amp; pages() const</div><div class="ttdef"><b>Definition</b> <a href="read-only-spaces_8h_source.html#l00191">read-only-spaces.h:191</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html">v8::internal::RelocInfo</a></div><div class="ttdef"><b>Definition</b> <a href="reloc-info_8h_source.html#l00094">reloc-info.h:94</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SeqString_html"><div class="ttname"><a href="classv8_1_1internal_1_1SeqString.html">v8::internal::SeqString</a></div><div class="ttdef"><b>Definition</b> <a href="string_8h_source.html#l00789">string.h:789</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_a0fc92b9bfbeae623ad8508e89f71619aa40123b460f76e99a788be700e3817f44"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa40123b460f76e99a788be700e3817f44">v8::internal::SerializerDeserializer::kReadOnlyHeapRef</a></div><div class="ttdeci">@ kReadOnlyHeapRef</div><div class="ttdef"><b>Definition</b> <a href="serializer-deserializer_8h_source.html#l00094">serializer-deserializer.h:94</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_a108b70a5e6f10e237fd67e9ccb692c91"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#a108b70a5e6f10e237fd67e9ccb692c91">v8::internal::SerializerDeserializer::SlotType</a></div><div class="ttdeci">SlotType</div><div class="ttdef"><b>Definition</b> <a href="serializer-deserializer_8h_source.html#l00027">serializer-deserializer.h:27</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerReference_html"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerReference.html">v8::internal::SerializerReference</a></div><div class="ttdef"><b>Definition</b> <a href="references_8h_source.html#l00026">references.h:26</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerReference_html_a1e4ed12a97d77d779a6c374bcd8213d2"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerReference.html#a1e4ed12a97d77d779a6c374bcd8213d2">v8::internal::SerializerReference::attached_reference_index</a></div><div class="ttdeci">uint32_t attached_reference_index() const</div><div class="ttdef"><b>Definition</b> <a href="references_8h_source.html#l00077">references.h:77</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerReference_html_a49fac7397dd24788771630b725d7880a"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerReference.html#a49fac7397dd24788771630b725d7880a">v8::internal::SerializerReference::off_heap_backing_store_index</a></div><div class="ttdeci">uint32_t off_heap_backing_store_index() const</div><div class="ttdef"><b>Definition</b> <a href="references_8h_source.html#l00068">references.h:68</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerReference_html_a62cda60648c9cd3a8573fb69f1f86234"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerReference.html#a62cda60648c9cd3a8573fb69f1f86234">v8::internal::SerializerReference::is_attached_reference</a></div><div class="ttdeci">bool is_attached_reference() const</div><div class="ttdef"><b>Definition</b> <a href="references_8h_source.html#l00073">references.h:73</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerReference_html_a686441c62c3a91c539cf72f0cb6d83f7"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerReference.html#a686441c62c3a91c539cf72f0cb6d83f7">v8::internal::SerializerReference::is_back_reference</a></div><div class="ttdeci">bool is_back_reference() const</div><div class="ttdef"><b>Definition</b> <a href="references_8h_source.html#l00055">references.h:55</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerReference_html_ae97c004f964d6aeb33e0659d36757c2f"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerReference.html#ae97c004f964d6aeb33e0659d36757c2f">v8::internal::SerializerReference::back_ref_index</a></div><div class="ttdeci">uint32_t back_ref_index() const</div><div class="ttdef"><b>Definition</b> <a href="references_8h_source.html#l00059">references.h:59</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1HotObjectsList_html_a43b9c90dd0a3230e4c8afa4929902d00"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1HotObjectsList.html#a43b9c90dd0a3230e4c8afa4929902d00">v8::internal::Serializer::HotObjectsList::strong_roots_entry_</a></div><div class="ttdeci">StrongRootsEntry * strong_roots_entry_</div><div class="ttdef"><b>Definition</b> <a href="serializer_8h_source.html#l00385">serializer.h:385</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1HotObjectsList_html_a48b5c931bc510e7930554dcab3ff9f9c"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1HotObjectsList.html#a48b5c931bc510e7930554dcab3ff9f9c">v8::internal::Serializer::HotObjectsList::~HotObjectsList</a></div><div class="ttdeci">~HotObjectsList()</div><div class="ttdef"><b>Definition</b> <a href="#l01442">serializer.cc:1442</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1HotObjectsList_html_a5d89647126bad2685f20380fa8ad4808"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1HotObjectsList.html#a5d89647126bad2685f20380fa8ad4808">v8::internal::Serializer::HotObjectsList::kSize</a></div><div class="ttdeci">static const int kSize</div><div class="ttdef"><b>Definition</b> <a href="serializer_8h_source.html#l00381">serializer.h:381</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1HotObjectsList_html_af7dcb809b47b091959e4e5148efb3347"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1HotObjectsList.html#af7dcb809b47b091959e4e5148efb3347">v8::internal::Serializer::HotObjectsList::circular_queue_</a></div><div class="ttdeci">Address circular_queue_[kSize]</div><div class="ttdef"><b>Definition</b> <a href="serializer_8h_source.html#l00386">serializer.h:386</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1RecursionScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1RecursionScope.html">v8::internal::Serializer::RecursionScope</a></div><div class="ttdef"><b>Definition</b> <a href="serializer_8h_source.html#l00213">serializer.h:213</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1RecursionScope_html_a302528dd16e8470e86bd9ddad4ad066a"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1RecursionScope.html#a302528dd16e8470e86bd9ddad4ad066a">v8::internal::Serializer::RecursionScope::ExceedsMaximumBy</a></div><div class="ttdeci">int ExceedsMaximumBy() const</div><div class="ttdef"><b>Definition</b> <a href="serializer_8h_source.html#l00222">serializer.h:222</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1RecursionScope_html_aa9827ca3971fb7467476852bd20b14b1"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1RecursionScope.html#aa9827ca3971fb7467476852bd20b14b1">v8::internal::Serializer::RecursionScope::ExceedsMaximum</a></div><div class="ttdeci">bool ExceedsMaximum() const</div><div class="ttdef"><b>Definition</b> <a href="serializer_8h_source.html#l00219">serializer.h:219</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_a2e320f8c005de21fc162d9c232b60318"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#a2e320f8c005de21fc162d9c232b60318">v8::internal::Serializer::isolate</a></div><div class="ttdeci">Isolate * isolate() const</div><div class="ttdef"><b>Definition</b> <a href="serializer_8h_source.html#l00195">serializer.h:195</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_aa24dcab38dd340e096d15dcb7e1c4ff5"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#aa24dcab38dd340e096d15dcb7e1c4ff5">v8::internal::Serializer::SerializeReadOnlyObjectReference</a></div><div class="ttdeci">bool SerializeReadOnlyObjectReference(Tagged&lt; HeapObject &gt; obj, SnapshotByteSink *sink)</div><div class="ttdef"><b>Definition</b> <a href="#l01462">serializer.cc:1462</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_ab4bb72ec660acbfab28cd6bf83884b18"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#ab4bb72ec660acbfab28cd6bf83884b18">v8::internal::Serializer::Serializer</a></div><div class="ttdeci">Serializer(Isolate *isolate, Snapshot::SerializerFlags flags)</div><div class="ttdef"><b>Definition</b> <a href="#l00033">serializer.cc:33</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_ae25a653f1cdcccecaff77e26c74a9cb8"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#ae25a653f1cdcccecaff77e26c74a9cb8">v8::internal::Serializer::PendingObjectReferences</a></div><div class="ttdeci">std::vector&lt; int &gt; * PendingObjectReferences</div><div class="ttdef"><b>Definition</b> <a href="serializer_8h_source.html#l00210">serializer.h:210</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SlotBase_html_a761a11659b4338ee734b79e7c6886911"><div class="ttname"><a href="classv8_1_1internal_1_1SlotBase.html#a761a11659b4338ee734b79e7c6886911">v8::internal::SlotBase::address</a></div><div class="ttdeci">Address address() const</div><div class="ttdef"><b>Definition</b> <a href="slots_8h_source.html#l00079">slots.h:79</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SlotBase_html_ac82fd382ab55f4413ba95c570e9d7654"><div class="ttname"><a href="classv8_1_1internal_1_1SlotBase.html#ac82fd382ab55f4413ba95c570e9d7654">v8::internal::SlotBase::location</a></div><div class="ttdeci">TData * location() const</div><div class="ttdef"><b>Definition</b> <a href="slots_8h_source.html#l00081">slots.h:81</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SnapshotByteSink_html"><div class="ttname"><a href="classv8_1_1internal_1_1SnapshotByteSink.html">v8::internal::SnapshotByteSink</a></div><div class="ttdef"><b>Definition</b> <a href="snapshot-source-sink_8h_source.html#l00128">snapshot-source-sink.h:128</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SnapshotByteSink_html_aabc2272982a939be24759c15eabaa615"><div class="ttname"><a href="classv8_1_1internal_1_1SnapshotByteSink.html#aabc2272982a939be24759c15eabaa615">v8::internal::SnapshotByteSink::PutUint30</a></div><div class="ttdeci">void PutUint30(uint32_t integer, const char *description)</div><div class="ttdef"><b>Definition</b> <a href="snapshot-source-sink_8cc_source.html#l00021">snapshot-source-sink.cc:21</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SnapshotByteSink_html_ad93d2ad1d56393d7d265886b92b58cd6"><div class="ttname"><a href="classv8_1_1internal_1_1SnapshotByteSink.html#ad93d2ad1d56393d7d265886b92b58cd6">v8::internal::SnapshotByteSink::PutRaw</a></div><div class="ttdeci">void PutRaw(const uint8_t *data, int number_of_bytes, const char *description)</div><div class="ttdef"><b>Definition</b> <a href="snapshot-source-sink_8cc_source.html#l00035">snapshot-source-sink.cc:35</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SnapshotByteSink_html_adb67204da52ee59ab5626f0d71248cae"><div class="ttname"><a href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">v8::internal::SnapshotByteSink::Put</a></div><div class="ttdeci">void Put(uint8_t b, const char *description)</div><div class="ttdef"><b>Definition</b> <a href="snapshot-source-sink_8h_source.html#l00135">snapshot-source-sink.h:135</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TaggedImpl_html_a5d84dde6d0c8149b4560d7c79cf8f1a3"><div class="ttname"><a href="classv8_1_1internal_1_1TaggedImpl.html#a5d84dde6d0c8149b4560d7c79cf8f1a3">v8::internal::TaggedImpl::IsCleared</a></div><div class="ttdeci">constexpr bool IsCleared() const</div><div class="ttdef"><b>Definition</b> <a href="tagged-impl_8h_source.html#l00129">tagged-impl.h:129</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TaggedImpl_html_a941f4af4ddba9f09e9ff1ca6e4382c36"><div class="ttname"><a href="classv8_1_1internal_1_1TaggedImpl.html#a941f4af4ddba9f09e9ff1ca6e4382c36">v8::internal::TaggedImpl::GetHeapObject</a></div><div class="ttdeci">bool GetHeapObject(Tagged&lt; HeapObject &gt; *result) const</div><div class="ttdef"><b>Definition</b> <a href="tagged-impl-inl_8h_source.html#l00046">tagged-impl-inl.h:46</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_3_01HeapObject_01_4_html_a07c12d3bf0972861e1c5aefabd00971f"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a07c12d3bf0972861e1c5aefabd00971f">v8::internal::Tagged&lt; HeapObject &gt;::address</a></div><div class="ttdeci">Address address() const</div><div class="ttdef"><b>Definition</b> <a href="tagged_8h_source.html#l00497">tagged.h:497</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_3_01HeapObject_01_4_html_a75a38fd8cf1a1788ad8fa121168160e0"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a75a38fd8cf1a1788ad8fa121168160e0">v8::internal::Tagged&lt; HeapObject &gt;::IsSmi</a></div><div class="ttdeci">constexpr V8_INLINE bool IsSmi() const</div><div class="ttdef"><b>Definition</b> <a href="tagged_8h_source.html#l00480">tagged.h:480</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_html"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged.html">v8::internal::Tagged</a></div><div class="ttdef"><b>Definition</b> <a href="waiter-queue-node_8h_source.html#l00022">waiter-queue-node.h:22</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UnlinkWeakNextScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1UnlinkWeakNextScope.html">v8::internal::UnlinkWeakNextScope</a></div><div class="ttdef"><b>Definition</b> <a href="#l00768">serializer.cc:768</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UnlinkWeakNextScope_html_a55573e2a1c2a3517d1f55b953a9e8f97"><div class="ttname"><a href="classv8_1_1internal_1_1UnlinkWeakNextScope.html#a55573e2a1c2a3517d1f55b953a9e8f97">v8::internal::UnlinkWeakNextScope::UnlinkWeakNextScope</a></div><div class="ttdeci">UnlinkWeakNextScope(Heap *heap, Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition</b> <a href="#l00770">serializer.cc:770</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UnlinkWeakNextScope_html_a94865b079315a0257bb84339acb48d1f"><div class="ttname"><a href="classv8_1_1internal_1_1UnlinkWeakNextScope.html#a94865b079315a0257bb84339acb48d1f">v8::internal::UnlinkWeakNextScope::object_</a></div><div class="ttdeci">Tagged&lt; HeapObject &gt; object_</div><div class="ttdef"><b>Definition</b> <a href="#l00787">serializer.cc:787</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UnlinkWeakNextScope_html_ae1ab425e7433cc5952ee1c684be16481"><div class="ttname"><a href="classv8_1_1internal_1_1UnlinkWeakNextScope.html#ae1ab425e7433cc5952ee1c684be16481">v8::internal::UnlinkWeakNextScope::~UnlinkWeakNextScope</a></div><div class="ttdeci">~UnlinkWeakNextScope()</div><div class="ttdef"><b>Definition</b> <a href="#l00781">serializer.cc:781</a></div></div>
<div class="ttc" id="acode-generator-arm_8cc_html_a5563c55e446f92e237e9fb9b07b423b6"><div class="ttname"><a href="code-generator-arm_8cc.html#a5563c55e446f92e237e9fb9b07b423b6">object_</a></div><div class="ttdeci">Register const object_</div><div class="ttdef"><b>Definition</b> <a href="code-generator-arm_8cc_source.html#l00221">code-generator-arm.cc:221</a></div></div>
<div class="ttc" id="acode-reference_8cc_html_aeaf31c189d3b2a89ff45fedfceb87d9d"><div class="ttname"><a href="code-reference_8cc.html#aeaf31c189d3b2a89ff45fedfceb87d9d">code</a></div><div class="ttdeci">Handle&lt; Code &gt; code</div><div class="ttdef"><b>Definition</b> <a href="code-reference_8cc_source.html#l00022">code-reference.cc:22</a></div></div>
<div class="ttc" id="acode_8h_html"><div class="ttname"><a href="code_8h.html">code.h</a></div></div>
<div class="ttc" id="acommon_2globals_8h_html"><div class="ttname"><a href="common_2globals_8h.html">globals.h</a></div></div>
<div class="ttc" id="acommon_2globals_8h_html_a9fbe5720e523e0d3c9202480f33405d7"><div class="ttname"><a href="common_2globals_8h.html#a9fbe5720e523e0d3c9202480f33405d7">V8_ENABLE_SANDBOX_BOOL</a></div><div class="ttdeci">#define V8_ENABLE_SANDBOX_BOOL</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l00154">globals.h:154</a></div></div>
<div class="ttc" id="acompilation-cache-table_8cc_html_ac845e03de27eac923877cf24fda703fd"><div class="ttname"><a href="compilation-cache-table_8cc.html#ac845e03de27eac923877cf24fda703fd">flags_</a></div><div class="ttdeci">JSRegExp::Flags flags_</div><div class="ttdef"><b>Definition</b> <a href="compilation-cache-table_8cc_source.html#l00219">compilation-cache-table.cc:219</a></div></div>
<div class="ttc" id="acompilation-dependencies_8cc_html_a2bde9a41de3f273ded28b9e63dcc05ca"><div class="ttname"><a href="compilation-dependencies_8cc.html#a2bde9a41de3f273ded28b9e63dcc05ca">map_</a></div><div class="ttdeci">const MapRef map_</div><div class="ttdef"><b>Definition</b> <a href="compilation-dependencies_8cc_source.html#l00311">compilation-dependencies.cc:311</a></div></div>
<div class="ttc" id="acpp-heap_8cc_html_abf26aeebfa3b211a147d054e3acfa1aa"><div class="ttname"><a href="cpp-heap_8cc.html#abf26aeebfa3b211a147d054e3acfa1aa">heap_</a></div><div class="ttdeci">CppHeap * heap_</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8cc_source.html#l00559">cpp-heap.cc:559</a></div></div>
<div class="ttc" id="acppgc_2sweeper_8cc_html_a876e0ae5632dcb3138e6e718ac01ae8a"><div class="ttname"><a href="cppgc_2sweeper_8cc.html#a876e0ae5632dcb3138e6e718ac01ae8a">page</a></div><div class="ttdeci">BasePage * page</div><div class="ttdef"><b>Definition</b> <a href="cppgc_2sweeper_8cc_source.html#l00218">sweeper.cc:218</a></div></div>
<div class="ttc" id="adata-view-ops_8h_html_a04ef3e8b3cbc9ea1605b3067d2a55474"><div class="ttname"><a href="data-view-ops_8h.html#a04ef3e8b3cbc9ea1605b3067d2a55474">ToString</a></div><div class="ttdeci">constexpr const char * ToString(DataViewOp op)</div><div class="ttdef"><b>Definition</b> <a href="data-view-ops_8h_source.html#l00032">data-view-ops.h:32</a></div></div>
<div class="ttc" id="adebug-coverage_8cc_html_a37722a150250e2a5a98e5e0d11e53449"><div class="ttname"><a href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a></div><div class="ttdeci">int start</div><div class="ttdef"><b>Definition</b> <a href="debug-coverage_8cc_source.html#l00595">debug-coverage.cc:595</a></div></div>
<div class="ttc" id="adebug-coverage_8cc_html_abce9f5dc9c83f2639b72024fdee5d388"><div class="ttname"><a href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a></div><div class="ttdeci">int end</div><div class="ttdef"><b>Definition</b> <a href="debug-coverage_8cc_source.html#l00596">debug-coverage.cc:596</a></div></div>
<div class="ttc" id="adescriptor-array_8h_html"><div class="ttname"><a href="descriptor-array_8h.html">descriptor-array.h</a></div></div>
<div class="ttc" id="aearley-parser_8cc_html_a69620d3d0bf3441e9802e4853271cad4"><div class="ttname"><a href="earley-parser_8cc.html#a69620d3d0bf3441e9802e4853271cad4">current</a></div><div class="ttdeci">LineAndColumn current</div><div class="ttdef"><b>Definition</b> <a href="earley-parser_8cc_source.html#l00022">earley-parser.cc:22</a></div></div>
<div class="ttc" id="aembedded-data_8h_html"><div class="ttname"><a href="embedded-data_8h.html">embedded-data.h</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html_a247253de51491e9fa25feb1d0686a07f"><div class="ttname"><a href="execution_2isolate_8h.html#a247253de51491e9fa25feb1d0686a07f">WHILE_WITH_HANDLE_SCOPE</a></div><div class="ttdeci">#define WHILE_WITH_HANDLE_SCOPE(isolate, limit_check, body)</div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l00461">isolate.h:461</a></div></div>
<div class="ttc" id="aexperimental-interpreter_8cc_html_ac8769459fea404ce34890fa9f8ad4a93"><div class="ttname"><a href="experimental-interpreter_8cc.html#ac8769459fea404ce34890fa9f8ad4a93">no_gc_</a></div><div class="ttdeci">DisallowGarbageCollection no_gc_</div><div class="ttdef"><b>Definition</b> <a href="experimental-interpreter_8cc_source.html#l01432">experimental-interpreter.cc:1432</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_ae50fea4f4c58d91d722bb7e290b4776b"><div class="ttname"><a href="flag-definitions_8h.html#ae50fea4f4c58d91d722bb7e290b4776b">space</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enable experimental feedback collection in generic lowering enable Turboshaft s WasmLoadElimination run instruction selection on Turboshaft IR directly enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information build the Turboshaft graph from Maglev trace emitted Turboshaft instructions profile guided optimization for empty feedback vector invocation count for maglev for functions which according to profile_guided_optimization are likely to deoptimize before reaching this invocation count Immediately re optimize code after some lazy deopts Enables the lazy new space shrinking strategy max size of a semi the new space consists of two semi spaces young and full garbage collection phases are not overlapping Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in allocation gc speed Starts incremental marking with kUserVisible priority threshold for starting incremental marking immediately in percent of available space</div><div class="ttdef"><b>Definition</b> <a href="flag-definitions_8h_source.html#l02031">flag-definitions.h:2029</a></div></div>
<div class="ttc" id="aglobal-handles-inl_8h_html"><div class="ttname"><a href="global-handles-inl_8h.html">global-handles-inl.h</a></div></div>
<div class="ttc" id="agraph-builder_8cc_html_a9990dda08de44f6aee0aaf44c50da7d9"><div class="ttname"><a href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a></div><div class="ttdeci">Isolate * isolate</div><div class="ttdef"><b>Definition</b> <a href="graph-builder_8cc_source.html#l00058">graph-builder.cc:58</a></div></div>
<div class="ttc" id="aheap-inl_8h_html"><div class="ttname"><a href="heap-inl_8h.html">heap-inl.h</a></div></div>
<div class="ttc" id="ainstance-type-checker_8h_html"><div class="ttname"><a href="instance-type-checker_8h.html">instance-type-checker.h</a></div></div>
<div class="ttc" id="ainstance-type_8h_html"><div class="ttname"><a href="instance-type_8h.html">instance-type.h</a></div></div>
<div class="ttc" id="ainstruction-selector-ia32_8cc_html_a115c48491bb37004f5ac67eb46ac2c23"><div class="ttname"><a href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a></div><div class="ttdeci">turboshaft::OpIndex base</div><div class="ttdef"><b>Definition</b> <a href="instruction-selector-ia32_8cc_source.html#l00070">instruction-selector-ia32.cc:70</a></div></div>
<div class="ttc" id="ainstruction-selector-ia32_8cc_html_a97bd6c077f3c7769f575b82988b9b668"><div class="ttname"><a href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a></div><div class="ttdeci">int32_t offset</div><div class="ttdef"><b>Definition</b> <a href="instruction-selector-ia32_8cc_source.html#l00072">instruction-selector-ia32.cc:72</a></div></div>
<div class="ttc" id="ainstruction-selector-ia32_8cc_html_ae55190dbead0a94298bdfa37911694e3"><div class="ttname"><a href="instruction-selector-ia32_8cc.html#ae55190dbead0a94298bdfa37911694e3">index</a></div><div class="ttdeci">turboshaft::OptionalOpIndex index</div><div class="ttdef"><b>Definition</b> <a href="instruction-selector-ia32_8cc_source.html#l00071">instruction-selector-ia32.cc:71</a></div></div>
<div class="ttc" id="aintl-objects_8cc_html_a110d0f63b1860324c40bae0391908f88"><div class="ttname"><a href="intl-objects_8cc.html#a110d0f63b1860324c40bae0391908f88">extension</a></div><div class="ttdeci">std::string extension</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8cc_source.html#l01883">intl-objects.cc:1883</a></div></div>
<div class="ttc" id="ajs-array-buffer-inl_8h_html"><div class="ttname"><a href="js-array-buffer-inl_8h.html">js-array-buffer-inl.h</a></div></div>
<div class="ttc" id="ajs-date-time-format_8cc_html_a22ede25ca923109929a8dca3c225b2ad"><div class="ttname"><a href="js-date-time-format_8cc.html#a22ede25ca923109929a8dca3c225b2ad">map</a></div><div class="ttdeci">std::map&lt; const std::string, const std::string &gt; map</div><div class="ttdef"><b>Definition</b> <a href="js-date-time-format_8cc_source.html#l00268">js-date-time-format.cc:268</a></div></div>
<div class="ttc" id="ajs-dispatch-table-inl_8h_html"><div class="ttname"><a href="js-dispatch-table-inl_8h.html">js-dispatch-table-inl.h</a></div></div>
<div class="ttc" id="ajump-threading_8cc_html_a41f8c58d2c01bf65b8ee199c3f87fc80"><div class="ttname"><a href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a></div><div class="ttdeci">ZoneVector&lt; RpoNumber &gt; &amp; result</div><div class="ttdef"><b>Definition</b> <a href="jump-threading_8cc_source.html#l00021">jump-threading.cc:21</a></div></div>
<div class="ttc" id="alog_8h_html_a146099bfe6b228d314fa3c784c56feec"><div class="ttname"><a href="log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a></div><div class="ttdeci">#define LOG(isolate, Call)</div><div class="ttdef"><b>Definition</b> <a href="log_8h_source.html#l00078">log.h:78</a></div></div>
<div class="ttc" id="amap_8h_html"><div class="ttname"><a href="map_8h.html">map.h</a></div></div>
<div class="ttc" id="amutable-page-metadata-inl_8h_html"><div class="ttname"><a href="mutable-page-metadata-inl_8h.html">mutable-page-metadata-inl.h</a></div></div>
<div class="ttc" id="anamespaceheap_html"><div class="ttname"><a href="namespaceheap.html">heap</a></div><div class="ttdef"><b>Definition</b> <a href="src_2base_2platform_2platform_8h_source.html#l00073">platform.h:73</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition</b> <a href="api-arguments-inl_8h_source.html#l00018">api-arguments-inl.h:18</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a02583de7306bd3b0ef9a17ac0b6a4389"><div class="ttname"><a href="namespacev8_1_1internal.html#a02583de7306bd3b0ef9a17ac0b6a4389">v8::internal::kPointerAlignment</a></div><div class="ttdeci">constexpr intptr_t kPointerAlignment</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l00936">globals.h:936</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a12d50d7bb2c9d8a916ff0785e6eff241"><div class="ttname"><a href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">v8::internal::kTaggedSize</a></div><div class="ttdeci">constexpr int kTaggedSize</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l00534">globals.h:534</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a20c66a96ddfae551866ceae989a8ba13a936c581afe29bbe04ab84d8ae4c6267d"><div class="ttname"><a href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13a936c581afe29bbe04ab84d8ae4c6267d">v8::internal::UPDATE_WRITE_BARRIER</a></div><div class="ttdeci">@ UPDATE_WRITE_BARRIER</div><div class="ttdef"><b>Definition</b> <a href="objects_8h_source.html#l00056">objects.h:55</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a239f1125191de952f41c27c683282d76"><div class="ttname"><a href="namespacev8_1_1internal.html#a239f1125191de952f41c27c683282d76">v8::internal::VisitObjectBody</a></div><div class="ttdeci">void VisitObjectBody(Isolate *isolate, Tagged&lt; HeapObject &gt; object, ObjectVisitor *visitor)</div><div class="ttdef"><b>Definition</b> <a href="visit-object_8cc_source.html#l00146">visit-object.cc:146</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a2ccec82573e05962ef54cab168895c2a"><div class="ttname"><a href="namespacev8_1_1internal.html#a2ccec82573e05962ef54cab168895c2a">v8::internal::kObjectAlignment</a></div><div class="ttdeci">constexpr intptr_t kObjectAlignment</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l00921">globals.h:921</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3430752cde9f29d73e97ceed1bce0856"><div class="ttname"><a href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">v8::internal::PrintF</a></div><div class="ttdeci">void PrintF(const char *format,...)</div><div class="ttdef"><b>Definition</b> <a href="utils_2utils_8cc_source.html#l00039">utils.cc:39</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3819bc8a26f6654b36067956454f614d"><div class="ttname"><a href="namespacev8_1_1internal.html#a3819bc8a26f6654b36067956454f614d">v8::internal::kJSDispatchHandleSize</a></div><div class="ttdeci">constexpr int kJSDispatchHandleSize</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l00638">globals.h:638</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3c5a1b85562d862c803870241deaed67"><div class="ttname"><a href="namespacev8_1_1internal.html#a3c5a1b85562d862c803870241deaed67">v8::internal::kCharSize</a></div><div class="ttdeci">constexpr int kCharSize</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l00388">globals.h:388</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3d154fed8222e22068b915454f5db983"><div class="ttname"><a href="namespacev8_1_1internal.html#a3d154fed8222e22068b915454f5db983">v8::internal::IndirectPointerMode</a></div><div class="ttdeci">IndirectPointerMode</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l00802">globals.h:802</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a46b9a1b06854a0906e24b2eb20af28f9"><div class="ttname"><a href="namespacev8_1_1internal.html#a46b9a1b06854a0906e24b2eb20af28f9">v8::internal::SnapshotSpace</a></div><div class="ttdeci">SnapshotSpace</div><div class="ttdef"><b>Definition</b> <a href="references_8h_source.html#l00018">references.h:18</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5031451934208565c827c86d9eb86c5a"><div class="ttname"><a href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">v8::internal::internal</a></div><div class="ttdeci">internal</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00457">wasm-objects-inl.h:457</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a511c3dd03bb4fc2b91ed9ef5535e202e"><div class="ttname"><a href="namespacev8_1_1internal.html#a511c3dd03bb4fc2b91ed9ef5535e202e">v8::internal::IsSmi</a></div><div class="ttdeci">V8_INLINE constexpr bool IsSmi(TaggedImpl&lt; kRefType, StorageType &gt; obj)</div><div class="ttdef"><b>Definition</b> <a href="objects_8h_source.html#l00655">objects.h:655</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a57a373e86870b2b1e197193963523409"><div class="ttname"><a href="namespacev8_1_1internal.html#a57a373e86870b2b1e197193963523409">v8::internal::kNullCppHeapPointer</a></div><div class="ttdeci">constexpr CppHeapPointer_t kNullCppHeapPointer</div><div class="ttdef"><b>Definition</b> <a href="v8-internal_8h_source.html#l00388">v8-internal.h:388</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a62f9ba01cabe0363e57940200d641ea5"><div class="ttname"><a href="namespacev8_1_1internal.html#a62f9ba01cabe0363e57940200d641ea5">v8::internal::flags</a></div><div class="ttdeci">Flag flags[]</div><div class="ttdef"><b>Definition</b> <a href="flags_8cc_source.html#l03697">flags.cc:3697</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a72cbfdfeabb9a401f279f7b80bcff67a"><div class="ttname"><a href="namespacev8_1_1internal.html#a72cbfdfeabb9a401f279f7b80bcff67a">v8::internal::kSystemPointerSize</a></div><div class="ttdeci">constexpr int kSystemPointerSize</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l00402">globals.h:402</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a7b94dc2dd5250e9341c12941db8e9595"><div class="ttname"><a href="namespacev8_1_1internal.html#a7b94dc2dd5250e9341c12941db8e9595">v8::internal::kTaggedSizeLog2</a></div><div class="ttdeci">constexpr int kTaggedSizeLog2</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l00535">globals.h:535</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a81b2771da9cb582ba5af3c4bbb0714b8"><div class="ttname"><a href="namespacev8_1_1internal.html#a81b2771da9cb582ba5af3c4bbb0714b8">v8::internal::kNullJSDispatchHandle</a></div><div class="ttdeci">constexpr JSDispatchHandle kNullJSDispatchHandle(0)</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a8899d90340d811cd369173aac228774e"><div class="ttname"><a href="namespacev8_1_1internal.html#a8899d90340d811cd369173aac228774e">v8::internal::ShortPrint</a></div><div class="ttdeci">void ShortPrint(Tagged&lt; Object &gt; obj, FILE *out)</div><div class="ttdef"><b>Definition</b> <a href="objects_8cc_source.html#l01864">objects.cc:1864</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a92ab64d42404e439be3d6a7556e32380"><div class="ttname"><a href="namespacev8_1_1internal.html#a92ab64d42404e439be3d6a7556e32380">v8::internal::Address</a></div><div class="ttdeci">Address</div><div class="ttdef"><b>Definition</b> <a href="api-callbacks-inl_8h_source.html#l00034">api-callbacks-inl.h:34</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9312a9fc987dba9376a530956f94e8fe"><div class="ttname"><a href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">v8::internal::InstanceType</a></div><div class="ttdeci">InstanceType</div><div class="ttdef"><b>Definition</b> <a href="instance-type_8h_source.html#l00105">instance-type.h:105</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a961d4936b006deb497460eb9ab4a882a"><div class="ttname"><a href="namespacev8_1_1internal.html#a961d4936b006deb497460eb9ab4a882a">v8::internal::kExternalPointerSlotSize</a></div><div class="ttdeci">constexpr int kExternalPointerSlotSize</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l00604">globals.h:604</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a992050d065034254293bc79869dee600"><div class="ttname"><a href="namespacev8_1_1internal.html#a992050d065034254293bc79869dee600">v8::internal::kIndirectPointerSize</a></div><div class="ttdeci">constexpr int kIndirectPointerSize</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l00620">globals.h:620</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fef"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fef">v8::internal::AllocationSpace</a></div><div class="ttdeci">AllocationSpace</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l01293">globals.h:1293</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fefa057ecb490c9eb2f2dc1677326b8a5621"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa057ecb490c9eb2f2dc1677326b8a5621">v8::internal::NEW_SPACE</a></div><div class="ttdeci">@ NEW_SPACE</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l01295">globals.h:1295</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fefa14e4604f12b3138f8e00091e7093c023"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa14e4604f12b3138f8e00091e7093c023">v8::internal::TRUSTED_LO_SPACE</a></div><div class="ttdeci">@ TRUSTED_LO_SPACE</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l01309">globals.h:1309</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fefa352d11f88c5e95ed732c05ccf68c0f32"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa352d11f88c5e95ed732c05ccf68c0f32">v8::internal::SHARED_TRUSTED_LO_SPACE</a></div><div class="ttdeci">@ SHARED_TRUSTED_LO_SPACE</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l01308">globals.h:1308</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fefa385454df67937debeccaa3ec05627542"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa385454df67937debeccaa3ec05627542">v8::internal::LO_SPACE</a></div><div class="ttdeci">@ LO_SPACE</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l01305">globals.h:1305</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fefa562d18bd6c0058c8ec356cce717a3324"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa562d18bd6c0058c8ec356cce717a3324">v8::internal::RO_SPACE</a></div><div class="ttdeci">@ RO_SPACE</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l01294">globals.h:1294</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fefa6f564dbff22ad6da21740d3143349d93"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa6f564dbff22ad6da21740d3143349d93">v8::internal::NEW_LO_SPACE</a></div><div class="ttdeci">@ NEW_LO_SPACE</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l01304">globals.h:1304</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fefa7b3b52e8b8e6e29f82884e41bfe0f500"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa7b3b52e8b8e6e29f82884e41bfe0f500">v8::internal::CODE_SPACE</a></div><div class="ttdeci">@ CODE_SPACE</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l01298">globals.h:1298</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fefa800a76ff776aa278523aa6176cf222a8"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa800a76ff776aa278523aa6176cf222a8">v8::internal::SHARED_SPACE</a></div><div class="ttdeci">@ SHARED_SPACE</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l01299">globals.h:1299</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fefa8515da266a18e6c9f673363f2a37570b"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa8515da266a18e6c9f673363f2a37570b">v8::internal::TRUSTED_SPACE</a></div><div class="ttdeci">@ TRUSTED_SPACE</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l01300">globals.h:1300</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fefa93dfdbc84455c750a99db7dd0cc02aff"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa93dfdbc84455c750a99db7dd0cc02aff">v8::internal::CODE_LO_SPACE</a></div><div class="ttdeci">@ CODE_LO_SPACE</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l01306">globals.h:1306</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fefa9acffab6677a59b1aac93aed5942cd7f"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa9acffab6677a59b1aac93aed5942cd7f">v8::internal::SHARED_TRUSTED_SPACE</a></div><div class="ttdeci">@ SHARED_TRUSTED_SPACE</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l01303">globals.h:1303</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fefacc7351aa01c6173555932b162b850e99"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefacc7351aa01c6173555932b162b850e99">v8::internal::OLD_SPACE</a></div><div class="ttdeci">@ OLD_SPACE</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l01297">globals.h:1297</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fefaea13a1454fdc1412eea716033f5d503e"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefaea13a1454fdc1412eea716033f5d503e">v8::internal::SHARED_LO_SPACE</a></div><div class="ttdeci">@ SHARED_LO_SPACE</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l01307">globals.h:1307</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa5178998e7ae493acf744bc92b1fbdbc"><div class="ttname"><a href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbc">v8::internal::ExternalPointerTag</a></div><div class="ttdeci">ExternalPointerTag</div><div class="ttdef"><b>Definition</b> <a href="v8-internal_8h_source.html#l00546">v8-internal.h:546</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa5178998e7ae493acf744bc92b1fbdbca9e97412171740e65d15dfb935887e306"><div class="ttname"><a href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbca9e97412171740e65d15dfb935887e306">v8::internal::kExternalPointerNullTag</a></div><div class="ttdeci">@ kExternalPointerNullTag</div><div class="ttdef"><b>Definition</b> <a href="v8-internal_8h_source.html#l00548">v8-internal.h:548</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab019f91902194a522ac883098c98f69d"><div class="ttname"><a href="namespacev8_1_1internal.html#ab019f91902194a522ac883098c98f69d">v8::internal::kCppHeapPointerSlotSize</a></div><div class="ttdeci">constexpr int kCppHeapPointerSlotSize</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l00613">globals.h:613</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab9463710d94cd592e2742301e5f6c87a"><div class="ttname"><a href="namespacev8_1_1internal.html#ab9463710d94cd592e2742301e5f6c87a">v8::internal::ExternalPointerHandle</a></div><div class="ttdeci">uint32_t ExternalPointerHandle</div><div class="ttdef"><b>Definition</b> <a href="v8-internal_8h_source.html#l00357">v8-internal.h:357</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab9df0bf289155b5ae1d6da682adf1d6f"><div class="ttname"><a href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">v8::internal::handle</a></div><div class="ttdeci">V8_INLINE Handle&lt; T &gt; handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition</b> <a href="handles-inl_8h_source.html#l00070">handles-inl.h:70</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac0c09470b1de2d9aa46378e0fc5f937e"><div class="ttname"><a href="namespacev8_1_1internal.html#ac0c09470b1de2d9aa46378e0fc5f937e">v8::internal::kUInt16Size</a></div><div class="ttdeci">constexpr int kUInt16Size</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l00391">globals.h:391</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac4929939b731ec039fc28d711afbeead"><div class="ttname"><a href="namespacev8_1_1internal.html#ac4929939b731ec039fc28d711afbeead">v8::internal::IsJSApiWrapperObject</a></div><div class="ttdeci">bool IsJSApiWrapperObject(Tagged&lt; Map &gt; map)</div><div class="ttdef"><b>Definition</b> <a href="objects-inl_8h_source.html#l00400">objects-inl.h:400</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae1439207c9f98c41dbdea3eca3572d54"><div class="ttname"><a href="namespacev8_1_1internal.html#ae1439207c9f98c41dbdea3eca3572d54">v8::internal::Root</a></div><div class="ttdeci">Root</div><div class="ttdef"><b>Definition</b> <a href="visitors_8h_source.html#l00056">visitors.h:56</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae5fc7dfc0625c0d2a6bca971abf68365"><div class="ttname"><a href="namespacev8_1_1internal.html#ae5fc7dfc0625c0d2a6bca971abf68365">v8::internal::kShortSize</a></div><div class="ttdeci">constexpr int kShortSize</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l00389">globals.h:389</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae6e8bb7da3421a00b1b77972829b7977"><div class="ttname"><a href="namespacev8_1_1internal.html#ae6e8bb7da3421a00b1b77972829b7977">v8::internal::RootIndex</a></div><div class="ttdeci">RootIndex</div><div class="ttdef"><b>Definition</b> <a href="roots_8h_source.html#l00494">roots.h:494</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aeb44daf78b4adf972ac5fda3c4561eff"><div class="ttname"><a href="namespacev8_1_1internal.html#aeb44daf78b4adf972ac5fda3c4561eff">v8::internal::kObjectAlignmentBits</a></div><div class="ttdeci">constexpr int kObjectAlignmentBits</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l00920">globals.h:920</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afe601ad9b4b4c61d8a6a700e7db12c2a"><div class="ttname"><a href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">v8::internal::native_context</a></div><div class="ttdeci">!IsContextMap !IsContextMap native_context</div><div class="ttdef"><b>Definition</b> <a href="map-inl_8h_source.html#l00854">map-inl.h:854</a></div></div>
<div class="ttc" id="anamespacev8_html"><div class="ttname"><a href="namespacev8.html">v8</a></div><div class="ttdef"><b>Definition</b> <a href="api-arguments-inl_8h_source.html#l00017">api-arguments-inl.h:17</a></div></div>
<div class="ttc" id="anamespacev8_html_a44029b173d135df05011f8b904718cbc"><div class="ttname"><a href="namespacev8.html#a44029b173d135df05011f8b904718cbc">v8::Nothing</a></div><div class="ttdeci">Maybe&lt; T &gt; Nothing()</div><div class="ttdef"><b>Definition</b> <a href="v8-maybe_8h_source.html#l00111">v8-maybe.h:111</a></div></div>
<div class="ttc" id="anamespacev8_html_aef5115fb284980e6c3772b55f8e8ca72"><div class="ttname"><a href="namespacev8.html#aef5115fb284980e6c3772b55f8e8ca72">v8::Just</a></div><div class="ttdeci">Maybe&lt; T &gt; Just(const T &amp;t)</div><div class="ttdef"><b>Definition</b> <a href="v8-maybe_8h_source.html#l00116">v8-maybe.h:116</a></div></div>
<div class="ttc" id="aobjects-body-descriptors-inl_8h_html"><div class="ttname"><a href="objects-body-descriptors-inl_8h.html">objects-body-descriptors-inl.h</a></div></div>
<div class="ttc" id="aobjects-definitions_8h_html_a08f0e6d9ef2bb3e1927e95551a37e589"><div class="ttname"><a href="objects-definitions_8h.html#a08f0e6d9ef2bb3e1927e95551a37e589">INSTANCE_TYPE_LIST</a></div><div class="ttdeci">#define INSTANCE_TYPE_LIST(V)</div><div class="ttdef"><b>Definition</b> <a href="objects-definitions_8h_source.html#l00057">objects-definitions.h:57</a></div></div>
<div class="ttc" id="aread-only-heap_8h_html"><div class="ttname"><a href="read-only-heap_8h.html">read-only-heap.h</a></div></div>
<div class="ttc" id="aread-only-serializer_8cc_html_af3a60fb0d02eb68076a7255e977b1212"><div class="ttname"><a href="read-only-serializer_8cc.html#af3a60fb0d02eb68076a7255e977b1212">sink_</a></div><div class="ttdeci">SnapshotByteSink *const sink_</div><div class="ttdef"><b>Definition</b> <a href="read-only-serializer_8cc_source.html#l00401">read-only-serializer.cc:401</a></div></div>
<div class="ttc" id="aserializer-deserializer_8h_html"><div class="ttname"><a href="serializer-deserializer_8h.html">serializer-deserializer.h</a></div></div>
<div class="ttc" id="aserializer-inl_8h_html"><div class="ttname"><a href="serializer-inl_8h.html">serializer-inl.h</a></div></div>
<div class="ttc" id="aserializer_8h_html"><div class="ttname"><a href="serializer_8h.html">serializer.h</a></div></div>
<div class="ttc" id="asetup-heap-internal_8cc_html_a439227feff9d7f55384e8780cfc2eb82"><div class="ttname"><a href="setup-heap-internal_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition</b> <a href="setup-heap-internal_8cc_source.html#l00126">setup-heap-internal.cc:126</a></div></div>
<div class="ttc" id="aslots-inl_8h_html"><div class="ttname"><a href="slots-inl_8h.html">slots-inl.h</a></div></div>
<div class="ttc" id="aslots_8h_html"><div class="ttname"><a href="slots_8h.html">slots.h</a></div></div>
<div class="ttc" id="asmi_8h_html"><div class="ttname"><a href="smi_8h.html">smi.h</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a0bc63b24b654ca433be7b97a3edde132"><div class="ttname"><a href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a></div><div class="ttdeci">#define UNREACHABLE()</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2logging_8h_source.html#l00067">logging.h:67</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a16b382527f19b805fc8f856668f2270b"><div class="ttname"><a href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a></div><div class="ttdeci">#define DCHECK_LE(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2logging_8h_source.html#l00490">logging.h:490</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a2209830df6b59d1ec1fdf66b9352924f"><div class="ttname"><a href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a></div><div class="ttdeci">#define DCHECK_NULL(val)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2logging_8h_source.html#l00491">logging.h:491</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2logging_8h_source.html#l00124">logging.h:124</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a56e883b55c80205b4d1727679c68b2bd"><div class="ttname"><a href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a></div><div class="ttdeci">#define CHECK_LE(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a96a75539aa82216cdde2250a11126ea0"><div class="ttname"><a href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a></div><div class="ttdeci">#define DCHECK_IMPLIES(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2logging_8h_source.html#l00493">logging.h:493</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a986dc8f4ec6dcd0644efe205c13f8eb7"><div class="ttname"><a href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a></div><div class="ttdeci">#define DCHECK_NE(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2logging_8h_source.html#l00486">logging.h:486</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aabec5c3b7a8628298a25f044dcf89c25"><div class="ttname"><a href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a></div><div class="ttdeci">#define DCHECK_GE(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2logging_8h_source.html#l00488">logging.h:488</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aca32614b4d2aea7dd9abdeb222bf02f3"><div class="ttname"><a href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a></div><div class="ttdeci">#define CHECK_EQ(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_ae17f8119c108cf3070bad3449c7e0006"><div class="ttname"><a href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a></div><div class="ttdeci">#define DCHECK(condition)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2logging_8h_source.html#l00482">logging.h:482</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2logging_8h_source.html#l00485">logging.h:485</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_a280b0798f270f4b3f361c9ab64832956"><div class="ttname"><a href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a></div><div class="ttdeci">#define USE(...)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2macros_8h_source.html#l00281">macros.h:281</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_a5113f5db9eec9c30ecea57b8d4175f2d"><div class="ttname"><a href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a></div><div class="ttdeci">constexpr T RoundUp(T x, intptr_t m)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2macros_8h_source.html#l00375">macros.h:375</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_ab7a19c1f785f31f2b190afc19875368a"><div class="ttname"><a href="src_2base_2macros_8h.html#ab7a19c1f785f31f2b190afc19875368a">IsAligned</a></div><div class="ttdeci">constexpr bool IsAligned(T value, U alignment)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2macros_8h_source.html#l00391">macros.h:391</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes_html"><div class="ttname"><a href="structv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes.html">v8::internal::SeqString::DataAndPaddingSizes</a></div><div class="ttdef"><b>Definition</b> <a href="string_8h_source.html#l00798">string.h:798</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes_html_a6ff18d1f9fe8da8a457fc8ee46eddfcb"><div class="ttname"><a href="structv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes.html#a6ff18d1f9fe8da8a457fc8ee46eddfcb">v8::internal::SeqString::DataAndPaddingSizes::data_size</a></div><div class="ttdeci">const int data_size</div><div class="ttdef"><b>Definition</b> <a href="string_8h_source.html#l00799">string.h:799</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes_html_a8f775739234169902b0e0ea2a54cc596"><div class="ttname"><a href="structv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes.html#a8f775739234169902b0e0ea2a54cc596">v8::internal::SeqString::DataAndPaddingSizes::padding_size</a></div><div class="ttdeci">const int padding_size</div><div class="ttdef"><b>Definition</b> <a href="string_8h_source.html#l00800">string.h:800</a></div></div>
<div class="ttc" id="av8-internal_8h_html"><div class="ttname"><a href="v8-internal_8h.html">v8-internal.h</a></div></div>
<div class="ttc" id="av8config_8h_html_ae5350bf5d731891583a34f9c8c52b532"><div class="ttname"><a href="v8config_8h.html#ae5350bf5d731891583a34f9c8c52b532">V8_NODISCARD</a></div><div class="ttdeci">#define V8_NODISCARD</div><div class="ttdef"><b>Definition</b> <a href="v8config_8h_source.html#l00682">v8config.h:682</a></div></div>
<div class="ttc" id="avisit-object_8h_html"><div class="ttname"><a href="visit-object_8h.html">visit-object.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_0d52d89f10096f53df22fcdccd9461ad.html">snapshot</a></li><li class="navelem"><a class="el" href="serializer_8cc.html">serializer.cc</a></li>
    <li class="footer">Generated on Thu Apr 3 2025 09:56:13 for v8 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
