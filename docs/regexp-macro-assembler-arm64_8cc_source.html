<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>v8: /home/w1redch4d/Documents/browser-exploitation/v8/v8/src/regexp/arm64/regexp-macro-assembler-arm64.cc Source File</title>
<link rel="icon" href="v8.svg" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="v8.svg"/></td>
  <td id="projectalign">
   <div id="projectname">v8
   </div>
   <div id="projectbrief">V8 is Googleâ€™s open source high-performance JavaScript and WebAssembly engine, written in C++. It is used in Chrome and in Node.js, among others. It implements ECMAScript and WebAssembly, and runs on Windows, macOS, and Linux systems that use x64, IA-32, or ARM processors. V8 can be embedded into any C++ application.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_1729a598fafe31601528e57784d200c0.html">regexp</a></li><li class="navelem"><a class="el" href="dir_49787badf9ce84fbb89339761fbba2e4.html">arm64</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="headertitle"><div class="title">regexp-macro-assembler-arm64.cc</div></div>
</div><!--header-->
<div class="contents">
<a href="regexp-macro-assembler-arm64_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">// Copyright 2013 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#if V8_TARGET_ARCH_ARM64</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span> </div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &quot;<a class="code" href="regexp-macro-assembler-arm64_8h.html">src/regexp/arm64/regexp-macro-assembler-arm64.h</a>&quot;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span> </div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &quot;<a class="code" href="macro-assembler-arm64-inl_8h.html">src/codegen/arm64/macro-assembler-arm64-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &quot;<a class="code" href="macro-assembler_8h.html">src/codegen/macro-assembler.h</a>&quot;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &quot;<a class="code" href="log_8h.html">src/logging/log.h</a>&quot;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &quot;<a class="code" href="objects-inl_8h.html">src/objects/objects-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &quot;<a class="code" href="regexp-macro-assembler_8h.html">src/regexp/regexp-macro-assembler.h</a>&quot;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &quot;<a class="code" href="regexp-stack_8h.html">src/regexp/regexp-stack.h</a>&quot;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &quot;<a class="code" href="embedded-data_8h.html">src/snapshot/embedded/embedded-data.h</a>&quot;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;<a class="code" href="unicode_8h.html">src/strings/unicode.h</a>&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span> </div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacev8.html">v8</a> {</div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="keyword">namespace </span><a class="code hl_variable" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a> {</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span> </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="comment">/*</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="comment"> * This assembler uses the following register assignment convention:</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="comment"> * - w19     : Used to temporarely store a value before a call to C code.</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="comment"> *             See CheckNotBackReferenceIgnoreCase.</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="comment"> * - x20     : Pointer to the current InstructionStream object,</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="comment"> *             it includes the heap object tag.</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="comment"> * - w21     : Current position in input, as negative offset from</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="comment"> *             the end of the string. Please notice that this is</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="comment"> *             the byte offset, not the character offset!</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="comment"> * - w22     : Currently loaded character. Must be loaded using</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="comment"> *             LoadCurrentCharacter before using any of the dispatch methods.</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="comment"> * - x23     : Points to tip of backtrack stack.</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="comment"> * - w24     : Position of the first character minus one: non_position_value.</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="comment"> *             Used to initialize capture registers.</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="comment"> * - x25     : Address at the end of the input string: input_end.</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="comment"> *             Points to byte after last character in input.</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="comment"> * - x26     : Address at the start of the input string: input_start.</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="comment"> * - w27     : Where to start in the input string.</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="comment"> * - x28     : Output array pointer.</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="comment"> * - x29/fp  : Frame pointer. Used to access arguments, local variables and</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="comment"> *             RegExp registers.</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="comment"> * - x16/x17 : IP registers, used by assembler. Very volatile.</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="comment"> * - sp      : Points to tip of C stack.</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="comment"> *</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="comment"> * - x0-x7   : Used as a cache to store 32 bit capture registers. These</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="comment"> *             registers need to be retained every time a call to C code</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="comment"> *             is done.</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="comment"> *</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="comment"> * The remaining registers are free for computations.</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="comment"> * Each call to a public method should retain this convention.</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="comment"> *</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="comment"> * The stack will have the following structure:</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="comment"> *</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="comment"> *  Location     Name               Description</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="comment"> *               (as referred to</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="comment"> *               in the code)</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="comment"> *</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span><span class="comment"> *  - fp[104]    Address regexp     Address of the JSRegExp object. Unused in</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span><span class="comment"> *                                  native code, passed to match signature of</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span><span class="comment"> *                                  the interpreter.</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span><span class="comment"> *  - fp[96]     isolate            Address of the current isolate.</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="comment"> *  ^^^^^^^^^ sp when called ^^^^^^^^^</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="comment"> *  - fp[16..88] r19-r28            Backup of CalleeSaved registers.</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="comment"> *  - fp[8]      lr                 Return from the RegExp code.</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span><span class="comment"> *  - fp[0]      fp                 Old frame pointer.</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span><span class="comment"> *  ^^^^^^^^^ fp ^^^^^^^^^</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><span class="comment"> *  - fp[-8]     frame marker</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span><span class="comment"> *  - fp[-16]    isolate</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><span class="comment"> *  - fp[-24]    direct_call        1 =&gt; Direct call from JavaScript code.</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span><span class="comment"> *                                  0 =&gt; Call through the runtime system.</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span><span class="comment"> *  - fp[-32]    output_size        Output may fit multiple sets of matches.</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span><span class="comment"> *  - fp[-40]    input              Handle containing the input string.</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span><span class="comment"> *  - fp[-48]    success_counter</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span><span class="comment"> *  ^^^^^^^^^^^^^ From here and downwards we store 32 bit values ^^^^^^^^^^^^^</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span><span class="comment"> *  - fp[-56]    register N         Capture registers initialized with</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><span class="comment"> *  - fp[-60]    register N + 1     non_position_value.</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span><span class="comment"> *               ...                The first kNumCachedRegisters (N) registers</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span><span class="comment"> *               ...                are cached in x0 to x7.</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><span class="comment"> *               ...                Only positions must be stored in the first</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span><span class="comment"> *  -            ...                num_saved_registers_ registers.</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="comment"> *  -            ...</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="comment"> *  -            register N + num_registers - 1</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span><span class="comment"> *  ^^^^^^^^^ sp ^^^^^^^^^</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span><span class="comment"> *</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span><span class="comment"> * The first num_saved_registers_ registers are initialized to point to</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="comment"> * &quot;character -1&quot; in the string (i.e., char_size() bytes before the first</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span><span class="comment"> * character of the string). The remaining registers start out as garbage.</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span><span class="comment"> *</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span><span class="comment"> * The data up to the return address must be placed there by the calling</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span><span class="comment"> * code and the remaining arguments are passed in registers, e.g. by calling the</span></div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span><span class="comment"> * code entry as cast to a function with the signature:</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span><span class="comment"> * int (*match)(String input_string,</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span><span class="comment"> *              int start_index,</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span><span class="comment"> *              Address start,</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span><span class="comment"> *              Address end,</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span><span class="comment"> *              int* capture_output_array,</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span><span class="comment"> *              int num_capture_registers,</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span><span class="comment"> *              bool direct_call = false,</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span><span class="comment"> *              Isolate* isolate,</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span><span class="comment"> *              Address regexp);</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span><span class="comment"> * The call is performed by NativeRegExpMacroAssembler::Execute()</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span><span class="comment"> * (in regexp-macro-assembler.cc) via the GeneratedCode wrapper.</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span><span class="comment"> */</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span> </div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span><span class="preprocessor">#define __ ACCESS_MASM(masm_)</span></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span> </div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span><a class="code hl_function" href="classv8_1_1internal_1_1RegExpMacroAssemblerARM64.html#a7d51531c070c825ebe027f0e464c13fe">RegExpMacroAssemblerARM64::RegExpMacroAssemblerARM64</a>(Isolate* isolate,</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>                                                     <a class="code hl_variable" href="asm-types_8cc.html#a3ec7489f692d014c845cc17e64456793">Zone</a>* zone, Mode mode,</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>                                                     <span class="keywordtype">int</span> registers_to_save)</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    : NativeRegExpMacroAssembler(isolate, zone),</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>      <a class="code hl_variable" href="maglev-code-generator_8cc.html#adade6e3b43bc4bfc70490c9536cc70ba">masm_</a>(<a class="code hl_namespace" href="namespacestd.html">std</a>::make_unique&lt;MacroAssembler&gt;(</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>          isolate, zone, <a class="code hl_enumeration" href="namespacev8_1_1internal.html#a46f8496fa0c6e0a89acf3e6b8c660205">CodeObjectRequired</a>::<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#ab4c18b4a7d8a0826207b43fd3fdf8589a393a92e2e6ee257d12c0d2f62652ade8">kYes</a>,</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>          <a class="code hl_function" href="namespacev8_1_1internal.html#a8a3ae23daeee374946d2d1749417314b">NewAssemblerBuffer</a>(kInitialBufferSize))),</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>      no_root_array_scope_(<a class="code hl_variable" href="maglev-code-generator_8cc.html#adade6e3b43bc4bfc70490c9536cc70ba">masm_</a>.get()),</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>      <a class="code hl_variable" href="code-generator-arm_8cc.html#adc5709192230b7fde07de03eb2974043">mode_</a>(mode),</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>      num_registers_(registers_to_save),</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>      num_saved_registers_(registers_to_save),</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>      entry_label_(),</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>      start_label_(),</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>      success_label_(),</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>      backtrack_label_(),</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>      exit_label_() {</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>  <a class="code hl_define" href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, registers_to_save % 2);</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>  <span class="comment">// We can cache at most 16 W registers in x0-x7.</span></div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>  <span class="keyword">static_assert</span>(kNumCachedRegisters &lt;= 16);</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>  <span class="keyword">static_assert</span>((kNumCachedRegisters % 2) == 0);</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_typedef" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#aeed1d9cf860ddb904c1e57432fb2fd48">CallTarget</a>();</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span> </div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(&amp;entry_label_);   <span class="comment">// We&#39;ll write the entry code later.</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;start_label_);  <span class="comment">// And then continue from here.</span></div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>}</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span> </div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>RegExpMacroAssemblerARM64::~RegExpMacroAssemblerARM64() = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span> </div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::AbortedCodeGeneration() {</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>  <a class="code hl_variable" href="maglev-code-generator_8cc.html#adade6e3b43bc4bfc70490c9536cc70ba">masm_</a>-&gt;AbortedCodeGeneration();</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>  entry_label_.Unuse();</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>  start_label_.Unuse();</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>  success_label_.Unuse();</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>  backtrack_label_.Unuse();</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>  exit_label_.Unuse();</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>  check_preempt_label_.Unuse();</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>  stack_overflow_label_.Unuse();</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>  fallback_label_.Unuse();</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>}</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span> </div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span><span class="keywordtype">int</span> RegExpMacroAssemblerARM64::stack_limit_slack_slot_count() {</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>  <span class="keywordflow">return</span> RegExpStack::kStackLimitSlackSlotCount;</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>}</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span> </div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::AdvanceCurrentPosition(<span class="keywordtype">int</span> by) {</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>  <span class="keywordflow">if</span> (by != 0) {</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(current_input_offset(),</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>           current_input_offset(), by * char_size());</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>  }</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>}</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span> </div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span> </div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::AdvanceRegister(<span class="keywordtype">int</span> <a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>, <span class="keywordtype">int</span> by) {</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>((<a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a> &gt;= 0) &amp;&amp; (<a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a> &lt; num_registers_));</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>  <span class="keywordflow">if</span> (by != 0) {</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    <a class="code hl_typedef" href="namespacev8_1_1internal_1_1maglev.html#a731e3ec24b7928dd9959cb6ce1d8950c">RegisterState</a> register_state = GetRegisterState(<a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>);</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <span class="keywordflow">switch</span> (register_state) {</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>      <span class="keywordflow">case</span> STACKED:</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldr(w10, register_location(<a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>));</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(w10, w10, by);</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Str(w10, register_location(<a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>));</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>      <span class="keywordflow">case</span> CACHED_LSW: {</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>        <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> to_advance = GetCachedRegister(<a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>);</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(to_advance, to_advance, by);</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>      }</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>      <span class="keywordflow">case</span> CACHED_MSW: {</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>        <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> to_advance = GetCachedRegister(<a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>);</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>        <span class="comment">// Sign-extend to int64, shift as uint64, cast back to int64.</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>            to_advance, to_advance,</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>            <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(by))</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>                                 &lt;&lt; kWRegSizeInBits));</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>      }</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>      <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>        <a class="code hl_define" href="logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    }</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>  }</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>}</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span> </div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span> </div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::Backtrack() {</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>  CheckPreemption();</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>  <span class="keywordflow">if</span> (has_backtrack_limit()) {</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    Label next;</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    UseScratchRegisterScope temps(<a class="code hl_variable" href="maglev-code-generator_8cc.html#adade6e3b43bc4bfc70490c9536cc70ba">masm_</a>.get());</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> scratch = temps.AcquireW();</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldr(scratch, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(frame_pointer(), kBacktrackCountOffset));</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(scratch, scratch, 1);</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Str(scratch, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(frame_pointer(), kBacktrackCountOffset));</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(scratch, Operand(backtrack_limit()));</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(ne, &amp;next);</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span> </div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>    <span class="comment">// Backtrack limit exceeded.</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    <span class="keywordflow">if</span> (can_fallback()) {</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(&amp;fallback_label_);</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>      <span class="comment">// Can&#39;t fallback, so we treat it as a failed match.</span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>      Fail();</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>    }</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span> </div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> bind(&amp;next);</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>  }</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>  Pop(w10);</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(x10, code_pointer(), Operand(w10, UXTW));</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Br(x10);</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>}</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span> </div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span> </div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::Bind(Label* <a class="code hl_variable" href="experimental-compiler_8cc.html#a092c9ed2d1a6372cb90bb48d778891c7">label</a>) {</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(<a class="code hl_variable" href="experimental-compiler_8cc.html#a092c9ed2d1a6372cb90bb48d778891c7">label</a>);</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>}</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span> </div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::BindJumpTarget(Label* <a class="code hl_variable" href="experimental-compiler_8cc.html#a092c9ed2d1a6372cb90bb48d778891c7">label</a>) {</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> BindJumpTarget(<a class="code hl_variable" href="experimental-compiler_8cc.html#a092c9ed2d1a6372cb90bb48d778891c7">label</a>);</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>}</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span> </div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CheckCharacter(uint32_t c, Label* on_equal) {</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>  CompareAndBranchOrBacktrack(current_character(), c, eq, on_equal);</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>}</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span> </div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CheckCharacterGT(base::uc16 limit,</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>                                                 Label* on_greater) {</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>  CompareAndBranchOrBacktrack(current_character(), limit, hi, on_greater);</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>}</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span> </div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CheckAtStart(<span class="keywordtype">int</span> cp_offset,</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>                                             Label* on_at_start) {</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(w10, current_input_offset(),</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>         Operand(-char_size() + cp_offset * char_size()));</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(w10, string_start_minus_one());</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>  BranchOrBacktrack(eq, on_at_start);</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>}</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span> </div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CheckNotAtStart(<span class="keywordtype">int</span> cp_offset,</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>                                                Label* on_not_at_start) {</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(w10, current_input_offset(),</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>         Operand(-char_size() + cp_offset * char_size()));</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(w10, string_start_minus_one());</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>  BranchOrBacktrack(ne, on_not_at_start);</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>}</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span> </div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CheckCharacterLT(base::uc16 limit,</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>                                                 Label* on_less) {</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>  CompareAndBranchOrBacktrack(current_character(), limit, lo, on_less);</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>}</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span> </div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CheckCharacters(</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>    base::Vector&lt;const base::uc16&gt; str, <span class="keywordtype">int</span> cp_offset, Label* on_failure,</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    <span class="keywordtype">bool</span> check_end_of_string) {</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>  <span class="comment">// This method is only ever called from the cctests.</span></div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span> </div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>  <span class="keywordflow">if</span> (check_end_of_string) {</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    <span class="comment">// Is last character of required match inside string.</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>    CheckPosition(cp_offset + str.length() - 1, on_failure);</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>  }</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span> </div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>  <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> characters_address = x11;</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span> </div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(characters_address,</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>         input_end(),</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>         Operand(current_input_offset(), SXTW));</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>  <span class="keywordflow">if</span> (cp_offset != 0) {</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(characters_address, characters_address, cp_offset * char_size());</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>  }</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span> </div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; str.<a class="code hl_class" href="classlength.html">length</a>(); <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="code-generator-arm_8cc.html#adc5709192230b7fde07de03eb2974043">mode_</a> == LATIN1) {</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldrb(w10, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(characters_address, 1, PostIndex));</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>      <a class="code hl_define" href="logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(String::kMaxOneByteCharCode, str[<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>]);</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldrh(w10, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(characters_address, 2, PostIndex));</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    }</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>    CompareAndBranchOrBacktrack(w10, str[<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>], ne, on_failure);</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>  }</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>}</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span> </div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CheckGreedyLoop(Label* on_equal) {</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldr(w10, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(backtrack_stackpointer()));</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(current_input_offset(), w10);</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cset(x11, eq);</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(backtrack_stackpointer(),</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>         backtrack_stackpointer(), Operand(x11, LSL, kWRegSizeLog2));</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>  BranchOrBacktrack(eq, on_equal);</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>}</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span> </div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::PushCachedRegisters() {</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>  CPURegList cached_registers(CPURegister::kRegister, kXRegSizeInBits, 0, 7);</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>  <a class="code hl_define" href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(kNumCachedRegisters, cached_registers.Count() * 2);</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> PushCPURegList(cached_registers);</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>}</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span> </div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::PopCachedRegisters() {</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>  CPURegList cached_registers(CPURegister::kRegister, kXRegSizeInBits, 0, 7);</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>  <a class="code hl_define" href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(kNumCachedRegisters, cached_registers.Count() * 2);</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> PopCPURegList(cached_registers);</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>}</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span> </div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CheckNotBackReferenceIgnoreCase(</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>    <span class="keywordtype">int</span> start_reg, <span class="keywordtype">bool</span> read_backward, <span class="keywordtype">bool</span> unicode, Label* on_no_match) {</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>  Label fallthrough;</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span> </div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>  <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> capture_start_offset = w10;</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>  <span class="comment">// Save the capture length in a callee-saved register so it will</span></div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>  <span class="comment">// be preserved if we call a C helper.</span></div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>  <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> capture_length = w19;</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_define" href="reglist-arm64_8h.html#acd6b69322c0921c70f41102c969b106b">kCalleeSaved</a>.IncludesAliasOf(capture_length));</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span> </div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>  <span class="comment">// Find length of back-referenced capture.</span></div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>  <a class="code hl_define" href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, start_reg % 2);</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>  <span class="keywordflow">if</span> (start_reg &lt; kNumCachedRegisters) {</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(capture_start_offset.X(), GetCachedRegister(start_reg));</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Lsr(x11, GetCachedRegister(start_reg), kWRegSizeInBits);</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldp(w11, capture_start_offset, capture_location(start_reg, x10));</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>  }</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(capture_length, w11, capture_start_offset);  <span class="comment">// Length to check.</span></div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span> </div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>  <span class="comment">// At this point, the capture registers are either both set or both cleared.</span></div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>  <span class="comment">// If the capture length is zero, then the capture is either empty or cleared.</span></div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>  <span class="comment">// Fall through in both cases.</span></div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> CompareAndBranch(capture_length, Operand(0), eq, &amp;fallthrough);</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span> </div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>  <span class="comment">// Check that there are enough characters left in the input.</span></div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>  <span class="keywordflow">if</span> (read_backward) {</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(w12, string_start_minus_one(), capture_length);</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(current_input_offset(), w12);</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    BranchOrBacktrack(le, on_no_match);</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmn(capture_length, current_input_offset());</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>    BranchOrBacktrack(gt, on_no_match);</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>  }</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span> </div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="code-generator-arm_8cc.html#adc5709192230b7fde07de03eb2974043">mode_</a> == LATIN1) {</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>    Label success;</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>    Label fail;</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>    Label loop_check;</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span> </div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> capture_start_address = x12;</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>    <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> capture_end_address = x13;</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>    <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> current_position_address = x14;</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span> </div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(capture_start_address,</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>           input_end(),</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>           Operand(capture_start_offset, SXTW));</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(capture_end_address, capture_start_address,</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>           Operand(capture_length, SXTW));</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(current_position_address,</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>           input_end(),</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>           Operand(current_input_offset(), SXTW));</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>    <span class="keywordflow">if</span> (read_backward) {</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>      <span class="comment">// Offset by length when matching backwards.</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(current_position_address, current_position_address,</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>             Operand(capture_length, SXTW));</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    }</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span> </div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    Label loop;</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;loop);</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldrb(w10, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(capture_start_address, 1, PostIndex));</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldrb(w11, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(current_position_address, 1, PostIndex));</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(w10, w11);</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(eq, &amp;loop_check);</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span> </div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>    <span class="comment">// Mismatch, try case-insensitive match (converting letters to lower-case).</span></div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Orr(w10, w10, 0x20);  <span class="comment">// Convert capture character to lower-case.</span></div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Orr(w11, w11, 0x20);  <span class="comment">// Also convert input character.</span></div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(w11, w10);</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(ne, &amp;fail);</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(w10, w10, <span class="charliteral">&#39;a&#39;</span>);</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(w10, <span class="charliteral">&#39;z&#39;</span> - <span class="charliteral">&#39;a&#39;</span>);  <span class="comment">// Is w10 a lowercase letter?</span></div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(ls, &amp;loop_check);  <span class="comment">// In range &#39;a&#39;-&#39;z&#39;.</span></div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    <span class="comment">// Latin-1: Check for values in range [224,254] but not 247.</span></div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(w10, w10, 224 - <span class="charliteral">&#39;a&#39;</span>);</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(w10, 254 - 224);</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ccmp(w10, 247 - 224, ZFlag, ls);  <span class="comment">// Check for 247.</span></div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(eq, &amp;fail);  <span class="comment">// Weren&#39;t Latin-1 letters.</span></div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span> </div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;loop_check);</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(capture_start_address, capture_end_address);</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(lt, &amp;loop);</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(&amp;success);</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span> </div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;fail);</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>    BranchOrBacktrack(al, on_no_match);</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span> </div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;success);</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>    <span class="comment">// Compute new value of character position after the matched part.</span></div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(current_input_offset().<a class="code hl_function" href="flag-definitions_8h.html#aea315e922a204d2310a710fc8416122a">X</a>(), current_position_address, input_end());</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>    <span class="keywordflow">if</span> (read_backward) {</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(current_input_offset().<a class="code hl_function" href="flag-definitions_8h.html#aea315e922a204d2310a710fc8416122a">X</a>(), current_input_offset().<a class="code hl_function" href="flag-definitions_8h.html#aea315e922a204d2310a710fc8416122a">X</a>(),</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>             Operand(capture_length, SXTW));</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>    }</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.debug_code) {</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(current_input_offset().<a class="code hl_function" href="flag-definitions_8h.html#aea315e922a204d2310a710fc8416122a">X</a>(), Operand(current_input_offset(), SXTW));</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ccmp(current_input_offset(), 0, NoFlag, eq);</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>      <span class="comment">// The current input offset should be &lt;= 0, and fit in a W register.</span></div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Check(le, AbortReason::kOffsetOutOfRange);</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>    }</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>    <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_variable" href="code-generator-arm_8cc.html#adc5709192230b7fde07de03eb2974043">mode_</a> == UC16);</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>    <span class="keywordtype">int</span> argument_count = 4;</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span> </div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>    PushCachedRegisters();</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span> </div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>    <span class="comment">// Put arguments into arguments registers.</span></div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>    <span class="comment">// Parameters are</span></div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>    <span class="comment">//   x0: Address byte_offset1 - Address captured substring&#39;s start.</span></div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>    <span class="comment">//   x1: Address byte_offset2 - Address of current character position.</span></div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>    <span class="comment">//   w2: size_t byte_length - length of capture in bytes(!)</span></div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>    <span class="comment">//   x3: Isolate* isolate.</span></div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span> </div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>    <span class="comment">// Address of start of capture.</span></div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(x0, input_end(), Operand(capture_start_offset, SXTW));</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>    <span class="comment">// Length of capture.</span></div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(w2, capture_length);</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>    <span class="comment">// Address of current input position.</span></div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(x1, input_end(), Operand(current_input_offset(), SXTW));</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>    <span class="keywordflow">if</span> (read_backward) {</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(x1, x1, Operand(capture_length, SXTW));</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>    }</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>    <span class="comment">// Isolate.</span></div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(x3, ExternalReference::isolate_address(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>()));</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span> </div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>    {</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>      AllowExternalCallThatCantCauseGC scope(<a class="code hl_variable" href="maglev-code-generator_8cc.html#adade6e3b43bc4bfc70490c9536cc70ba">masm_</a>.get());</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>      ExternalReference function =</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>          unicode</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>              ? ExternalReference::re_case_insensitive_compare_unicode()</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>              : ExternalReference::re_case_insensitive_compare_non_unicode();</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>      CallCFunctionFromIrregexpCode(function, argument_count);</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>    }</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span> </div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>    <span class="comment">// Check if function returned non-zero for success or zero for failure.</span></div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>    <span class="comment">// x0 is one of the registers used as a cache so it must be tested before</span></div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>    <span class="comment">// the cache is restored.</span></div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(x0, 0);</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>    PopCachedRegisters();</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>    BranchOrBacktrack(eq, on_no_match);</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span> </div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>    <span class="comment">// On success, advance position by length of capture.</span></div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>    <span class="keywordflow">if</span> (read_backward) {</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(current_input_offset(), current_input_offset(), capture_length);</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(current_input_offset(), current_input_offset(), capture_length);</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>    }</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>  }</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span> </div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;fallthrough);</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>}</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span> </div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CheckNotBackReference(<span class="keywordtype">int</span> start_reg,</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>                                                      <span class="keywordtype">bool</span> read_backward,</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>                                                      Label* on_no_match) {</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>  Label fallthrough;</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span> </div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>  <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> capture_start_address = x12;</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>  <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> capture_end_address = x13;</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>  <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> current_position_address = x14;</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>  <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> capture_length = w15;</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span> </div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>  <span class="comment">// Find length of back-referenced capture.</span></div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>  <a class="code hl_define" href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, start_reg % 2);</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>  <span class="keywordflow">if</span> (start_reg &lt; kNumCachedRegisters) {</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(x10, GetCachedRegister(start_reg));</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Lsr(x11, GetCachedRegister(start_reg), kWRegSizeInBits);</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldp(w11, w10, capture_location(start_reg, x10));</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>  }</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(capture_length, w11, w10);  <span class="comment">// Length to check.</span></div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span> </div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>  <span class="comment">// At this point, the capture registers are either both set or both cleared.</span></div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>  <span class="comment">// If the capture length is zero, then the capture is either empty or cleared.</span></div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>  <span class="comment">// Fall through in both cases.</span></div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> CompareAndBranch(capture_length, Operand(0), eq, &amp;fallthrough);</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span> </div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>  <span class="comment">// Check that there are enough characters left in the input.</span></div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>  <span class="keywordflow">if</span> (read_backward) {</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(w12, string_start_minus_one(), capture_length);</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(current_input_offset(), w12);</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>    BranchOrBacktrack(le, on_no_match);</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmn(capture_length, current_input_offset());</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>    BranchOrBacktrack(gt, on_no_match);</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>  }</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span> </div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>  <span class="comment">// Compute pointers to match string and capture string</span></div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(capture_start_address, input_end(), Operand(w10, SXTW));</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(capture_end_address,</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>         capture_start_address,</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>         Operand(capture_length, SXTW));</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(current_position_address,</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>         input_end(),</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>         Operand(current_input_offset(), SXTW));</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>  <span class="keywordflow">if</span> (read_backward) {</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>    <span class="comment">// Offset by length when matching backwards.</span></div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(current_position_address, current_position_address,</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>           Operand(capture_length, SXTW));</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>  }</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span> </div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>  Label loop;</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;loop);</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="code-generator-arm_8cc.html#adc5709192230b7fde07de03eb2974043">mode_</a> == LATIN1) {</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldrb(w10, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(capture_start_address, 1, PostIndex));</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldrb(w11, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(current_position_address, 1, PostIndex));</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>    <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_variable" href="code-generator-arm_8cc.html#adc5709192230b7fde07de03eb2974043">mode_</a> == UC16);</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldrh(w10, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(capture_start_address, 2, PostIndex));</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldrh(w11, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(current_position_address, 2, PostIndex));</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>  }</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(w10, w11);</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>  BranchOrBacktrack(ne, on_no_match);</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(capture_start_address, capture_end_address);</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(lt, &amp;loop);</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span> </div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>  <span class="comment">// Move current character position to position after match.</span></div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(current_input_offset().<a class="code hl_function" href="flag-definitions_8h.html#aea315e922a204d2310a710fc8416122a">X</a>(), current_position_address, input_end());</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>  <span class="keywordflow">if</span> (read_backward) {</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(current_input_offset().<a class="code hl_function" href="flag-definitions_8h.html#aea315e922a204d2310a710fc8416122a">X</a>(), current_input_offset().<a class="code hl_function" href="flag-definitions_8h.html#aea315e922a204d2310a710fc8416122a">X</a>(),</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>           Operand(capture_length, SXTW));</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>  }</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span> </div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.debug_code) {</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(current_input_offset().<a class="code hl_function" href="flag-definitions_8h.html#aea315e922a204d2310a710fc8416122a">X</a>(), Operand(current_input_offset(), SXTW));</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ccmp(current_input_offset(), 0, NoFlag, eq);</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>    <span class="comment">// The current input offset should be &lt;= 0, and fit in a W register.</span></div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Check(le, AbortReason::kOffsetOutOfRange);</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>  }</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;fallthrough);</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>}</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span> </div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span> </div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CheckNotCharacter(<span class="keywordtype">unsigned</span> c,</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>                                                  Label* on_not_equal) {</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>  CompareAndBranchOrBacktrack(current_character(), c, ne, on_not_equal);</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>}</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span> </div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span> </div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CheckCharacterAfterAnd(uint32_t c,</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>                                                       uint32_t <a class="code hl_variable" href="machine-operator-reducer_8cc.html#a406af858c5259e17f9ddc64513999dac">mask</a>,</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>                                                       Label* on_equal) {</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#ab4890d575215a42aa89598b56f9082bd">And</a>(w10, current_character(), <a class="code hl_variable" href="machine-operator-reducer_8cc.html#a406af858c5259e17f9ddc64513999dac">mask</a>);</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>  CompareAndBranchOrBacktrack(w10, c, eq, on_equal);</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>}</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span> </div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span> </div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CheckNotCharacterAfterAnd(<span class="keywordtype">unsigned</span> c,</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>                                                          <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="machine-operator-reducer_8cc.html#a406af858c5259e17f9ddc64513999dac">mask</a>,</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>                                                          Label* on_not_equal) {</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#ab4890d575215a42aa89598b56f9082bd">And</a>(w10, current_character(), <a class="code hl_variable" href="machine-operator-reducer_8cc.html#a406af858c5259e17f9ddc64513999dac">mask</a>);</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>  CompareAndBranchOrBacktrack(w10, c, ne, on_not_equal);</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>}</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span> </div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CheckNotCharacterAfterMinusAnd(</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>    base::uc16 c, base::uc16 minus, base::uc16 <a class="code hl_variable" href="machine-operator-reducer_8cc.html#a406af858c5259e17f9ddc64513999dac">mask</a>, Label* on_not_equal) {</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>  <a class="code hl_define" href="logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a>(String::kMaxUtf16CodeUnit, minus);</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(w10, current_character(), minus);</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#ab4890d575215a42aa89598b56f9082bd">And</a>(w10, w10, <a class="code hl_variable" href="machine-operator-reducer_8cc.html#a406af858c5259e17f9ddc64513999dac">mask</a>);</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>  CompareAndBranchOrBacktrack(w10, c, ne, on_not_equal);</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>}</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span> </div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CheckCharacterInRange(base::uc16 from,</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>                                                      base::uc16 to,</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>                                                      Label* on_in_range) {</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(w10, current_character(), from);</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>  <span class="comment">// Unsigned lower-or-same condition.</span></div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>  CompareAndBranchOrBacktrack(w10, to - from, ls, on_in_range);</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>}</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span> </div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CheckCharacterNotInRange(</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>    base::uc16 from, base::uc16 to, Label* on_not_in_range) {</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(w10, current_character(), from);</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>  <span class="comment">// Unsigned higher condition.</span></div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>  CompareAndBranchOrBacktrack(w10, to - from, hi, on_not_in_range);</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>}</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span> </div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CallIsCharacterInRangeArray(</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>    <span class="keyword">const</span> ZoneList&lt;CharacterRange&gt;* ranges) {</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kNumArguments = 2;</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(w0, current_character());</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(x1, GetOrAddRangeArray(ranges));</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span> </div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>  {</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>    <span class="comment">// We have a frame (set up in GetCode), but the assembler doesn&#39;t know.</span></div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>    FrameScope scope(<a class="code hl_variable" href="maglev-code-generator_8cc.html#adade6e3b43bc4bfc70490c9536cc70ba">masm_</a>.get(), StackFrame::MANUAL);</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>    CallCFunctionFromIrregexpCode(</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>        ExternalReference::re_is_character_in_range_array(), kNumArguments);</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>  }</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span> </div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(code_pointer(), Operand(<a class="code hl_variable" href="maglev-code-generator_8cc.html#adade6e3b43bc4bfc70490c9536cc70ba">masm_</a>-&gt;CodeObject()));</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>}</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span> </div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span><span class="keywordtype">bool</span> RegExpMacroAssemblerARM64::CheckCharacterInRangeArray(</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>    <span class="keyword">const</span> ZoneList&lt;CharacterRange&gt;* ranges, Label* on_in_range) {</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>  <span class="comment">// Note: due to the arm64 oddity of x0 being a &#39;cached register&#39;,</span></div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>  <span class="comment">// pushing/popping registers must happen outside of CallIsCharacterInRange</span></div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>  <span class="comment">// s.t. we can compare the return value to 0 before popping x0.</span></div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>  PushCachedRegisters();</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>  CallIsCharacterInRangeArray(ranges);</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(x0, 0);</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>  PopCachedRegisters();</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>  BranchOrBacktrack(ne, on_in_range);</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>}</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span> </div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span><span class="keywordtype">bool</span> RegExpMacroAssemblerARM64::CheckCharacterNotInRangeArray(</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>    <span class="keyword">const</span> ZoneList&lt;CharacterRange&gt;* ranges, Label* on_not_in_range) {</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>  <span class="comment">// Note: due to the arm64 oddity of x0 being a &#39;cached register&#39;,</span></div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>  <span class="comment">// pushing/popping registers must happen outside of CallIsCharacterInRange</span></div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>  <span class="comment">// s.t. we can compare the return value to 0 before popping x0.</span></div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>  PushCachedRegisters();</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>  CallIsCharacterInRangeArray(ranges);</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(x0, 0);</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>  PopCachedRegisters();</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>  BranchOrBacktrack(eq, on_not_in_range);</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>}</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span> </div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CheckBitInTable(</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>    Handle&lt;ByteArray&gt; table,</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>    Label* on_bit_set) {</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(x11, Operand(table));</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>  <span class="keywordflow">if</span> ((<a class="code hl_variable" href="code-generator-arm_8cc.html#adc5709192230b7fde07de03eb2974043">mode_</a> != LATIN1) || (kTableMask != String::kMaxOneByteCharCode)) {</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#ab4890d575215a42aa89598b56f9082bd">And</a>(w10, current_character(), kTableMask);</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(w10, w10, <a class="code hl_define" href="tagged-field_8h.html#a5284b5dce86d72e01944bab90ed2cbab">OFFSET_OF_DATA_START</a>(ByteArray) - kHeapObjectTag);</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(w10, current_character(),</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>           <a class="code hl_define" href="tagged-field_8h.html#a5284b5dce86d72e01944bab90ed2cbab">OFFSET_OF_DATA_START</a>(ByteArray) - kHeapObjectTag);</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>  }</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldrb(w11, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(x11, w10, UXTW));</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>  CompareAndBranchOrBacktrack(w11, 0, ne, on_bit_set);</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>}</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span> </div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::SkipUntilBitInTable(</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>    <span class="keywordtype">int</span> cp_offset, Handle&lt;ByteArray&gt; table,</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>    Handle&lt;ByteArray&gt; nibble_table_array, <span class="keywordtype">int</span> advance_by) {</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>  Label cont, scalar_repeat;</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span> </div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> use_simd = SkipUntilBitInTableUseSimd(advance_by);</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>  <span class="keywordflow">if</span> (use_simd) {</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>    <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!nibble_table_array.is_null());</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>    Label simd_repeat, found, scalar;</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">int</span> kVectorSize = 16;</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> kCharsPerVector = kVectorSize / char_size();</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span> </div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>    <span class="comment">// Fallback to scalar version if there are less than kCharsPerVector chars</span></div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>    <span class="comment">// left in the subject.</span></div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>    <span class="comment">// We subtract 1 because CheckPosition assumes we are reading 1 character</span></div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>    <span class="comment">// plus cp_offset. So the -1 is the the character that is assumed to be</span></div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>    <span class="comment">// read by default.</span></div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>    CheckPosition(cp_offset + kCharsPerVector - 1, &amp;scalar);</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span> </div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>    <span class="comment">// Load table and mask constants.</span></div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>    <span class="comment">// For a description of the table layout, check the comment on</span></div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>    <span class="comment">// BoyerMooreLookahead::GetSkipTable in regexp-compiler.cc.</span></div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>    VRegister nibble_table = v0;</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(x8, Operand(nibble_table_array));</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(x8, x8, <a class="code hl_define" href="tagged-field_8h.html#a5284b5dce86d72e01944bab90ed2cbab">OFFSET_OF_DATA_START</a>(ByteArray) - kHeapObjectTag);</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ld1(nibble_table.V16B(), <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(x8));</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>    VRegister nibble_mask = v1;</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>    <span class="keyword">const</span> uint64_t nibble_mask_imm = 0x0f0f0f0f&#39;0f0f0f0f;</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Movi(nibble_mask.V16B(), nibble_mask_imm, nibble_mask_imm);</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>    VRegister hi_nibble_lookup_mask = v2;</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>    <span class="keyword">const</span> uint64_t hi_nibble_mask_imm = 0x80402010&#39;08040201;</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Movi(hi_nibble_lookup_mask.V16B(), hi_nibble_mask_imm,</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>            hi_nibble_mask_imm);</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span> </div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>    Bind(&amp;simd_repeat);</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>    <span class="comment">// Load next characters into vector.</span></div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>    VRegister input_vec = v3;</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(x8, input_end(), Operand(current_input_offset(), SXTW));</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(x8, x8, cp_offset * char_size());</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ld1(input_vec.V16B(), <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(x8));</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span> </div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>    <span class="comment">// Extract low nibbles.</span></div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>    <span class="comment">// lo_nibbles = input &amp; 0x0f</span></div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>    VRegister lo_nibbles = v4;</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#ab4890d575215a42aa89598b56f9082bd">And</a>(lo_nibbles.V16B(), nibble_mask.V16B(), input_vec.V16B());</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>    <span class="comment">// Extract high nibbles.</span></div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>    <span class="comment">// hi_nibbles = (input &gt;&gt; 4) &amp; 0x0f</span></div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>    VRegister hi_nibbles = v5;</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ushr(hi_nibbles.V16B(), input_vec.V16B(), 4);</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#ab4890d575215a42aa89598b56f9082bd">And</a>(hi_nibbles.V16B(), hi_nibbles.V16B(), nibble_mask.V16B());</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span> </div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>    <span class="comment">// Get rows of nibbles table based on low nibbles.</span></div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>    <span class="comment">// row = nibble_table[lo_nibbles]</span></div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>    VRegister row = v6;</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Tbl(row.V16B(), nibble_table.V16B(), lo_nibbles.V16B());</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span> </div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>    <span class="comment">// Check if high nibble is set in row.</span></div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>    <span class="comment">// bitmask = 1 &lt;&lt; (hi_nibbles &amp; 0x7)</span></div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>    <span class="comment">//         = hi_nibbles_lookup_mask[hi_nibbles] &amp; 0x7</span></div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>    <span class="comment">// Note: The hi_nibbles &amp; 0x7 part is implicitly executed, as tbl sets</span></div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>    <span class="comment">// the result byte to zero if the lookup index is out of range.</span></div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>    VRegister bitmask = v7;</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Tbl(bitmask.V16B(), hi_nibble_lookup_mask.V16B(), hi_nibbles.V16B());</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span> </div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>    <span class="comment">// result = row &amp; bitmask != 0</span></div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>    VRegister <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> = <a class="code hl_function" href="namespacev8_1_1internal.html#abda4a55a899184dca5308bde33e5283c">ReassignRegister</a>(lo_nibbles);</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmtst(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.V16B(), row.V16B(), bitmask.V16B());</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span> </div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>    <span class="comment">// Narrow the result to 64 bit.</span></div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Shrn(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.V8B(), <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.V8H(), 4);</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Umov(x8, <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.V1D(), 0);</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cbnz(x8, &amp;found);</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span> </div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>    <span class="comment">// The maximum lookahead for boyer moore is less than vector size, so we can</span></div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>    <span class="comment">// ignore advance_by in the vectorized version.</span></div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>    AdvanceCurrentPosition(kCharsPerVector);</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>    CheckPosition(cp_offset + kCharsPerVector - 1, &amp;scalar);</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(&amp;simd_repeat);</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span> </div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>    Bind(&amp;found);</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>    <span class="comment">// Extract position.</span></div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Rbit(x8, x8);</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Clz(x8, x8);</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Lsr(x8, x8, 2);</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="code-generator-arm_8cc.html#adc5709192230b7fde07de03eb2974043">mode_</a> == UC16) {</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>      <span class="comment">// Make sure that we skip an even number of bytes in 2-byte subjects.</span></div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>      <span class="comment">// Odd skips can happen if the higher byte produced a match.</span></div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>      <span class="comment">// False positives should be rare and are no problem in general, as the</span></div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>      <span class="comment">// following instructions will check for an exact match.</span></div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#ab4890d575215a42aa89598b56f9082bd">And</a>(x8, x8, Immediate(0xfffe));</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>    }</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(current_input_offset(), current_input_offset(), w8);</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(&amp;cont);</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>    Bind(&amp;scalar);</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>  }</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span> </div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>  <span class="comment">// Scalar version.</span></div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>  <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> table_reg = x9;</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(table_reg, Operand(table));</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span> </div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>  Bind(&amp;scalar_repeat);</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>  CheckPosition(cp_offset, &amp;cont);</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>  LoadCurrentCharacterUnchecked(cp_offset, 1);</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>  <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#ae55190dbead0a94298bdfa37911694e3">index</a> = w10;</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>  <span class="keywordflow">if</span> ((<a class="code hl_variable" href="code-generator-arm_8cc.html#adc5709192230b7fde07de03eb2974043">mode_</a> != LATIN1) || (kTableMask != String::kMaxOneByteCharCode)) {</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#ab4890d575215a42aa89598b56f9082bd">And</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#ae55190dbead0a94298bdfa37911694e3">index</a>, current_character(), kTableMask);</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#ae55190dbead0a94298bdfa37911694e3">index</a>, <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#ae55190dbead0a94298bdfa37911694e3">index</a>, <a class="code hl_define" href="tagged-field_8h.html#a5284b5dce86d72e01944bab90ed2cbab">OFFSET_OF_DATA_START</a>(ByteArray) - kHeapObjectTag);</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#ae55190dbead0a94298bdfa37911694e3">index</a>, current_character(),</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>           <a class="code hl_define" href="tagged-field_8h.html#a5284b5dce86d72e01944bab90ed2cbab">OFFSET_OF_DATA_START</a>(ByteArray) - kHeapObjectTag);</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>  }</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>  <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> found_in_table = w11;</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldrb(found_in_table, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(table_reg, <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#ae55190dbead0a94298bdfa37911694e3">index</a>, UXTW));</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cbnz(found_in_table, &amp;cont);</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>  AdvanceCurrentPosition(advance_by);</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(&amp;scalar_repeat);</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span> </div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>  Bind(&amp;cont);</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>}</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span> </div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span><span class="keywordtype">bool</span> RegExpMacroAssemblerARM64::SkipUntilBitInTableUseSimd(<span class="keywordtype">int</span> advance_by) {</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>  <span class="comment">// We only use SIMD instead of the scalar version if we advance by 1 byte</span></div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>  <span class="comment">// in each iteration. For higher values the scalar version performs better.</span></div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.regexp_simd &amp;&amp; advance_by * char_size() == 1;</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>}</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span> </div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span><span class="keywordtype">bool</span> RegExpMacroAssemblerARM64::CheckSpecialClassRanges(</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>    StandardCharacterSet type, Label* on_no_match) {</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>  <span class="comment">// Range checks (c in min..max) are generally implemented by an unsigned</span></div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>  <span class="comment">// (c - min) &lt;= (max - min) check</span></div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>  <span class="comment">// TODO(jgruber): No custom implementation (yet): s(UC16), S(UC16).</span></div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>  <span class="keywordflow">switch</span> (type) {</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>    <span class="keywordflow">case</span> StandardCharacterSet::kWhitespace:</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>      <span class="comment">// Match space-characters.</span></div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="code-generator-arm_8cc.html#adc5709192230b7fde07de03eb2974043">mode_</a> == LATIN1) {</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>        <span class="comment">// One byte space characters are &#39;\t&#39;..&#39;\r&#39;, &#39; &#39; and \u00a0.</span></div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>        Label success;</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>        <span class="comment">// Check for &#39; &#39; or 0x00A0.</span></div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(current_character(), <span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ccmp(current_character(), 0x00A0, ZFlag, ne);</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(eq, &amp;success);</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>        <span class="comment">// Check range 0x09..0x0D.</span></div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(w10, current_character(), <span class="charliteral">&#39;\t&#39;</span>);</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>        CompareAndBranchOrBacktrack(w10, <span class="charliteral">&#39;\r&#39;</span> - <span class="charliteral">&#39;\t&#39;</span>, hi, on_no_match);</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;success);</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>      }</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>    <span class="keywordflow">case</span> StandardCharacterSet::kNotWhitespace:</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>      <span class="comment">// The emitted code for generic character classes is good enough.</span></div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>    <span class="keywordflow">case</span> StandardCharacterSet::kDigit:</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>      <span class="comment">// Match ASCII digits (&#39;0&#39;..&#39;9&#39;).</span></div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(w10, current_character(), <span class="charliteral">&#39;0&#39;</span>);</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>      CompareAndBranchOrBacktrack(w10, <span class="charliteral">&#39;9&#39;</span> - <span class="charliteral">&#39;0&#39;</span>, hi, on_no_match);</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>    <span class="keywordflow">case</span> StandardCharacterSet::kNotDigit:</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>      <span class="comment">// Match ASCII non-digits.</span></div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(w10, current_character(), <span class="charliteral">&#39;0&#39;</span>);</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>      CompareAndBranchOrBacktrack(w10, <span class="charliteral">&#39;9&#39;</span> - <span class="charliteral">&#39;0&#39;</span>, ls, on_no_match);</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>    <span class="keywordflow">case</span> StandardCharacterSet::kNotLineTerminator: {</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>      <span class="comment">// Match non-newlines (not 0x0A(&#39;\n&#39;), 0x0D(&#39;\r&#39;), 0x2028 and 0x2029)</span></div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>      <span class="comment">// Here we emit the conditional branch only once at the end to make branch</span></div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>      <span class="comment">// prediction more efficient, even though we could branch out of here</span></div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>      <span class="comment">// as soon as a character matches.</span></div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(current_character(), 0x0A);</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ccmp(current_character(), 0x0D, ZFlag, ne);</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="code-generator-arm_8cc.html#adc5709192230b7fde07de03eb2974043">mode_</a> == UC16) {</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(w10, current_character(), 0x2028);</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>        <span class="comment">// If the Z flag was set we clear the flags to force a branch.</span></div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ccmp(w10, 0x2029 - 0x2028, NoFlag, ne);</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>        <span class="comment">// ls -&gt; !((C==1) &amp;&amp; (Z==0))</span></div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>        BranchOrBacktrack(ls, on_no_match);</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>        BranchOrBacktrack(eq, on_no_match);</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>      }</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>    }</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>    <span class="keywordflow">case</span> StandardCharacterSet::kLineTerminator: {</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>      <span class="comment">// Match newlines (0x0A(&#39;\n&#39;), 0x0D(&#39;\r&#39;), 0x2028 and 0x2029)</span></div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>      <span class="comment">// We have to check all 4 newline characters before emitting</span></div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>      <span class="comment">// the conditional branch.</span></div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(current_character(), 0x0A);</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ccmp(current_character(), 0x0D, ZFlag, ne);</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="code-generator-arm_8cc.html#adc5709192230b7fde07de03eb2974043">mode_</a> == UC16) {</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(w10, current_character(), 0x2028);</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>        <span class="comment">// If the Z flag was set we clear the flags to force a fall-through.</span></div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ccmp(w10, 0x2029 - 0x2028, NoFlag, ne);</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>        <span class="comment">// hi -&gt; (C==1) &amp;&amp; (Z==0)</span></div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>        BranchOrBacktrack(hi, on_no_match);</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>        BranchOrBacktrack(ne, on_no_match);</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>      }</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>    }</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>    <span class="keywordflow">case</span> StandardCharacterSet::kWord: {</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="code-generator-arm_8cc.html#adc5709192230b7fde07de03eb2974043">mode_</a> != LATIN1) {</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>        <span class="comment">// Table is 256 entries, so all Latin1 characters can be tested.</span></div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>        CompareAndBranchOrBacktrack(current_character(), <span class="charliteral">&#39;z&#39;</span>, hi, on_no_match);</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>      }</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>      ExternalReference map = ExternalReference::re_word_character_map();</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(x10, map);</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldrb(w10, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(x10, current_character(), UXTW));</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>      CompareAndBranchOrBacktrack(w10, 0, eq, on_no_match);</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>    }</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>    <span class="keywordflow">case</span> StandardCharacterSet::kNotWord: {</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>      Label done;</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="code-generator-arm_8cc.html#adc5709192230b7fde07de03eb2974043">mode_</a> != LATIN1) {</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>        <span class="comment">// Table is 256 entries, so all Latin1 characters can be tested.</span></div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(current_character(), <span class="charliteral">&#39;z&#39;</span>);</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(hi, &amp;done);</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>      }</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>      ExternalReference map = ExternalReference::re_word_character_map();</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(x10, map);</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldrb(w10, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(x10, current_character(), UXTW));</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>      CompareAndBranchOrBacktrack(w10, 0, ne, on_no_match);</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;done);</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>    }</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>    <span class="keywordflow">case</span> StandardCharacterSet::kEverything:</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>      <span class="comment">// Match any character.</span></div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>  }</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>}</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span> </div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::Fail() {</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(w0, FAILURE);</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(&amp;exit_label_);</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>}</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span> </div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::LoadRegExpStackPointerFromMemory(Register dst) {</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>  ExternalReference ref =</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>      ExternalReference::address_of_regexp_stack_stack_pointer(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(dst, ref);</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldr(dst, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(dst));</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>}</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span> </div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::StoreRegExpStackPointerToMemory(</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>    Register src, Register scratch) {</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>  ExternalReference ref =</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>      ExternalReference::address_of_regexp_stack_stack_pointer(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(scratch, ref);</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Str(src, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(scratch));</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>}</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span> </div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::PushRegExpBasePointer(Register stack_pointer,</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>                                                      Register scratch) {</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>  ExternalReference ref =</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>      ExternalReference::address_of_regexp_stack_memory_top_address(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(scratch, ref);</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldr(scratch, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(scratch));</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(scratch, stack_pointer, scratch);</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Str(scratch, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(frame_pointer(), kRegExpStackBasePointerOffset));</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>}</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span> </div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::PopRegExpBasePointer(Register stack_pointer_out,</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>                                                     Register scratch) {</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>  ExternalReference ref =</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>      ExternalReference::address_of_regexp_stack_memory_top_address(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldr(stack_pointer_out,</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>         <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(frame_pointer(), kRegExpStackBasePointerOffset));</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(scratch, ref);</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldr(scratch, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(scratch));</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(stack_pointer_out, stack_pointer_out, scratch);</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>  StoreRegExpStackPointerToMemory(stack_pointer_out, scratch);</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>}</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span> </div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>Handle&lt;HeapObject&gt; RegExpMacroAssemblerARM64::GetCode(Handle&lt;String&gt; source,</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>                                                      RegExpFlags <a class="code hl_function" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a>) {</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>  Label return_w0;</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>  <span class="comment">// Finalize code - write the entry point code now we know how many</span></div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>  <span class="comment">// registers we need.</span></div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span> </div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>  <span class="comment">// Entry code:</span></div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;entry_label_);</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span> </div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>  <span class="comment">// Arguments on entry:</span></div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>  <span class="comment">// x0:  String   input</span></div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>  <span class="comment">// x1:  int      start_offset</span></div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>  <span class="comment">// x2:  uint8_t*    input_start</span></div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>  <span class="comment">// x3:  uint8_t*    input_end</span></div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>  <span class="comment">// x4:  int*     output array</span></div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>  <span class="comment">// x5:  int      output array size</span></div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>  <span class="comment">// x6:  int      direct_call</span></div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>  <span class="comment">// x7:  Isolate* isolate</span></div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>  <span class="comment">// sp[0]:  secondary link/return address used by native call</span></div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span> </div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>  <span class="comment">// Tell the system that we have a stack frame.  Because the type is MANUAL, no</span></div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>  <span class="comment">// code is generated.</span></div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>  FrameScope scope(<a class="code hl_variable" href="maglev-code-generator_8cc.html#adade6e3b43bc4bfc70490c9536cc70ba">masm_</a>.get(), StackFrame::MANUAL);</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span> </div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>  <span class="comment">// Stack frame setup.</span></div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>  <span class="comment">// Push callee-saved registers.</span></div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>  <span class="keyword">const</span> CPURegList registers_to_retain = <a class="code hl_define" href="reglist-arm64_8h.html#acd6b69322c0921c70f41102c969b106b">kCalleeSaved</a>;</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>  <a class="code hl_define" href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(registers_to_retain.Count(), kNumCalleeSavedRegisters);</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> PushCPURegList(registers_to_retain);</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>  <span class="keyword">static_assert</span>(kFrameTypeOffset == kFramePointerOffset - <a class="code hl_variable" href="namespacev8_1_1internal.html#a72cbfdfeabb9a401f279f7b80bcff67a">kSystemPointerSize</a>);</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> EnterFrame(StackFrame::IRREGEXP);</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>  <span class="comment">// Only push the argument registers that we need.</span></div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>  <span class="keyword">static_assert</span>(kIsolateOffset ==</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>                kFrameTypeOffset - kPaddingAfterFrameType - <a class="code hl_variable" href="namespacev8_1_1internal.html#a72cbfdfeabb9a401f279f7b80bcff67a">kSystemPointerSize</a>);</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>  <span class="keyword">static_assert</span>(kDirectCallOffset == kIsolateOffset - <a class="code hl_variable" href="namespacev8_1_1internal.html#a72cbfdfeabb9a401f279f7b80bcff67a">kSystemPointerSize</a>);</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>  <span class="keyword">static_assert</span>(kNumOutputRegistersOffset ==</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>                kDirectCallOffset - <a class="code hl_variable" href="namespacev8_1_1internal.html#a72cbfdfeabb9a401f279f7b80bcff67a">kSystemPointerSize</a>);</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>  <span class="keyword">static_assert</span>(kInputStringOffset ==</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>                kNumOutputRegistersOffset - <a class="code hl_variable" href="namespacev8_1_1internal.html#a72cbfdfeabb9a401f279f7b80bcff67a">kSystemPointerSize</a>);</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> PushCPURegList(CPURegList{x0, x5, x6, x7});</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span> </div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>  <span class="comment">// Initialize callee-saved registers.</span></div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(start_offset(), w1);</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(input_start(), x2);</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(input_end(), x3);</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(output_array(), x4);</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span> </div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>  <span class="comment">// Make sure the stack alignment will be respected.</span></div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> alignment = <a class="code hl_variable" href="maglev-code-generator_8cc.html#adade6e3b43bc4bfc70490c9536cc70ba">masm_</a>-&gt;ActivationFrameAlignment();</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>  <a class="code hl_define" href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(alignment % 16, 0);</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> align_mask = (alignment / <a class="code hl_variable" href="namespacev8_1_1internal.html#aaa668aa654acde87b81bdf471c9691b3">kWRegSize</a>) - 1;</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span> </div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>  <span class="comment">// Make room for stack locals.</span></div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>  <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">int</span> kWRegPerXReg = <a class="code hl_variable" href="namespacev8_1_1internal.html#ae7be09d4937ccd23910375645d8f986a">kXRegSize</a> / <a class="code hl_variable" href="namespacev8_1_1internal.html#aaa668aa654acde87b81bdf471c9691b3">kWRegSize</a>;</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>  <a class="code hl_define" href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(kNumberOfStackLocals * kWRegPerXReg,</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>            ((kNumberOfStackLocals * kWRegPerXReg) + align_mask) &amp; ~align_mask);</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Claim(kNumberOfStackLocals * kWRegPerXReg);</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span> </div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>  <span class="comment">// Initialize backtrack stack pointer. It must not be clobbered from here on.</span></div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>  <span class="comment">// Note the backtrack_stackpointer is callee-saved.</span></div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>  <span class="keyword">static_assert</span>(backtrack_stackpointer() == x23);</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>  LoadRegExpStackPointerFromMemory(backtrack_stackpointer());</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span> </div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>  <span class="comment">// Store the regexp base pointer - we&#39;ll later restore it / write it to</span></div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>  <span class="comment">// memory when returning from this irregexp code object.</span></div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>  PushRegExpBasePointer(backtrack_stackpointer(), x11);</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span> </div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>  <span class="comment">// Set the number of registers we will need to allocate, that is:</span></div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>  <span class="comment">//   - (num_registers_ - kNumCachedRegisters) (W registers)</span></div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> num_stack_registers =</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>      std::max(0, num_registers_ - kNumCachedRegisters);</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> num_wreg_to_allocate =</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>      (num_stack_registers + align_mask) &amp; ~align_mask;</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span> </div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>  {</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>    <span class="comment">// Check if we have space on the stack.</span></div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>    Label stack_limit_hit, stack_ok;</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span> </div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>    ExternalReference stack_limit =</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>        ExternalReference::address_of_jslimit(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(x10, stack_limit);</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldr(x10, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(x10));</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Subs(x10, sp, x10);</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>    Operand extra_space_for_variables(num_wreg_to_allocate * kWRegSize);</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span> </div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>    <span class="comment">// Handle it if the stack pointer is already below the stack limit.</span></div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(ls, &amp;stack_limit_hit);</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span> </div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>    <span class="comment">// Check if there is room for the variable number of registers above</span></div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>    <span class="comment">// the stack limit.</span></div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(x10, extra_space_for_variables);</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(hs, &amp;stack_ok);</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span> </div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>    <span class="comment">// Exit with OutOfMemory exception. There is not enough space on the stack</span></div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>    <span class="comment">// for our working registers.</span></div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(w0, EXCEPTION);</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(&amp;return_w0);</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span> </div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;stack_limit_hit);</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>    CallCheckStackGuardState(x10, extra_space_for_variables);</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>    <span class="comment">// If returned value is non-zero, we exit with the returned value as result.</span></div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cbnz(w0, &amp;return_w0);</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span> </div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;stack_ok);</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>  }</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span> </div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>  <span class="comment">// Allocate space on stack.</span></div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Claim(num_wreg_to_allocate, kWRegSize);</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span> </div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>  <span class="comment">// Initialize success_counter and kBacktrackCountOffset with 0.</span></div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Str(wzr, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(frame_pointer(), kSuccessfulCapturesOffset));</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Str(wzr, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(frame_pointer(), kBacktrackCountOffset));</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span> </div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>  <span class="comment">// Find negative length (offset of start relative to end).</span></div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(x10, input_start(), input_end());</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.debug_code) {</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>    <span class="comment">// Check that the size of the input string chars is in range.</span></div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Neg(x11, x10);</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(x11, SeqTwoByteString::kMaxCharsSize);</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Check(ls, AbortReason::kInputStringTooLong);</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>  }</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(current_input_offset(), w10);</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span> </div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>  <span class="comment">// The non-position value is used as a clearing value for the</span></div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>  <span class="comment">// capture registers, it corresponds to the position of the first character</span></div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>  <span class="comment">// minus one.</span></div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(string_start_minus_one(), current_input_offset(), char_size());</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(string_start_minus_one(), string_start_minus_one(),</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>         Operand(start_offset(), LSL, (<a class="code hl_variable" href="code-generator-arm_8cc.html#adc5709192230b7fde07de03eb2974043">mode_</a> == UC16) ? 1 : 0));</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>  <span class="comment">// We can store this value twice in an X register for initializing</span></div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>  <span class="comment">// on-stack registers later.</span></div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Orr(twice_non_position_value(), string_start_minus_one().<a class="code hl_function" href="flag-definitions_8h.html#aea315e922a204d2310a710fc8416122a">X</a>(),</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>         Operand(string_start_minus_one().<a class="code hl_function" href="flag-definitions_8h.html#aea315e922a204d2310a710fc8416122a">X</a>(), LSL, kWRegSizeInBits));</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span> </div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>  <span class="comment">// Initialize code pointer register.</span></div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(code_pointer(), Operand(<a class="code hl_variable" href="maglev-code-generator_8cc.html#adade6e3b43bc4bfc70490c9536cc70ba">masm_</a>-&gt;CodeObject()));</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span> </div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>  Label load_char_start_regexp;</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>  {</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>    Label start_regexp;</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>    <span class="comment">// Load newline if index is at start, previous character otherwise.</span></div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cbnz(start_offset(), &amp;load_char_start_regexp);</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(current_character(), <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(&amp;start_regexp);</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span> </div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>    <span class="comment">// Global regexp restarts matching here.</span></div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;load_char_start_regexp);</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>    <span class="comment">// Load previous char as initial value of current character register.</span></div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>    LoadCurrentCharacterUnchecked(-1, 1);</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;start_regexp);</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>  }</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span> </div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>  <span class="comment">// Initialize on-stack registers.</span></div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>  <span class="keywordflow">if</span> (num_saved_registers_ &gt; 0) {</div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>    ClearRegisters(0, num_saved_registers_ - 1);</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>  }</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span> </div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>  <span class="comment">// Execute.</span></div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(&amp;start_label_);</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span> </div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>  <span class="keywordflow">if</span> (backtrack_label_.is_linked()) {</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;backtrack_label_);</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>    Backtrack();</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>  }</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span> </div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>  <span class="keywordflow">if</span> (success_label_.is_linked()) {</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>    <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> first_capture_start = w15;</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span> </div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>    <span class="comment">// Save captures when successful.</span></div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;success_label_);</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span> </div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span>    <span class="keywordflow">if</span> (num_saved_registers_ &gt; 0) {</div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>      <span class="comment">// V8 expects the output to be an int32_t array.</span></div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>      <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> capture_start = w12;</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>      <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> capture_end = w13;</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>      <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> input_length = w14;</div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span> </div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>      <span class="comment">// Copy captures to output.</span></div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span> </div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>      <span class="comment">// Get string length.</span></div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(x10, input_end(), input_start());</div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.debug_code) {</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>        <span class="comment">// Check that the size of the input string chars is in range.</span></div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(x10, SeqTwoByteString::kMaxCharsSize);</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Check(ls, AbortReason::kInputStringTooLong);</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>      }</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>      <span class="comment">// input_start has a start_offset offset on entry. We need to include</span></div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>      <span class="comment">// it when computing the length of the whole string.</span></div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="code-generator-arm_8cc.html#adc5709192230b7fde07de03eb2974043">mode_</a> == UC16) {</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(input_length, start_offset(), Operand(w10, LSR, 1));</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(input_length, start_offset(), w10);</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>      }</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span> </div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>      <span class="comment">// Copy the results to the output array from the cached registers first.</span></div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = 0; (<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; num_saved_registers_) &amp;&amp; (<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; kNumCachedRegisters);</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>           <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> += 2) {</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(capture_start.X(), GetCachedRegister(<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>));</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Lsr(capture_end.X(), capture_start.X(), kWRegSizeInBits);</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>        <span class="keywordflow">if</span> ((<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> == 0) &amp;&amp; global_with_zero_length_check()) {</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>          <span class="comment">// Keep capture start for the zero-length check later.</span></div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>          <span class="comment">// Note this only works when we have at least one cached register</span></div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>          <span class="comment">// pair (otherwise we&#39;d never reach this branch).</span></div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>          <span class="keyword">static_assert</span>(kNumCachedRegisters &gt; 0);</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>          <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(first_capture_start, capture_start);</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>        }</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>        <span class="comment">// Offsets need to be relative to the start of the string.</span></div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="code-generator-arm_8cc.html#adc5709192230b7fde07de03eb2974043">mode_</a> == UC16) {</div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>          <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(capture_start, input_length, Operand(capture_start, ASR, 1));</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>          <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(capture_end, input_length, Operand(capture_end, ASR, 1));</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>          <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(capture_start, input_length, capture_start);</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>          <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(capture_end, input_length, capture_end);</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>        }</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>        <span class="comment">// The output pointer advances for a possible global match.</span></div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Stp(capture_start, capture_end,</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>               <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(output_array(), kSystemPointerSize, PostIndex));</div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>      }</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span> </div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>      <span class="comment">// Only carry on if there are more than kNumCachedRegisters capture</span></div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>      <span class="comment">// registers.</span></div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>      <span class="keywordtype">int</span> num_registers_left_on_stack =</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>          num_saved_registers_ - kNumCachedRegisters;</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>      <span class="keywordflow">if</span> (num_registers_left_on_stack &gt; 0) {</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>        <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a> = x10;</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>        <span class="comment">// There are always an even number of capture registers. A couple of</span></div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>        <span class="comment">// registers determine one match with two offsets.</span></div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>        <a class="code hl_define" href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, num_registers_left_on_stack % 2);</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a>, frame_pointer(), kFirstCaptureOnStackOffset);</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span> </div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>        <span class="comment">// We can unroll the loop here, we should not unroll for less than 2</span></div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>        <span class="comment">// registers.</span></div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>        <span class="keyword">static_assert</span>(kNumRegistersToUnroll &gt; 2);</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>        <span class="keywordflow">if</span> (num_registers_left_on_stack &lt;= kNumRegistersToUnroll) {</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; num_registers_left_on_stack / 2; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>            <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldp(capture_end, capture_start,</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>                   <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a>, -kSystemPointerSize, PostIndex));</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>            <span class="comment">// Offsets need to be relative to the start of the string.</span></div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="code-generator-arm_8cc.html#adc5709192230b7fde07de03eb2974043">mode_</a> == UC16) {</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>              <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(capture_start, input_length,</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>                     Operand(capture_start, ASR, 1));</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>              <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(capture_end, input_length, Operand(capture_end, ASR, 1));</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>              <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(capture_start, input_length, capture_start);</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>              <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(capture_end, input_length, capture_end);</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>            }</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>            <span class="comment">// The output pointer advances for a possible global match.</span></div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>            <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Stp(capture_start, capture_end,</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>                   <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(output_array(), kSystemPointerSize, PostIndex));</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>          }</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>          Label loop;</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>          <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(x11, num_registers_left_on_stack);</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span> </div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>          <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;loop);</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>          <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldp(capture_end, capture_start,</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>                 <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a>, -kSystemPointerSize, PostIndex));</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>          <span class="keywordflow">if</span> (<a class="code hl_variable" href="code-generator-arm_8cc.html#adc5709192230b7fde07de03eb2974043">mode_</a> == UC16) {</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>            <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(capture_start, input_length, Operand(capture_start, ASR, 1));</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>            <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(capture_end, input_length, Operand(capture_end, ASR, 1));</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>          } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>            <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(capture_start, input_length, capture_start);</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>            <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(capture_end, input_length, capture_end);</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>          }</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>          <span class="comment">// The output pointer advances for a possible global match.</span></div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>          <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Stp(capture_start, capture_end,</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>                 <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(output_array(), kSystemPointerSize, PostIndex));</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>          <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(x11, x11, 2);</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>          <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cbnz(x11, &amp;loop);</div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>        }</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>      }</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>    }</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span> </div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>    <span class="keywordflow">if</span> (global()) {</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>      <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> success_counter = w0;</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>      <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> output_size = x10;</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>      <span class="comment">// Restart matching if the regular expression is flagged as global.</span></div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span> </div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>      <span class="comment">// Increment success counter.</span></div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldr(success_counter,</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>             <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(frame_pointer(), kSuccessfulCapturesOffset));</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(success_counter, success_counter, 1);</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Str(success_counter,</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>             <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(frame_pointer(), kSuccessfulCapturesOffset));</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span> </div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>      <span class="comment">// Capture results have been stored, so the number of remaining global</span></div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>      <span class="comment">// output registers is reduced by the number of stored captures.</span></div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldr(output_size,</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>             <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(frame_pointer(), kNumOutputRegistersOffset));</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(output_size, output_size, num_saved_registers_);</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>      <span class="comment">// Check whether we have enough room for another set of capture results.</span></div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(output_size, num_saved_registers_);</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(lt, &amp;return_w0);</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span> </div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>      <span class="comment">// The output pointer is already set to the next field in the output</span></div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>      <span class="comment">// array.</span></div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>      <span class="comment">// Update output size on the frame before we restart matching.</span></div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Str(output_size,</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>             <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(frame_pointer(), kNumOutputRegistersOffset));</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span> </div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>      <span class="comment">// Restore the original regexp stack pointer value (effectively, pop the</span></div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>      <span class="comment">// stored base pointer).</span></div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>      PopRegExpBasePointer(backtrack_stackpointer(), x11);</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span> </div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>      <span class="keywordflow">if</span> (global_with_zero_length_check()) {</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>        <span class="comment">// Special case for zero-length matches.</span></div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(current_input_offset(), first_capture_start);</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>        <span class="comment">// Not a zero-length match, restart.</span></div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(ne, &amp;load_char_start_regexp);</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>        <span class="comment">// Offset from the end is zero if we already reached the end.</span></div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cbz(current_input_offset(), &amp;return_w0);</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>        <span class="comment">// Advance current position after a zero-length match.</span></div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>        Label advance;</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> bind(&amp;advance);</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(current_input_offset(), current_input_offset(),</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>               Operand((<a class="code hl_variable" href="code-generator-arm_8cc.html#adc5709192230b7fde07de03eb2974043">mode_</a> == UC16) ? 2 : 1));</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>        <span class="keywordflow">if</span> (global_unicode()) CheckNotInSurrogatePair(0, &amp;advance);</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>      }</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span> </div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(&amp;load_char_start_regexp);</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(w0, SUCCESS);</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>    }</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>  }</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span> </div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>  <span class="keywordflow">if</span> (exit_label_.is_linked()) {</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>    <span class="comment">// Exit and return w0.</span></div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;exit_label_);</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>    <span class="keywordflow">if</span> (global()) {</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldr(w0, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(frame_pointer(), kSuccessfulCapturesOffset));</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>    }</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>  }</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span> </div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;return_w0);</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>  <span class="comment">// Restore the original regexp stack pointer value (effectively, pop the</span></div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>  <span class="comment">// stored base pointer).</span></div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>  PopRegExpBasePointer(backtrack_stackpointer(), x11);</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span> </div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> LeaveFrame(StackFrame::IRREGEXP);</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> PopCPURegList(registers_to_retain);</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ret();</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span> </div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>  Label exit_with_exception;</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>  <span class="keywordflow">if</span> (check_preempt_label_.is_linked()) {</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;check_preempt_label_);</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span> </div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>    StoreRegExpStackPointerToMemory(backtrack_stackpointer(), x10);</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span> </div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>    SaveLinkRegister();</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>    PushCachedRegisters();</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>    CallCheckStackGuardState(x10);</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>    <span class="comment">// Returning from the regexp code restores the stack (sp &lt;- fp)</span></div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>    <span class="comment">// so we don&#39;t need to drop the link register from it before exiting.</span></div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cbnz(w0, &amp;return_w0);</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>    <span class="comment">// Reset the cached registers.</span></div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>    PopCachedRegisters();</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span> </div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>    LoadRegExpStackPointerFromMemory(backtrack_stackpointer());</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span> </div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>    RestoreLinkRegister();</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ret();</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>  }</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span> </div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>  <span class="keywordflow">if</span> (stack_overflow_label_.is_linked()) {</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;stack_overflow_label_);</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span> </div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>    StoreRegExpStackPointerToMemory(backtrack_stackpointer(), x10);</div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span> </div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>    SaveLinkRegister();</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>    PushCachedRegisters();</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>    <span class="comment">// Call GrowStack(isolate).</span></div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">int</span> kNumArguments = 1;</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(x0, ExternalReference::isolate_address(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>()));</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>    CallCFunctionFromIrregexpCode(ExternalReference::re_grow_stack(),</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>                                  kNumArguments);</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>    <span class="comment">// If return nullptr, we have failed to grow the stack, and must exit with</span></div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>    <span class="comment">// a stack-overflow exception.  Returning from the regexp code restores the</span></div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>    <span class="comment">// stack (sp &lt;- fp) so we don&#39;t need to drop the link register from it</span></div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>    <span class="comment">// before exiting.</span></div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cbz(w0, &amp;exit_with_exception);</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>    <span class="comment">// Otherwise use return value as new stack pointer.</span></div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(backtrack_stackpointer(), x0);</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>    PopCachedRegisters();</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>    RestoreLinkRegister();</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ret();</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>  }</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span> </div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>  <span class="keywordflow">if</span> (exit_with_exception.is_linked()) {</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;exit_with_exception);</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(w0, EXCEPTION);</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(&amp;return_w0);</div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>  }</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span> </div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>  <span class="keywordflow">if</span> (fallback_label_.is_linked()) {</div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;fallback_label_);</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(w0, FALLBACK_TO_EXPERIMENTAL);</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(&amp;return_w0);</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span>  }</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span> </div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>  CodeDesc <a class="code hl_variable" href="code-reference_8cc.html#acb81abe9f50b4d55703e5555f9da26a0">code_desc</a>;</div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>  <a class="code hl_variable" href="maglev-code-generator_8cc.html#adade6e3b43bc4bfc70490c9536cc70ba">masm_</a>-&gt;GetCode(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>(), &amp;<a class="code hl_variable" href="code-reference_8cc.html#acb81abe9f50b4d55703e5555f9da26a0">code_desc</a>);</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>  Handle&lt;Code&gt; code =</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>      Factory::CodeBuilder(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>(), <a class="code hl_variable" href="code-reference_8cc.html#acb81abe9f50b4d55703e5555f9da26a0">code_desc</a>, CodeKind::REGEXP)</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>          .set_self_reference(<a class="code hl_variable" href="maglev-code-generator_8cc.html#adade6e3b43bc4bfc70490c9536cc70ba">masm_</a>-&gt;CodeObject())</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>          .set_empty_source_position_table()</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>          .Build();</div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>  <a class="code hl_define" href="code-events_8h.html#ad6ec92ea4475dc9e407f0963df52df64">PROFILE</a>(<a class="code hl_variable" href="maglev-code-generator_8cc.html#adade6e3b43bc4bfc70490c9536cc70ba">masm_</a>-&gt;isolate(),</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>          RegExpCodeCreateEvent(Cast&lt;AbstractCode&gt;(code), source, <a class="code hl_function" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a>));</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>  <span class="keywordflow">return</span> Cast&lt;HeapObject&gt;(code);</div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>}</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span> </div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::GoTo(Label* to) {</div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>  BranchOrBacktrack(al, to);</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>}</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span> </div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::IfRegisterGE(<span class="keywordtype">int</span> <a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>, <span class="keywordtype">int</span> comparand,</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>                                             Label* if_ge) {</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>  <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> to_compare = GetRegister(<a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>, w10);</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>  CompareAndBranchOrBacktrack(to_compare, comparand, ge, if_ge);</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span>}</div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span> </div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span> </div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::IfRegisterLT(<span class="keywordtype">int</span> <a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>, <span class="keywordtype">int</span> comparand,</div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>                                             Label* if_lt) {</div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span>  <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> to_compare = GetRegister(<a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>, w10);</div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span>  CompareAndBranchOrBacktrack(to_compare, comparand, lt, if_lt);</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>}</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span> </div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span> </div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::IfRegisterEqPos(<span class="keywordtype">int</span> <a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>, Label* if_eq) {</div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span>  <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> to_compare = GetRegister(<a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>, w10);</div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(to_compare, current_input_offset());</div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>  BranchOrBacktrack(eq, if_eq);</div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>}</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span> </div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>RegExpMacroAssembler::IrregexpImplementation</div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>    RegExpMacroAssemblerARM64::Implementation() {</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>  <span class="keywordflow">return</span> kARM64Implementation;</div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>}</div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span> </div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span> </div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::PopCurrentPosition() {</div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>  Pop(current_input_offset());</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>}</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span> </div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span> </div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::PopRegister(<span class="keywordtype">int</span> register_index) {</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>  Pop(w10);</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>  StoreRegister(register_index, w10);</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>}</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span> </div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span> </div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::PushBacktrack(Label* <a class="code hl_variable" href="experimental-compiler_8cc.html#a092c9ed2d1a6372cb90bb48d778891c7">label</a>) {</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="experimental-compiler_8cc.html#a092c9ed2d1a6372cb90bb48d778891c7">label</a>-&gt;is_bound()) {</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>    <span class="keywordtype">int</span> target = <a class="code hl_variable" href="experimental-compiler_8cc.html#a092c9ed2d1a6372cb90bb48d778891c7">label</a>-&gt;pos();</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(w10, target + InstructionStream::kHeaderSize - kHeapObjectTag);</div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Adr(x10, <a class="code hl_variable" href="experimental-compiler_8cc.html#a092c9ed2d1a6372cb90bb48d778891c7">label</a>, MacroAssembler::kAdrFar);</div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(x10, x10, code_pointer());</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.debug_code) {</div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(x10, kWRegMask);</div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>      <span class="comment">// The code offset has to fit in a W register.</span></div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Check(ls, AbortReason::kOffsetOutOfRange);</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>    }</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>  }</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>  Push(w10);</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>  CheckStackLimit();</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>}</div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span> </div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span> </div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::PushCurrentPosition() {</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>  Push(current_input_offset());</div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>  CheckStackLimit();</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>}</div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span> </div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span> </div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::PushRegister(<span class="keywordtype">int</span> register_index,</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>                                             StackCheckFlag check_stack_limit) {</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>  <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> to_push = GetRegister(register_index, w10);</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>  Push(to_push);</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>  <span class="keywordflow">if</span> (check_stack_limit) {</div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>    CheckStackLimit();</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (V8_UNLIKELY(<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.slow_debug_code)) {</div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>    AssertAboveStackLimitMinusSlack();</div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>  }</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>}</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span> </div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span> </div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::ReadCurrentPositionFromRegister(<span class="keywordtype">int</span> <a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>) {</div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>  <a class="code hl_typedef" href="namespacev8_1_1internal_1_1maglev.html#a731e3ec24b7928dd9959cb6ce1d8950c">RegisterState</a> register_state = GetRegisterState(<a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>);</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>  <span class="keywordflow">switch</span> (register_state) {</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>    <span class="keywordflow">case</span> STACKED:</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldr(current_input_offset(), register_location(<a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>));</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>    <span class="keywordflow">case</span> CACHED_LSW:</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(current_input_offset(), GetCachedRegister(<a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>).<a class="code hl_variable" href="namespacev8_1_1internal.html#a0afc9ec046d67b0539bfb723e32e5732">W</a>());</div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>    <span class="keywordflow">case</span> CACHED_MSW:</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Lsr(current_input_offset().<a class="code hl_function" href="flag-definitions_8h.html#aea315e922a204d2310a710fc8416122a">X</a>(), GetCachedRegister(<a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>),</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>             kWRegSizeInBits);</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>      <a class="code hl_define" href="logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>  }</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>}</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span> </div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::WriteStackPointerToRegister(<span class="keywordtype">int</span> <a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>) {</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>  ExternalReference ref =</div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>      ExternalReference::address_of_regexp_stack_memory_top_address(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(x10, ref);</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldr(x10, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(x10));</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(x10, backtrack_stackpointer(), x10);</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.debug_code) {</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(x10, Operand(w10, SXTW));</div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span>    <span class="comment">// The stack offset needs to fit in a W register.</span></div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Check(eq, AbortReason::kOffsetOutOfRange);</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>  }</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>  StoreRegister(<a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>, w10);</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>}</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span> </div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::ReadStackPointerFromRegister(<span class="keywordtype">int</span> <a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>) {</div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>  ExternalReference ref =</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>      ExternalReference::address_of_regexp_stack_memory_top_address(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>  <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> read_from = GetRegister(<a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>, w10);</div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(x11, ref);</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldr(x11, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(x11));</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(backtrack_stackpointer(), x11, Operand(read_from, SXTW));</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>}</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span> </div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::SetCurrentPositionFromEnd(<span class="keywordtype">int</span> by) {</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>  Label after_position;</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(current_input_offset(), -by * char_size());</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(ge, &amp;after_position);</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(current_input_offset(), -by * char_size());</div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>  <span class="comment">// On RegExp code entry (where this operation is used), the character before</span></div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>  <span class="comment">// the current position is expected to be already loaded.</span></div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>  <span class="comment">// We have advanced the position, so it&#39;s safe to read backwards.</span></div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span>  LoadCurrentCharacterUnchecked(-1, 1);</div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;after_position);</div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>}</div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span> </div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span> </div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::SetRegister(<span class="keywordtype">int</span> register_index, <span class="keywordtype">int</span> to) {</div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(register_index &gt;= num_saved_registers_);  <span class="comment">// Reserved for positions!</span></div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>  <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> set_to = wzr;</div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>  <span class="keywordflow">if</span> (to != 0) {</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>    set_to = w10;</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(set_to, to);</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>  }</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>  StoreRegister(register_index, set_to);</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>}</div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span> </div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span> </div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span><span class="keywordtype">bool</span> RegExpMacroAssemblerARM64::Succeed() {</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(&amp;success_label_);</div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>  <span class="keywordflow">return</span> global();</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>}</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span> </div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span> </div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::WriteCurrentPositionToRegister(<span class="keywordtype">int</span> <a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>,</div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span>                                                               <span class="keywordtype">int</span> cp_offset) {</div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span>  <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> <a class="code hl_variable" href="liveedit_8cc.html#a401e942526aac47cef94f478182486e7">position</a> = current_input_offset();</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>  <span class="keywordflow">if</span> (cp_offset != 0) {</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>    <a class="code hl_variable" href="liveedit_8cc.html#a401e942526aac47cef94f478182486e7">position</a> = w10;</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(<a class="code hl_variable" href="liveedit_8cc.html#a401e942526aac47cef94f478182486e7">position</a>, current_input_offset(), cp_offset * char_size());</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>  }</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>  StoreRegister(<a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>, <a class="code hl_variable" href="liveedit_8cc.html#a401e942526aac47cef94f478182486e7">position</a>);</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>}</div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span> </div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span> </div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::ClearRegisters(<span class="keywordtype">int</span> reg_from, <span class="keywordtype">int</span> reg_to) {</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(reg_from &lt;= reg_to);</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span>  <span class="keywordtype">int</span> num_registers = reg_to - reg_from + 1;</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span> </div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>  <span class="comment">// If the first capture register is cached in a hardware register but not</span></div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span>  <span class="comment">// aligned on a 64-bit one, we need to clear the first one specifically.</span></div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span>  <span class="keywordflow">if</span> ((reg_from &lt; kNumCachedRegisters) &amp;&amp; ((reg_from % 2) != 0)) {</div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span>    StoreRegister(reg_from, string_start_minus_one());</div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span>    num_registers--;</div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>    reg_from++;</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>  }</div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span> </div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>  <span class="comment">// Clear cached registers in pairs as far as possible.</span></div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span>  <span class="keywordflow">while</span> ((num_registers &gt;= 2) &amp;&amp; (reg_from &lt; kNumCachedRegisters)) {</div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>    <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(GetRegisterState(reg_from) == CACHED_LSW);</div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(GetCachedRegister(reg_from), twice_non_position_value());</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span>    reg_from += 2;</div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>    num_registers -= 2;</div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span>  }</div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span> </div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span>  <span class="keywordflow">if</span> ((num_registers % 2) == 1) {</div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span>    StoreRegister(reg_from, string_start_minus_one());</div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>    num_registers--;</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>    reg_from++;</div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>  }</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span> </div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>  <span class="keywordflow">if</span> (num_registers &gt; 0) {</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>    <span class="comment">// If there are some remaining registers, they are stored on the stack.</span></div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>    <a class="code hl_define" href="logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(kNumCachedRegisters, reg_from);</div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span> </div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>    <span class="comment">// Move down the indexes of the registers on stack to get the correct offset</span></div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>    <span class="comment">// in memory.</span></div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span>    reg_from -= kNumCachedRegisters;</div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>    reg_to -= kNumCachedRegisters;</div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>    <span class="comment">// We should not unroll the loop for less than 2 registers.</span></div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span>    <span class="keyword">static_assert</span>(kNumRegistersToUnroll &gt; 2);</div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span>    <span class="comment">// We position the base pointer to (reg_from + 1).</span></div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span>    <span class="keywordtype">int</span> base_offset =</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>        kFirstRegisterOnStackOffset - <a class="code hl_variable" href="namespacev8_1_1internal.html#aaa668aa654acde87b81bdf471c9691b3">kWRegSize</a> - (<a class="code hl_variable" href="namespacev8_1_1internal.html#aaa668aa654acde87b81bdf471c9691b3">kWRegSize</a> * reg_from);</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>    <span class="keywordflow">if</span> (num_registers &gt; kNumRegistersToUnroll) {</div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span>      <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a> = x10;</div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a>, frame_pointer(), base_offset);</div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span> </div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>      Label loop;</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(x11, num_registers);</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;loop);</div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Str(twice_non_position_value(),</div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span>             <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a>, -kSystemPointerSize, PostIndex));</div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(x11, x11, 2);</div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cbnz(x11, &amp;loop);</div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = reg_from; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt;= reg_to; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> += 2) {</div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Str(twice_non_position_value(),</div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>               <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(frame_pointer(), base_offset));</div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span>        base_offset -= <a class="code hl_variable" href="namespacev8_1_1internal.html#aaa668aa654acde87b81bdf471c9691b3">kWRegSize</a> * 2;</div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>      }</div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span>    }</div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>  }</div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span>}</div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span> </div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span><span class="comment">// Helper function for reading a value out of a stack frame.</span></div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span><span class="keyword">static</span> T&amp; frame_entry(Address re_frame, <span class="keywordtype">int</span> frame_offset) {</div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span>  <span class="keywordflow">return</span> *<span class="keyword">reinterpret_cast&lt;</span>T*<span class="keyword">&gt;</span>(re_frame + frame_offset);</div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span>}</div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span> </div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span> </div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span><span class="keyword">static</span> T* frame_entry_address(Address re_frame, <span class="keywordtype">int</span> frame_offset) {</div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span>  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>T*<span class="keyword">&gt;</span>(re_frame + frame_offset);</div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span>}</div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span> </div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span><span class="keywordtype">int</span> RegExpMacroAssemblerARM64::CheckStackGuardState(</div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>    Address* return_address, Address raw_code, Address re_frame,</div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span>    <span class="keywordtype">int</span> start_index, <span class="keyword">const</span> uint8_t** input_start, <span class="keyword">const</span> uint8_t** input_end,</div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span>    uintptr_t extra_space) {</div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span>  Tagged&lt;InstructionStream&gt; re_code =</div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>      Cast&lt;InstructionStream&gt;(Tagged&lt;Object&gt;(raw_code));</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>  <span class="keywordflow">return</span> NativeRegExpMacroAssembler::CheckStackGuardState(</div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span>      frame_entry&lt;Isolate*&gt;(re_frame, kIsolateOffset), start_index,</div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span>      <span class="keyword">static_cast&lt;</span>RegExp::CallOrigin<span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>          frame_entry&lt;int&gt;(re_frame, kDirectCallOffset)),</div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span>      return_address, re_code,</div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span>      frame_entry_address&lt;Address&gt;(re_frame, kInputStringOffset), input_start,</div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span>      input_end, extra_space);</div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span>}</div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span> </div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CheckPosition(<span class="keywordtype">int</span> cp_offset,</div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span>                                              Label* on_outside_input) {</div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span>  <span class="keywordflow">if</span> (cp_offset &gt;= 0) {</div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span>    CompareAndBranchOrBacktrack(current_input_offset(),</div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span>                                -cp_offset * char_size(), ge, on_outside_input);</div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(w12, current_input_offset(), Operand(cp_offset * char_size()));</div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(w12, string_start_minus_one());</div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span>    BranchOrBacktrack(le, on_outside_input);</div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span>  }</div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span>}</div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span> </div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span> </div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span><span class="comment">// Private methods:</span></div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span> </div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CallCheckStackGuardState(Register scratch,</div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span>                                                         Operand extra_space) {</div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"> 1585</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>()-&gt;IsGeneratingEmbeddedBuiltins());</div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code hl_variable" href="maglev-code-generator_8cc.html#adade6e3b43bc4bfc70490c9536cc70ba">masm_</a>-&gt;options().isolate_independent_code);</div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span> </div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span>  <span class="comment">// Allocate space on the stack to store the return address. The</span></div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span>  <span class="comment">// CheckStackGuardState C++ function will override it if the code</span></div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>  <span class="comment">// moved. Allocate extra space for 2 arguments passed by pointers.</span></div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>  <span class="comment">// AAPCS64 requires the stack to be 16 byte aligned.</span></div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>  <span class="keywordtype">int</span> alignment = <a class="code hl_variable" href="maglev-code-generator_8cc.html#adade6e3b43bc4bfc70490c9536cc70ba">masm_</a>-&gt;ActivationFrameAlignment();</div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>  <a class="code hl_define" href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(alignment % 16, 0);</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span>  <span class="keywordtype">int</span> align_mask = (alignment / <a class="code hl_variable" href="namespacev8_1_1internal.html#ae7be09d4937ccd23910375645d8f986a">kXRegSize</a>) - 1;</div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span>  <span class="keywordtype">int</span> xreg_to_claim = (3 + align_mask) &amp; ~align_mask;</div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span> </div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Claim(xreg_to_claim);</div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span> </div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(x6, extra_space);</div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span>  <span class="comment">// CheckStackGuardState needs the end and start addresses of the input string.</span></div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Poke(input_end(), 2 * kSystemPointerSize);</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(x5, sp, 2 * kSystemPointerSize);</div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Poke(input_start(), kSystemPointerSize);</div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(x4, sp, kSystemPointerSize);</div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span> </div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(w3, start_offset());</div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span>  <span class="comment">// RegExp code frame pointer.</span></div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(x2, frame_pointer());</div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span>  <span class="comment">// InstructionStream of self.</span></div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(x1, Operand(<a class="code hl_variable" href="maglev-code-generator_8cc.html#adade6e3b43bc4bfc70490c9536cc70ba">masm_</a>-&gt;CodeObject()));</div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span> </div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span>  <span class="comment">// We need to pass a pointer to the return address as first argument.</span></div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span>  <span class="comment">// DirectCEntry will place the return address on the stack before calling so</span></div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span>  <span class="comment">// the stack pointer will point to it.</span></div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(x0, sp);</div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span> </div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span>  <a class="code hl_define" href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(scratch, x10);</div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span>  ExternalReference check_stack_guard_state =</div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span>      ExternalReference::re_check_stack_guard_state();</div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(scratch, check_stack_guard_state);</div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span> </div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> CallBuiltin(Builtin::kDirectCEntry);</div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span> </div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span>  <span class="comment">// The input string may have been moved in memory, we need to reload it.</span></div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Peek(input_start(), kSystemPointerSize);</div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Peek(input_end(), 2 * kSystemPointerSize);</div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span> </div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Drop(xreg_to_claim);</div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span> </div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span>  <span class="comment">// Reload the InstructionStream pointer.</span></div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(code_pointer(), Operand(<a class="code hl_variable" href="maglev-code-generator_8cc.html#adade6e3b43bc4bfc70490c9536cc70ba">masm_</a>-&gt;CodeObject()));</div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span>}</div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span> </div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::BranchOrBacktrack(Condition <a class="code hl_variable" href="machine-operator-reducer_8cc.html#a0e07aad9de22abf9b9b1b4b437beef30">condition</a>,</div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span>                                                  Label* to) {</div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="machine-operator-reducer_8cc.html#a0e07aad9de22abf9b9b1b4b437beef30">condition</a> == al) {  <span class="comment">// Unconditional.</span></div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span>    <span class="keywordflow">if</span> (to == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>      Backtrack();</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"> 1640</span>    }</div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"> 1641</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(to);</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span>  }</div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span>  <span class="keywordflow">if</span> (to == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span>    to = &amp;backtrack_label_;</div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>  }</div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(<a class="code hl_variable" href="machine-operator-reducer_8cc.html#a0e07aad9de22abf9b9b1b4b437beef30">condition</a>, to);</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span>}</div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span> </div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CompareAndBranchOrBacktrack(Register <a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>,</div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span>                                                            <span class="keywordtype">int</span> immediate,</div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span>                                                            Condition <a class="code hl_variable" href="machine-operator-reducer_8cc.html#a0e07aad9de22abf9b9b1b4b437beef30">condition</a>,</div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span>                                                            Label* to) {</div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span>  <span class="keywordflow">if</span> ((immediate == 0) &amp;&amp; ((<a class="code hl_variable" href="machine-operator-reducer_8cc.html#a0e07aad9de22abf9b9b1b4b437beef30">condition</a> == eq) || (<a class="code hl_variable" href="machine-operator-reducer_8cc.html#a0e07aad9de22abf9b9b1b4b437beef30">condition</a> == ne))) {</div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span>    <span class="keywordflow">if</span> (to == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span>      to = &amp;backtrack_label_;</div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span>    }</div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="machine-operator-reducer_8cc.html#a0e07aad9de22abf9b9b1b4b437beef30">condition</a> == eq) {</div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cbz(<a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>, to);</div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cbnz(<a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>, to);</div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span>    }</div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(<a class="code hl_variable" href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a>, immediate);</div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span>    BranchOrBacktrack(<a class="code hl_variable" href="machine-operator-reducer_8cc.html#a0e07aad9de22abf9b9b1b4b437beef30">condition</a>, to);</div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span>  }</div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span>}</div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span> </div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"> 1669</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CallCFunctionFromIrregexpCode(</div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span>    ExternalReference function, <span class="keywordtype">int</span> num_arguments) {</div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span>  <span class="comment">// Irregexp code must not set fast_c_call_caller_fp and fast_c_call_caller_pc</span></div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span>  <span class="comment">// since</span></div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span>  <span class="comment">//</span></div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span>  <span class="comment">// 1. it may itself have been called using CallCFunction and nested calls are</span></div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span>  <span class="comment">//    unsupported, and</span></div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span>  <span class="comment">// 2. it may itself have been called directly from C where the frame pointer</span></div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span>  <span class="comment">//    might not be set (-fomit-frame-pointer), and thus frame iteration would</span></div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span>  <span class="comment">//    fail.</span></div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span>  <span class="comment">//</span></div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span>  <span class="comment">// See also: crbug.com/v8/12670#c17.</span></div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> CallCFunction(function, num_arguments, <a class="code hl_enumvalue" href="macro-assembler_8h.html#a972da3b81fe4f69de69fa147784bd926a8cc8e60acfa3ae6089df773013fd73a2">SetIsolateDataSlots::kNo</a>);</div>
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"> 1682</span>}</div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span> </div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CheckPreemption() {</div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>  <span class="comment">// Check for preemption.</span></div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span>  ExternalReference stack_limit =</div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span>      ExternalReference::address_of_jslimit(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(x10, stack_limit);</div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldr(x10, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(x10));</div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(sp, x10);</div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span>  CallIf(&amp;check_preempt_label_, ls);</div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span>}</div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span> </div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span> </div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CheckStackLimit() {</div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span>  ExternalReference stack_limit =</div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"> 1697</span>      ExternalReference::address_of_regexp_stack_limit_address(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(x10, stack_limit);</div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldr(x10, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(x10));</div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(backtrack_stackpointer(), x10);</div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span>  CallIf(&amp;stack_overflow_label_, ls);</div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span>}</div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"> 1703</span> </div>
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"> 1704</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::AssertAboveStackLimitMinusSlack() {</div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.slow_debug_code);</div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>  Label no_stack_overflow;</div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span>  <a class="code hl_define" href="codegen_2assembler_8h.html#a76c4e520168782df773c203738c512fa">ASM_CODE_COMMENT_STRING</a>(<a class="code hl_variable" href="maglev-code-generator_8cc.html#adade6e3b43bc4bfc70490c9536cc70ba">masm_</a>.get(), <span class="stringliteral">&quot;AssertAboveStackLimitMinusSlack&quot;</span>);</div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>  <span class="keyword">auto</span> l = ExternalReference::address_of_regexp_stack_limit_address(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>());</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(x10, l);</div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldr(x10, <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(x10));</div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(x10, x10, RegExpStack::kStackLimitSlackSize);</div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(backtrack_stackpointer(), x10);</div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(hi, &amp;no_stack_overflow);</div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> DebugBreak();</div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> bind(&amp;no_stack_overflow);</div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span>}</div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span> </div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::Push(Register source) {</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(source.Is32Bits());</div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span>  <a class="code hl_define" href="logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(source, backtrack_stackpointer());</div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Str(source,</div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span>         <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(backtrack_stackpointer(),</div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span>                    -<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(kWRegSize),</div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span>                    PreIndex));</div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>}</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span> </div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span> </div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::Pop(Register target) {</div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(target.Is32Bits());</div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>  <a class="code hl_define" href="logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(target, backtrack_stackpointer());</div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldr(target,</div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>         <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(backtrack_stackpointer(), kWRegSize, PostIndex));</div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span>}</div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span> </div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span> </div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span><a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> RegExpMacroAssemblerARM64::GetCachedRegister(<span class="keywordtype">int</span> register_index) {</div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span>  <a class="code hl_define" href="logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a>(kNumCachedRegisters, register_index);</div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>  <span class="keywordflow">return</span> Register::Create(register_index / 2, kXRegSizeInBits);</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>}</div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span> </div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span> </div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span><a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> RegExpMacroAssemblerARM64::GetRegister(<span class="keywordtype">int</span> register_index,</div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>                                                Register maybe_result) {</div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(maybe_result.Is32Bits());</div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span>  <a class="code hl_define" href="logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(0, register_index);</div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span>  <span class="keywordflow">if</span> (num_registers_ &lt;= register_index) {</div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>    num_registers_ = register_index + 1;</div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span>  }</div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span>  <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> = <a class="code hl_variable" href="namespacev8_1_1internal.html#ae9308b945f70a8f3a363809af711874c">NoReg</a>;</div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span>  <a class="code hl_typedef" href="namespacev8_1_1internal_1_1maglev.html#a731e3ec24b7928dd9959cb6ce1d8950c">RegisterState</a> register_state = GetRegisterState(register_index);</div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span>  <span class="keywordflow">switch</span> (register_state) {</div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span>    <span class="keywordflow">case</span> STACKED:</div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldr(maybe_result, register_location(register_index));</div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>      <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> = maybe_result;</div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>    <span class="keywordflow">case</span> CACHED_LSW:</div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span>      <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> = GetCachedRegister(register_index).W();</div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span>    <span class="keywordflow">case</span> CACHED_MSW:</div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Lsr(maybe_result.X(), GetCachedRegister(register_index),</div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span>             kWRegSizeInBits);</div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span>      <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> = maybe_result;</div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span>      <a class="code hl_define" href="logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span>  }</div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.Is32Bits());</div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>;</div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>}</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span> </div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span> </div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::StoreRegister(<span class="keywordtype">int</span> register_index,</div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span>                                              Register source) {</div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(source.Is32Bits());</div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span>  <a class="code hl_define" href="logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(0, register_index);</div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>  <span class="keywordflow">if</span> (num_registers_ &lt;= register_index) {</div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>    num_registers_ = register_index + 1;</div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span>  }</div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span> </div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>  <a class="code hl_typedef" href="namespacev8_1_1internal_1_1maglev.html#a731e3ec24b7928dd9959cb6ce1d8950c">RegisterState</a> register_state = GetRegisterState(register_index);</div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span>  <span class="keywordflow">switch</span> (register_state) {</div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>    <span class="keywordflow">case</span> STACKED:</div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Str(source, register_location(register_index));</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>    <span class="keywordflow">case</span> CACHED_LSW: {</div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>      <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> cached_register = GetCachedRegister(register_index);</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>      <span class="keywordflow">if</span> (source != cached_register.W()) {</div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>        <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bfi(cached_register, source.X(), 0, kWRegSizeInBits);</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>      }</div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span>    }</div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span>    <span class="keywordflow">case</span> CACHED_MSW: {</div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span>      <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> cached_register = GetCachedRegister(register_index);</div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bfi(cached_register, source.X(), kWRegSizeInBits, kWRegSizeInBits);</div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span>    }</div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span>      <a class="code hl_define" href="logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span>  }</div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span>}</div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span> </div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span> </div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::CallIf(Label* to, Condition <a class="code hl_variable" href="machine-operator-reducer_8cc.html#a0e07aad9de22abf9b9b1b4b437beef30">condition</a>) {</div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>  Label skip_call;</div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="machine-operator-reducer_8cc.html#a0e07aad9de22abf9b9b1b4b437beef30">condition</a> != al) <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">B</a>(&amp;skip_call, <a class="code hl_function" href="namespacev8_1_1internal.html#a8a48ceee842dc92c88dc67d8047feff0">NegateCondition</a>(<a class="code hl_variable" href="machine-operator-reducer_8cc.html#a0e07aad9de22abf9b9b1b4b437beef30">condition</a>));</div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bl(to);</div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Bind(&amp;skip_call);</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>}</div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span> </div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span> </div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::RestoreLinkRegister() {</div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>  <span class="comment">// TODO(v8:10026): Remove when we stop compacting for code objects that are</span></div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>  <span class="comment">// active on the call stack.</span></div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Pop&lt;MacroAssembler::kAuthLR&gt;(padreg, lr);</div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(lr, lr, Operand(<a class="code hl_variable" href="maglev-code-generator_8cc.html#adade6e3b43bc4bfc70490c9536cc70ba">masm_</a>-&gt;CodeObject()));</div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>}</div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span> </div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span> </div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::SaveLinkRegister() {</div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">Sub</a>(lr, lr, Operand(<a class="code hl_variable" href="maglev-code-generator_8cc.html#adade6e3b43bc4bfc70490c9536cc70ba">masm_</a>-&gt;CodeObject()));</div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span>  <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Push&lt;MacroAssembler::kSignLR&gt;(lr, padreg);</div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span>}</div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span> </div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span> </div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span><a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a> RegExpMacroAssemblerARM64::register_location(<span class="keywordtype">int</span> register_index) {</div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(register_index &lt; (1&lt;&lt;30));</div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span>  <a class="code hl_define" href="logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(kNumCachedRegisters, register_index);</div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span>  <span class="keywordflow">if</span> (num_registers_ &lt;= register_index) {</div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span>    num_registers_ = register_index + 1;</div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span>  }</div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span>  register_index -= kNumCachedRegisters;</div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> = kFirstRegisterOnStackOffset - register_index * <a class="code hl_variable" href="namespacev8_1_1internal.html#aaa668aa654acde87b81bdf471c9691b3">kWRegSize</a>;</div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span>  <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(frame_pointer(), <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>);</div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span>}</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span> </div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span><a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a> RegExpMacroAssemblerARM64::capture_location(<span class="keywordtype">int</span> register_index,</div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>                                                     Register scratch) {</div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(register_index &lt; (1&lt;&lt;30));</div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(register_index &lt; num_saved_registers_);</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>  <a class="code hl_define" href="logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(kNumCachedRegisters, register_index);</div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>  <a class="code hl_define" href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(register_index % 2, 0);</div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span>  register_index -= kNumCachedRegisters;</div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> = kFirstCaptureOnStackOffset - register_index * <a class="code hl_variable" href="namespacev8_1_1internal.html#aaa668aa654acde87b81bdf471c9691b3">kWRegSize</a>;</div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span>  <span class="comment">// capture_location is used with Stp instructions to load/store 2 registers.</span></div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span>  <span class="comment">// The immediate field in the encoding is limited to 7 bits (signed).</span></div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span>  <span class="keywordflow">if</span> (is_int7(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>)) {</div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span>    <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(frame_pointer(), <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>);</div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span>    <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(scratch, frame_pointer(), <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>);</div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span>    <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(scratch);</div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span>  }</div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span>}</div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span> </div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span><span class="keywordtype">void</span> RegExpMacroAssemblerARM64::LoadCurrentCharacterUnchecked(<span class="keywordtype">int</span> cp_offset,</div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>                                                              <span class="keywordtype">int</span> characters) {</div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span>  <a class="code hl_function" href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">Register</a> <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> = current_input_offset();</div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span> </div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span>  <span class="comment">// The ldr, str, ldrh, strh instructions can do unaligned accesses, if the CPU</span></div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span>  <span class="comment">// and the operating system running on the target allow it.</span></div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span>  <span class="comment">// If unaligned load/stores are not supported then this function must only</span></div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span>  <span class="comment">// be used to load a single character at a time.</span></div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span> </div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span>  <span class="comment">// ARMv8 supports unaligned accesses but V8 or the kernel can decide to</span></div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span>  <span class="comment">// disable it.</span></div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span>  <span class="comment">// TODO(pielan): See whether or not we should disable unaligned accesses.</span></div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span>  <span class="keywordflow">if</span> (!CanReadUnaligned()) {</div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span>    <a class="code hl_define" href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, characters);</div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>  }</div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span> </div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span>  <span class="keywordflow">if</span> (cp_offset != 0) {</div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.debug_code) {</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Mov(x10, cp_offset * char_size());</div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(x10, x10, Operand(current_input_offset(), SXTW));</div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Cmp(x10, Operand(w10, SXTW));</div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span>      <span class="comment">// The offset needs to fit in a W register.</span></div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Check(eq, AbortReason::kOffsetOutOfRange);</div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">Add</a>(w10, current_input_offset(), cp_offset * char_size());</div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span>    }</div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span>    <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> = w10;</div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span>  }</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span> </div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="code-generator-arm_8cc.html#adc5709192230b7fde07de03eb2974043">mode_</a> == LATIN1) {</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>    <span class="keywordflow">if</span> (characters == 4) {</div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldr(current_character(), <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(input_end(), <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>, SXTW));</div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (characters == 2) {</div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldrh(current_character(), <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(input_end(), <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>, SXTW));</div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span>      <a class="code hl_define" href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, characters);</div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldrb(current_character(), <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(input_end(), <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>, SXTW));</div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span>    }</div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span>    <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_variable" href="code-generator-arm_8cc.html#adc5709192230b7fde07de03eb2974043">mode_</a> == UC16);</div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span>    <span class="keywordflow">if</span> (characters == 2) {</div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldr(current_character(), <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(input_end(), <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>, SXTW));</div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span>      <a class="code hl_define" href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, characters);</div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Ldrh(current_character(), <a class="code hl_typedef" href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">MemOperand</a>(input_end(), <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>, SXTW));</div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span>    }</div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span>  }</div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span>}</div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span> </div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span>}  <span class="comment">// namespace internal</span></div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span>}  <span class="comment">// namespace v8</span></div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span> </div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span><span class="preprocessor">#undef __</span></div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span> </div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span><span class="preprocessor">#endif  </span><span class="comment">// V8_TARGET_ARCH_ARM64</span></div>
<div class="ttc" id="aasm-types_8cc_html_a3ec7489f692d014c845cc17e64456793"><div class="ttname"><a href="asm-types_8cc.html#a3ec7489f692d014c845cc17e64456793">Zone</a></div><div class="ttdeci">friend Zone</div><div class="ttdef"><b>Definition</b> <a href="asm-types_8cc_source.html#l00195">asm-types.cc:195</a></div></div>
<div class="ttc" id="abaseline-assembler-arm-inl_8h_html_a0a87998f4e8cee4888f2a89df3d5639b"><div class="ttname"><a href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a></div><div class="ttdeci">#define __</div><div class="ttdef"><b>Definition</b> <a href="baseline-assembler-arm-inl_8h_source.html#l00052">baseline-assembler-arm-inl.h:52</a></div></div>
<div class="ttc" id="aclasslength_html"><div class="ttname"><a href="classlength.html">length</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RegExpMacroAssemblerARM64_html_a7d51531c070c825ebe027f0e464c13fe"><div class="ttname"><a href="classv8_1_1internal_1_1RegExpMacroAssemblerARM64.html#a7d51531c070c825ebe027f0e464c13fe">v8::internal::RegExpMacroAssemblerARM64::RegExpMacroAssemblerARM64</a></div><div class="ttdeci">RegExpMacroAssemblerARM64(Isolate *isolate, Zone *zone, Mode mode, int registers_to_save)</div></div>
<div class="ttc" id="acode-events_8h_html_ad6ec92ea4475dc9e407f0963df52df64"><div class="ttname"><a href="code-events_8h.html#ad6ec92ea4475dc9e407f0963df52df64">PROFILE</a></div><div class="ttdeci">#define PROFILE(the_isolate, Call)</div><div class="ttdef"><b>Definition</b> <a href="code-events_8h_source.html#l00059">code-events.h:59</a></div></div>
<div class="ttc" id="acode-generator-arm_8cc_html_adc5709192230b7fde07de03eb2974043"><div class="ttname"><a href="code-generator-arm_8cc.html#adc5709192230b7fde07de03eb2974043">mode_</a></div><div class="ttdeci">RecordWriteMode const mode_</div><div class="ttdef"><b>Definition</b> <a href="code-generator-arm_8cc_source.html#l00224">code-generator-arm.cc:224</a></div></div>
<div class="ttc" id="acode-reference_8cc_html_acb81abe9f50b4d55703e5555f9da26a0"><div class="ttname"><a href="code-reference_8cc.html#acb81abe9f50b4d55703e5555f9da26a0">code_desc</a></div><div class="ttdeci">const CodeDesc * code_desc</div><div class="ttdef"><b>Definition</b> <a href="code-reference_8cc_source.html#l00059">code-reference.cc:59</a></div></div>
<div class="ttc" id="acodegen_2assembler_8h_html_a76c4e520168782df773c203738c512fa"><div class="ttname"><a href="codegen_2assembler_8h.html#a76c4e520168782df773c203738c512fa">ASM_CODE_COMMENT_STRING</a></div><div class="ttdeci">#define ASM_CODE_COMMENT_STRING(asm,...)</div><div class="ttdef"><b>Definition</b> <a href="codegen_2assembler_8h_source.html#l00618">assembler.h:618</a></div></div>
<div class="ttc" id="aembedded-data_8h_html"><div class="ttname"><a href="embedded-data_8h.html">embedded-data.h</a></div></div>
<div class="ttc" id="aexperimental-compiler_8cc_html_a092c9ed2d1a6372cb90bb48d778891c7"><div class="ttname"><a href="experimental-compiler_8cc.html#a092c9ed2d1a6372cb90bb48d778891c7">label</a></div><div class="ttdeci">Label label</div><div class="ttdef"><b>Definition</b> <a href="experimental-compiler_8cc_source.html#l00532">experimental-compiler.cc:532</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_aea315e922a204d2310a710fc8416122a"><div class="ttname"><a href="flag-definitions_8h.html#aea315e922a204d2310a710fc8416122a">X</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enable experimental feedback collection in generic lowering enable Turboshaft s WasmLoadElimination run instruction selection on Turboshaft IR directly enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information build the Turboshaft graph from Maglev trace emitted Turboshaft instructions profile guided optimization for empty feedback vector invocation count for maglev for functions which according to profile_guided_optimization are likely to deoptimize before reaching this invocation count Immediately re optimize code after some lazy deopts Enables the lazy new space shrinking strategy max size of a semi the new space consists of two semi spaces young and full garbage collection phases are not overlapping Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in allocation gc speed Starts incremental marking with kUserVisible priority threshold for starting incremental marking immediately in percent of available minor GC task trigger in percent of the current heap limit use a separate phase for stack scanning in scavenge max worker number of concurrent for NumberOfWorkerThreads start background threads that allocate memory concurrent_array_buffer_sweeping use parallel threads to clear weak refs in the atomic pause trace progress of the incremental marking trace object counts and memory usage report a tick only when allocated zone memory changes by this amount TracingFlags::gc_stats TracingFlags::gc_stats track native contexts that are expected to be garbage collected verify heap pointers before and after GC use memory reducer for small heaps External memory limits are computed as part of global limits in v8 Heap specifies heap growing factor Perform compaction on full GCs based on V8 s default heuristics Perform compaction on every full GC Perform code space compaction when finalizing a full GC with stack Stress GC compaction to flush out Stress GC compaction by selecting random percent of pages as evacuation candidates Overrides stress_compaction flush of bytecode when it has not been executed recently Flush code when tab goes into the background Use per context worklist for marking force incremental marking for small heaps and run it more often force marking at random points between and X(inclusive) percent &quot; &quot;of the regular marking start limit&quot;) DEFINE_INT(stress_scavenge</div></div>
<div class="ttc" id="aflag-definitions_8h_html_af0832cf93cb1767d6e6e287bb7dcdf72"><div class="ttname"><a href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a></div><div class="ttdeci">other heap size flags(e.g. initial_heap_size) take precedence&quot;) DEFINE_SIZE_T( max_shared_heap_size</div></div>
<div class="ttc" id="agraph-builder_8cc_html_a9990dda08de44f6aee0aaf44c50da7d9"><div class="ttname"><a href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a></div><div class="ttdeci">Isolate * isolate</div><div class="ttdef"><b>Definition</b> <a href="graph-builder_8cc_source.html#l00058">graph-builder.cc:58</a></div></div>
<div class="ttc" id="ainstruction-selector-ia32_8cc_html_a115c48491bb37004f5ac67eb46ac2c23"><div class="ttname"><a href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a></div><div class="ttdeci">turboshaft::OpIndex base</div><div class="ttdef"><b>Definition</b> <a href="instruction-selector-ia32_8cc_source.html#l00070">instruction-selector-ia32.cc:70</a></div></div>
<div class="ttc" id="ainstruction-selector-ia32_8cc_html_a97bd6c077f3c7769f575b82988b9b668"><div class="ttname"><a href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a></div><div class="ttdeci">int32_t offset</div><div class="ttdef"><b>Definition</b> <a href="instruction-selector-ia32_8cc_source.html#l00072">instruction-selector-ia32.cc:72</a></div></div>
<div class="ttc" id="ainstruction-selector-ia32_8cc_html_ae55190dbead0a94298bdfa37911694e3"><div class="ttname"><a href="instruction-selector-ia32_8cc.html#ae55190dbead0a94298bdfa37911694e3">index</a></div><div class="ttdeci">turboshaft::OptionalOpIndex index</div><div class="ttdef"><b>Definition</b> <a href="instruction-selector-ia32_8cc_source.html#l00071">instruction-selector-ia32.cc:71</a></div></div>
<div class="ttc" id="ajump-threading_8cc_html_a41f8c58d2c01bf65b8ee199c3f87fc80"><div class="ttname"><a href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a></div><div class="ttdeci">ZoneVector&lt; RpoNumber &gt; &amp; result</div><div class="ttdef"><b>Definition</b> <a href="jump-threading_8cc_source.html#l00021">jump-threading.cc:21</a></div></div>
<div class="ttc" id="aliftoff-compiler_8cc_html_a0b22b2be5dbaab38c23b09bdd78d7c43"><div class="ttname"><a href="liftoff-compiler_8cc.html#a0b22b2be5dbaab38c23b09bdd78d7c43">reg</a></div><div class="ttdeci">LiftoffRegister reg</div><div class="ttdef"><b>Definition</b> <a href="liftoff-compiler_8cc_source.html#l00512">liftoff-compiler.cc:512</a></div></div>
<div class="ttc" id="aliveedit_8cc_html_a401e942526aac47cef94f478182486e7"><div class="ttname"><a href="liveedit_8cc.html#a401e942526aac47cef94f478182486e7">position</a></div><div class="ttdeci">int position</div><div class="ttdef"><b>Definition</b> <a href="liveedit_8cc_source.html#l00290">liveedit.cc:290</a></div></div>
<div class="ttc" id="alog_8h_html"><div class="ttname"><a href="log_8h.html">log.h</a></div></div>
<div class="ttc" id="alogging_8h_html_a0bc63b24b654ca433be7b97a3edde132"><div class="ttname"><a href="logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a></div><div class="ttdeci">#define UNREACHABLE()</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00067">logging.h:67</a></div></div>
<div class="ttc" id="alogging_8h_html_a16b382527f19b805fc8f856668f2270b"><div class="ttname"><a href="logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a></div><div class="ttdeci">#define DCHECK_LE(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00490">logging.h:490</a></div></div>
<div class="ttc" id="alogging_8h_html_a986dc8f4ec6dcd0644efe205c13f8eb7"><div class="ttname"><a href="logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a></div><div class="ttdeci">#define DCHECK_NE(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00486">logging.h:486</a></div></div>
<div class="ttc" id="alogging_8h_html_aabec5c3b7a8628298a25f044dcf89c25"><div class="ttname"><a href="logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a></div><div class="ttdeci">#define DCHECK_GE(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00488">logging.h:488</a></div></div>
<div class="ttc" id="alogging_8h_html_ae17f8119c108cf3070bad3449c7e0006"><div class="ttname"><a href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a></div><div class="ttdeci">#define DCHECK(condition)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00482">logging.h:482</a></div></div>
<div class="ttc" id="alogging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00485">logging.h:485</a></div></div>
<div class="ttc" id="alogging_8h_html_afd957f297df7e9ee36c46185e961485f"><div class="ttname"><a href="logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a></div><div class="ttdeci">#define DCHECK_GT(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00487">logging.h:487</a></div></div>
<div class="ttc" id="amachine-operator-reducer_8cc_html_a0e07aad9de22abf9b9b1b4b437beef30"><div class="ttname"><a href="machine-operator-reducer_8cc.html#a0e07aad9de22abf9b9b1b4b437beef30">condition</a></div><div class="ttdeci">Node * condition</div><div class="ttdef"><b>Definition</b> <a href="machine-operator-reducer_8cc_source.html#l02792">machine-operator-reducer.cc:2792</a></div></div>
<div class="ttc" id="amachine-operator-reducer_8cc_html_a406af858c5259e17f9ddc64513999dac"><div class="ttname"><a href="machine-operator-reducer_8cc.html#a406af858c5259e17f9ddc64513999dac">mask</a></div><div class="ttdeci">uint32_t const mask</div><div class="ttdef"><b>Definition</b> <a href="machine-operator-reducer_8cc_source.html#l02278">machine-operator-reducer.cc:2278</a></div></div>
<div class="ttc" id="amacro-assembler-arm64-inl_8h_html"><div class="ttname"><a href="macro-assembler-arm64-inl_8h.html">macro-assembler-arm64-inl.h</a></div></div>
<div class="ttc" id="amacro-assembler_8h_html"><div class="ttname"><a href="macro-assembler_8h.html">macro-assembler.h</a></div></div>
<div class="ttc" id="amacro-assembler_8h_html_a972da3b81fe4f69de69fa147784bd926a8cc8e60acfa3ae6089df773013fd73a2"><div class="ttname"><a href="macro-assembler_8h.html#a972da3b81fe4f69de69fa147784bd926a8cc8e60acfa3ae6089df773013fd73a2">SetIsolateDataSlots::kNo</a></div><div class="ttdeci">@ kNo</div></div>
<div class="ttc" id="amaglev-code-generator_8cc_html_adade6e3b43bc4bfc70490c9536cc70ba"><div class="ttname"><a href="maglev-code-generator_8cc.html#adade6e3b43bc4bfc70490c9536cc70ba">masm_</a></div><div class="ttdeci">MaglevAssembler *const masm_</div><div class="ttdef"><b>Definition</b> <a href="maglev-code-generator_8cc_source.html#l00492">maglev-code-generator.cc:492</a></div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition</b> <a href="hashing_8h_source.html#l00364">hashing.h:364</a></div></div>
<div class="ttc" id="anamespacev8_1_1bigint_html_a6d4d2ce18897aba0f90b3208eca29a5b"><div class="ttname"><a href="namespacev8_1_1bigint.html#a6d4d2ce18897aba0f90b3208eca29a5b">v8::bigint::Add</a></div><div class="ttdeci">void Add(RWDigits Z, Digits X, Digits Y)</div><div class="ttdef"><b>Definition</b> <a href="vector-arithmetic_8cc_source.html#l00041">vector-arithmetic.cc:41</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1ETWJITInterface_html_a6782da00e5166055555c65db3a9ec7eb"><div class="ttname"><a href="namespacev8_1_1internal_1_1ETWJITInterface.html#a6782da00e5166055555c65db3a9ec7eb">v8::internal::ETWJITInterface::Register</a></div><div class="ttdeci">void Register()</div><div class="ttdef"><b>Definition</b> <a href="etw-jit-win_8cc_source.html#l00188">etw-jit-win.cc:188</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_html_aeed1d9cf860ddb904c1e57432fb2fd48"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#aeed1d9cf860ddb904c1e57432fb2fd48">v8::internal::compiler::turboshaft::CallTarget</a></div><div class="ttdeci">UntaggedUnion&lt; WordPtr, Code, JSFunction, Word32 &gt; CallTarget</div><div class="ttdef"><b>Definition</b> <a href="index_8h_source.html#l00544">index.h:544</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1maglev_html_a731e3ec24b7928dd9959cb6ce1d8950c"><div class="ttname"><a href="namespacev8_1_1internal_1_1maglev.html#a731e3ec24b7928dd9959cb6ce1d8950c">v8::internal::maglev::RegisterState</a></div><div class="ttdeci">base::PointerWithPayload&lt; void, RegisterStateFlags, 2 &gt; RegisterState</div><div class="ttdef"><b>Definition</b> <a href="maglev-regalloc-data_8h_source.html#l00063">maglev-regalloc-data.h:63</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1liftoff_html_ab4890d575215a42aa89598b56f9082bd"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#ab4890d575215a42aa89598b56f9082bd">v8::internal::wasm::liftoff::And</a></div><div class="ttdeci">void And(LiftoffAssembler *lasm, Register dst, Register lhs, Register rhs)</div><div class="ttdef"><b>Definition</b> <a href="liftoff-assembler-arm-inl_8h_source.html#l01092">liftoff-assembler-arm-inl.h:1092</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1liftoff_html_af235e0902cf4fbd4131a93f64a84552d"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1liftoff.html#af235e0902cf4fbd4131a93f64a84552d">v8::internal::wasm::liftoff::Sub</a></div><div class="ttdeci">void Sub(LiftoffAssembler *lasm, Register dst, Register lhs, Register rhs)</div><div class="ttdef"><b>Definition</b> <a href="liftoff-assembler-arm-inl_8h_source.html#l01087">liftoff-assembler-arm-inl.h:1087</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition</b> <a href="api-arguments-inl_8h_source.html#l00018">api-arguments-inl.h:18</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0afc9ec046d67b0539bfb723e32e5732"><div class="ttname"><a href="namespacev8_1_1internal.html#a0afc9ec046d67b0539bfb723e32e5732">v8::internal::W</a></div><div class="ttdeci">constexpr int W</div><div class="ttdef"><b>Definition</b> <a href="constants-arm_8h_source.html#l00176">constants-arm.h:176</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a46f8496fa0c6e0a89acf3e6b8c660205"><div class="ttname"><a href="namespacev8_1_1internal.html#a46f8496fa0c6e0a89acf3e6b8c660205">v8::internal::CodeObjectRequired</a></div><div class="ttdeci">CodeObjectRequired</div><div class="ttdef"><b>Definition</b> <a href="codegen_2assembler_8h_source.html#l00190">assembler.h:190</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a4cef03f7c876a2d1b85003903d5fc380"><div class="ttname"><a href="namespacev8_1_1internal.html#a4cef03f7c876a2d1b85003903d5fc380">v8::internal::B</a></div><div class="ttdeci">constexpr int B</div><div class="ttdef"><b>Definition</b> <a href="constants-arm_8h_source.html#l00178">constants-arm.h:178</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5031451934208565c827c86d9eb86c5a"><div class="ttname"><a href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">v8::internal::internal</a></div><div class="ttdeci">internal</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00457">wasm-objects-inl.h:457</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a72cbfdfeabb9a401f279f7b80bcff67a"><div class="ttname"><a href="namespacev8_1_1internal.html#a72cbfdfeabb9a401f279f7b80bcff67a">v8::internal::kSystemPointerSize</a></div><div class="ttdeci">constexpr int kSystemPointerSize</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l00402">globals.h:402</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a7cbd077d883d8348a918278a01cf2444"><div class="ttname"><a href="namespacev8_1_1internal.html#a7cbd077d883d8348a918278a01cf2444">v8::internal::MemOperand</a></div><div class="ttdeci">Operand MemOperand</div><div class="ttdef"><b>Definition</b> <a href="macro-assembler-ia32_8h_source.html#l00046">macro-assembler-ia32.h:46</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a8a3ae23daeee374946d2d1749417314b"><div class="ttname"><a href="namespacev8_1_1internal.html#a8a3ae23daeee374946d2d1749417314b">v8::internal::NewAssemblerBuffer</a></div><div class="ttdeci">std::unique_ptr&lt; AssemblerBuffer &gt; NewAssemblerBuffer(int size)</div><div class="ttdef"><b>Definition</b> <a href="codegen_2assembler_8cc_source.html#l00167">assembler.cc:167</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a8a48ceee842dc92c88dc67d8047feff0"><div class="ttname"><a href="namespacev8_1_1internal.html#a8a48ceee842dc92c88dc67d8047feff0">v8::internal::NegateCondition</a></div><div class="ttdeci">Condition NegateCondition(Condition cond)</div><div class="ttdef"><b>Definition</b> <a href="constants-arm_8h_source.html#l00126">constants-arm.h:126</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aaa668aa654acde87b81bdf471c9691b3"><div class="ttname"><a href="namespacev8_1_1internal.html#aaa668aa654acde87b81bdf471c9691b3">v8::internal::kWRegSize</a></div><div class="ttdeci">constexpr int kWRegSize</div><div class="ttdef"><b>Definition</b> <a href="constants-arm64_8h_source.html#l00049">constants-arm64.h:49</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab4c18b4a7d8a0826207b43fd3fdf8589a393a92e2e6ee257d12c0d2f62652ade8"><div class="ttname"><a href="namespacev8_1_1internal.html#ab4c18b4a7d8a0826207b43fd3fdf8589a393a92e2e6ee257d12c0d2f62652ade8">v8::internal::kYes</a></div><div class="ttdeci">@ kYes</div><div class="ttdef"><b>Definition</b> <a href="turboshaft-builtins-assembler-inl_8h_source.html#l00051">turboshaft-builtins-assembler-inl.h:51</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_abda4a55a899184dca5308bde33e5283c"><div class="ttname"><a href="namespacev8_1_1internal.html#abda4a55a899184dca5308bde33e5283c">v8::internal::ReassignRegister</a></div><div class="ttdeci">Register ReassignRegister(Register &amp;source)</div><div class="ttdef"><b>Definition</b> <a href="register-arm_8h_source.html#l00076">register-arm.h:76</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae7be09d4937ccd23910375645d8f986a"><div class="ttname"><a href="namespacev8_1_1internal.html#ae7be09d4937ccd23910375645d8f986a">v8::internal::kXRegSize</a></div><div class="ttdeci">constexpr int kXRegSize</div><div class="ttdef"><b>Definition</b> <a href="constants-arm64_8h_source.html#l00053">constants-arm64.h:53</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae9308b945f70a8f3a363809af711874c"><div class="ttname"><a href="namespacev8_1_1internal.html#ae9308b945f70a8f3a363809af711874c">v8::internal::NoReg</a></div><div class="ttdeci">constexpr Register NoReg</div><div class="ttdef"><b>Definition</b> <a href="register-arm64_8h_source.html#l00468">register-arm64.h:468</a></div></div>
<div class="ttc" id="anamespacev8_html"><div class="ttname"><a href="namespacev8.html">v8</a></div><div class="ttdef"><b>Definition</b> <a href="api-arguments-inl_8h_source.html#l00017">api-arguments-inl.h:17</a></div></div>
<div class="ttc" id="aobjects-inl_8h_html"><div class="ttname"><a href="objects-inl_8h.html">objects-inl.h</a></div></div>
<div class="ttc" id="aregexp-macro-assembler-arm64_8h_html"><div class="ttname"><a href="regexp-macro-assembler-arm64_8h.html">regexp-macro-assembler-arm64.h</a></div></div>
<div class="ttc" id="aregexp-macro-assembler_8h_html"><div class="ttname"><a href="regexp-macro-assembler_8h.html">regexp-macro-assembler.h</a></div></div>
<div class="ttc" id="aregexp-stack_8h_html"><div class="ttname"><a href="regexp-stack_8h.html">regexp-stack.h</a></div></div>
<div class="ttc" id="areglist-arm64_8h_html_acd6b69322c0921c70f41102c969b106b"><div class="ttname"><a href="reglist-arm64_8h.html#acd6b69322c0921c70f41102c969b106b">kCalleeSaved</a></div><div class="ttdeci">#define kCalleeSaved</div><div class="ttdef"><b>Definition</b> <a href="reglist-arm64_8h_source.html#l00162">reglist-arm64.h:162</a></div></div>
<div class="ttc" id="atagged-field_8h_html_a5284b5dce86d72e01944bab90ed2cbab"><div class="ttname"><a href="tagged-field_8h.html#a5284b5dce86d72e01944bab90ed2cbab">OFFSET_OF_DATA_START</a></div><div class="ttdeci">#define OFFSET_OF_DATA_START(Type)</div><div class="ttdef"><b>Definition</b> <a href="tagged-field_8h_source.html#l00165">tagged-field.h:165</a></div></div>
<div class="ttc" id="aunicode_8h_html"><div class="ttname"><a href="unicode_8h.html">unicode.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 3 2025 08:19:51 for v8 by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
