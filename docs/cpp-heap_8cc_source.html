<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>v8: /home/w1redch4d/Documents/browser-exploitation/v8/v8/src/heap/cppgc-js/cpp-heap.cc Source File</title>
<link rel="icon" href="v8.svg" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="v8.svg"/></td>
  <td id="projectalign">
   <div id="projectname">v8
   </div>
   <div id="projectbrief">V8 is Googleâ€™s open source high-performance JavaScript and WebAssembly engine, written in C++. It is used in Chrome and in Node.js, among others. It implements ECMAScript and WebAssembly, and runs on Windows, macOS, and Linux systems that use x64, IA-32, or ARM processors. V8 can be embedded into any C++ application.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c4d22fc0e4736089ffe45cb281f7e16f.html">heap</a></li><li class="navelem"><a class="el" href="dir_635057e377cf73d6fe3165c4930555c4.html">cppgc-js</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="headertitle"><div class="title">cpp-heap.cc</div></div>
</div><!--header-->
<div class="contents">
<a href="cpp-heap_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">// Copyright 2020 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &quot;<a class="code" href="cpp-heap_8h.html">src/heap/cppgc-js/cpp-heap.h</a>&quot;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span> </div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &lt;numeric&gt;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span> </div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &quot;include/cppgc/heap-consistency.h&quot;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &quot;include/cppgc/platform.h&quot;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &quot;include/v8-isolate.h&quot;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &quot;include/v8-local-handle.h&quot;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;include/v8-platform.h&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;<a class="code" href="logging_8h.html">src/base/logging.h</a>&quot;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &quot;<a class="code" href="macros_8h.html">src/base/macros.h</a>&quot;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &quot;<a class="code" href="time_8h.html">src/base/platform/time.h</a>&quot;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &quot;<a class="code" href="execution_2isolate-inl_8h.html">src/execution/isolate-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &quot;<a class="code" href="v8threads_8h.html">src/execution/v8threads.h</a>&quot;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &quot;<a class="code" href="flags_2flags_8h.html">src/flags/flags.h</a>&quot;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;<a class="code" href="handles_8h.html">src/handles/handles.h</a>&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &quot;<a class="code" href="traced-handles_8h.html">src/handles/traced-handles.h</a>&quot;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="stack_8h.html">src/heap/base/stack.h</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &quot;<a class="code" href="cpp-marking-state_8h.html">src/heap/cppgc-js/cpp-marking-state.h</a>&quot;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;<a class="code" href="cpp-snapshot_8h.html">src/heap/cppgc-js/cpp-snapshot.h</a>&quot;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;<a class="code" href="unified-heap-marking-state-inl_8h.html">src/heap/cppgc-js/unified-heap-marking-state-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &quot;<a class="code" href="unified-heap-marking-state_8h.html">src/heap/cppgc-js/unified-heap-marking-state.h</a>&quot;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &quot;<a class="code" href="unified-heap-marking-verifier_8h.html">src/heap/cppgc-js/unified-heap-marking-verifier.h</a>&quot;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &quot;<a class="code" href="unified-heap-marking-visitor_8h.html">src/heap/cppgc-js/unified-heap-marking-visitor.h</a>&quot;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &quot;<a class="code" href="concurrent-marker_8h.html">src/heap/cppgc/concurrent-marker.h</a>&quot;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &quot;<a class="code" href="gc-info-table_8h.html">src/heap/cppgc/gc-info-table.h</a>&quot;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &quot;<a class="code" href="heap-base_8h.html">src/heap/cppgc/heap-base.h</a>&quot;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#include &quot;<a class="code" href="heap-object-header_8h.html">src/heap/cppgc/heap-object-header.h</a>&quot;</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#include &quot;<a class="code" href="marker_8h.html">src/heap/cppgc/marker.h</a>&quot;</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">#include &quot;<a class="code" href="cppgc_2marking-state_8h.html">src/heap/cppgc/marking-state.h</a>&quot;</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#include &quot;<a class="code" href="cppgc_2marking-visitor_8h.html">src/heap/cppgc/marking-visitor.h</a>&quot;</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="preprocessor">#include &quot;<a class="code" href="metric-recorder_8h.html">src/heap/cppgc/metric-recorder.h</a>&quot;</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="preprocessor">#include &quot;<a class="code" href="object-allocator_8h.html">src/heap/cppgc/object-allocator.h</a>&quot;</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="preprocessor">#include &quot;<a class="code" href="page-memory_8h.html">src/heap/cppgc/page-memory.h</a>&quot;</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="preprocessor">#include &quot;<a class="code" href="heap_2cppgc_2platform_8h.html">src/heap/cppgc/platform.h</a>&quot;</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="preprocessor">#include &quot;<a class="code" href="prefinalizer-handler_8h.html">src/heap/cppgc/prefinalizer-handler.h</a>&quot;</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="preprocessor">#include &quot;<a class="code" href="raw-heap_8h.html">src/heap/cppgc/raw-heap.h</a>&quot;</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="preprocessor">#include &quot;<a class="code" href="stats-collector_8h.html">src/heap/cppgc/stats-collector.h</a>&quot;</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="preprocessor">#include &quot;<a class="code" href="cppgc_2sweeper_8h.html">src/heap/cppgc/sweeper.h</a>&quot;</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="preprocessor">#include &quot;<a class="code" href="unmarker_8h.html">src/heap/cppgc/unmarker.h</a>&quot;</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="preprocessor">#include &quot;<a class="code" href="visitor_8h.html">src/heap/cppgc/visitor.h</a>&quot;</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="preprocessor">#include &quot;<a class="code" href="gc-tracer_8h.html">src/heap/gc-tracer.h</a>&quot;</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="preprocessor">#include &quot;<a class="code" href="heap_8h.html">src/heap/heap.h</a>&quot;</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="preprocessor">#include &quot;<a class="code" href="marking-worklist_8h.html">src/heap/marking-worklist.h</a>&quot;</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="preprocessor">#include &quot;<a class="code" href="minor-mark-sweep_8h.html">src/heap/minor-mark-sweep.h</a>&quot;</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="preprocessor">#include &quot;<a class="code" href="traced-handles-marking-visitor_8h.html">src/heap/traced-handles-marking-visitor.h</a>&quot;</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="preprocessor">#include &quot;<a class="code" href="v8_8h.html">src/init/v8.h</a>&quot;</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="preprocessor">#include &quot;<a class="code" href="heap-profiler_8h.html">src/profiler/heap-profiler.h</a>&quot;</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span> </div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacev8.html">v8</a> {</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> </div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span><span class="keyword">namespace </span><a class="code hl_variable" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a> {</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span> </div>
<div class="foldopen" id="foldopen00061" data-start="{" data-end="};">
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html">   61</a></span><span class="keyword">class </span><a class="code hl_class" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html">MinorGCHeapGrowing</a></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    : <span class="keyword">public</span> <a class="code hl_class" href="classcppgc_1_1internal_1_1StatsCollector_1_1AllocationObserver.html">cppgc::internal::StatsCollector::AllocationObserver</a> {</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span> <span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen00064" data-start="{" data-end="}">
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a302e0d2aaef7f1c303e8ef75328a9fbd">   64</a></span>  <span class="keyword">explicit</span> <a class="code hl_function" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a302e0d2aaef7f1c303e8ef75328a9fbd">MinorGCHeapGrowing</a>(<a class="code hl_class" href="classcppgc_1_1internal_1_1StatsCollector.html">cppgc::internal::StatsCollector</a>&amp; stats_collector)</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>      : <a class="code hl_variable" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a02a85c2738625cc153475789c729b709">stats_collector_</a>(stats_collector) {</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>    stats_collector.<a class="code hl_function" href="classcppgc_1_1internal_1_1StatsCollector.html#a57cac0c9b6d4f9b1e21a61132642d70c">RegisterObserver</a>(<span class="keyword">this</span>);</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>  }</div>
</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a0deabe28b5a6679b48c076542938ffd1">   68</a></span>  <span class="keyword">virtual</span> <a class="code hl_function" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a0deabe28b5a6679b48c076542938ffd1">~MinorGCHeapGrowing</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span> </div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#afc9bb9a200e980e5569fa9a7095e979f">   70</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#afc9bb9a200e980e5569fa9a7095e979f">AllocatedObjectSizeIncreased</a>(<span class="keywordtype">size_t</span>) <span class="keyword">final</span> {}</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a15f377e9f6504b22fa620ac07fb835e5">   71</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a15f377e9f6504b22fa620ac07fb835e5">AllocatedObjectSizeDecreased</a>(<span class="keywordtype">size_t</span>) <span class="keyword">final</span> {}</div>
<div class="foldopen" id="foldopen00072" data-start="{" data-end="}">
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a39041f1af221bbd474f89004424a51ff">   72</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a39041f1af221bbd474f89004424a51ff">ResetAllocatedObjectSize</a>(<span class="keywordtype">size_t</span> allocated_object_size) <span class="keyword">final</span> {</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>    <a class="code hl_function" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#ae14eccc1d2a402e8ce65c3383d731134">ConfigureLimit</a>(allocated_object_size);</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>  }</div>
</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span> </div>
<div class="foldopen" id="foldopen00076" data-start="{" data-end="}">
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#aa2f5fa0ced308746eb45c1a3047e82a1">   76</a></span>  <span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#aa2f5fa0ced308746eb45c1a3047e82a1">LimitReached</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a02a85c2738625cc153475789c729b709">stats_collector_</a>.<a class="code hl_function" href="classcppgc_1_1internal_1_1StatsCollector.html#a73f51180cb1cfd0b7eae5b7eb159f965">allocated_object_size</a>() &gt;= <a class="code hl_variable" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a06ca8d640b3e13869dc4971a8c4f2a0d">limit_for_atomic_gc_</a>;</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>  }</div>
</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span> </div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span> <span class="keyword">private</span>:</div>
<div class="foldopen" id="foldopen00081" data-start="{" data-end="}">
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#ae14eccc1d2a402e8ce65c3383d731134">   81</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#ae14eccc1d2a402e8ce65c3383d731134">ConfigureLimit</a>(<span class="keywordtype">size_t</span> allocated_object_size) {</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    <span class="comment">// Constant growing factor for growing the heap limit.</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">double</span> kGrowingFactor = 1.5;</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    <span class="comment">// For smaller heaps, allow allocating at least LAB in each regular space</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    <span class="comment">// before triggering GC again.</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">size_t</span> kMinLimitIncrease =</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>        <a class="code hl_variable" href="namespacecppgc_1_1internal.html#a31164e981f2a7080855c4ba02f1a910b">cppgc::internal::kPageSize</a> *</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>        <a class="code hl_variable" href="classcppgc_1_1internal_1_1RawHeap.html#ae5d90a6e91ae4c34a898306a705d3623">cppgc::internal::RawHeap::kNumberOfRegularSpaces</a>;</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span> </div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> size = std::max(allocated_object_size, <a class="code hl_variable" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a6a927d64978248a262939d5d95ca686b">initial_heap_size_</a>);</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a06ca8d640b3e13869dc4971a8c4f2a0d">limit_for_atomic_gc_</a> = std::max(<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(size * kGrowingFactor),</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>                                    size + kMinLimitIncrease);</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>  }</div>
</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span> </div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a02a85c2738625cc153475789c729b709">   95</a></span>  <a class="code hl_class" href="classcppgc_1_1internal_1_1StatsCollector.html">cppgc::internal::StatsCollector</a>&amp; <a class="code hl_variable" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a02a85c2738625cc153475789c729b709">stats_collector_</a>;</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a6a927d64978248a262939d5d95ca686b">   96</a></span>  <span class="keywordtype">size_t</span> <a class="code hl_variable" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a6a927d64978248a262939d5d95ca686b">initial_heap_size_</a> = 1 * <a class="code hl_variable" href="namespacecppgc_1_1internal.html#a7216f6dea9e0b6fa2e60f51b9e1cf915">cppgc::internal::kMB</a>;</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a06ca8d640b3e13869dc4971a8c4f2a0d">   97</a></span>  <span class="keywordtype">size_t</span> <a class="code hl_variable" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a06ca8d640b3e13869dc4971a8c4f2a0d">limit_for_atomic_gc_</a> = 0;  <span class="comment">// See ConfigureLimit().</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>};</div>
</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span> </div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>}  <span class="comment">// namespace internal</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span> </div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span><span class="comment">// static</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>std::unique_ptr&lt;CppHeap&gt; CppHeap::Create(v8::Platform* platform,</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>                                         <span class="keyword">const</span> CppHeapCreateParams&amp; params) {</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>  <span class="keywordflow">return</span> std::make_unique&lt;internal::CppHeap&gt;(platform, params.custom_spaces,</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>                                             params.marking_support,</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>                                             params.sweeping_support);</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>}</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span> </div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span><a class="code hl_class" href="classcppgc_1_1AllocationHandle.html">cppgc::AllocationHandle</a>&amp; CppHeap::GetAllocationHandle() {</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a836deff2ab06497da7a43de791b48445">internal::CppHeap::From</a>(<span class="keyword">this</span>)-&gt;<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#af197b60f5b38e19ec25b9d483aead516">object_allocator</a>();</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>}</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span> </div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>cppgc::HeapHandle&amp; CppHeap::GetHeapHandle() {</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>  <span class="keywordflow">return</span> *<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a836deff2ab06497da7a43de791b48445">internal::CppHeap::From</a>(<span class="keyword">this</span>);</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>}</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span> </div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a534b235b4948e66ae40e21c88ce16439">  118</a></span><span class="keywordtype">void</span> CppHeap::Terminate() { <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a836deff2ab06497da7a43de791b48445">internal::CppHeap::From</a>(<span class="keyword">this</span>)-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a534b235b4948e66ae40e21c88ce16439">Terminate</a>(); }</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span> </div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>cppgc::HeapStatistics CppHeap::CollectStatistics(</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    cppgc::HeapStatistics::DetailLevel detail_level) {</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a836deff2ab06497da7a43de791b48445">internal::CppHeap::From</a>(<span class="keyword">this</span>)-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#aff108e8ef92c95f9b33575e9c9bde70b">AsBase</a>().<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#a424f9e91c61dcc291f62795b5485604f">CollectStatistics</a>(</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>      detail_level);</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>}</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span> </div>
<div class="foldopen" id="foldopen00126" data-start="{" data-end="}">
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#adddb22132263a8f897ae0d7da4edcdc7">  126</a></span><span class="keywordtype">void</span> CppHeap::CollectCustomSpaceStatisticsAtLastGC(</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    std::vector&lt;cppgc::CustomSpaceIndex&gt; custom_spaces,</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    std::unique_ptr&lt;CustomSpaceStatisticsReceiver&gt; <a class="code hl_variable" href="js-call-reducer_8cc.html#a8aab47cc18f1dda0f6b8034f5c64d43d">receiver</a>) {</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a836deff2ab06497da7a43de791b48445">internal::CppHeap::From</a>(<span class="keyword">this</span>)-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#adddb22132263a8f897ae0d7da4edcdc7">CollectCustomSpaceStatisticsAtLastGC</a>(</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>      std::move(custom_spaces), std::move(<a class="code hl_variable" href="js-call-reducer_8cc.html#a8aab47cc18f1dda0f6b8034f5c64d43d">receiver</a>));</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>}</div>
</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span> </div>
<div class="foldopen" id="foldopen00133" data-start="{" data-end="}">
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a6c121eccc7ec6e682feefa9841a7d2ba">  133</a></span><span class="keywordtype">void</span> CppHeap::EnableDetachedGarbageCollectionsForTesting() {</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a836deff2ab06497da7a43de791b48445">internal::CppHeap::From</a>(<span class="keyword">this</span>)</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>      -&gt;<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a6c121eccc7ec6e682feefa9841a7d2ba">EnableDetachedGarbageCollectionsForTesting</a>();</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>}</div>
</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span> </div>
<div class="foldopen" id="foldopen00138" data-start="{" data-end="}">
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a9dad5e79b098f74f1506a0cfed8c54b7">  138</a></span><span class="keywordtype">void</span> CppHeap::CollectGarbageForTesting(cppgc::EmbedderStackState stack_state) {</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a836deff2ab06497da7a43de791b48445">internal::CppHeap::From</a>(<span class="keyword">this</span>)-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a9dad5e79b098f74f1506a0cfed8c54b7">CollectGarbageForTesting</a>(</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>      internal::CppHeap::CollectionType::kMajor, stack_state);</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>}</div>
</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span> </div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span><span class="keywordtype">void</span> CppHeap::CollectGarbageInYoungGenerationForTesting(</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    cppgc::EmbedderStackState stack_state) {</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a836deff2ab06497da7a43de791b48445">internal::CppHeap::From</a>(<span class="keyword">this</span>)-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a9dad5e79b098f74f1506a0cfed8c54b7">CollectGarbageForTesting</a>(</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>      internal::CppHeap::CollectionType::kMinor, stack_state);</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>}</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span> </div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span><span class="keyword">namespace </span>internal {</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span> </div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span> </div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span><span class="keyword">class </span>CppgcPlatformAdapter final : <span class="keyword">public</span> cppgc::Platform {</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span> <span class="keyword">public</span>:</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>  <span class="keyword">explicit</span> CppgcPlatformAdapter(v8::Platform* platform)</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>      : <a class="code hl_variable" href="cpp-heap_8cc.html#a9ce841c7eda3d551d30dd1ade1cc8141">platform_</a>(platform),</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>        <a class="code hl_variable" href="cpp-heap_8cc.html#a17ab68c0df05711b0315b9614b588f9d">page_allocator_</a>(platform-&gt;GetPageAllocator()</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>                            ? platform-&gt;GetPageAllocator()</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>                            : &amp;<a class="code hl_namespace" href="namespacecppgc.html">cppgc</a>::<a class="code hl_variable" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a>::GetGlobalPageAllocator()) {}</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span> </div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>  CppgcPlatformAdapter(<span class="keyword">const</span> CppgcPlatformAdapter&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>  CppgcPlatformAdapter&amp; operator=(<span class="keyword">const</span> CppgcPlatformAdapter&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span> </div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>  PageAllocator* GetPageAllocator() final { <span class="keywordflow">return</span> <a class="code hl_variable" href="cpp-heap_8cc.html#a17ab68c0df05711b0315b9614b588f9d">page_allocator_</a>; }</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span> </div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>  <span class="keywordtype">double</span> MonotonicallyIncreasingTime() final {</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="cpp-heap_8cc.html#a9ce841c7eda3d551d30dd1ade1cc8141">platform_</a>-&gt;MonotonicallyIncreasingTime();</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>  }</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span> </div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>  std::shared_ptr&lt;TaskRunner&gt; GetForegroundTaskRunner(</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>      TaskPriority <a class="code hl_variable" href="module-compiler_8cc.html#a12a507bc765598b5db4100af52f045e3">priority</a>) <span class="keyword">final</span> {</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    <span class="comment">// If no Isolate has been set, there&#39;s no task runner to leverage for</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    <span class="comment">// foreground tasks. In detached mode the original platform handles the</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    <span class="comment">// task runner retrieval.</span></div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <span class="keywordflow">if</span> (!isolate_ &amp;&amp; !is_in_detached_mode_) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span> </div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="cpp-heap_8cc.html#a9ce841c7eda3d551d30dd1ade1cc8141">platform_</a>-&gt;GetForegroundTaskRunner(isolate_, <a class="code hl_variable" href="module-compiler_8cc.html#a12a507bc765598b5db4100af52f045e3">priority</a>);</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>  }</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span> </div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>  std::unique_ptr&lt;JobHandle&gt; PostJob(TaskPriority <a class="code hl_variable" href="module-compiler_8cc.html#a12a507bc765598b5db4100af52f045e3">priority</a>,</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>                                     std::unique_ptr&lt;JobTask&gt; job_task) <span class="keyword">final</span> {</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="cpp-heap_8cc.html#a9ce841c7eda3d551d30dd1ade1cc8141">platform_</a>-&gt;PostJob(<a class="code hl_variable" href="module-compiler_8cc.html#a12a507bc765598b5db4100af52f045e3">priority</a>, std::move(job_task));</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>  }</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span> </div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>  TracingController* GetTracingController()<span class="keyword"> override </span>{</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="cpp-heap_8cc.html#a9ce841c7eda3d551d30dd1ade1cc8141">platform_</a>-&gt;GetTracingController();</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>  }</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span> </div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>  <span class="keywordtype">void</span> SetIsolate(v8::Isolate* isolate) { <a class="code hl_variable" href="api-natives_8cc.html#a68072bca3fef7bd8b0d3cbac971cbf4b">isolate_</a> = <a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>; }</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>  <span class="keywordtype">void</span> EnableDetachedModeForTesting() { <a class="code hl_variable" href="cpp-heap_8cc.html#a45b167fca157a479e2c965c464469fe3">is_in_detached_mode_</a> = <span class="keyword">true</span>; }</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span> </div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span> <span class="keyword">private</span>:</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno"><a class="line" href="cpp-heap_8cc.html#a9ce841c7eda3d551d30dd1ade1cc8141">  193</a></span>  v8::Platform* <a class="code hl_variable" href="cpp-heap_8cc.html#a9ce841c7eda3d551d30dd1ade1cc8141">platform_</a>;</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno"><a class="line" href="cpp-heap_8cc.html#a17ab68c0df05711b0315b9614b588f9d">  194</a></span>  cppgc::PageAllocator* <a class="code hl_variable" href="cpp-heap_8cc.html#a17ab68c0df05711b0315b9614b588f9d">page_allocator_</a>;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno"><a class="line" href="cpp-heap_8cc.html#aed72920819562776b28e463eed473d0d">  195</a></span>  v8::Isolate* <a class="code hl_variable" href="api-natives_8cc.html#a68072bca3fef7bd8b0d3cbac971cbf4b">isolate_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno"><a class="line" href="cpp-heap_8cc.html#a45b167fca157a479e2c965c464469fe3">  196</a></span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="cpp-heap_8cc.html#a45b167fca157a479e2c965c464469fe3">is_in_detached_mode_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>};</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span> </div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span><span class="keyword">class </span>UnifiedHeapConcurrentMarker</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    : <span class="keyword">public</span> <a class="code hl_class" href="classcppgc_1_1internal_1_1ConcurrentMarkerBase.html">cppgc::internal::ConcurrentMarkerBase</a> {</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span> <span class="keyword">public</span>:</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>  UnifiedHeapConcurrentMarker(</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>      <a class="code hl_class" href="classcppgc_1_1internal_1_1HeapBase.html">cppgc::internal::HeapBase</a>&amp; <a class="code hl_namespace" href="namespaceheap.html">heap</a>, Heap* v8_heap,</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>      <a class="code hl_class" href="classcppgc_1_1internal_1_1MarkingWorklists.html">cppgc::internal::MarkingWorklists</a>&amp; marking_worklists,</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>      <a class="code hl_class" href="classheap_1_1base_1_1IncrementalMarkingSchedule.html">::heap::base::IncrementalMarkingSchedule</a>&amp; incremental_marking_schedule,</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>      cppgc::Platform* platform,</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>      UnifiedHeapMarkingState&amp; unified_heap_marking_state,</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>      <a class="code hl_typedef" href="classv8_1_1internal_1_1CppHeap.html#a3499d459295de978a4d642bbd07483b4">CppHeap::CollectionType</a> collection_type)</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>      : <a class="code hl_class" href="classcppgc_1_1internal_1_1ConcurrentMarkerBase.html">cppgc::internal::ConcurrentMarkerBase</a>(</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>            <a class="code hl_namespace" href="namespaceheap.html">heap</a>, marking_worklists, incremental_marking_schedule, platform),</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>        <a class="code hl_variable" href="cpp-heap_8cc.html#aae3a0455122e76180ec49a028135c55b">v8_heap_</a>(v8_heap),</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>        <a class="code hl_variable" href="cpp-heap_8cc.html#ac9e843b0cb5c71c1989b87fffe31dbb6">collection_type_</a>(collection_type) {}</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span> </div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>  std::unique_ptr&lt;cppgc::Visitor&gt; CreateConcurrentMarkingVisitor(</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>      <a class="code hl_class" href="classcppgc_1_1internal_1_1ConcurrentMarkingState.html">cppgc::internal::ConcurrentMarkingState</a>&amp;) <span class="keyword">const</span> <span class="keyword">final</span>;</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span> </div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span> <span class="keyword">private</span>:</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno"><a class="line" href="cpp-heap_8cc.html#aae3a0455122e76180ec49a028135c55b">  218</a></span>  Heap* <span class="keyword">const</span> <a class="code hl_variable" href="cpp-heap_8cc.html#aae3a0455122e76180ec49a028135c55b">v8_heap_</a>;</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno"><a class="line" href="cpp-heap_8cc.html#ac9e843b0cb5c71c1989b87fffe31dbb6">  219</a></span>  <a class="code hl_typedef" href="classv8_1_1internal_1_1CppHeap.html#a3499d459295de978a4d642bbd07483b4">CppHeap::CollectionType</a> <a class="code hl_variable" href="cpp-heap_8cc.html#ac9e843b0cb5c71c1989b87fffe31dbb6">collection_type_</a>;</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>};</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span> </div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>std::unique_ptr&lt;cppgc::Visitor&gt;</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>UnifiedHeapConcurrentMarker::CreateConcurrentMarkingVisitor(</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    <a class="code hl_class" href="classcppgc_1_1internal_1_1ConcurrentMarkingState.html">cppgc::internal::ConcurrentMarkingState</a>&amp; marking_state)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>  <span class="keywordflow">return</span> std::make_unique&lt;ConcurrentUnifiedHeapMarkingVisitor&gt;(</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>      <a class="code hl_namespace" href="namespaceheap.html">heap</a>(), <a class="code hl_variable" href="cpp-heap_8cc.html#aae3a0455122e76180ec49a028135c55b">v8_heap_</a>, marking_state, <a class="code hl_variable" href="cpp-heap_8cc.html#ac9e843b0cb5c71c1989b87fffe31dbb6">collection_type_</a>);</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>}</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span> </div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span><span class="keywordtype">void</span> FatalOutOfMemoryHandlerImpl(<span class="keyword">const</span> std::string&amp; reason,</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>                                 <span class="keyword">const</span> SourceLocation&amp;, HeapBase* <a class="code hl_namespace" href="namespaceheap.html">heap</a>) {</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>  <span class="keyword">auto</span>* cpp_heap = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classv8_1_1internal_1_1CppHeap.html">v8::internal::CppHeap</a>*<span class="keyword">&gt;</span>(<a class="code hl_namespace" href="namespaceheap.html">heap</a>);</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>  <span class="keyword">auto</span>* isolate = cpp_heap-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a6ae13c1f6a906672819ff2dc5223d3db">isolate</a>();</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>  <a class="code hl_define" href="logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(isolate);</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.heap_snapshot_on_oom) {</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    <a class="code hl_class" href="classcppgc_1_1internal_1_1ClassNameAsHeapObjectNameScope.html">cppgc::internal::ClassNameAsHeapObjectNameScope</a> names_scope(</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>        cpp_heap-&gt;AsBase());</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>    isolate-&gt;heap_profiler()-&gt;WriteSnapshotToDiskAfterGC(</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>        v8::HeapProfiler::HeapSnapshotMode::kExposeInternals);</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>  }</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>  <a class="code hl_function" href="classv8_1_1internal_1_1V8.html#a977b087d4ee58955efe72b33136a4e94">V8::FatalProcessOutOfMemory</a>(isolate, reason.c_str());</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>}</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span> </div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span><span class="keywordtype">void</span> GlobalFatalOutOfMemoryHandlerImpl(<span class="keyword">const</span> std::string&amp; reason,</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>                                       <span class="keyword">const</span> SourceLocation&amp;, HeapBase* <a class="code hl_namespace" href="namespaceheap.html">heap</a>) {</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>  <a class="code hl_function" href="classv8_1_1internal_1_1V8.html#a977b087d4ee58955efe72b33136a4e94">V8::FatalProcessOutOfMemory</a>(<span class="keyword">nullptr</span>, reason.c_str());</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>}</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span> </div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span><span class="keyword">class </span>UnifiedHeapConservativeMarkingVisitor final</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    : <span class="keyword">public</span> <a class="code hl_class" href="classcppgc_1_1internal_1_1ConservativeMarkingVisitor.html">cppgc::internal::ConservativeMarkingVisitor</a> {</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span> <span class="keyword">public</span>:</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>  UnifiedHeapConservativeMarkingVisitor(</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>      HeapBase&amp; <a class="code hl_namespace" href="namespaceheap.html">heap</a>, MutatorMarkingState&amp; mutator_marking_state,</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>      cppgc::Visitor&amp; visitor)</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>      : ConservativeMarkingVisitor(<a class="code hl_namespace" href="namespaceheap.html">heap</a>, mutator_marking_state, visitor) {}</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>  ~UnifiedHeapConservativeMarkingVisitor() <span class="keyword">override</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span> </div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>  <span class="keywordtype">void</span> SetConservativeTracedHandlesMarkingVisitor(</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>      std::unique_ptr&lt;ConservativeTracedHandlesMarkingVisitor&gt;</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>          global_handle_marking_visitor) {</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>    <a class="code hl_variable" href="cpp-heap_8cc.html#a2f2ae300b31f4b2c2af7414e2ecae231">marking_visitor_</a> = std::move(global_handle_marking_visitor);</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>  }</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span> </div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>  <span class="keywordtype">void</span> TraceConservativelyIfNeeded(<span class="keyword">const</span> <span class="keywordtype">void</span>* address)<span class="keyword"> override </span>{</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>    ConservativeMarkingVisitor::TraceConservativelyIfNeeded(address);</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cpp-heap_8cc.html#a2f2ae300b31f4b2c2af7414e2ecae231">marking_visitor_</a>) {</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>      <a class="code hl_variable" href="cpp-heap_8cc.html#a2f2ae300b31f4b2c2af7414e2ecae231">marking_visitor_</a>-&gt;VisitPointer(address);</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>    }</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>  }</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span> </div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span> <span class="keyword">private</span>:</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno"><a class="line" href="cpp-heap_8cc.html#a2f2ae300b31f4b2c2af7414e2ecae231">  271</a></span>  std::unique_ptr&lt;ConservativeTracedHandlesMarkingVisitor&gt; <a class="code hl_variable" href="cpp-heap_8cc.html#a2f2ae300b31f4b2c2af7414e2ecae231">marking_visitor_</a>;</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>};</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span> </div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span> </div>
<div class="foldopen" id="foldopen00276" data-start="{" data-end="};">
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1UnifiedHeapMarker.html">  276</a></span><span class="keyword">class </span><a class="code hl_class" href="classv8_1_1internal_1_1UnifiedHeapMarker.html">UnifiedHeapMarker</a> final : <span class="keyword">public</span> <a class="code hl_class" href="classcppgc_1_1internal_1_1MarkerBase.html">cppgc::internal::MarkerBase</a> {</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span> <span class="keyword">public</span>:</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>  <a class="code hl_class" href="classv8_1_1internal_1_1UnifiedHeapMarker.html">UnifiedHeapMarker</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Heap.html">Heap</a>* v8_heap, <a class="code hl_class" href="classcppgc_1_1internal_1_1HeapBase.html">cppgc::internal::HeapBase</a>&amp; cpp_heap,</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>                    cppgc::Platform* platform,</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>                    <a class="code hl_struct" href="structcppgc_1_1internal_1_1MarkingConfig.html">cppgc::internal::MarkingConfig</a> config);</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span> </div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1UnifiedHeapMarker.html#aed48cf45da5244b6c5f4446e85764a5b">  282</a></span>  <a class="code hl_function" href="classv8_1_1internal_1_1UnifiedHeapMarker.html#aed48cf45da5244b6c5f4446e85764a5b">~UnifiedHeapMarker</a>() final = default;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span> </div>
<div class="foldopen" id="foldopen00284" data-start="{" data-end="}">
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1UnifiedHeapMarker.html#acb06dccb860a3844610a77846d6fc6d6">  284</a></span>  <a class="code hl_namespace" href="namespacecppgc.html">cppgc</a>::internal::<a class="code hl_class" href="classv8_1_1internal_1_1MarkingWorklists.html">MarkingWorklists</a>&amp; GetMarkingWorklists() {</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="reference-summarizer_8cc.html#a6b59d061d97640791278582e60080519">marking_worklists_</a>;</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>  }</div>
</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span> </div>
<div class="foldopen" id="foldopen00288" data-start="{" data-end="}">
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1UnifiedHeapMarker.html#a2b5109744201ea2273e53cbd8c630051">  288</a></span>  <a class="code hl_class" href="classcppgc_1_1internal_1_1MutatorMarkingState.html">cppgc::internal::MutatorMarkingState</a>&amp; <a class="code hl_function" href="classv8_1_1internal_1_1UnifiedHeapMarker.html#a2b5109744201ea2273e53cbd8c630051">GetMutatorMarkingState</a>() {</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classcppgc_1_1internal_1_1MutatorMarkingState.html">cppgc::internal::MutatorMarkingState</a>&amp;<span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>        <a class="code hl_variable" href="cpp-heap_8cc.html#a2f2ae300b31f4b2c2af7414e2ecae231">marking_visitor_</a>-&gt;marking_state_);</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>  }</div>
</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span> </div>
<div class="foldopen" id="foldopen00293" data-start="{" data-end="}">
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1UnifiedHeapMarker.html#ada9324d4b2ac143204ab85dce9af9c84">  293</a></span>  <a class="code hl_class" href="classv8_1_1internal_1_1UnifiedHeapMarkingState.html">UnifiedHeapMarkingState</a>&amp; <a class="code hl_function" href="classv8_1_1internal_1_1UnifiedHeapMarker.html#ada9324d4b2ac143204ab85dce9af9c84">GetMutatorUnifiedHeapMarkingState</a>() {</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>    <span class="keywordflow">return</span> mutator_unified_heap_marking_state_;</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>  }</div>
</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span> </div>
<div class="foldopen" id="foldopen00297" data-start="{" data-end="}">
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1UnifiedHeapMarker.html#afd8b2c23a415e862ec6990e3e3b19b7b">  297</a></span>  UnifiedHeapConservativeMarkingVisitor&amp; <a class="code hl_function" href="classv8_1_1internal_1_1UnifiedHeapMarker.html#afd8b2c23a415e862ec6990e3e3b19b7b">conservative_visitor</a>() final {</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>    <span class="keywordflow">return</span> conservative_marking_visitor_;</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>  }</div>
</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span> </div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span> <span class="keyword">protected</span>:</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1UnifiedHeapMarker.html#a746f420eb69cdd8fef9b968dbbffb8b7">  302</a></span>  cppgc::Visitor&amp; <a class="code hl_function" href="classv8_1_1internal_1_1UnifiedHeapMarker.html#a746f420eb69cdd8fef9b968dbbffb8b7">visitor</a>() final { <span class="keywordflow">return</span> *<a class="code hl_variable" href="cpp-heap_8cc.html#a2f2ae300b31f4b2c2af7414e2ecae231">marking_visitor_</a>; }</div>
<div class="foldopen" id="foldopen00303" data-start="{" data-end="}">
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1UnifiedHeapMarker.html#a0e46ecb790d158d653de179425729460">  303</a></span>  <a class="code hl_class" href="classheap_1_1base_1_1StackVisitor.html">::heap::base::StackVisitor</a>&amp; <a class="code hl_function" href="classv8_1_1internal_1_1UnifiedHeapMarker.html#a0e46ecb790d158d653de179425729460">stack_visitor</a>() final {</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>    <span class="keywordflow">return</span> conservative_marking_visitor_;</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>  }</div>
</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span> </div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span> <span class="keyword">private</span>:</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1UnifiedHeapMarker.html#a07f6e03e9d954de8f5dc7c0f75ee5876">  308</a></span>  <a class="code hl_class" href="classv8_1_1internal_1_1UnifiedHeapMarkingState.html">UnifiedHeapMarkingState</a> <a class="code hl_variable" href="classv8_1_1internal_1_1UnifiedHeapMarker.html#a07f6e03e9d954de8f5dc7c0f75ee5876">mutator_unified_heap_marking_state_</a>;</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1UnifiedHeapMarker.html#abfbba497dd0cc3306e749a125356b722">  309</a></span>  std::unique_ptr&lt;MutatorUnifiedHeapMarkingVisitor&gt; <a class="code hl_variable" href="classv8_1_1internal_1_1UnifiedHeapMarker.html#abfbba497dd0cc3306e749a125356b722">marking_visitor_</a>;</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1UnifiedHeapMarker.html#aed0e485cb92b2c0b056083e5843e6131">  310</a></span>  UnifiedHeapConservativeMarkingVisitor <a class="code hl_variable" href="classv8_1_1internal_1_1UnifiedHeapMarker.html#aed0e485cb92b2c0b056083e5843e6131">conservative_marking_visitor_</a>;</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>};</div>
</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span> </div>
<div class="foldopen" id="foldopen00313" data-start="{" data-end="}">
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1UnifiedHeapMarker.html#a6b3c845fcde3fb0f816d0aa99f750f5c">  313</a></span><a class="code hl_function" href="classv8_1_1internal_1_1UnifiedHeapMarker.html#a6b3c845fcde3fb0f816d0aa99f750f5c">UnifiedHeapMarker::UnifiedHeapMarker</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Heap.html">Heap</a>* v8_heap,</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>                                     <a class="code hl_class" href="classcppgc_1_1internal_1_1HeapBase.html">cppgc::internal::HeapBase</a>&amp; <a class="code hl_namespace" href="namespaceheap.html">heap</a>,</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>                                     cppgc::Platform* platform,</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>                                     <a class="code hl_struct" href="structcppgc_1_1internal_1_1MarkingConfig.html">cppgc::internal::MarkingConfig</a> config)</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    : <a class="code hl_namespace" href="namespacecppgc.html">cppgc</a>::<a class="code hl_variable" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a>::MarkerBase(<a class="code hl_namespace" href="namespaceheap.html">heap</a>, platform, config),</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>      mutator_unified_heap_marking_state_(v8_heap, nullptr,</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>                                          config.collection_type),</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>      <a class="code hl_variable" href="cpp-heap_8cc.html#a2f2ae300b31f4b2c2af7414e2ecae231">marking_visitor_</a>(<a class="code hl_namespace" href="namespacestd.html">std</a>::make_unique&lt;<a class="code hl_class" href="classv8_1_1internal_1_1MutatorUnifiedHeapMarkingVisitor.html">MutatorUnifiedHeapMarkingVisitor</a>&gt;(</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>          <a class="code hl_namespace" href="namespaceheap.html">heap</a>, mutator_marking_state_, mutator_unified_heap_marking_state_)),</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>      conservative_marking_visitor_(<a class="code hl_namespace" href="namespaceheap.html">heap</a>, mutator_marking_state_,</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>                                    *<a class="code hl_variable" href="cpp-heap_8cc.html#a2f2ae300b31f4b2c2af7414e2ecae231">marking_visitor_</a>) {</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>  <a class="code hl_variable" href="classcppgc_1_1internal_1_1MarkerBase.html#af6a8adf724be295d1e13ef11501e41e9">concurrent_marker_</a> = std::make_unique&lt;UnifiedHeapConcurrentMarker&gt;(</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>      <a class="code hl_variable" href="classcppgc_1_1internal_1_1MarkerBase.html#a879aea66b222e221d0cf291177f7a3bb">heap_</a>, v8_heap, <a class="code hl_variable" href="classcppgc_1_1internal_1_1MarkerBase.html#abba323146c1aed9d5cb31fe7ad83b21b">marking_worklists_</a>, *<a class="code hl_variable" href="classcppgc_1_1internal_1_1MarkerBase.html#a1e926254f8da9b9a4b05c8fea50bf2f8">schedule_</a>, <a class="code hl_variable" href="classcppgc_1_1internal_1_1MarkerBase.html#a9b75327a85fa78050093e2a6b458b7a9">platform_</a>,</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>      <a class="code hl_variable" href="classv8_1_1internal_1_1UnifiedHeapMarker.html#a07f6e03e9d954de8f5dc7c0f75ee5876">mutator_unified_heap_marking_state_</a>, config.<a class="code hl_variable" href="structcppgc_1_1internal_1_1MarkingConfig.html#a146d9dd286e4b3af8d78682887f670fd">collection_type</a>);</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>}</div>
</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span> </div>
<div class="foldopen" id="foldopen00329" data-start="{" data-end="}">
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a1ab8b08c5342fdea0c32eb6818f48c0a">  329</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a1ab8b08c5342fdea0c32eb6818f48c0a">CppHeap::MetricRecorderAdapter::AddMainThreadEvent</a>(</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structcppgc_1_1internal_1_1MetricRecorder_1_1GCCycle.html">GCCycle</a>&amp; cppgc_event) {</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>  <span class="keyword">auto</span>* tracer = <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#af136ec64e0ca79c3f29af21e1e8916a1">GetIsolate</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Isolate.html#a8f158e28d6a29d8bf8459c45ba5e40c2">heap</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Heap.html#ae12ef5f250417c33f81f5f599feffe17">tracer</a>();</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>  <span class="keywordflow">if</span> (cppgc_event.<a class="code hl_variable" href="structcppgc_1_1internal_1_1MetricRecorder_1_1GCCycle.html#a0628613241b3d7dcbcdf9ae2fd432700">type</a> == MetricRecorder::GCCycle::Type::kMinor) {</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>    <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a647766fbaff3f377021e2f3c793e441b">last_young_gc_event_</a>);</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a647766fbaff3f377021e2f3c793e441b">last_young_gc_event_</a> = cppgc_event;</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>    tracer-&gt;NotifyYoungCppGCCompleted();</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#abee18cc9e5281a34cd031e721cdaf888">last_full_gc_event_</a>);</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#abee18cc9e5281a34cd031e721cdaf888">last_full_gc_event_</a> = cppgc_event;</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>    tracer-&gt;NotifyFullCppGCCompleted();</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>  }</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>}</div>
</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span> </div>
<div class="foldopen" id="foldopen00343" data-start="{" data-end="}">
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a5fcedd7f7617051422c8f4be4835eb3f">  343</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a1ab8b08c5342fdea0c32eb6818f48c0a">CppHeap::MetricRecorderAdapter::AddMainThreadEvent</a>(</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structcppgc_1_1internal_1_1MetricRecorder_1_1MainThreadIncrementalMark.html">MainThreadIncrementalMark</a>&amp; cppgc_event) {</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>  <span class="comment">// Incremental marking steps might be nested in V8 marking steps. In such</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>  <span class="comment">// cases, stash the relevant values and delegate to V8 to report them. For</span></div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>  <span class="comment">// non-nested steps, report to the Recorder directly.</span></div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>  <span class="keywordflow">if</span> (cpp_heap_.is_in_v8_marking_step_) {</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>    last_incremental_mark_event_ = cppgc_event;</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>  }</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>  <span class="comment">// This is a standalone incremental marking step.</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>  <span class="keyword">const</span> std::shared_ptr&lt;metrics::Recorder&gt;&amp; recorder =</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>      GetIsolate()-&gt;metrics_recorder();</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>  <a class="code hl_define" href="logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(recorder);</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>  <span class="keywordflow">if</span> (!recorder-&gt;HasEmbedderRecorder()) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>  incremental_mark_batched_events_.events.emplace_back();</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>  incremental_mark_batched_events_.events.back().cpp_wall_clock_duration_in_us =</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>      cppgc_event.<a class="code hl_variable" href="structcppgc_1_1internal_1_1MetricRecorder_1_1MainThreadIncrementalMark.html#a67af83154098fe271681abc1edce84bd">duration_us</a>;</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>  <span class="keywordflow">if</span> (incremental_mark_batched_events_.events.size() == kMaxBatchedEvents) {</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>    recorder-&gt;AddMainThreadEvent(std::move(incremental_mark_batched_events_),</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>                                 GetContextId());</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    incremental_mark_batched_events_ = {};</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>  }</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>}</div>
</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span> </div>
<div class="foldopen" id="foldopen00367" data-start="{" data-end="}">
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a4ba86653db10251ef390d71a8beade97">  367</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a1ab8b08c5342fdea0c32eb6818f48c0a">CppHeap::MetricRecorderAdapter::AddMainThreadEvent</a>(</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structcppgc_1_1internal_1_1MetricRecorder_1_1MainThreadIncrementalSweep.html">MainThreadIncrementalSweep</a>&amp; cppgc_event) {</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>  <span class="comment">// Incremental sweeping steps are never nested inside V8 sweeping steps, so</span></div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>  <span class="comment">// report to the Recorder directly.</span></div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>  <span class="keyword">const</span> std::shared_ptr&lt;metrics::Recorder&gt;&amp; recorder =</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>      GetIsolate()-&gt;metrics_recorder();</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>  <a class="code hl_define" href="logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(recorder);</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>  <span class="keywordflow">if</span> (!recorder-&gt;HasEmbedderRecorder()) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>  incremental_sweep_batched_events_.events.emplace_back();</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>  incremental_sweep_batched_events_.events.back()</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>      .cpp_wall_clock_duration_in_us = cppgc_event.<a class="code hl_variable" href="structcppgc_1_1internal_1_1MetricRecorder_1_1MainThreadIncrementalSweep.html#a9fc95e6b2a2f10cefa9af1b936b025bd">duration_us</a>;</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>  <span class="keywordflow">if</span> (incremental_sweep_batched_events_.events.size() == kMaxBatchedEvents) {</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    recorder-&gt;AddMainThreadEvent(std::move(incremental_sweep_batched_events_),</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>                                 GetContextId());</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>    incremental_sweep_batched_events_ = {};</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>  }</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>}</div>
</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span> </div>
<div class="foldopen" id="foldopen00385" data-start="{" data-end="}">
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a7bf388075c2336b8006269b7b66d31b1">  385</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a7bf388075c2336b8006269b7b66d31b1">CppHeap::MetricRecorderAdapter::FlushBatchedIncrementalEvents</a>() {</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>  <span class="keyword">const</span> std::shared_ptr&lt;metrics::Recorder&gt;&amp; recorder =</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>      GetIsolate()-&gt;metrics_recorder();</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>  <a class="code hl_define" href="logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(recorder);</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>  <span class="keywordflow">if</span> (!incremental_mark_batched_events_.events.empty()) {</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>    recorder-&gt;AddMainThreadEvent(std::move(incremental_mark_batched_events_),</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>                                 GetContextId());</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>    incremental_mark_batched_events_ = {};</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>  }</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>  <span class="keywordflow">if</span> (!incremental_sweep_batched_events_.events.empty()) {</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>    recorder-&gt;AddMainThreadEvent(std::move(incremental_sweep_batched_events_),</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>                                 GetContextId());</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>    incremental_sweep_batched_events_ = {};</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>  }</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>}</div>
</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span> </div>
<div class="foldopen" id="foldopen00401" data-start="{" data-end="}">
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#aa54b76e0bf35d31486b93f793e4e38ef">  401</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#aa54b76e0bf35d31486b93f793e4e38ef">CppHeap::MetricRecorderAdapter::FullGCMetricsReportPending</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>  <span class="keywordflow">return</span> last_full_gc_event_.has_value();</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>}</div>
</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span> </div>
<div class="foldopen" id="foldopen00405" data-start="{" data-end="}">
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a202481e0114b7f91cf8bb1dba9e609c2">  405</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a202481e0114b7f91cf8bb1dba9e609c2">CppHeap::MetricRecorderAdapter::YoungGCMetricsReportPending</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>  <span class="keywordflow">return</span> last_young_gc_event_.has_value();</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>}</div>
</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span> </div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span><span class="keyword">const</span> std::optional&lt;cppgc::internal::MetricRecorder::GCCycle&gt;</div>
<div class="foldopen" id="foldopen00410" data-start="{" data-end="}">
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#abcfbe46bcf83a68d7e36a6486f4412ce">  410</a></span><a class="code hl_function" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#abcfbe46bcf83a68d7e36a6486f4412ce">CppHeap::MetricRecorderAdapter::ExtractLastFullGcEvent</a>() {</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>  <span class="keyword">auto</span> res = std::move(last_full_gc_event_);</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>  last_full_gc_event_.reset();</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>  <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>}</div>
</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span> </div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span><span class="keyword">const</span> std::optional&lt;cppgc::internal::MetricRecorder::GCCycle&gt;</div>
<div class="foldopen" id="foldopen00417" data-start="{" data-end="}">
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a705eb5b8eb3c25d2882ff100a930038c">  417</a></span><a class="code hl_function" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a705eb5b8eb3c25d2882ff100a930038c">CppHeap::MetricRecorderAdapter::ExtractLastYoungGcEvent</a>() {</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>  <span class="keyword">auto</span> res = std::move(last_young_gc_event_);</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>  last_young_gc_event_.reset();</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>  <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>}</div>
</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span> </div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span><span class="keyword">const</span> std::optional&lt;cppgc::internal::MetricRecorder::MainThreadIncrementalMark&gt;</div>
<div class="foldopen" id="foldopen00424" data-start="{" data-end="}">
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a23460dde3fb4c0e2b516c0162c8c741c">  424</a></span><a class="code hl_function" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a23460dde3fb4c0e2b516c0162c8c741c">CppHeap::MetricRecorderAdapter::ExtractLastIncrementalMarkEvent</a>() {</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>  <span class="keyword">auto</span> res = std::move(last_incremental_mark_event_);</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>  last_incremental_mark_event_.reset();</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>  <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>}</div>
</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span> </div>
<div class="foldopen" id="foldopen00430" data-start="{" data-end="}">
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a5bb9bde1003e0b6e02d6fce329e4203f">  430</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a5bb9bde1003e0b6e02d6fce329e4203f">CppHeap::MetricRecorderAdapter::ClearCachedEvents</a>() {</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>  incremental_mark_batched_events_.events.clear();</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>  incremental_sweep_batched_events_.events.clear();</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>  last_incremental_mark_event_.reset();</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>  last_full_gc_event_.reset();</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>  last_young_gc_event_.reset();</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>}</div>
</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span> </div>
<div class="foldopen" id="foldopen00438" data-start="{" data-end="}">
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#af136ec64e0ca79c3f29af21e1e8916a1">  438</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#af136ec64e0ca79c3f29af21e1e8916a1">CppHeap::MetricRecorderAdapter::GetIsolate</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>  <a class="code hl_define" href="logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(cpp_heap_.isolate());</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>*<span class="keyword">&gt;</span>(cpp_heap_.isolate());</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>}</div>
</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span> </div>
<div class="foldopen" id="foldopen00443" data-start="{" data-end="}">
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a5cdea3722b17a8bf666b6080902102d2">  443</a></span>v8::metrics::Recorder::ContextId <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a5cdea3722b17a8bf666b6080902102d2">CppHeap::MetricRecorderAdapter::GetContextId</a>()<span class="keyword"></span></div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span><span class="keyword">    const </span>{</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>  <a class="code hl_define" href="logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(GetIsolate());</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>  <span class="keywordflow">if</span> (GetIsolate()-&gt;<a class="code hl_variable" href="js-call-reducer_8cc.html#a0835767fe473cead88c1afdf3175bce8">context</a>().is_null())</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>    <span class="keywordflow">return</span> v8::metrics::Recorder::ContextId::Empty();</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>  <a class="code hl_class" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(GetIsolate());</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>  <span class="keywordflow">return</span> GetIsolate()-&gt;GetOrRegisterRecorderContextId(</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>      GetIsolate()-&gt;<a class="code hl_variable" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>());</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>}</div>
</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span> </div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen00454" data-start="{" data-end="}">
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a44c1fbcea631e3215134dfdc38145d7c">  454</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a44c1fbcea631e3215134dfdc38145d7c">CppHeap::InitializeOncePerProcess</a>() {</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>  <a class="code hl_function" href="namespacecppgc_1_1internal.html#af2de8a2a288069d21c5077af318676da">cppgc::internal::GetGlobalOOMHandler</a>().<a class="code hl_function" href="classcppgc_1_1internal_1_1FatalOutOfMemoryHandler.html#a46f5f7e9dd5b515927149ddf2c143b47">SetCustomHandler</a>(</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>      &amp;GlobalFatalOutOfMemoryHandlerImpl);</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>}</div>
</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span> </div>
<div class="foldopen" id="foldopen00459" data-start="{" data-end="}">
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a57cc89e1735d5e7fb4402a44a041645c">  459</a></span><a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a57cc89e1735d5e7fb4402a44a041645c">CppHeap::CppHeap</a>(</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>    v8::Platform* <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#af06f279a87b6893e238315092950feff">platform</a>,</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>    <span class="keyword">const</span> std::vector&lt;std::unique_ptr&lt;cppgc::CustomSpaceBase&gt;&gt;&amp; custom_spaces,</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>    cppgc::Heap::MarkingType <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#ab2d32922cc4c2065af41c6cc915b45b3">marking_support</a>,</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>    cppgc::Heap::SweepingType <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#a32a473b7f5af8777374e74cbdc8c2237">sweeping_support</a>)</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>    : <a class="code hl_namespace" href="namespacecppgc.html">cppgc</a>::<a class="code hl_variable" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a>::<a class="code hl_class" href="classcppgc_1_1internal_1_1HeapBase.html">HeapBase</a>(</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>          <a class="code hl_namespace" href="namespacestd.html">std</a>::make_shared&lt;CppgcPlatformAdapter&gt;(<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#af06f279a87b6893e238315092950feff">platform</a>), custom_spaces,</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>          <a class="code hl_namespace" href="namespacecppgc.html">cppgc</a>::<a class="code hl_variable" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a>::<a class="code hl_class" href="classcppgc_1_1internal_1_1HeapBase.html">HeapBase</a>::<a class="code hl_typedef" href="classcppgc_1_1internal_1_1HeapBase.html#a35f8d9dc4156adeeba485684148e571f">StackSupport</a>::</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>              kSupportsConservativeStackScan,</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>          <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#ab2d32922cc4c2065af41c6cc915b45b3">marking_support</a>, <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#a32a473b7f5af8777374e74cbdc8c2237">sweeping_support</a>, *this),</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>      <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a0b105982ab031e78c18f6387c23ece95">minor_gc_heap_growing_</a>(</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>          <a class="code hl_namespace" href="namespacestd.html">std</a>::make_unique&lt;<a class="code hl_class" href="classv8_1_1internal_1_1MinorGCHeapGrowing.html">MinorGCHeapGrowing</a>&gt;(*<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#aae00d9c13b4caebbf0850cde96fce1fc">stats_collector</a>())),</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>      <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a7ece6ada2874b56155bdbbb560f840c0">cross_heap_remembered_set_</a>(*this) {</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>  <span class="comment">// Enter no GC scope. `AttachIsolate()` removes this and allows triggering</span></div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>  <span class="comment">// garbage collections.</span></div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>  <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#aca0116b9940ea0a9e698f728ff759cd8">no_gc_scope_</a>++;</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>  <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#aae00d9c13b4caebbf0850cde96fce1fc">stats_collector</a>()-&gt;<a class="code hl_function" href="classcppgc_1_1internal_1_1StatsCollector.html#a57cac0c9b6d4f9b1e21a61132642d70c">RegisterObserver</a>(<span class="keyword">this</span>);</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span><span class="preprocessor">#ifdef V8_ENABLE_ALLOCATION_TIMEOUT</span></div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>  <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#af197b60f5b38e19ec25b9d483aead516">object_allocator</a>().UpdateAllocationTimeout();</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_ALLOCATION_TIMEOUT</span></div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>}</div>
</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span> </div>
<div class="foldopen" id="foldopen00481" data-start="{" data-end="}">
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a2d4d893f2145f5b38c69b774b07f3c26">  481</a></span><a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a2d4d893f2145f5b38c69b774b07f3c26">CppHeap::~CppHeap</a>() {</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>) {</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Isolate.html#a8f158e28d6a29d8bf8459c45ba5e40c2">heap</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Heap.html#a30ad60da7f5c276dfce245167c6fe660">DetachCppHeap</a>();</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>  }</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>}</div>
</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span> </div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a534b235b4948e66ae40e21c88ce16439">CppHeap::Terminate</a>() {</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>  <span class="comment">// Must not be attached to a heap when invoking termination GCs.</span></div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>);</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>  <span class="comment">// Gracefully terminate the C++ heap invoking destructors.</span></div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>  <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#a0ffeefc146e983994a3d733c50b66d02">HeapBase::Terminate</a>();</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>}</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span> </div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span> </div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span><span class="keyword">class </span>SweepingOnMutatorThreadForGlobalHandlesScope final {</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span> <span class="keyword">public</span>:</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>  <span class="keyword">explicit</span> SweepingOnMutatorThreadForGlobalHandlesScope(</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>      TracedHandles&amp; traced_handles)</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>      : <a class="code hl_variable" href="cpp-heap_8cc.html#ad4f5b55b609dcb476d80f243c563f35e">traced_handles_</a>(traced_handles) {</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>    <a class="code hl_variable" href="cpp-heap_8cc.html#ad4f5b55b609dcb476d80f243c563f35e">traced_handles_</a>.SetIsSweepingOnMutatorThread(<span class="keyword">true</span>);</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>  }</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>  ~SweepingOnMutatorThreadForGlobalHandlesScope() {</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>    <a class="code hl_variable" href="cpp-heap_8cc.html#ad4f5b55b609dcb476d80f243c563f35e">traced_handles_</a>.SetIsSweepingOnMutatorThread(<span class="keyword">false</span>);</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>  }</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span> </div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno"><a class="line" href="cpp-heap_8cc.html#ad4f5b55b609dcb476d80f243c563f35e">  507</a></span>  TracedHandles&amp; <a class="code hl_variable" href="cpp-heap_8cc.html#ad4f5b55b609dcb476d80f243c563f35e">traced_handles_</a>;</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>};</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span> </div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span><span class="keyword">class </span>SweepingOnMutatorThreadForGlobalHandlesObserver final</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>    : <span class="keyword">public</span> <a class="code hl_class" href="classcppgc_1_1internal_1_1Sweeper_1_1SweepingOnMutatorThreadObserver.html">cppgc::internal::Sweeper::SweepingOnMutatorThreadObserver</a> {</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span> <span class="keyword">public</span>:</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>  SweepingOnMutatorThreadForGlobalHandlesObserver(CppHeap&amp; cpp_heap,</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>                                                  TracedHandles&amp; traced_handles)</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>      : <a class="code hl_class" href="classcppgc_1_1internal_1_1Sweeper_1_1SweepingOnMutatorThreadObserver.html">cppgc::internal::Sweeper::SweepingOnMutatorThreadObserver</a>(</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>            cpp_heap.sweeper()),</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>        <a class="code hl_variable" href="cpp-heap_8cc.html#ad4f5b55b609dcb476d80f243c563f35e">traced_handles_</a>(traced_handles) {}</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span> </div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>  <span class="keywordtype">void</span> Start()<span class="keyword"> override </span>{ <a class="code hl_variable" href="cpp-heap_8cc.html#ad4f5b55b609dcb476d80f243c563f35e">traced_handles_</a>.SetIsSweepingOnMutatorThread(<span class="keyword">true</span>); }</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span> </div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>  <span class="keywordtype">void</span> End()<span class="keyword"> override </span>{ <a class="code hl_variable" href="cpp-heap_8cc.html#ad4f5b55b609dcb476d80f243c563f35e">traced_handles_</a>.SetIsSweepingOnMutatorThread(<span class="keyword">false</span>); }</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span> </div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span> <span class="keyword">private</span>:</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>  TracedHandles&amp; <a class="code hl_variable" href="cpp-heap_8cc.html#ad4f5b55b609dcb476d80f243c563f35e">traced_handles_</a>;</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>};</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span> </div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span><span class="keyword">class </span>MoveListenerImpl final : <span class="keyword">public</span> HeapProfilerNativeMoveListener,</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>                               <span class="keyword">public</span> <a class="code hl_class" href="classcppgc_1_1internal_1_1MoveListener.html">cppgc::internal::MoveListener</a> {</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span> <span class="keyword">public</span>:</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>  MoveListenerImpl(HeapProfiler* profiler, CppHeap* <a class="code hl_namespace" href="namespaceheap.html">heap</a>)</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>      : HeapProfilerNativeMoveListener(profiler), <a class="code hl_variable" href="cpp-heap_8cc.html#abf26aeebfa3b211a147d054e3acfa1aa">heap_</a>(<a class="code hl_namespace" href="namespaceheap.html">heap</a>) {}</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>  ~MoveListenerImpl() {</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>    <span class="keywordflow">if</span> (active_) {</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>      <a class="code hl_variable" href="cpp-heap_8cc.html#abf26aeebfa3b211a147d054e3acfa1aa">heap_</a>-&gt;UnregisterMoveListener(<span class="keyword">this</span>);</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>    }</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>  }</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span> </div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>  <span class="comment">// HeapProfilerNativeMoveListener implementation:</span></div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>  <span class="keywordtype">void</span> StartListening()<span class="keyword"> override </span>{</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>    <span class="keywordflow">if</span> (active_) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>    <a class="code hl_variable" href="cpp-heap_8cc.html#a121aee969503dcc0f2d4ff4879d9c4d9">active_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>    <a class="code hl_variable" href="cpp-heap_8cc.html#abf26aeebfa3b211a147d054e3acfa1aa">heap_</a>-&gt;RegisterMoveListener(<span class="keyword">this</span>);</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>  }</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>  <span class="keywordtype">void</span> StopListening()<span class="keyword"> override </span>{</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>    <span class="keywordflow">if</span> (!active_) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>    <a class="code hl_variable" href="cpp-heap_8cc.html#a121aee969503dcc0f2d4ff4879d9c4d9">active_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>    <a class="code hl_variable" href="cpp-heap_8cc.html#abf26aeebfa3b211a147d054e3acfa1aa">heap_</a>-&gt;UnregisterMoveListener(<span class="keyword">this</span>);</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>  }</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span> </div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>  <span class="comment">// cppgc::internal::MoveListener implementation:</span></div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>  <span class="keywordtype">void</span> OnMove(uint8_t* from, uint8_t* to,</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>              <span class="keywordtype">size_t</span> size_including_header)<span class="keyword"> override </span>{</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>    ObjectMoveEvent(<span class="keyword">reinterpret_cast&lt;</span><a class="code hl_variable" href="namespacev8_1_1internal.html#a782acb70e9eabcd3faaccfb6a3bde48e">Address</a><span class="keyword">&gt;</span>(from),</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>                    <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_variable" href="namespacev8_1_1internal.html#a782acb70e9eabcd3faaccfb6a3bde48e">Address</a><span class="keyword">&gt;</span>(to),</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>                    <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(size_including_header));</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>  }</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span> </div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span> <span class="keyword">private</span>:</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno"><a class="line" href="cpp-heap_8cc.html#abf26aeebfa3b211a147d054e3acfa1aa">  559</a></span>  CppHeap* <a class="code hl_variable" href="cpp-heap_8cc.html#abf26aeebfa3b211a147d054e3acfa1aa">heap_</a>;</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno"><a class="line" href="cpp-heap_8cc.html#a121aee969503dcc0f2d4ff4879d9c4d9">  560</a></span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="cpp-heap_8cc.html#a121aee969503dcc0f2d4ff4879d9c4d9">active_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>};</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span> </div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span> </div>
<div class="foldopen" id="foldopen00565" data-start="{" data-end="}">
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#ab0579030b8b4cfc5f6ba30e3fe20fce5">  565</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#ab0579030b8b4cfc5f6ba30e3fe20fce5">CppHeap::AttachIsolate</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a5b51fc09c8595c6af2e69042e4927716">in_detached_testing_mode_</a>);</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>  <a class="code hl_define" href="logging_8h.html#a7bf1ad59490562f507223cd6ca2cc6fa">CHECK_NULL</a>(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>);</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a> = <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a6ae13c1f6a906672819ff2dc5223d3db">isolate</a>;</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a929bc21d15f59861888ff0ad39dfa686">heap_</a> = isolate-&gt;heap();</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>  <span class="keyword">static_cast&lt;</span>CppgcPlatformAdapter*<span class="keyword">&gt;</span>(<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#af06f279a87b6893e238315092950feff">platform</a>())</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>      -&gt;SetIsolate(<span class="keyword">reinterpret_cast&lt;</span>v8::Isolate*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>));</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>  <span class="keywordflow">if</span> (<span class="keyword">auto</span>* heap_profiler = <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Isolate.html#ab8c320f45e3e713821a188c0309a9923">heap_profiler</a>()) {</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>    heap_profiler-&gt;AddBuildEmbedderGraphCallback(&amp;<a class="code hl_function" href="classv8_1_1internal_1_1CppGraphBuilder.html#aa7849dc7c223ad73bff1b61cf7512852">CppGraphBuilder::Run</a>, <span class="keyword">this</span>);</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>    heap_profiler-&gt;set_native_move_listener(</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>        std::make_unique&lt;MoveListenerImpl&gt;(heap_profiler, <span class="keyword">this</span>));</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>  }</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>  <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#aee30db7ce72e12a06a690271c108a8c5">SetMetricRecorder</a>(std::make_unique&lt;MetricRecorderAdapter&gt;(*<span class="keyword">this</span>));</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>  <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#ab41337490b91677cece41fd4989d02e4">oom_handler</a>().<a class="code hl_function" href="classcppgc_1_1internal_1_1FatalOutOfMemoryHandler.html#a46f5f7e9dd5b515927149ddf2c143b47">SetCustomHandler</a>(&amp;FatalOutOfMemoryHandlerImpl);</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>  <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a5b7ac0174864380241a63a04157cd431">UpdateGCCapabilitiesFromFlags</a>();</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#adb18c23268aac722d59534a1a4089d39">sweeping_on_mutator_thread_observer_</a> =</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>      std::make_unique&lt;SweepingOnMutatorThreadForGlobalHandlesObserver&gt;(</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>          *<span class="keyword">this</span>, *<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Isolate.html#a67c396ca00a91e3b3c6131d6db14a438">traced_handles</a>());</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>  <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#aca0116b9940ea0a9e698f728ff759cd8">no_gc_scope_</a>--;</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span> </div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>  <span class="comment">// Propagate overridden stack state to the attached heap, if necessary.</span></div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>  <span class="comment">// TODO(b/326503098): This should not be required, to be removed when the</span></div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>  <span class="comment">// issue is resolved.</span></div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a86a2995ce0ab000a5951be35929264eb">override_stack_state_scope_</a>);</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a19c7a0ac47858c5255a28ae3e91e4c22">detached_override_stack_state_</a>) {</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a86a2995ce0ab000a5951be35929264eb">override_stack_state_scope_</a> = std::make_unique&lt;EmbedderStackStateScope&gt;(</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>        <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a929bc21d15f59861888ff0ad39dfa686">heap_</a>, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#aaf09a39558f639935e293adba6962fc7ad15860417dc4fe071de45246b23edaaa">EmbedderStackStateOrigin::kExplicitInvocation</a>,</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>        <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a19c7a0ac47858c5255a28ae3e91e4c22">detached_override_stack_state_</a>.value());</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a19c7a0ac47858c5255a28ae3e91e4c22">detached_override_stack_state_</a>.reset();</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>  }</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>}</div>
</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span> </div>
<div class="foldopen" id="foldopen00597" data-start="{" data-end="}">
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a82f0ce1d7e37f78ac6e55f4f43b96b12">  597</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a82f0ce1d7e37f78ac6e55f4f43b96b12">CppHeap::DetachIsolate</a>() {</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>  <span class="comment">// TODO(chromium:1056170): Investigate whether this can be enforced with a</span></div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>  <span class="comment">// CHECK across all relevant embedders and setups.</span></div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span> </div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>  <span class="comment">// Finish any ongoing garbage collection.</span></div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Isolate.html#a8f158e28d6a29d8bf8459c45ba5e40c2">heap</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Heap.html#a5487524df177531b93290adb00d1ea76">incremental_marking</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1IncrementalMarking.html#a36f76d27a7a670a4b270804cef79cea1">IsMarking</a>()) {</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Isolate.html#a8f158e28d6a29d8bf8459c45ba5e40c2">heap</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Heap.html#a114d59b1a17d33863f80eda53b14d32d">FinalizeIncrementalMarkingAtomically</a>(</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>        i::GarbageCollectionReason::kExternalFinalize);</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>  }</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>  <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#aa09ebf2bd1d1e603934eead468725bb6">sweeper_</a>.<a class="code hl_function" href="classcppgc_1_1internal_1_1Sweeper.html#af09b5d03ff99e7984c5d8272b0722e34">FinishIfRunning</a>();</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span> </div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#adb18c23268aac722d59534a1a4089d39">sweeping_on_mutator_thread_observer_</a>.reset();</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span> </div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>  <span class="keywordflow">if</span> (<span class="keyword">auto</span>* heap_profiler = <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Isolate.html#ab8c320f45e3e713821a188c0309a9923">heap_profiler</a>()) {</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>    heap_profiler-&gt;RemoveBuildEmbedderGraphCallback(&amp;<a class="code hl_function" href="classv8_1_1internal_1_1CppGraphBuilder.html#aa7849dc7c223ad73bff1b61cf7512852">CppGraphBuilder::Run</a>,</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>                                                    <span class="keyword">this</span>);</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>    heap_profiler-&gt;set_native_move_listener(<span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>  }</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>  <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#aee30db7ce72e12a06a690271c108a8c5">SetMetricRecorder</a>(<span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span> </div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>  <span class="comment">// Propagate overridden stack state from the attached heap, if necessary.</span></div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>  <span class="comment">// TODO(b/326503098): This should not be required, to be removed when the</span></div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>  <span class="comment">// issue is resolved.</span></div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a19c7a0ac47858c5255a28ae3e91e4c22">detached_override_stack_state_</a>);</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a86a2995ce0ab000a5951be35929264eb">override_stack_state_scope_</a>) {</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a19c7a0ac47858c5255a28ae3e91e4c22">detached_override_stack_state_</a> = <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a929bc21d15f59861888ff0ad39dfa686">heap_</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Heap.html#a770c2ed881e1aafb007e34d3aa47a92d">overridden_stack_state</a>();</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a86a2995ce0ab000a5951be35929264eb">override_stack_state_scope_</a>.reset();</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>  }</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span> </div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a929bc21d15f59861888ff0ad39dfa686">heap_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>  <span class="comment">// Any future garbage collections will ignore the V8-&gt;C++ references.</span></div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>  <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#ab41337490b91677cece41fd4989d02e4">oom_handler</a>().<a class="code hl_function" href="classcppgc_1_1internal_1_1FatalOutOfMemoryHandler.html#a46f5f7e9dd5b515927149ddf2c143b47">SetCustomHandler</a>(<span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>  <span class="comment">// Enter no GC scope.</span></div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>  <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#aca0116b9940ea0a9e698f728ff759cd8">no_gc_scope_</a>++;</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>}</div>
</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span> </div>
<div class="foldopen" id="foldopen00635" data-start="{" data-end="}">
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a2edb27f43e66698d36c533e94da5c3b8">  635</a></span><a class="code hl_class" href="classheap_1_1base_1_1Stack.html">::heap::base::Stack</a>* <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a2edb27f43e66698d36c533e94da5c3b8">CppHeap::stack</a>() {</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a> ? &amp;<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Isolate.html#a8f158e28d6a29d8bf8459c45ba5e40c2">heap</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Heap.html#ad345b98fade0a6223cde39f6e23306bf">stack</a>() : <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#af19332a4782ecde1c58d2bdf5c2a8707">HeapBase::stack</a>();</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>}</div>
</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span> </div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span> </div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span><span class="keywordtype">bool</span> IsMemoryReducingGC(<a class="code hl_class" href="classv8_1_1base_1_1Flags.html">CppHeap::GarbageCollectionFlags</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a62f9ba01cabe0363e57940200d641ea5">flags</a>) {</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a62f9ba01cabe0363e57940200d641ea5">flags</a> &amp; <a class="code hl_enumvalue" href="classv8_1_1internal_1_1CppHeap.html#a6e0482a80eb912cef4efeffd506da4a5a2c10d264b99555a4d24bafd7298de8d8">CppHeap::GarbageCollectionFlagValues::kReduceMemory</a>;</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>}</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span> </div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span><span class="keywordtype">bool</span> IsForceGC(<a class="code hl_typedef" href="classv8_1_1internal_1_1CppHeap.html#add87a1812f1fccf530e7345254cb074c">CppHeap::GarbageCollectionFlags</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a62f9ba01cabe0363e57940200d641ea5">flags</a>) {</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a62f9ba01cabe0363e57940200d641ea5">flags</a> &amp; <a class="code hl_enumvalue" href="classv8_1_1internal_1_1CppHeap.html#a6e0482a80eb912cef4efeffd506da4a5a93a9274bc63ac1a0fbc53535a1675cf4">CppHeap::GarbageCollectionFlagValues::kForced</a>;</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>}</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span> </div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span><span class="keywordtype">bool</span> ShouldReduceMemory(<a class="code hl_typedef" href="classv8_1_1internal_1_1CppHeap.html#add87a1812f1fccf530e7345254cb074c">CppHeap::GarbageCollectionFlags</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a62f9ba01cabe0363e57940200d641ea5">flags</a>) {</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>  <span class="keywordflow">return</span> IsMemoryReducingGC(<a class="code hl_variable" href="namespacev8_1_1internal.html#a62f9ba01cabe0363e57940200d641ea5">flags</a>) || IsForceGC(<a class="code hl_variable" href="namespacev8_1_1internal.html#a62f9ba01cabe0363e57940200d641ea5">flags</a>);</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>}</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span> </div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span><span class="keyword">constexpr</span> <span class="keywordtype">size_t</span> kIncrementalMarkingCheckInterval = 128 * <a class="code hl_variable" href="namespacev8_1_1internal.html#ab368fe5f67cc93158861582746107fec">KB</a>;</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span> </div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span> </div>
<div class="foldopen" id="foldopen00657" data-start="{" data-end="}">
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a6f8a03a189eaa4e7d8425179c02f1b8a">  657</a></span><a class="code hl_typedef" href="classcppgc_1_1internal_1_1HeapBase.html#a2ae0f8e072cf1641178bfacc0c50ae48">CppHeap::MarkingType</a> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a6f8a03a189eaa4e7d8425179c02f1b8a">CppHeap::SelectMarkingType</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>  <span class="comment">// For now, force atomic marking for minor collections.</span></div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>  <span class="keywordflow">if</span> (*<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a3c3a371945cb9e7df4eb553268e9e47e">collection_type_</a> == CollectionType::kMinor) <span class="keywordflow">return</span> MarkingType::kAtomic;</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span> </div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>  <span class="keywordflow">if</span> (IsForceGC(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a38cb0fc334f72897dc35202010e7c40d">current_gc_flags_</a>) &amp;&amp; !<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a59aa200f64f60557dffa7b3b6830b237">force_incremental_marking_for_testing_</a>)</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>    <span class="keywordflow">return</span> MarkingType::kAtomic;</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span> </div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="classcppgc_1_1internal_1_1HeapBase.html#a2ae0f8e072cf1641178bfacc0c50ae48">MarkingType</a> marking_type = <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#ab2d32922cc4c2065af41c6cc915b45b3">marking_support</a>();</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span> </div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>  <span class="comment">// CollectionType is major at this point. Check the surrounding</span></div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>  <span class="comment">// MarkCompactCollector for whether we should rely on background threads in</span></div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>  <span class="comment">// this GC cycle.</span></div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>  <span class="keywordflow">if</span> (marking_type == MarkingType::kIncrementalAndConcurrent &amp;&amp; <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a929bc21d15f59861888ff0ad39dfa686">heap_</a> &amp;&amp;</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>      !<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a929bc21d15f59861888ff0ad39dfa686">heap_</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Heap.html#a3d8741e9d5e50515a761be0ca0a6f725">mark_compact_collector</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1MarkCompactCollector.html#aa709baf43b9629ff0df85d2700caa88b">UseBackgroundThreadsInCycle</a>()) {</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>    <span class="keywordflow">return</span> MarkingType::kIncremental;</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>  }</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span> </div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#ab2d32922cc4c2065af41c6cc915b45b3">marking_support</a>();</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>}</div>
</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span> </div>
<div class="foldopen" id="foldopen00677" data-start="{" data-end="}">
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#ae9f4d53f91bfab064eda69a638bfade1">  677</a></span><a class="code hl_typedef" href="classcppgc_1_1internal_1_1HeapBase.html#a1b139a30b45cb4485cf76eee02fda5fa">CppHeap::SweepingType</a> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#ae9f4d53f91bfab064eda69a638bfade1">CppHeap::SelectSweepingType</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>  <span class="keywordflow">if</span> (IsForceGC(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a38cb0fc334f72897dc35202010e7c40d">current_gc_flags_</a>)) <span class="keywordflow">return</span> SweepingType::kAtomic;</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span> </div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#a32a473b7f5af8777374e74cbdc8c2237">sweeping_support</a>();</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>}</div>
</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span> </div>
<div class="foldopen" id="foldopen00683" data-start="{" data-end="}">
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a5b7ac0174864380241a63a04157cd431">  683</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a5b7ac0174864380241a63a04157cd431">CppHeap::UpdateGCCapabilitiesFromFlags</a>() {</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>  <a class="code hl_define" href="logging_8h.html#a2c0c4cea27d0690467662bb05131b2af">CHECK_IMPLIES</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.cppheap_concurrent_marking,</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>                <a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.cppheap_incremental_marking);</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.cppheap_concurrent_marking) {</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>    <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#ae59388f6351fda95da93e015d0b78ac2">marking_support_</a> = <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="classcppgc_1_1internal_1_1HeapBase.html#a2ae0f8e072cf1641178bfacc0c50ae48">MarkingType</a><span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>        std::min(<a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#ae59388f6351fda95da93e015d0b78ac2">marking_support_</a>, MarkingType::kIncrementalAndConcurrent));</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.cppheap_incremental_marking) {</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>    <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#ae59388f6351fda95da93e015d0b78ac2">marking_support_</a> = <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="classcppgc_1_1internal_1_1HeapBase.html#a2ae0f8e072cf1641178bfacc0c50ae48">MarkingType</a><span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>        std::min(<a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#ae59388f6351fda95da93e015d0b78ac2">marking_support_</a>, MarkingType::kIncremental));</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>    <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#ae59388f6351fda95da93e015d0b78ac2">marking_support_</a> = MarkingType::kAtomic;</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>  }</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span> </div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>  <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#a00e9d59c65e0f04497757345542c6cae">sweeping_support_</a> = <a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.single_threaded_gc</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>                          ? CppHeap::SweepingType::kIncremental</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>                          : CppHeap::SweepingType::kIncrementalAndConcurrent;</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span> </div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>  <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#a946f6f5d780aadbf015376f39be36df3">page_backend_</a>-&gt;page_pool().SetDecommitPooledPages(</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>      <a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.decommit_pooled_pages);</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>}</div>
</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span> </div>
<div class="foldopen" id="foldopen00704" data-start="{" data-end="}">
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#ac7034aca4b644909e7565f0beb372974">  704</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#ac7034aca4b644909e7565f0beb372974">CppHeap::InitializeMarking</a>(<a class="code hl_enumeration" href="namespacecppgc_1_1internal.html#a9a435919d5a4a3ecfdfe20fb93896a60">CollectionType</a> collection_type,</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>                                <a class="code hl_class" href="classv8_1_1base_1_1Flags.html">GarbageCollectionFlags</a> gc_flags) {</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a3c3a371945cb9e7df4eb553268e9e47e">collection_type_</a>);</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span> </div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>  <span class="keywordflow">if</span> (collection_type == CollectionType::kMinor) {</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#a6c6edeb1412f64a9b9135222b30095d5">generational_gc_supported</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>    <span class="comment">// Notify GC tracer that CppGC started young GC cycle.</span></div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Isolate.html#a8f158e28d6a29d8bf8459c45ba5e40c2">heap</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Heap.html#ae12ef5f250417c33f81f5f599feffe17">tracer</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1GCTracer.html#ae839e3dfb84326c51cbc2c14a46c0ca6">NotifyYoungCppGCRunning</a>();</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>  }</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span> </div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a3c3a371945cb9e7df4eb553268e9e47e">collection_type_</a> = collection_type;</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span> </div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#aa09ebf2bd1d1e603934eead468725bb6">sweeper_</a>.<a class="code hl_function" href="classcppgc_1_1internal_1_1Sweeper.html#a20810eaca7b7e7220910491cdb9e586d">IsSweepingInProgress</a>());</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span> </div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>  <span class="comment">// Check that previous cycle metrics for the same collection type have been</span></div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>  <span class="comment">// reported.</span></div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#adb083204c67186cc4257dd62658b9dd3">GetMetricRecorder</a>()) {</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>    <span class="keywordflow">if</span> (collection_type == CollectionType::kMajor)</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>      <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#adb083204c67186cc4257dd62658b9dd3">GetMetricRecorder</a>()-&gt;FullGCMetricsReportPending());</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>      <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#adb083204c67186cc4257dd62658b9dd3">GetMetricRecorder</a>()-&gt;YoungGCMetricsReportPending());</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>  }</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span> </div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span><span class="preprocessor">#if defined(CPPGC_YOUNG_GENERATION)</span></div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#a6c6edeb1412f64a9b9135222b30095d5">generational_gc_supported</a>() &amp;&amp;</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>      *<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a3c3a371945cb9e7df4eb553268e9e47e">collection_type_</a> == CollectionType::kMajor) {</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>    <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#aae00d9c13b4caebbf0850cde96fce1fc">stats_collector</a>()-&gt;<a class="code hl_function" href="classcppgc_1_1internal_1_1StatsCollector.html#a8e847c83c24be2cab9d849e8a4c41fd9">NotifyUnmarkingStarted</a>(*<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a3c3a371945cb9e7df4eb553268e9e47e">collection_type_</a>);</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>    <a class="code hl_class" href="classcppgc_1_1internal_1_1StatsCollector_1_1InternalScope.html">cppgc::internal::StatsCollector::EnabledScope</a> stats_scope(</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>        <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#aae00d9c13b4caebbf0850cde96fce1fc">stats_collector</a>(), cppgc::internal::StatsCollector::kUnmark);</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>    <a class="code hl_class" href="classcppgc_1_1internal_1_1SequentialUnmarker.html">cppgc::internal::SequentialUnmarker</a> unmarker(<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#a93d7e632fc22b1d512871e9e778661d4">raw_heap</a>());</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>  }</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span><span class="preprocessor">#endif  </span><span class="comment">// defined(CPPGC_YOUNG_GENERATION)</span></div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span> </div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>  <span class="keywordflow">if</span> (gc_flags == <a class="code hl_enumvalue" href="classv8_1_1internal_1_1CppHeap.html#a6e0482a80eb912cef4efeffd506da4a5a979952d239f1f80ac0f5aa759b006439">GarbageCollectionFlagValues::kNoFlags</a>) {</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a43ea4c0a677a9ca53d3057e218b16cc4">heap</a>()-&gt;is_current_gc_forced()) {</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>      gc_flags |= <a class="code hl_enumvalue" href="classv8_1_1internal_1_1CppHeap.html#a6e0482a80eb912cef4efeffd506da4a5a93a9274bc63ac1a0fbc53535a1675cf4">CppHeap::GarbageCollectionFlagValues::kForced</a>;</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>    }</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a43ea4c0a677a9ca53d3057e218b16cc4">heap</a>()-&gt;ShouldReduceMemory()) {</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>      gc_flags |= <a class="code hl_enumvalue" href="classv8_1_1internal_1_1CppHeap.html#a6e0482a80eb912cef4efeffd506da4a5a2c10d264b99555a4d24bafd7298de8d8">CppHeap::GarbageCollectionFlagValues::kReduceMemory</a>;</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>    }</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>  }</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a38cb0fc334f72897dc35202010e7c40d">current_gc_flags_</a> = gc_flags;</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span> </div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>  <span class="keyword">const</span> <a class="code hl_struct" href="structcppgc_1_1internal_1_1MarkingConfig.html">cppgc::internal::MarkingConfig</a> marking_config{</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>      *<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a3c3a371945cb9e7df4eb553268e9e47e">collection_type_</a>,</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>      StackState::kNoHeapPointers,</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>      <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a6f8a03a189eaa4e7d8425179c02f1b8a">SelectMarkingType</a>(),</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>      IsForceGC(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a38cb0fc334f72897dc35202010e7c40d">current_gc_flags_</a>)</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>          ? <a class="code hl_enumvalue" href="structcppgc_1_1internal_1_1MarkingConfig.html#a74d8f8edbbd41410753efcb241bca188af8ece195be5dd5e820bdeee7ad21a4bf">cppgc::internal::MarkingConfig::IsForcedGC::kForced</a></div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>          : <a class="code hl_enumvalue" href="structcppgc_1_1internal_1_1MarkingConfig.html#a74d8f8edbbd41410753efcb241bca188a5d15e19685b0655571d8b0f742811b65">cppgc::internal::MarkingConfig::IsForcedGC::kNotForced</a>,</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>      <a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.incremental_marking_bailout_when_ahead_of_schedule};</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>  <a class="code hl_define" href="logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(!<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>,</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>                 (MarkingType::kAtomic == marking_config.marking_type) ||</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>                     <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a59aa200f64f60557dffa7b3b6830b237">force_incremental_marking_for_testing_</a>);</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>  <span class="keywordflow">if</span> (ShouldReduceMemory(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a38cb0fc334f72897dc35202010e7c40d">current_gc_flags_</a>)) {</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>    <span class="comment">// Only enable compaction when in a memory reduction garbage collection as</span></div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>    <span class="comment">// it may significantly increase the final garbage collection pause.</span></div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>    <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#afaeb42873cfe7e02badcb5218178a246">compactor_</a>.<a class="code hl_function" href="classcppgc_1_1internal_1_1Compactor.html#a51cc868ae81895393634c88e7920afaa">InitializeIfShouldCompact</a>(marking_config.marking_type,</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>                                         marking_config.stack_state);</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>  }</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>  <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#adc3f094a209c10f0c561f7ab8d06e441">marker_</a> = std::make_unique&lt;UnifiedHeapMarker&gt;(</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>      <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a> ? <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a6ae13c1f6a906672819ff2dc5223d3db">isolate</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a43ea4c0a677a9ca53d3057e218b16cc4">heap</a>() : <span class="keyword">nullptr</span>, <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#aff108e8ef92c95f9b33575e9c9bde70b">AsBase</a>(), <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#a54a03ce024224be32134a346b90f84f1">platform_</a>.get(),</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>      marking_config);</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>}</div>
</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span> </div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span><a class="code hl_class" href="classv8_1_1internal_1_1MarkingWorklists_1_1Local.html">MarkingWorklists::Local</a>* GetV8MarkingWorklists(</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_enumeration" href="namespacecppgc_1_1internal.html#a9a435919d5a4a3ecfdfe20fb93896a60">cppgc::internal::CollectionType</a> collection_type) {</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>  <span class="keyword">auto</span>* <a class="code hl_namespace" href="namespaceheap.html">heap</a> = isolate-&gt;heap();</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>  <span class="keywordflow">if</span> (collection_type == <a class="code hl_enumvalue" href="namespacecppgc_1_1internal.html#a9a435919d5a4a3ecfdfe20fb93896a60a94f16e44c50fb544fc2b1f177b913cbc">cppgc::internal::CollectionType::kMajor</a>) {</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>    <span class="keywordflow">return</span> <a class="code hl_namespace" href="namespaceheap.html">heap</a>-&gt;mark_compact_collector()-&gt;local_marking_worklists();</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>    <span class="keywordflow">return</span> <a class="code hl_namespace" href="namespaceheap.html">heap</a>-&gt;minor_mark_sweep_collector()-&gt;local_marking_worklists();</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>  }</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>}</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span> </div>
<div class="foldopen" id="foldopen00781" data-start="{" data-end="}">
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#ae67d52cdcb6ee95629fe16a51437588c">  781</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#ae67d52cdcb6ee95629fe16a51437588c">CppHeap::StartMarking</a>() {</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#aa27b5b1b58f1f87c170367d84de100a0">marking_done_</a>);</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a494facb3576a6c06aeb50a5a31a1eac7">TracingInitialized</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>) {</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>    <span class="comment">// Reuse the same local worklist for the mutator marking state which results</span></div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>    <span class="comment">// in directly processing the objects by the JS logic. Also avoids</span></div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>    <span class="comment">// publishing local objects.</span></div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>    <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#adc3f094a209c10f0c561f7ab8d06e441">marker_</a>-&gt;To&lt;<a class="code hl_class" href="classv8_1_1internal_1_1UnifiedHeapMarker.html">UnifiedHeapMarker</a>&gt;().GetMutatorUnifiedHeapMarkingState().Update(</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>        GetV8MarkingWorklists(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>, *<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a3c3a371945cb9e7df4eb553268e9e47e">collection_type_</a>));</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>  }</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>  <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#adc3f094a209c10f0c561f7ab8d06e441">marker_</a>-&gt;StartMarking();</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#aa27b5b1b58f1f87c170367d84de100a0">marking_done_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>}</div>
</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span> </div>
<div class="foldopen" id="foldopen00795" data-start="{" data-end="}">
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a11dbcd395c520879e542c974d7d80d76">  795</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a11dbcd395c520879e542c974d7d80d76">CppHeap::AdvanceTracing</a>(<a class="code hl_class" href="classv8_1_1base_1_1TimeDelta.html">v8::base::TimeDelta</a> max_duration) {</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a494facb3576a6c06aeb50a5a31a1eac7">TracingInitialized</a>()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#af32e662a85215f2f74f0422eec027aee">is_in_v8_marking_step_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>  <a class="code hl_class" href="classcppgc_1_1internal_1_1StatsCollector_1_1InternalScope.html">cppgc::internal::StatsCollector::EnabledScope</a> stats_scope(</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>      <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#aae00d9c13b4caebbf0850cde96fce1fc">stats_collector</a>(),</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>      <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#a3b255aff5298903ef811768ed50b9b62">in_atomic_pause_</a> ? cppgc::internal::StatsCollector::kAtomicMark</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>                       : cppgc::internal::StatsCollector::kIncrementalMark);</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>  <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1base_1_1TimeDelta.html">v8::base::TimeDelta</a> deadline =</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>      <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#a3b255aff5298903ef811768ed50b9b62">in_atomic_pause_</a> ? <a class="code hl_function" href="classv8_1_1base_1_1TimeDelta.html#a1330af8b50fc0206f46945ea8d6922cf">v8::base::TimeDelta::Max</a>() : max_duration;</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>  <span class="keyword">const</span> <span class="keywordtype">size_t</span> marked_bytes_limit = <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#a3b255aff5298903ef811768ed50b9b62">in_atomic_pause_</a> ? SIZE_MAX : 0;</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>  <a class="code hl_define" href="logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(<a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#adc3f094a209c10f0c561f7ab8d06e441">marker_</a>);</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#a3b255aff5298903ef811768ed50b9b62">in_atomic_pause_</a>) {</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>    <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#adc3f094a209c10f0c561f7ab8d06e441">marker_</a>-&gt;NotifyConcurrentMarkingOfWorkIfNeeded(</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>        cppgc::TaskPriority::kUserBlocking);</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>  }</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>  <span class="comment">// TODO(chromium:1056170): Replace when unified heap transitions to</span></div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>  <span class="comment">// bytes-based deadline.</span></div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#aa27b5b1b58f1f87c170367d84de100a0">marking_done_</a> =</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>      <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#adc3f094a209c10f0c561f7ab8d06e441">marker_</a>-&gt;AdvanceMarkingWithLimits(deadline, marked_bytes_limit);</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>  <a class="code hl_define" href="logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#a3b255aff5298903ef811768ed50b9b62">in_atomic_pause_</a>, <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#aa27b5b1b58f1f87c170367d84de100a0">marking_done_</a>);</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#af32e662a85215f2f74f0422eec027aee">is_in_v8_marking_step_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#aa27b5b1b58f1f87c170367d84de100a0">marking_done_</a>;</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>}</div>
</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span> </div>
<div class="foldopen" id="foldopen00819" data-start="{" data-end="}">
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#af04b03a8fa1a4192cda0dfe198fcba70">  819</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#af04b03a8fa1a4192cda0dfe198fcba70">CppHeap::IsTracingDone</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>  <span class="keywordflow">return</span> !<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a494facb3576a6c06aeb50a5a31a1eac7">TracingInitialized</a>() || <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#aa27b5b1b58f1f87c170367d84de100a0">marking_done_</a>;</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>}</div>
</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span> </div>
<div class="foldopen" id="foldopen00823" data-start="{" data-end="}">
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a4fea508a91277ca96486db1c032acfb2">  823</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a4fea508a91277ca96486db1c032acfb2">CppHeap::ShouldFinalizeIncrementalMarking</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>  <span class="keywordflow">return</span> !<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#a593d702898774c33a1634359fd820d71">incremental_marking_supported</a>() || <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#af04b03a8fa1a4192cda0dfe198fcba70">IsTracingDone</a>();</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>}</div>
</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span> </div>
<div class="foldopen" id="foldopen00827" data-start="{" data-end="}">
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a3a2a25bffca1322f544bc6a77a929970">  827</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a3a2a25bffca1322f544bc6a77a929970">CppHeap::EnterProcessGlobalAtomicPause</a>() {</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a494facb3576a6c06aeb50a5a31a1eac7">TracingInitialized</a>()) {</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>  }</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#a3b255aff5298903ef811768ed50b9b62">in_atomic_pause_</a>);</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>  <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#adc3f094a209c10f0c561f7ab8d06e441">marker_</a>-&gt;To&lt;<a class="code hl_class" href="classv8_1_1internal_1_1UnifiedHeapMarker.html">UnifiedHeapMarker</a>&gt;().<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a3a2a25bffca1322f544bc6a77a929970">EnterProcessGlobalAtomicPause</a>();</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>}</div>
</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span> </div>
<div class="foldopen" id="foldopen00835" data-start="{" data-end="}">
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a9171e6283279c509a9e40d2be7d9960e">  835</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a9171e6283279c509a9e40d2be7d9960e">CppHeap::EnterFinalPause</a>(cppgc::EmbedderStackState stack_state) {</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a754453a3dc0a01990420e0a3380a73e7">IsGCForbidden</a>());</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>  <span class="comment">// Enter atomic pause even if tracing is not initialized. This is needed to</span></div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>  <span class="comment">// make sure that we always enable young generation from the atomic pause.</span></div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>  <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#a3b255aff5298903ef811768ed50b9b62">in_atomic_pause_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a494facb3576a6c06aeb50a5a31a1eac7">TracingInitialized</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>  <span class="keyword">auto</span>&amp; <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#aec0fb671aaf6559c673728c0f89ab942">marker</a> = <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#adc3f094a209c10f0c561f7ab8d06e441">marker_</a>-&gt;<a class="code hl_function" href="classcppgc_1_1internal_1_1MarkerBase.html#a5e60d05024c5a09b11da59a7d5cf07f1">To</a>&lt;<a class="code hl_class" href="classv8_1_1internal_1_1UnifiedHeapMarker.html">UnifiedHeapMarker</a>&gt;();</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>  <span class="comment">// Scan global handles conservatively in case we are attached to an Isolate.</span></div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>  <span class="comment">// TODO(1029379): Support global handle marking visitors with minor GC.</span></div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>) {</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>    <span class="keyword">auto</span>&amp; <a class="code hl_namespace" href="namespaceheap.html">heap</a> = *<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a6ae13c1f6a906672819ff2dc5223d3db">isolate</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Isolate.html#a8f158e28d6a29d8bf8459c45ba5e40c2">heap</a>();</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>    <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#aec0fb671aaf6559c673728c0f89ab942">marker</a>.<a class="code hl_function" href="classcppgc_1_1internal_1_1MarkerBase.html#a3f0cf1e7d5a2e30f09077aaa90c5b67d">conservative_visitor</a>().SetConservativeTracedHandlesMarkingVisitor(</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>        std::make_unique&lt;ConservativeTracedHandlesMarkingVisitor&gt;(</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>            <a class="code hl_namespace" href="namespaceheap.html">heap</a>, *GetV8MarkingWorklists(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>, *<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a3c3a371945cb9e7df4eb553268e9e47e">collection_type_</a>),</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>            *<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a3c3a371945cb9e7df4eb553268e9e47e">collection_type_</a>));</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>  }</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>  <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#aec0fb671aaf6559c673728c0f89ab942">marker</a>.<a class="code hl_function" href="classcppgc_1_1internal_1_1MarkerBase.html#a99c0d082f30fa4c8840dab62ee997959">EnterAtomicPause</a>(stack_state);</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>  <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#afaeb42873cfe7e02badcb5218178a246">compactor_</a>.<a class="code hl_function" href="classcppgc_1_1internal_1_1Compactor.html#a94f833022b79a99fcae67d4cda8a0e27">CancelIfShouldNotCompact</a>(MarkingType::kAtomic, stack_state);</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>}</div>
</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span> </div>
<div class="foldopen" id="foldopen00855" data-start="{" data-end="}">
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a4844e16c0625f41d328ea9ca1ab76acc">  855</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a4844e16c0625f41d328ea9ca1ab76acc">CppHeap::FinishConcurrentMarkingIfNeeded</a>() {</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a494facb3576a6c06aeb50a5a31a1eac7">TracingInitialized</a>()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#adc3f094a209c10f0c561f7ab8d06e441">marker_</a>-&gt;JoinConcurrentMarkingIfNeeded();</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>}</div>
</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span> </div>
<div class="foldopen" id="foldopen00860" data-start="{" data-end="}">
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a70fa252bf058400630c62a76f6aae2a7">  860</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a70fa252bf058400630c62a76f6aae2a7">CppHeap::ReEnableConcurrentMarking</a>() {</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#a3b255aff5298903ef811768ed50b9b62">in_atomic_pause_</a>);</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>  <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#adc3f094a209c10f0c561f7ab8d06e441">marker_</a>-&gt;ReEnableConcurrentMarking();</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>}</div>
</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span> </div>
<div class="foldopen" id="foldopen00865" data-start="{" data-end="}">
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a2eebf1aa02147556869c66fd95f13f63">  865</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a2eebf1aa02147556869c66fd95f13f63">CppHeap::WriteBarrier</a>(<span class="keywordtype">void</span>* <span class="keywordtype">object</span>) {</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>  <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a6ae13c1f6a906672819ff2dc5223d3db">isolate</a>()</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>      -&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Isolate.html#a8f158e28d6a29d8bf8459c45ba5e40c2">heap</a>()</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>      -&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Heap.html#a3d8741e9d5e50515a761be0ca0a6f725">mark_compact_collector</a>()</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>      -&gt;<a class="code hl_function" href="classv8_1_1internal_1_1MarkCompactCollector.html#afdd5062b5568a5aa3d2c1b457252df79">local_marking_worklists</a>()</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>      -&gt;<a class="code hl_function" href="classv8_1_1internal_1_1MarkingWorklists_1_1Local.html#acce9cc0730ee7af549c2eb514174c930">cpp_marking_state</a>()</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>      -&gt;<a class="code hl_function" href="classv8_1_1internal_1_1CppMarkingState.html#a73a1458bd1ec8b8b15ac575757451250">MarkAndPush</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>}</div>
</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span> </div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span> </div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span><span class="keywordtype">void</span> RecordEmbedderMarkingSpeed(<a class="code hl_class" href="classv8_1_1internal_1_1GCTracer.html">GCTracer</a>* tracer, <a class="code hl_class" href="classv8_1_1base_1_1TimeDelta.html">base::TimeDelta</a> marking_time,</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>                                <span class="keywordtype">size_t</span> marked_bytes) {</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>  tracer-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1GCTracer.html#a5e04aa69400740fdb93c2d3ef9929f96">RecordEmbedderMarkingSpeed</a>(marked_bytes, marking_time);</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>}</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span> </div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span> </div>
<div class="foldopen" id="foldopen00883" data-start="{" data-end="}">
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#af6bfadd392a2cf1a38c796064323d388">  883</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#af6bfadd392a2cf1a38c796064323d388">CppHeap::FinishMarkingAndProcessWeakness</a>() {</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#a3b255aff5298903ef811768ed50b9b62">in_atomic_pause_</a>);</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#aa27b5b1b58f1f87c170367d84de100a0">marking_done_</a>);</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span> </div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span><span class="preprocessor">#if defined(CPPGC_YOUNG_GENERATION)</span></div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>  <span class="comment">// Check if the young generation was enabled via flag. We must enable young</span></div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>  <span class="comment">// generation before calling the custom weak callbacks to make sure that the</span></div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>  <span class="comment">// callbacks for old objects are registered in the remembered set.</span></div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.cppgc_young_generation) {</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>    EnableGenerationalGC();</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>  }</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span><span class="preprocessor">#endif  </span><span class="comment">// defined(CPPGC_YOUNG_GENERATION)</span></div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span> </div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a494facb3576a6c06aeb50a5a31a1eac7">TracingInitialized</a>()) {</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>    <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#a3b255aff5298903ef811768ed50b9b62">in_atomic_pause_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>  }</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span> </div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>  {</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>    cppgc::subtle::DisallowGarbageCollectionScope disallow_gc_scope(*<span class="keyword">this</span>);</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>    <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#adc3f094a209c10f0c561f7ab8d06e441">marker_</a>-&gt;LeaveAtomicPause();</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>  }</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>  <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#adc3f094a209c10f0c561f7ab8d06e441">marker_</a>.reset();</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span> </div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>) {</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>    <span class="comment">// The size is used for recomputing the global heap limit.</span></div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a2856251873b197e4e86efa63d2a59183">used_size_</a> = <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#a1c125f8ddd61c5c76a4040f551c4ca05">stats_collector_</a>-&gt;marked_bytes();</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>    <span class="comment">// Force a check next time increased memory is reported. This allows for</span></div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>    <span class="comment">// setting limits close to actual heap sizes.</span></div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#afd08a18834a1f0d5fbe2466c909a6a4d">allocated_size_limit_for_check_</a> = 0;</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span> </div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>    RecordEmbedderMarkingSpeed(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Isolate.html#a8f158e28d6a29d8bf8459c45ba5e40c2">heap</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Heap.html#ae12ef5f250417c33f81f5f599feffe17">tracer</a>(),</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>                               <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#a1c125f8ddd61c5c76a4040f551c4ca05">stats_collector_</a>-&gt;marking_time(), <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a2856251873b197e4e86efa63d2a59183">used_size_</a>);</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>  }</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>}</div>
</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span> </div>
<div class="foldopen" id="foldopen00919" data-start="{" data-end="}">
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a21f40082fbf4a355a3f67cfdd7b8f799">  919</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a21f40082fbf4a355a3f67cfdd7b8f799">CppHeap::CompactAndSweep</a>() {</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a494facb3576a6c06aeb50a5a31a1eac7">TracingInitialized</a>()) {</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>  }</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span> </div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>  <span class="comment">// The allocated bytes counter in v8 was reset to the current marked bytes, so</span></div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>  <span class="comment">// any pending allocated bytes updates should be discarded.</span></div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#aa00e30bcb6ce48c9a47d08a3d2ed6c79">buffered_allocated_bytes_</a> = 0;</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>  <span class="keyword">const</span> <span class="keywordtype">size_t</span> bytes_allocated_in_prefinalizers = <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#a394c5d7bc06fc2977dc3d895847ea16b">ExecutePreFinalizers</a>();</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span><span class="preprocessor">#if CPPGC_VERIFY_HEAP</span></div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>  <a class="code hl_class" href="classv8_1_1internal_1_1UnifiedHeapMarkingVerifier.html">UnifiedHeapMarkingVerifier</a> verifier(*<span class="keyword">this</span>, *<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a3c3a371945cb9e7df4eb553268e9e47e">collection_type_</a>);</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>  verifier.<a class="code hl_function" href="classcppgc_1_1internal_1_1MarkingVerifierBase.html#a462f06c8ac7ac49879b66025ec5c1ca3">Run</a>(<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#a348af7f2adfa59de70e836ee4b62fe9e">stack_state_of_prev_gc</a>(),</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>               <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#aae00d9c13b4caebbf0850cde96fce1fc">stats_collector</a>()-&gt;marked_bytes_on_current_cycle() +</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>                   bytes_allocated_in_prefinalizers);</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span><span class="preprocessor">#endif  </span><span class="comment">// CPPGC_VERIFY_HEAP</span></div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>  <a class="code hl_define" href="macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(bytes_allocated_in_prefinalizers);</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span> </div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span><span class="preprocessor">#if defined(CPPGC_YOUNG_GENERATION)</span></div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>  ResetRememberedSet();</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>  <span class="comment">// We can reset the remembered set on each GC because surviving Oilpan objects</span></div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>  <span class="comment">// are immediately considered old.</span></div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>  <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#ac3b3fec0660b44df6efb168e65625926">ResetCrossHeapRememberedSet</a>();</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span><span class="preprocessor">#endif  </span><span class="comment">// defined(CPPGC_YOUNG_GENERATION)</span></div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span> </div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>  {</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>    cppgc::subtle::NoGarbageCollectionScope no_gc(*<span class="keyword">this</span>);</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>    <a class="code hl_enumeration" href="structcppgc_1_1internal_1_1SweepingConfig.html#a2523f1fec7c4b756d00f3d8c5d658077">cppgc::internal::SweepingConfig::CompactableSpaceHandling</a></div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>        compactable_space_handling;</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>    {</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>      std::optional&lt;SweepingOnMutatorThreadForGlobalHandlesScope&gt;</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>          global_handles_scope;</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>) {</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>        global_handles_scope.emplace(*<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Isolate.html#a67c396ca00a91e3b3c6131d6db14a438">traced_handles</a>());</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>      }</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>      compactable_space_handling = <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#afaeb42873cfe7e02badcb5218178a246">compactor_</a>.<a class="code hl_function" href="classcppgc_1_1internal_1_1Compactor.html#a42c07f25910694151424ed5df5622df1">CompactSpacesIfEnabled</a>();</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>    }</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structcppgc_1_1internal_1_1SweepingConfig.html">cppgc::internal::SweepingConfig</a> sweeping_config{</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>        <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#ae9f4d53f91bfab064eda69a638bfade1">SelectSweepingType</a>(), compactable_space_handling,</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>        ShouldReduceMemory(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a38cb0fc334f72897dc35202010e7c40d">current_gc_flags_</a>)</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>            ? cppgc::internal::SweepingConfig::FreeMemoryHandling::</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>                  kDiscardWherePossible</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>            : cppgc::internal::SweepingConfig::FreeMemoryHandling::</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>                  kDoNotDiscard};</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>    <a class="code hl_define" href="logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(!<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>,</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>                   SweepingType::kAtomic == sweeping_config.sweeping_type);</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>    <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#abfdfb14cc6336b6302a847dce71bf390">sweeper</a>().<a class="code hl_function" href="classcppgc_1_1internal_1_1Sweeper.html#abef60b3e2f8ea9058a7c9ac4e0d13729">Start</a>(sweeping_config);</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>  }</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span> </div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>  <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#a3b255aff5298903ef811768ed50b9b62">in_atomic_pause_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a3c3a371945cb9e7df4eb553268e9e47e">collection_type_</a>.reset();</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>}</div>
</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span> </div>
<div class="foldopen" id="foldopen00971" data-start="{" data-end="}">
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a9e71c551bac572b61ba32084d6d6e73c">  971</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a9e71c551bac572b61ba32084d6d6e73c">CppHeap::AllocatedObjectSizeIncreased</a>(<span class="keywordtype">size_t</span> bytes) {</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#aa00e30bcb6ce48c9a47d08a3d2ed6c79">buffered_allocated_bytes_</a> += <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(bytes);</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>  <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a7fd74b08e4e31209acfd38cb22c78d67">ReportBufferedAllocationSizeIfPossible</a>();</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>}</div>
</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span> </div>
<div class="foldopen" id="foldopen00976" data-start="{" data-end="}">
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#abeb3e8eb2477908d6d63855e9d055cf1">  976</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#abeb3e8eb2477908d6d63855e9d055cf1">CppHeap::AllocatedObjectSizeDecreased</a>(<span class="keywordtype">size_t</span> bytes) {</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#aa00e30bcb6ce48c9a47d08a3d2ed6c79">buffered_allocated_bytes_</a> -= <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(bytes);</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>  <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a7fd74b08e4e31209acfd38cb22c78d67">ReportBufferedAllocationSizeIfPossible</a>();</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>}</div>
</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span> </div>
<div class="foldopen" id="foldopen00981" data-start="{" data-end="}">
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a7fd74b08e4e31209acfd38cb22c78d67">  981</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a7fd74b08e4e31209acfd38cb22c78d67">CppHeap::ReportBufferedAllocationSizeIfPossible</a>() {</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>  <span class="comment">// Reporting memory to V8 may trigger GC.</span></div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a504fd99fa9d3db6c478d921a7b1af211">IsGCAllowed</a>()) {</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>  }</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span> </div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>  <span class="comment">// We are in attached state.</span></div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>  <a class="code hl_define" href="logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>);</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span> </div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>  <span class="comment">// The calls below may trigger full GCs that are synchronous and also execute</span></div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>  <span class="comment">// epilogue callbacks. Since such callbacks may allocate, the counter must</span></div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>  <span class="comment">// already be zeroed by that time.</span></div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>  <span class="keyword">const</span> int64_t bytes_to_report = <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#aa00e30bcb6ce48c9a47d08a3d2ed6c79">buffered_allocated_bytes_</a>;</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#aa00e30bcb6ce48c9a47d08a3d2ed6c79">buffered_allocated_bytes_</a> = 0;</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span> </div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>  <span class="keywordflow">if</span> (bytes_to_report &lt; 0) {</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>    <a class="code hl_define" href="logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a2856251873b197e4e86efa63d2a59183">used_size_</a>.load(std::memory_order_relaxed), bytes_to_report);</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a2856251873b197e4e86efa63d2a59183">used_size_</a>.fetch_sub(<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(-bytes_to_report),</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>                         std::memory_order_relaxed);</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a2856251873b197e4e86efa63d2a59183">used_size_</a>.fetch_add(<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(bytes_to_report),</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>                         std::memory_order_relaxed);</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a95972d50a800baefcf9062de07d0901b">allocated_size_</a> += bytes_to_report;</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span> </div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.incremental_marking) {</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a95972d50a800baefcf9062de07d0901b">allocated_size_</a> &gt; <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#afd08a18834a1f0d5fbe2466c909a6a4d">allocated_size_limit_for_check_</a>) {</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>        <a class="code hl_class" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code hl_namespace" href="namespaceheap.html">heap</a> = <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Isolate.html#a8f158e28d6a29d8bf8459c45ba5e40c2">heap</a>();</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>        <a class="code hl_namespace" href="namespaceheap.html">heap</a>-&gt;StartIncrementalMarkingIfAllocationLimitIsReached(</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>            <a class="code hl_namespace" href="namespaceheap.html">heap</a>-&gt;main_thread_local_heap(),</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>            <a class="code hl_namespace" href="namespaceheap.html">heap</a>-&gt;GCFlagsForIncrementalMarking(),</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>            kGCCallbackScheduleIdleGarbageCollection);</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>        <span class="keywordflow">if</span> (<a class="code hl_namespace" href="namespaceheap.html">heap</a>-&gt;incremental_marking()-&gt;IsMajorMarking()) {</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>          <span class="keywordflow">if</span> (<a class="code hl_namespace" href="namespaceheap.html">heap</a>-&gt;AllocationLimitOvershotByLargeMargin()) {</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>            <a class="code hl_namespace" href="namespaceheap.html">heap</a>-&gt;FinalizeIncrementalMarkingAtomically(</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>                i::GarbageCollectionReason::kExternalFinalize);</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>          } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>            <a class="code hl_namespace" href="namespaceheap.html">heap</a>-&gt;incremental_marking()-&gt;AdvanceOnAllocation();</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>          }</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>        }</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>        <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#afd08a18834a1f0d5fbe2466c909a6a4d">allocated_size_limit_for_check_</a> =</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>            <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a95972d50a800baefcf9062de07d0901b">allocated_size_</a> + kIncrementalMarkingCheckInterval;</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>      }</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>    }</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>  }</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>}</div>
</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span> </div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a9dad5e79b098f74f1506a0cfed8c54b7">CppHeap::CollectGarbageForTesting</a>(CollectionType collection_type,</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>                                       StackState stack_state) {</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a2d49cae338c7748ff94942ad232f87ff">IsDetachedGCAllowed</a>()) {</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>  }</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span> </div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>  <span class="comment">// Finish sweeping in case it is still running.</span></div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>  <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#abfdfb14cc6336b6302a847dce71bf390">sweeper</a>().<a class="code hl_function" href="classcppgc_1_1internal_1_1Sweeper.html#af09b5d03ff99e7984c5d8272b0722e34">FinishIfRunning</a>();</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span> </div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>) {</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>    <span class="keyword">reinterpret_cast&lt;</span>v8::Isolate*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>)</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>        -&gt;RequestGarbageCollectionForTesting(</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>            v8::Isolate::kFullGarbageCollection, stack_state);</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>  }</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span> </div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>  <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a2edb27f43e66698d36c533e94da5c3b8">stack</a>()-&gt;<a class="code hl_function" href="classheap_1_1base_1_1Stack.html#a7eacbd98d83d65d2a3a02504dc0b1cd9">SetMarkerIfNeededAndCallback</a>([<span class="keyword">this</span>, collection_type, stack_state]() {</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>    <span class="comment">// Perform an atomic GC, with starting incremental/concurrent marking and</span></div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>    <span class="comment">// immediately finalizing the garbage collection.</span></div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#a60968bc03f7adef077a5404d9c9329e6">IsMarking</a>()) {</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>      <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#ac7034aca4b644909e7565f0beb372974">InitializeMarking</a>(collection_type, <a class="code hl_enumvalue" href="classv8_1_1internal_1_1CppHeap.html#a6e0482a80eb912cef4efeffd506da4a5a93a9274bc63ac1a0fbc53535a1675cf4">GarbageCollectionFlagValues::kForced</a>);</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>      <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#ae67d52cdcb6ee95629fe16a51437588c">StartMarking</a>();</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>    }</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>    <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a9171e6283279c509a9e40d2be7d9960e">EnterFinalPause</a>(stack_state);</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>    <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a3a2a25bffca1322f544bc6a77a929970">EnterProcessGlobalAtomicPause</a>();</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>    <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a11dbcd395c520879e542c974d7d80d76">AdvanceTracing</a>(<a class="code hl_function" href="classv8_1_1base_1_1TimeDelta.html#a1330af8b50fc0206f46945ea8d6922cf">v8::base::TimeDelta::Max</a>()));</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a4844e16c0625f41d328ea9ca1ab76acc">FinishConcurrentMarkingIfNeeded</a>()) {</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>      <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a11dbcd395c520879e542c974d7d80d76">AdvanceTracing</a>(<a class="code hl_function" href="classv8_1_1base_1_1TimeDelta.html#a1330af8b50fc0206f46945ea8d6922cf">v8::base::TimeDelta::Max</a>()));</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>    }</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>    <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#af6bfadd392a2cf1a38c796064323d388">FinishMarkingAndProcessWeakness</a>();</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>    <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a21f40082fbf4a355a3f67cfdd7b8f799">CompactAndSweep</a>();</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>    <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#aaa05e9e576f5eeda60325b5b11541da1">FinishAtomicSweepingIfRunning</a>();</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>  });</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>}</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span> </div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a6c121eccc7ec6e682feefa9841a7d2ba">CppHeap::EnableDetachedGarbageCollectionsForTesting</a>() {</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a5b51fc09c8595c6af2e69042e4927716">in_detached_testing_mode_</a>);</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>  <a class="code hl_define" href="logging_8h.html#a7bf1ad59490562f507223cd6ca2cc6fa">CHECK_NULL</a>(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>);</div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>  <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#aca0116b9940ea0a9e698f728ff759cd8">no_gc_scope_</a>--;</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a5b51fc09c8595c6af2e69042e4927716">in_detached_testing_mode_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>  <span class="keyword">static_cast&lt;</span>CppgcPlatformAdapter*<span class="keyword">&gt;</span>(<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#af06f279a87b6893e238315092950feff">platform</a>())</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>      -&gt;EnableDetachedModeForTesting();</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>}</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span> </div>
<div class="foldopen" id="foldopen01071" data-start="{" data-end="}">
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a09b8933e55bd3be5d6897acbf96b5b86"> 1071</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a09b8933e55bd3be5d6897acbf96b5b86">CppHeap::StartIncrementalGarbageCollectionForTesting</a>() {</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#afbfc57ef93555f3c8cf91d2bfed411d8">in_no_gc_scope</a>());</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>  <a class="code hl_define" href="logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>);</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#a60968bc03f7adef077a5404d9c9329e6">IsMarking</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a59aa200f64f60557dffa7b3b6830b237">force_incremental_marking_for_testing_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>  <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#ac7034aca4b644909e7565f0beb372974">InitializeMarking</a>(CollectionType::kMajor,</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>                    <a class="code hl_enumvalue" href="classv8_1_1internal_1_1CppHeap.html#a6e0482a80eb912cef4efeffd506da4a5a93a9274bc63ac1a0fbc53535a1675cf4">GarbageCollectionFlagValues::kForced</a>);</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>  <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#ae67d52cdcb6ee95629fe16a51437588c">StartMarking</a>();</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a59aa200f64f60557dffa7b3b6830b237">force_incremental_marking_for_testing_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>}</div>
</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span> </div>
<div class="foldopen" id="foldopen01082" data-start="{" data-end="}">
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a5cf05b67b93df9dabe0533a323885627"> 1082</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a5cf05b67b93df9dabe0533a323885627">CppHeap::FinalizeIncrementalGarbageCollectionForTesting</a>(</div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>    cppgc::EmbedderStackState stack_state) {</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#afbfc57ef93555f3c8cf91d2bfed411d8">in_no_gc_scope</a>());</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>  <a class="code hl_define" href="logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>);</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#a60968bc03f7adef077a5404d9c9329e6">IsMarking</a>());</div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#a60968bc03f7adef077a5404d9c9329e6">IsMarking</a>()) {</div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>    <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a9dad5e79b098f74f1506a0cfed8c54b7">CollectGarbageForTesting</a>(CollectionType::kMajor, stack_state);</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>  }</div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>  <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#aa09ebf2bd1d1e603934eead468725bb6">sweeper_</a>.<a class="code hl_function" href="classcppgc_1_1internal_1_1Sweeper.html#af09b5d03ff99e7984c5d8272b0722e34">FinishIfRunning</a>();</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>}</div>
</div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span> </div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span> </div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span><span class="keywordtype">void</span> ReportCustomSpaceStatistics(</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>    <a class="code hl_class" href="classcppgc_1_1internal_1_1RawHeap.html">cppgc::internal::RawHeap</a>&amp; raw_heap,</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>    std::vector&lt;cppgc::CustomSpaceIndex&gt; custom_spaces,</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>    std::unique_ptr&lt;CustomSpaceStatisticsReceiver&gt; <a class="code hl_variable" href="js-call-reducer_8cc.html#a8aab47cc18f1dda0f6b8034f5c64d43d">receiver</a>) {</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> custom_space_index : custom_spaces) {</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>    <span class="keyword">const</span> <a class="code hl_class" href="classcppgc_1_1internal_1_1BaseSpace.html">cppgc::internal::BaseSpace</a>* space =</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>        raw_heap.<a class="code hl_function" href="classcppgc_1_1internal_1_1RawHeap.html#aa6da0b245575006ffdbcc41761667b4c">CustomSpace</a>(custom_space_index);</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>    <span class="keywordtype">size_t</span> allocated_bytes = std::accumulate(</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>        space-&gt;begin(), space-&gt;end(), 0, [](<span class="keywordtype">size_t</span> sum, <span class="keyword">auto</span>* <a class="code hl_variable" href="cppgc_2sweeper_8cc.html#a876e0ae5632dcb3138e6e718ac01ae8a">page</a>) {</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>          return sum + page-&gt;AllocatedBytesAtLastGC();</div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>        });</div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>    <a class="code hl_variable" href="js-call-reducer_8cc.html#a8aab47cc18f1dda0f6b8034f5c64d43d">receiver</a>-&gt;AllocatedBytes(custom_space_index, allocated_bytes);</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>  }</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>}</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span> </div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span><span class="keyword">class </span>CollectCustomSpaceStatisticsAtLastGCTask final : <span class="keyword">public</span> v8::Task {</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span> <span class="keyword">public</span>:</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"><a class="line" href="cpp-heap_8cc.html#a0ee55a107a54572260ea7a1be6ce2ae4"> 1112</a></span>  <span class="keyword">static</span> <span class="keyword">constexpr</span> <a class="code hl_class" href="classv8_1_1base_1_1TimeDelta.html">v8::base::TimeDelta</a> <a class="code hl_variable" href="cpp-heap_8cc.html#a0ee55a107a54572260ea7a1be6ce2ae4">kTaskDelayMs</a> =</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>      <a class="code hl_function" href="classv8_1_1base_1_1TimeDelta.html#aedb23f3b7d15531e09b71883aaa96b6d">v8::base::TimeDelta::FromMilliseconds</a>(10);</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span> </div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>  CollectCustomSpaceStatisticsAtLastGCTask(</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>      <a class="code hl_class" href="classcppgc_1_1internal_1_1HeapBase.html">cppgc::internal::HeapBase</a>&amp; <a class="code hl_namespace" href="namespaceheap.html">heap</a>,</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>      std::vector&lt;cppgc::CustomSpaceIndex&gt; custom_spaces,</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>      std::unique_ptr&lt;CustomSpaceStatisticsReceiver&gt; <a class="code hl_variable" href="js-call-reducer_8cc.html#a8aab47cc18f1dda0f6b8034f5c64d43d">receiver</a>)</div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>      : <a class="code hl_variable" href="cpp-heap_8cc.html#abf26aeebfa3b211a147d054e3acfa1aa">heap_</a>(<a class="code hl_namespace" href="namespaceheap.html">heap</a>),</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>        <a class="code hl_variable" href="cpp-heap_8cc.html#af2396715a57f2f122e2e5d1ed09ab56c">custom_spaces_</a>(<a class="code hl_namespace" href="namespacestd.html">std</a>::move(custom_spaces)),</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>        <a class="code hl_variable" href="js-call-reducer_8cc.html#a636976930af33f8ea09789d93b5a6fc3">receiver_</a>(<a class="code hl_namespace" href="namespacestd.html">std</a>::move(<a class="code hl_variable" href="js-call-reducer_8cc.html#a8aab47cc18f1dda0f6b8034f5c64d43d">receiver</a>)) {}</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span> </div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>  <span class="keywordtype">void</span> Run() final {</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>    <a class="code hl_class" href="classcppgc_1_1internal_1_1Sweeper.html">cppgc::internal::Sweeper</a>&amp; sweeper = <a class="code hl_variable" href="cpp-heap_8cc.html#abf26aeebfa3b211a147d054e3acfa1aa">heap_</a>.sweeper();</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>    <span class="keywordflow">if</span> (sweeper.<a class="code hl_function" href="classcppgc_1_1internal_1_1Sweeper.html#ad46d61cb166f6b8a8ac16954c4c85ada">PerformSweepOnMutatorThread</a>(</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>            kStepSizeMs,</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>            cppgc::internal::StatsCollector::kSweepInTaskForStatistics)) {</div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>      <span class="comment">// Sweeping is done.</span></div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>      <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!sweeper.<a class="code hl_function" href="classcppgc_1_1internal_1_1Sweeper.html#a20810eaca7b7e7220910491cdb9e586d">IsSweepingInProgress</a>());</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>      ReportCustomSpaceStatistics(<a class="code hl_variable" href="cpp-heap_8cc.html#abf26aeebfa3b211a147d054e3acfa1aa">heap_</a>.raw_heap(), std::move(custom_spaces_),</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>                                  std::move(receiver_));</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>      <a class="code hl_variable" href="cpp-heap_8cc.html#abf26aeebfa3b211a147d054e3acfa1aa">heap_</a>.platform()-&gt;GetForegroundTaskRunner()-&gt;PostDelayedTask(</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>          std::make_unique&lt;CollectCustomSpaceStatisticsAtLastGCTask&gt;(</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>              heap_, std::move(custom_spaces_), std::move(receiver_)),</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>          <a class="code hl_variable" href="cpp-heap_8cc.html#a0ee55a107a54572260ea7a1be6ce2ae4">kTaskDelayMs</a>.<a class="code hl_function" href="classv8_1_1base_1_1TimeDelta.html#a908286b99a683cc248a717a8ace4ed9c">InSecondsF</a>());</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>    }</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>  }</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span> </div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span> <span class="keyword">private</span>:</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"><a class="line" href="cpp-heap_8cc.html#abeebb7739b038757ffcf1593c6b11ae7"> 1141</a></span>  <span class="keyword">static</span> <span class="keyword">constexpr</span> <a class="code hl_class" href="classv8_1_1base_1_1TimeDelta.html">v8::base::TimeDelta</a> <a class="code hl_variable" href="cpp-heap_8cc.html#abeebb7739b038757ffcf1593c6b11ae7">kStepSizeMs</a> =</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>      <a class="code hl_function" href="classv8_1_1base_1_1TimeDelta.html#aedb23f3b7d15531e09b71883aaa96b6d">v8::base::TimeDelta::FromMilliseconds</a>(5);</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span> </div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>  <a class="code hl_class" href="classcppgc_1_1internal_1_1HeapBase.html">cppgc::internal::HeapBase</a>&amp; <a class="code hl_variable" href="cpp-heap_8cc.html#abf26aeebfa3b211a147d054e3acfa1aa">heap_</a>;</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"><a class="line" href="cpp-heap_8cc.html#af2396715a57f2f122e2e5d1ed09ab56c"> 1145</a></span>  std::vector&lt;cppgc::CustomSpaceIndex&gt; <a class="code hl_variable" href="cpp-heap_8cc.html#af2396715a57f2f122e2e5d1ed09ab56c">custom_spaces_</a>;</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"><a class="line" href="cpp-heap_8cc.html#a650d3e36a3e6f89d7b32432ff1a3b5c4"> 1146</a></span>  std::unique_ptr&lt;CustomSpaceStatisticsReceiver&gt; <a class="code hl_variable" href="js-call-reducer_8cc.html#a636976930af33f8ea09789d93b5a6fc3">receiver_</a>;</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>};</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span> </div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span><span class="keyword">constexpr</span> <a class="code hl_class" href="classv8_1_1base_1_1TimeDelta.html">v8::base::TimeDelta</a></div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>    CollectCustomSpaceStatisticsAtLastGCTask::kTaskDelayMs;</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span><span class="keyword">constexpr</span> <a class="code hl_class" href="classv8_1_1base_1_1TimeDelta.html">v8::base::TimeDelta</a></div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>    CollectCustomSpaceStatisticsAtLastGCTask::kStepSizeMs;</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span> </div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span> </div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#adddb22132263a8f897ae0d7da4edcdc7">CppHeap::CollectCustomSpaceStatisticsAtLastGC</a>(</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>    std::vector&lt;cppgc::CustomSpaceIndex&gt; custom_spaces,</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>    std::unique_ptr&lt;CustomSpaceStatisticsReceiver&gt; <a class="code hl_variable" href="js-call-reducer_8cc.html#a8aab47cc18f1dda0f6b8034f5c64d43d">receiver</a>) {</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#abfdfb14cc6336b6302a847dce71bf390">sweeper</a>().IsSweepingInProgress()) {</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>    <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#af06f279a87b6893e238315092950feff">platform</a>()-&gt;GetForegroundTaskRunner()-&gt;PostDelayedTask(</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>        std::make_unique&lt;CollectCustomSpaceStatisticsAtLastGCTask&gt;(</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>            <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#aff108e8ef92c95f9b33575e9c9bde70b">AsBase</a>(), std::move(custom_spaces), std::move(<a class="code hl_variable" href="js-call-reducer_8cc.html#a8aab47cc18f1dda0f6b8034f5c64d43d">receiver</a>)),</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>        CollectCustomSpaceStatisticsAtLastGCTask::kTaskDelayMs.InSecondsF());</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>  }</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>  ReportCustomSpaceStatistics(<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#a93d7e632fc22b1d512871e9e778661d4">raw_heap</a>(), std::move(custom_spaces),</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>                              std::move(<a class="code hl_variable" href="js-call-reducer_8cc.html#a8aab47cc18f1dda0f6b8034f5c64d43d">receiver</a>));</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>}</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span> </div>
<div class="foldopen" id="foldopen01170" data-start="{" data-end="}">
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#adb083204c67186cc4257dd62658b9dd3"> 1170</a></span><a class="code hl_class" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html">CppHeap::MetricRecorderAdapter</a>* <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#adb083204c67186cc4257dd62658b9dd3">CppHeap::GetMetricRecorder</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html">MetricRecorderAdapter</a>*<span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>      <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#a1c125f8ddd61c5c76a4040f551c4ca05">stats_collector_</a>-&gt;GetMetricRecorder());</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>}</div>
</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span> </div>
<div class="foldopen" id="foldopen01175" data-start="{" data-end="}">
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#ad7419cbbd072c983e702f91f702d2f3d"> 1175</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#ad7419cbbd072c983e702f91f702d2f3d">CppHeap::FinishSweepingIfRunning</a>() {</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>  <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#aa09ebf2bd1d1e603934eead468725bb6">sweeper_</a>.<a class="code hl_function" href="classcppgc_1_1internal_1_1Sweeper.html#af09b5d03ff99e7984c5d8272b0722e34">FinishIfRunning</a>();</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a> &amp;&amp; ShouldReduceMemory(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a38cb0fc334f72897dc35202010e7c40d">current_gc_flags_</a>)) {</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Isolate.html#a67c396ca00a91e3b3c6131d6db14a438">traced_handles</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1TracedHandles.html#a5d85bd5c0e73564f22f60f38b3c301c5">DeleteEmptyBlocks</a>();</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>  }</div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>}</div>
</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span> </div>
<div class="foldopen" id="foldopen01182" data-start="{" data-end="}">
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#aaa05e9e576f5eeda60325b5b11541da1"> 1182</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#aaa05e9e576f5eeda60325b5b11541da1">CppHeap::FinishAtomicSweepingIfRunning</a>() {</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>  <span class="comment">// Young generation GCs are optional and as such sweeping is not necessarily</span></div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>  <span class="comment">// running.</span></div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#aa09ebf2bd1d1e603934eead468725bb6">sweeper_</a>.<a class="code hl_function" href="classcppgc_1_1internal_1_1Sweeper.html#a20810eaca7b7e7220910491cdb9e586d">IsSweepingInProgress</a>() &amp;&amp;</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>      <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#ae9f4d53f91bfab064eda69a638bfade1">SelectSweepingType</a>() == SweepingType::kAtomic) {</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>    <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#ad7419cbbd072c983e702f91f702d2f3d">FinishSweepingIfRunning</a>();</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>  }</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>}</div>
</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span> </div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#aa24801859d3d9fa473c302aedaa87ddc"> 1191</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#aa24801859d3d9fa473c302aedaa87ddc">CppHeap::FinishSweepingIfOutOfWork</a>() { <a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#aa09ebf2bd1d1e603934eead468725bb6">sweeper_</a>.<a class="code hl_function" href="classcppgc_1_1internal_1_1Sweeper.html#a6966fd3b9af81845c4492728f19fa340">FinishIfOutOfWork</a>(); }</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span> </div>
<div class="foldopen" id="foldopen01193" data-start="{" data-end="}">
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a02afff9538c86b2bb40cc8ca156a4372"> 1193</a></span>std::unique_ptr&lt;CppMarkingState&gt; <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a02afff9538c86b2bb40cc8ca156a4372">CppHeap::CreateCppMarkingState</a>() {</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a494facb3576a6c06aeb50a5a31a1eac7">TracingInitialized</a>()) <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#a60968bc03f7adef077a5404d9c9329e6">IsMarking</a>());</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>  <span class="keywordflow">return</span> std::make_unique&lt;CppMarkingState&gt;(</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>      std::make_unique&lt;cppgc::internal::MarkingStateBase&gt;(</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>          <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#aff108e8ef92c95f9b33575e9c9bde70b">AsBase</a>(), <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#aec0fb671aaf6559c673728c0f89ab942">marker</a>()-&gt;To&lt;UnifiedHeapMarker&gt;().GetMarkingWorklists()));</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>}</div>
</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span> </div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>std::unique_ptr&lt;CppMarkingState&gt;</div>
<div class="foldopen" id="foldopen01202" data-start="{" data-end="}">
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a5d6541b9b036ba6e6ee3e1289d19235b"> 1202</a></span><a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a5d6541b9b036ba6e6ee3e1289d19235b">CppHeap::CreateCppMarkingStateForMutatorThread</a>() {</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a494facb3576a6c06aeb50a5a31a1eac7">TracingInitialized</a>()) <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#a60968bc03f7adef077a5404d9c9329e6">IsMarking</a>());</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>  <span class="keywordflow">return</span> std::make_unique&lt;CppMarkingState&gt;(</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>      <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#aec0fb671aaf6559c673728c0f89ab942">marker</a>()-&gt;To&lt;UnifiedHeapMarker&gt;().GetMutatorMarkingState());</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>}</div>
</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span> </div>
<div class="foldopen" id="foldopen01209" data-start="{" data-end="}">
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap_1_1PauseConcurrentMarkingScope.html#aaed756aa8431b5ad970283d4d8491bb3"> 1209</a></span><a class="code hl_function" href="classv8_1_1internal_1_1CppHeap_1_1PauseConcurrentMarkingScope.html#aaed756aa8431b5ad970283d4d8491bb3">CppHeap::PauseConcurrentMarkingScope::PauseConcurrentMarkingScope</a>(</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>    <a class="code hl_class" href="classv8_1_1internal_1_1CppHeap.html">CppHeap</a>* cpp_heap) {</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>  <span class="keywordflow">if</span> (cpp_heap &amp;&amp; cpp_heap-&gt;<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#aec0fb671aaf6559c673728c0f89ab942">marker</a>()) {</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap_1_1PauseConcurrentMarkingScope.html#a2ea3493cfafb76ffcc08ea939f1bd26f">pause_scope_</a>.emplace(*cpp_heap-&gt;<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#aec0fb671aaf6559c673728c0f89ab942">marker</a>());</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>  }</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>}</div>
</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span> </div>
<div class="foldopen" id="foldopen01216" data-start="{" data-end="}">
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a05a1299c5d459c5c4aa87475805fbc57"> 1216</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a05a1299c5d459c5c4aa87475805fbc57">CppHeap::CollectGarbage</a>(<a class="code hl_struct" href="structcppgc_1_1internal_1_1GCConfig.html">cppgc::internal::GCConfig</a> config) {</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a504fd99fa9d3db6c478d921a7b1af211">IsGCAllowed</a>()) {</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>  }</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>  <span class="comment">// TODO(mlippautz): Respect full config.</span></div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>  <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a62f9ba01cabe0363e57940200d641ea5">flags</a> =</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>      (config.<a class="code hl_variable" href="structcppgc_1_1internal_1_1GCConfig.html#af71ca0333cf1c53904978351fc4926c9">free_memory_handling</a> ==</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>       cppgc::internal::GCConfig::FreeMemoryHandling::kDiscardWherePossible)</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>          ? <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#ae64a67f1c140b4617efdee2dd95094f4a1560a0f2c71a124bd10d2c0855ec48ea">GCFlag::kReduceMemoryFootprint</a></div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>          : <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#ae64a67f1c140b4617efdee2dd95094f4a744f371df4037409b14e84cb6ec340e6">GCFlag::kNoFlags</a>;</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Isolate.html#a8f158e28d6a29d8bf8459c45ba5e40c2">heap</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Heap.html#a64d03e1e394ae1598a81533d7c6b94fd">CollectAllGarbage</a>(</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>      <a class="code hl_variable" href="namespacev8_1_1internal.html#a62f9ba01cabe0363e57940200d641ea5">flags</a>, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a0a2f2571e39a2684be87407899aba748ab14447a049f69ee9f567f2da98e5e6ab">GarbageCollectionReason::kCppHeapAllocationFailure</a>);</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>  <a class="code hl_define" href="logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>      config.<a class="code hl_variable" href="structcppgc_1_1internal_1_1GCConfig.html#a0fd9e94fc6bb912b51463e368e79e4bf">sweeping_type</a> == cppgc::internal::GCConfig::SweepingType::kAtomic,</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>      !<a class="code hl_variable" href="classcppgc_1_1internal_1_1HeapBase.html#aa09ebf2bd1d1e603934eead468725bb6">sweeper_</a>.<a class="code hl_function" href="classcppgc_1_1internal_1_1Sweeper.html#a20810eaca7b7e7220910491cdb9e586d">IsSweepingInProgress</a>());</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>}</div>
</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span> </div>
<div class="foldopen" id="foldopen01233" data-start="{" data-end="}">
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a718bd9b9e4dc5e9258d37bc3fea60e4c"> 1233</a></span>std::optional&lt;cppgc::EmbedderStackState&gt; <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a718bd9b9e4dc5e9258d37bc3fea60e4c">CppHeap::overridden_stack_state</a>()<span class="keyword"></span></div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span><span class="keyword">    const </span>{</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a929bc21d15f59861888ff0ad39dfa686">heap_</a> ? <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a929bc21d15f59861888ff0ad39dfa686">heap_</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Heap.html#a770c2ed881e1aafb007e34d3aa47a92d">overridden_stack_state</a>()</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>               : <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a19c7a0ac47858c5255a28ae3e91e4c22">detached_override_stack_state_</a>;</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>}</div>
</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span> </div>
<div class="foldopen" id="foldopen01239" data-start="{" data-end="}">
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a665c883449f390a4f1568a801f39551a"> 1239</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a665c883449f390a4f1568a801f39551a">CppHeap::set_override_stack_state</a>(cppgc::EmbedderStackState state) {</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a19c7a0ac47858c5255a28ae3e91e4c22">detached_override_stack_state_</a>);</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a86a2995ce0ab000a5951be35929264eb">override_stack_state_scope_</a>);</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a929bc21d15f59861888ff0ad39dfa686">heap_</a>) {</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a86a2995ce0ab000a5951be35929264eb">override_stack_state_scope_</a> = std::make_unique&lt;EmbedderStackStateScope&gt;(</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>        <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a929bc21d15f59861888ff0ad39dfa686">heap_</a>, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#aaf09a39558f639935e293adba6962fc7ad15860417dc4fe071de45246b23edaaa">EmbedderStackStateOrigin::kExplicitInvocation</a>, state);</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a19c7a0ac47858c5255a28ae3e91e4c22">detached_override_stack_state_</a> = <a class="code hl_variable" href="liftoff-compiler_8cc.html#ab600894d6947e13cf9b2a5a775e70324">state</a>;</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>  }</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>}</div>
</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span> </div>
<div class="foldopen" id="foldopen01250" data-start="{" data-end="}">
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a48178c8704ca41c74410e8796311ce90"> 1250</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a48178c8704ca41c74410e8796311ce90">CppHeap::clear_overridden_stack_state</a>() {</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a929bc21d15f59861888ff0ad39dfa686">heap_</a>) {</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>    <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a19c7a0ac47858c5255a28ae3e91e4c22">detached_override_stack_state_</a>);</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>    <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a86a2995ce0ab000a5951be35929264eb">override_stack_state_scope_</a>);</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a86a2995ce0ab000a5951be35929264eb">override_stack_state_scope_</a>.reset();</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>    <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a19c7a0ac47858c5255a28ae3e91e4c22">detached_override_stack_state_</a>);</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>    <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a86a2995ce0ab000a5951be35929264eb">override_stack_state_scope_</a>);</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a19c7a0ac47858c5255a28ae3e91e4c22">detached_override_stack_state_</a>.reset();</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>  }</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>}</div>
</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span> </div>
<div class="foldopen" id="foldopen01262" data-start="{" data-end="}">
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#aa14fa17d93f4a5925c6c5d11fe81462a"> 1262</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#aa14fa17d93f4a5925c6c5d11fe81462a">CppHeap::StartIncrementalGarbageCollection</a>(<a class="code hl_struct" href="structcppgc_1_1internal_1_1GCConfig.html">cppgc::internal::GCConfig</a>) {</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>  <a class="code hl_function" href="namespacev8_1_1internal.html#a538499d2a66bf6e9d3182a57104edec9">UNIMPLEMENTED</a>();</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>}</div>
</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span> </div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a7f50aadbdc28bceabec7791000099b8d"> 1266</a></span><span class="keywordtype">size_t</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a7f50aadbdc28bceabec7791000099b8d">CppHeap::epoch</a>()<span class="keyword"> const </span>{ <a class="code hl_function" href="namespacev8_1_1internal.html#a538499d2a66bf6e9d3182a57104edec9">UNIMPLEMENTED</a>(); }</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span> </div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span><span class="preprocessor">#ifdef V8_ENABLE_ALLOCATION_TIMEOUT</span></div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>std::optional&lt;int&gt; CppHeap::UpdateAllocationTimeout() {</div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.cppgc_random_gc_interval) {</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>  }</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>  <span class="keywordflow">if</span> (!allocation_timeout_rng_) {</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>    allocation_timeout_rng_.emplace(<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.fuzzer_random_seed);</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>  }</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>  <span class="keywordflow">return</span> allocation_timeout_rng_-&gt;NextInt(<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.cppgc_random_gc_interval) +</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>         1;</div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>}</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_ALLOCATION_TIMEOUT</span></div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span> </div>
<div class="foldopen" id="foldopen01281" data-start="{" data-end="}">
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#ac3b3fec0660b44df6efb168e65625926"> 1281</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#ac3b3fec0660b44df6efb168e65625926">CppHeap::ResetCrossHeapRememberedSet</a>() {</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#a6c6edeb1412f64a9b9135222b30095d5">generational_gc_supported</a>()) {</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>    <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a7ece6ada2874b56155bdbbb560f840c0">cross_heap_remembered_set_</a>.<a class="code hl_function" href="classv8_1_1internal_1_1CrossHeapRememberedSet.html#a9f27316fb4b55bd3431c7e03cbd59bcb">IsEmpty</a>());</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>  }</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>);</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a7ece6ada2874b56155bdbbb560f840c0">cross_heap_remembered_set_</a>.<a class="code hl_function" href="classv8_1_1internal_1_1CrossHeapRememberedSet.html#ad8c4e34e09433c2b6dd6b5498c724442">Reset</a>(*<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>);</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>}</div>
</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span> </div>
<div class="foldopen" id="foldopen01290" data-start="{" data-end="}">
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a232c2d67b2e8b3f34275a2384c195346"> 1290</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a232c2d67b2e8b3f34275a2384c195346">CppHeap::UpdateGCCapabilitiesFromFlagsForTesting</a>() {</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>  <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a5b7ac0174864380241a63a04157cd431">UpdateGCCapabilitiesFromFlags</a>();</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>}</div>
</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span> </div>
<div class="foldopen" id="foldopen01294" data-start="{" data-end="}">
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a2d49cae338c7748ff94942ad232f87ff"> 1294</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a2d49cae338c7748ff94942ad232f87ff">CppHeap::IsDetachedGCAllowed</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>  <span class="keywordflow">return</span> (<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a> || <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#a5b51fc09c8595c6af2e69042e4927716">in_detached_testing_mode_</a>) &amp;&amp; <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#ac900fa0360949a1dfe5bbad78952d39f">HeapBase::IsGCAllowed</a>();</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>}</div>
</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span> </div>
<div class="foldopen" id="foldopen01298" data-start="{" data-end="}">
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a504fd99fa9d3db6c478d921a7b1af211"> 1298</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a504fd99fa9d3db6c478d921a7b1af211">CppHeap::IsGCAllowed</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a> &amp;&amp; <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#ac900fa0360949a1dfe5bbad78952d39f">HeapBase::IsGCAllowed</a>();</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>}</div>
</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span> </div>
<div class="foldopen" id="foldopen01302" data-start="{" data-end="}">
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#a754453a3dc0a01990420e0a3380a73e7"> 1302</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#a754453a3dc0a01990420e0a3380a73e7">CppHeap::IsGCForbidden</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>  <span class="keywordflow">return</span> (<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a> &amp;&amp; <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Isolate.html#a44b6ca4cd581c053d46bab9d0b67943c">InFastCCall</a>() &amp;&amp;</div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>          !<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.allow_allocation_in_fast_api_call) ||</div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>         <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#abea2d276b2f5b47030eaf50fbd585248">HeapBase::IsGCForbidden</a>();</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>}</div>
</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span> </div>
<div class="foldopen" id="foldopen01308" data-start="{" data-end="}">
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1CppHeap.html#aaf9c75f9fce2e373e7528f1b0105870d"> 1308</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1CppHeap.html#aaf9c75f9fce2e373e7528f1b0105870d">CppHeap::IsCurrentThread</a>(<span class="keywordtype">int</span> thread_id)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a> &amp;&amp; V8_UNLIKELY(<a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Isolate.html#a3ba8b3d232276de35af27d3fede878be">was_locker_ever_used</a>())) {</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>    <span class="comment">// If v8::Locker has been used, we only check if the isolate is now locked</span></div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>    <span class="comment">// by the current thread.</span></div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">isolate_</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Isolate.html#a84d573c56acbbe1b0140c98047daeda7">thread_manager</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1ThreadManager.html#aa010051a059cfda7e45228fc28a3ff52">IsLockedByCurrentThread</a>();</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>  }</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classcppgc_1_1internal_1_1HeapBase.html#aedf2a25aad6b33764f6673e452386680">HeapBase::IsCurrentThread</a>(thread_id);</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>}</div>
</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span> </div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>}  <span class="comment">// namespace internal</span></div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>}  <span class="comment">// namespace v8</span></div>
<div class="ttc" id="aapi-natives_8cc_html_a68072bca3fef7bd8b0d3cbac971cbf4b"><div class="ttname"><a href="api-natives_8cc.html#a68072bca3fef7bd8b0d3cbac971cbf4b">isolate_</a></div><div class="ttdeci">Isolate * isolate_</div><div class="ttdef"><b>Definition</b> <a href="api-natives_8cc_source.html#l00037">api-natives.cc:37</a></div></div>
<div class="ttc" id="aclasscppgc_1_1AllocationHandle_html"><div class="ttname"><a href="classcppgc_1_1AllocationHandle.html">cppgc::AllocationHandle</a></div><div class="ttdef"><b>Definition</b> <a href="object-allocator_8h_source.html#l00029">object-allocator.h:29</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BaseSpace_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1BaseSpace.html">cppgc::internal::BaseSpace</a></div><div class="ttdef"><b>Definition</b> <a href="heap-space_8h_source.html#l00022">heap-space.h:22</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1ClassNameAsHeapObjectNameScope_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1ClassNameAsHeapObjectNameScope.html">cppgc::internal::ClassNameAsHeapObjectNameScope</a></div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00354">heap-base.h:354</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Compactor_html_a42c07f25910694151424ed5df5622df1"><div class="ttname"><a href="classcppgc_1_1internal_1_1Compactor.html#a42c07f25910694151424ed5df5622df1">cppgc::internal::Compactor::CompactSpacesIfEnabled</a></div><div class="ttdeci">CompactableSpaceHandling CompactSpacesIfEnabled()</div><div class="ttdef"><b>Definition</b> <a href="compactor_8cc_source.html#l00501">compactor.cc:501</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Compactor_html_a51cc868ae81895393634c88e7920afaa"><div class="ttname"><a href="classcppgc_1_1internal_1_1Compactor.html#a51cc868ae81895393634c88e7920afaa">cppgc::internal::Compactor::InitializeIfShouldCompact</a></div><div class="ttdeci">void InitializeIfShouldCompact(GCConfig::MarkingType, StackState)</div><div class="ttdef"><b>Definition</b> <a href="compactor_8cc_source.html#l00481">compactor.cc:481</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Compactor_html_a94f833022b79a99fcae67d4cda8a0e27"><div class="ttname"><a href="classcppgc_1_1internal_1_1Compactor.html#a94f833022b79a99fcae67d4cda8a0e27">cppgc::internal::Compactor::CancelIfShouldNotCompact</a></div><div class="ttdeci">void CancelIfShouldNotCompact(GCConfig::MarkingType, StackState)</div><div class="ttdef"><b>Definition</b> <a href="compactor_8cc_source.html#l00493">compactor.cc:493</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1ConcurrentMarkerBase_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1ConcurrentMarkerBase.html">cppgc::internal::ConcurrentMarkerBase</a></div><div class="ttdef"><b>Definition</b> <a href="concurrent-marker_8h_source.html#l00017">concurrent-marker.h:17</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1ConcurrentMarkingState_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1ConcurrentMarkingState.html">cppgc::internal::ConcurrentMarkingState</a></div><div class="ttdef"><b>Definition</b> <a href="cppgc_2marking-state_8h_source.html#l00467">marking-state.h:467</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1ConservativeMarkingVisitor_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1ConservativeMarkingVisitor.html">cppgc::internal::ConservativeMarkingVisitor</a></div><div class="ttdef"><b>Definition</b> <a href="cppgc_2marking-visitor_8h_source.html#l00077">marking-visitor.h:78</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1FatalOutOfMemoryHandler_html_a46f5f7e9dd5b515927149ddf2c143b47"><div class="ttname"><a href="classcppgc_1_1internal_1_1FatalOutOfMemoryHandler.html#a46f5f7e9dd5b515927149ddf2c143b47">cppgc::internal::FatalOutOfMemoryHandler::SetCustomHandler</a></div><div class="ttdeci">void SetCustomHandler(Callback *)</div><div class="ttdef"><b>Definition</b> <a href="heap_2cppgc_2platform_8cc_source.html#l00069">platform.cc:69</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html">cppgc::internal::HeapBase</a></div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00082">heap-base.h:82</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_a00e9d59c65e0f04497757345542c6cae"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#a00e9d59c65e0f04497757345542c6cae">cppgc::internal::HeapBase::sweeping_support_</a></div><div class="ttdeci">SweepingType sweeping_support_</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00342">heap-base.h:342</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_a0ffeefc146e983994a3d733c50b66d02"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#a0ffeefc146e983994a3d733c50b66d02">cppgc::internal::HeapBase::Terminate</a></div><div class="ttdeci">void Terminate()</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8cc_source.html#l00224">heap-base.cc:224</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_a1b139a30b45cb4485cf76eee02fda5fa"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#a1b139a30b45cb4485cf76eee02fda5fa">cppgc::internal::HeapBase::SweepingType</a></div><div class="ttdeci">cppgc::Heap::SweepingType SweepingType</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00086">heap-base.h:86</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_a1c125f8ddd61c5c76a4040f551c4ca05"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#a1c125f8ddd61c5c76a4040f551c4ca05">cppgc::internal::HeapBase::stats_collector_</a></div><div class="ttdeci">std::unique_ptr&lt; StatsCollector &gt; stats_collector_</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00311">heap-base.h:311</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_a2ae0f8e072cf1641178bfacc0c50ae48"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#a2ae0f8e072cf1641178bfacc0c50ae48">cppgc::internal::HeapBase::MarkingType</a></div><div class="ttdeci">cppgc::Heap::MarkingType MarkingType</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00085">heap-base.h:85</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_a32a473b7f5af8777374e74cbdc8c2237"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#a32a473b7f5af8777374e74cbdc8c2237">cppgc::internal::HeapBase::sweeping_support</a></div><div class="ttdeci">SweepingType sweeping_support() const</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00214">heap-base.h:214</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_a348af7f2adfa59de70e836ee4b62fe9e"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#a348af7f2adfa59de70e836ee4b62fe9e">cppgc::internal::HeapBase::stack_state_of_prev_gc</a></div><div class="ttdeci">EmbedderStackState stack_state_of_prev_gc() const</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00192">heap-base.h:192</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_a35f8d9dc4156adeeba485684148e571f"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#a35f8d9dc4156adeeba485684148e571f">cppgc::internal::HeapBase::StackSupport</a></div><div class="ttdeci">cppgc::Heap::StackSupport StackSupport</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00084">heap-base.h:84</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_a394c5d7bc06fc2977dc3d895847ea16b"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#a394c5d7bc06fc2977dc3d895847ea16b">cppgc::internal::HeapBase::ExecutePreFinalizers</a></div><div class="ttdeci">size_t ExecutePreFinalizers()</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8cc_source.html#l00161">heap-base.cc:161</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_a3b255aff5298903ef811768ed50b9b62"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#a3b255aff5298903ef811768ed50b9b62">cppgc::internal::HeapBase::in_atomic_pause_</a></div><div class="ttdeci">bool in_atomic_pause_</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00338">heap-base.h:338</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_a424f9e91c61dcc291f62795b5485604f"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#a424f9e91c61dcc291f62795b5485604f">cppgc::internal::HeapBase::CollectStatistics</a></div><div class="ttdeci">HeapStatistics CollectStatistics(HeapStatistics::DetailLevel)</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8cc_source.html#l00299">heap-base.cc:299</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_a54a03ce024224be32134a346b90f84f1"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#a54a03ce024224be32134a346b90f84f1">cppgc::internal::HeapBase::platform_</a></div><div class="ttdeci">std::shared_ptr&lt; cppgc::Platform &gt; platform_</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00299">heap-base.h:299</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_a593d702898774c33a1634359fd820d71"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#a593d702898774c33a1634359fd820d71">cppgc::internal::HeapBase::incremental_marking_supported</a></div><div class="ttdeci">bool incremental_marking_supported() const</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00216">heap-base.h:216</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_a60968bc03f7adef077a5404d9c9329e6"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#a60968bc03f7adef077a5404d9c9329e6">cppgc::internal::HeapBase::IsMarking</a></div><div class="ttdeci">bool IsMarking() const</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00282">heap-base.h:282</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_a6c6edeb1412f64a9b9135222b30095d5"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#a6c6edeb1412f64a9b9135222b30095d5">cppgc::internal::HeapBase::generational_gc_supported</a></div><div class="ttdeci">bool generational_gc_supported() const</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00220">heap-base.h:220</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_a93d7e632fc22b1d512871e9e778661d4"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#a93d7e632fc22b1d512871e9e778661d4">cppgc::internal::HeapBase::raw_heap</a></div><div class="ttdeci">RawHeap &amp; raw_heap()</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00104">heap-base.h:104</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_a946f6f5d780aadbf015376f39be36df3"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#a946f6f5d780aadbf015376f39be36df3">cppgc::internal::HeapBase::page_backend_</a></div><div class="ttdeci">std::unique_ptr&lt; PageBackend &gt; page_backend_</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00306">heap-base.h:306</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_aa09ebf2bd1d1e603934eead468725bb6"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#aa09ebf2bd1d1e603934eead468725bb6">cppgc::internal::HeapBase::sweeper_</a></div><div class="ttdeci">Sweeper sweeper_</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00318">heap-base.h:318</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_aae00d9c13b4caebbf0850cde96fce1fc"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#aae00d9c13b4caebbf0850cde96fce1fc">cppgc::internal::HeapBase::stats_collector</a></div><div class="ttdeci">StatsCollector * stats_collector()</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00118">heap-base.h:118</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_ab2d32922cc4c2065af41c6cc915b45b3"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#ab2d32922cc4c2065af41c6cc915b45b3">cppgc::internal::HeapBase::marking_support</a></div><div class="ttdeci">MarkingType marking_support() const</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00213">heap-base.h:213</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_ab41337490b91677cece41fd4989d02e4"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#ab41337490b91677cece41fd4989d02e4">cppgc::internal::HeapBase::oom_handler</a></div><div class="ttdeci">FatalOutOfMemoryHandler &amp; oom_handler()</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00110">heap-base.h:110</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_abea2d276b2f5b47030eaf50fbd585248"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#abea2d276b2f5b47030eaf50fbd585248">cppgc::internal::HeapBase::IsGCForbidden</a></div><div class="ttdeci">virtual bool IsGCForbidden() const</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8cc_source.html#l00343">heap-base.cc:343</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_abfdfb14cc6336b6302a847dce71bf390"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#abfdfb14cc6336b6302a847dce71bf390">cppgc::internal::HeapBase::sweeper</a></div><div class="ttdeci">Sweeper &amp; sweeper()</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00138">heap-base.h:138</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_ac900fa0360949a1dfe5bbad78952d39f"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#ac900fa0360949a1dfe5bbad78952d39f">cppgc::internal::HeapBase::IsGCAllowed</a></div><div class="ttdeci">virtual bool IsGCAllowed() const</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8cc_source.html#l00345">heap-base.cc:345</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_aca0116b9940ea0a9e698f728ff759cd8"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#aca0116b9940ea0a9e698f728ff759cd8">cppgc::internal::HeapBase::no_gc_scope_</a></div><div class="ttdeci">size_t no_gc_scope_</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00331">heap-base.h:331</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_adc3f094a209c10f0c561f7ab8d06e441"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#adc3f094a209c10f0c561f7ab8d06e441">cppgc::internal::HeapBase::marker_</a></div><div class="ttdeci">std::unique_ptr&lt; MarkerBase &gt; marker_</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00314">heap-base.h:314</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_ae59388f6351fda95da93e015d0b78ac2"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#ae59388f6351fda95da93e015d0b78ac2">cppgc::internal::HeapBase::marking_support_</a></div><div class="ttdeci">MarkingType marking_support_</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00341">heap-base.h:341</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_aec0fb671aaf6559c673728c0f89ab942"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#aec0fb671aaf6559c673728c0f89ab942">cppgc::internal::HeapBase::marker</a></div><div class="ttdeci">MarkerBase * marker() const</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00130">heap-base.h:130</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_aedf2a25aad6b33764f6673e452386680"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#aedf2a25aad6b33764f6673e452386680">cppgc::internal::HeapBase::IsCurrentThread</a></div><div class="ttdeci">virtual bool IsCurrentThread(int thread_id) const</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8cc_source.html#l00351">heap-base.cc:351</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_aee30db7ce72e12a06a690271c108a8c5"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#aee30db7ce72e12a06a690271c108a8c5">cppgc::internal::HeapBase::SetMetricRecorder</a></div><div class="ttdeci">void SetMetricRecorder(std::unique_ptr&lt; MetricRecorder &gt; histogram_recorder)</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00205">heap-base.h:205</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_af06f279a87b6893e238315092950feff"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#af06f279a87b6893e238315092950feff">cppgc::internal::HeapBase::platform</a></div><div class="ttdeci">cppgc::Platform * platform()</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00107">heap-base.h:107</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_af19332a4782ecde1c58d2bdf5c2a8707"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#af19332a4782ecde1c58d2bdf5c2a8707">cppgc::internal::HeapBase::stack</a></div><div class="ttdeci">virtual heap::base::Stack * stack()</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00174">heap-base.h:174</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_af197b60f5b38e19ec25b9d483aead516"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#af197b60f5b38e19ec25b9d483aead516">cppgc::internal::HeapBase::object_allocator</a></div><div class="ttdeci">ObjectAllocator &amp; object_allocator()</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00135">heap-base.h:135</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_afaeb42873cfe7e02badcb5218178a246"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#afaeb42873cfe7e02badcb5218178a246">cppgc::internal::HeapBase::compactor_</a></div><div class="ttdeci">Compactor compactor_</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00316">heap-base.h:316</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_afbfc57ef93555f3c8cf91d2bfed411d8"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#afbfc57ef93555f3c8cf91d2bfed411d8">cppgc::internal::HeapBase::in_no_gc_scope</a></div><div class="ttdeci">bool in_no_gc_scope() const</div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00280">heap-base.h:280</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkerBase_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkerBase.html">cppgc::internal::MarkerBase</a></div><div class="ttdef"><b>Definition</b> <a href="marker_8h_source.html#l00045">marker.h:45</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkerBase_html_a1e926254f8da9b9a4b05c8fea50bf2f8"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkerBase.html#a1e926254f8da9b9a4b05c8fea50bf2f8">cppgc::internal::MarkerBase::schedule_</a></div><div class="ttdeci">std::unique_ptr&lt; heap::base::IncrementalMarkingSchedule &gt; schedule_</div><div class="ttdef"><b>Definition</b> <a href="marker_8h_source.html#l00206">marker.h:206</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkerBase_html_a3f0cf1e7d5a2e30f09077aaa90c5b67d"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkerBase.html#a3f0cf1e7d5a2e30f09077aaa90c5b67d">cppgc::internal::MarkerBase::conservative_visitor</a></div><div class="ttdeci">virtual ConservativeTracingVisitor &amp; conservative_visitor()=0</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkerBase_html_a5e60d05024c5a09b11da59a7d5cf07f1"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkerBase.html#a5e60d05024c5a09b11da59a7d5cf07f1">cppgc::internal::MarkerBase::To</a></div><div class="ttdeci">Class &amp; To()</div><div class="ttdef"><b>Definition</b> <a href="marker_8h_source.html#l00071">marker.h:71</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkerBase_html_a879aea66b222e221d0cf291177f7a3bb"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkerBase.html#a879aea66b222e221d0cf291177f7a3bb">cppgc::internal::MarkerBase::heap_</a></div><div class="ttdeci">HeapBase &amp; heap_</div><div class="ttdef"><b>Definition</b> <a href="marker_8h_source.html#l00193">marker.h:193</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkerBase_html_a99c0d082f30fa4c8840dab62ee997959"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkerBase.html#a99c0d082f30fa4c8840dab62ee997959">cppgc::internal::MarkerBase::EnterAtomicPause</a></div><div class="ttdeci">void EnterAtomicPause(StackState)</div><div class="ttdef"><b>Definition</b> <a href="marker_8cc_source.html#l00251">marker.cc:251</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkerBase_html_a9b75327a85fa78050093e2a6b458b7a9"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkerBase.html#a9b75327a85fa78050093e2a6b458b7a9">cppgc::internal::MarkerBase::platform_</a></div><div class="ttdeci">cppgc::Platform * platform_</div><div class="ttdef"><b>Definition</b> <a href="marker_8h_source.html#l00196">marker.h:196</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkerBase_html_abba323146c1aed9d5cb31fe7ad83b21b"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkerBase.html#abba323146c1aed9d5cb31fe7ad83b21b">cppgc::internal::MarkerBase::marking_worklists_</a></div><div class="ttdeci">MarkingWorklists marking_worklists_</div><div class="ttdef"><b>Definition</b> <a href="marker_8h_source.html#l00202">marker.h:202</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkerBase_html_af6a8adf724be295d1e13ef11501e41e9"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkerBase.html#af6a8adf724be295d1e13ef11501e41e9">cppgc::internal::MarkerBase::concurrent_marker_</a></div><div class="ttdeci">std::unique_ptr&lt; ConcurrentMarkerBase &gt; concurrent_marker_</div><div class="ttdef"><b>Definition</b> <a href="marker_8h_source.html#l00207">marker.h:207</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkingVerifierBase_html_a462f06c8ac7ac49879b66025ec5c1ca3"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkingVerifierBase.html#a462f06c8ac7ac49879b66025ec5c1ca3">cppgc::internal::MarkingVerifierBase::Run</a></div><div class="ttdeci">void Run(StackState, std::optional&lt; size_t &gt;)</div><div class="ttdef"><b>Definition</b> <a href="marking-verifier_8cc_source.html#l00055">marking-verifier.cc:55</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MarkingWorklists_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1MarkingWorklists.html">cppgc::internal::MarkingWorklists</a></div><div class="ttdef"><b>Definition</b> <a href="marking-worklists_8h_source.html#l00018">marking-worklists.h:18</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MoveListener_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1MoveListener.html">cppgc::internal::MoveListener</a></div><div class="ttdef"><b>Definition</b> <a href="heap-base_8h_source.html#l00072">heap-base.h:72</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1MutatorMarkingState_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1MutatorMarkingState.html">cppgc::internal::MutatorMarkingState</a></div><div class="ttdef"><b>Definition</b> <a href="cppgc_2marking-state_8h_source.html#l00351">marking-state.h:351</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1RawHeap_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1RawHeap.html">cppgc::internal::RawHeap</a></div><div class="ttdef"><b>Definition</b> <a href="raw-heap_8h_source.html#l00023">raw-heap.h:23</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1RawHeap_html_aa6da0b245575006ffdbcc41761667b4c"><div class="ttname"><a href="classcppgc_1_1internal_1_1RawHeap.html#aa6da0b245575006ffdbcc41761667b4c">cppgc::internal::RawHeap::CustomSpace</a></div><div class="ttdeci">BaseSpace * CustomSpace(CustomSpaceIndex space_index)</div><div class="ttdef"><b>Definition</b> <a href="raw-heap_8h_source.html#l00078">raw-heap.h:78</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1RawHeap_html_ae5d90a6e91ae4c34a898306a705d3623"><div class="ttname"><a href="classcppgc_1_1internal_1_1RawHeap.html#ae5d90a6e91ae4c34a898306a705d3623">cppgc::internal::RawHeap::kNumberOfRegularSpaces</a></div><div class="ttdeci">static constexpr size_t kNumberOfRegularSpaces</div><div class="ttdef"><b>Definition</b> <a href="raw-heap_8h_source.html#l00043">raw-heap.h:43</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1SequentialUnmarker_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1SequentialUnmarker.html">cppgc::internal::SequentialUnmarker</a></div><div class="ttdef"><b>Definition</b> <a href="unmarker_8h_source.html#l00014">unmarker.h:14</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1StatsCollector_1_1AllocationObserver_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1StatsCollector_1_1AllocationObserver.html">cppgc::internal::StatsCollector::AllocationObserver</a></div><div class="ttdef"><b>Definition</b> <a href="stats-collector_8h_source.html#l00239">stats-collector.h:239</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1StatsCollector_1_1InternalScope_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1StatsCollector_1_1InternalScope.html">cppgc::internal::StatsCollector::InternalScope</a></div><div class="ttdef"><b>Definition</b> <a href="stats-collector_8h_source.html#l00170">stats-collector.h:170</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1StatsCollector_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1StatsCollector.html">cppgc::internal::StatsCollector</a></div><div class="ttdef"><b>Definition</b> <a href="stats-collector_8h_source.html#l00079">stats-collector.h:79</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1StatsCollector_html_a57cac0c9b6d4f9b1e21a61132642d70c"><div class="ttname"><a href="classcppgc_1_1internal_1_1StatsCollector.html#a57cac0c9b6d4f9b1e21a61132642d70c">cppgc::internal::StatsCollector::RegisterObserver</a></div><div class="ttdeci">void RegisterObserver(AllocationObserver *)</div><div class="ttdef"><b>Definition</b> <a href="stats-collector_8cc_source.html#l00026">stats-collector.cc:26</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1StatsCollector_html_a73f51180cb1cfd0b7eae5b7eb159f965"><div class="ttname"><a href="classcppgc_1_1internal_1_1StatsCollector.html#a73f51180cb1cfd0b7eae5b7eb159f965">cppgc::internal::StatsCollector::allocated_object_size</a></div><div class="ttdeci">size_t allocated_object_size() const</div><div class="ttdef"><b>Definition</b> <a href="stats-collector_8cc_source.html#l00300">stats-collector.cc:300</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1StatsCollector_html_a8e847c83c24be2cab9d849e8a4c41fd9"><div class="ttname"><a href="classcppgc_1_1internal_1_1StatsCollector.html#a8e847c83c24be2cab9d849e8a4c41fd9">cppgc::internal::StatsCollector::NotifyUnmarkingStarted</a></div><div class="ttdeci">void NotifyUnmarkingStarted(CollectionType)</div><div class="ttdef"><b>Definition</b> <a href="stats-collector_8cc_source.html#l00110">stats-collector.cc:110</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweepingOnMutatorThreadObserver_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweepingOnMutatorThreadObserver.html">cppgc::internal::Sweeper::SweepingOnMutatorThreadObserver</a></div><div class="ttdef"><b>Definition</b> <a href="cppgc_2sweeper_8h_source.html#l00024">sweeper.h:24</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper.html">cppgc::internal::Sweeper</a></div><div class="ttdef"><b>Definition</b> <a href="cppgc_2sweeper_8h_source.html#l00022">sweeper.h:22</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_html_a20810eaca7b7e7220910491cdb9e586d"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper.html#a20810eaca7b7e7220910491cdb9e586d">cppgc::internal::Sweeper::IsSweepingInProgress</a></div><div class="ttdeci">bool IsSweepingInProgress() const</div><div class="ttdef"><b>Definition</b> <a href="cppgc_2sweeper_8cc_source.html#l01669">sweeper.cc:1669</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_html_a6966fd3b9af81845c4492728f19fa340"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper.html#a6966fd3b9af81845c4492728f19fa340">cppgc::internal::Sweeper::FinishIfOutOfWork</a></div><div class="ttdeci">void FinishIfOutOfWork()</div><div class="ttdef"><b>Definition</b> <a href="cppgc_2sweeper_8cc_source.html#l01654">sweeper.cc:1654</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_html_abef60b3e2f8ea9058a7c9ac4e0d13729"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper.html#abef60b3e2f8ea9058a7c9ac4e0d13729">cppgc::internal::Sweeper::Start</a></div><div class="ttdeci">void Start(SweepingConfig)</div><div class="ttdef"><b>Definition</b> <a href="cppgc_2sweeper_8cc_source.html#l01650">sweeper.cc:1650</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_html_ad46d61cb166f6b8a8ac16954c4c85ada"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper.html#ad46d61cb166f6b8a8ac16954c4c85ada">cppgc::internal::Sweeper::PerformSweepOnMutatorThread</a></div><div class="ttdeci">bool PerformSweepOnMutatorThread(v8::base::TimeDelta max_duration, StatsCollector::ScopeId)</div><div class="ttdef"><b>Definition</b> <a href="cppgc_2sweeper_8cc_source.html#l01673">sweeper.cc:1673</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_html_af09b5d03ff99e7984c5d8272b0722e34"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper.html#af09b5d03ff99e7984c5d8272b0722e34">cppgc::internal::Sweeper::FinishIfRunning</a></div><div class="ttdeci">bool FinishIfRunning()</div><div class="ttdef"><b>Definition</b> <a href="cppgc_2sweeper_8cc_source.html#l01652">sweeper.cc:1652</a></div></div>
<div class="ttc" id="aclassheap_1_1base_1_1IncrementalMarkingSchedule_html"><div class="ttname"><a href="classheap_1_1base_1_1IncrementalMarkingSchedule.html">heap::base::IncrementalMarkingSchedule</a></div><div class="ttdef"><b>Definition</b> <a href="incremental-marking-schedule_8h_source.html#l00025">incremental-marking-schedule.h:25</a></div></div>
<div class="ttc" id="aclassheap_1_1base_1_1StackVisitor_html"><div class="ttname"><a href="classheap_1_1base_1_1StackVisitor.html">heap::base::StackVisitor</a></div><div class="ttdef"><b>Definition</b> <a href="stack_8h_source.html#l00016">stack.h:16</a></div></div>
<div class="ttc" id="aclassheap_1_1base_1_1Stack_html"><div class="ttname"><a href="classheap_1_1base_1_1Stack.html">heap::base::Stack</a></div><div class="ttdef"><b>Definition</b> <a href="stack_8h_source.html#l00032">stack.h:32</a></div></div>
<div class="ttc" id="aclassheap_1_1base_1_1Stack_html_a7eacbd98d83d65d2a3a02504dc0b1cd9"><div class="ttname"><a href="classheap_1_1base_1_1Stack.html#a7eacbd98d83d65d2a3a02504dc0b1cd9">heap::base::Stack::SetMarkerIfNeededAndCallback</a></div><div class="ttdeci">V8_INLINE void SetMarkerIfNeededAndCallback(Callback callback)</div><div class="ttdef"><b>Definition</b> <a href="stack_8h_source.html#l00071">stack.h:71</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Flags_html"><div class="ttname"><a href="classv8_1_1base_1_1Flags.html">v8::base::Flags&lt; GarbageCollectionFlagValues &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeDelta_html"><div class="ttname"><a href="classv8_1_1base_1_1TimeDelta.html">v8::base::TimeDelta</a></div><div class="ttdef"><b>Definition</b> <a href="time_8h_source.html#l00067">time.h:67</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeDelta_html_a1330af8b50fc0206f46945ea8d6922cf"><div class="ttname"><a href="classv8_1_1base_1_1TimeDelta.html#a1330af8b50fc0206f46945ea8d6922cf">v8::base::TimeDelta::Max</a></div><div class="ttdeci">static constexpr TimeDelta Max()</div><div class="ttdef"><b>Definition</b> <a href="time_8h_source.html#l00233">time.h:233</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeDelta_html_a908286b99a683cc248a717a8ace4ed9c"><div class="ttname"><a href="classv8_1_1base_1_1TimeDelta.html#a908286b99a683cc248a717a8ace4ed9c">v8::base::TimeDelta::InSecondsF</a></div><div class="ttdeci">double InSecondsF() const</div><div class="ttdef"><b>Definition</b> <a href="time_8cc_source.html#l00209">time.cc:209</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeDelta_html_aedb23f3b7d15531e09b71883aaa96b6d"><div class="ttname"><a href="classv8_1_1base_1_1TimeDelta.html#aedb23f3b7d15531e09b71883aaa96b6d">v8::base::TimeDelta::FromMilliseconds</a></div><div class="ttdeci">static constexpr TimeDelta FromMilliseconds(int64_t milliseconds)</div><div class="ttdef"><b>Definition</b> <a href="time_8h_source.html#l00084">time.h:84</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppGraphBuilder_html_aa7849dc7c223ad73bff1b61cf7512852"><div class="ttname"><a href="classv8_1_1internal_1_1CppGraphBuilder.html#aa7849dc7c223ad73bff1b61cf7512852">v8::internal::CppGraphBuilder::Run</a></div><div class="ttdeci">static void Run(v8::Isolate *isolate, v8::EmbedderGraph *graph, void *data)</div><div class="ttdef"><b>Definition</b> <a href="cpp-snapshot_8cc_source.html#l01054">cpp-snapshot.cc:1054</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter_html"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html">v8::internal::CppHeap::MetricRecorderAdapter</a></div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00055">cpp-heap.h:55</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter_html_a1ab8b08c5342fdea0c32eb6818f48c0a"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a1ab8b08c5342fdea0c32eb6818f48c0a">v8::internal::CppHeap::MetricRecorderAdapter::AddMainThreadEvent</a></div><div class="ttdeci">void AddMainThreadEvent(const GCCycle &amp;cppgc_event) final</div><div class="ttdef"><b>Definition</b> <a href="#l00329">cpp-heap.cc:329</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter_html_a202481e0114b7f91cf8bb1dba9e609c2"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a202481e0114b7f91cf8bb1dba9e609c2">v8::internal::CppHeap::MetricRecorderAdapter::YoungGCMetricsReportPending</a></div><div class="ttdeci">bool YoungGCMetricsReportPending() const</div><div class="ttdef"><b>Definition</b> <a href="#l00405">cpp-heap.cc:405</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter_html_a23460dde3fb4c0e2b516c0162c8c741c"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a23460dde3fb4c0e2b516c0162c8c741c">v8::internal::CppHeap::MetricRecorderAdapter::ExtractLastIncrementalMarkEvent</a></div><div class="ttdeci">const std::optional&lt; cppgc::internal::MetricRecorder::MainThreadIncrementalMark &gt; ExtractLastIncrementalMarkEvent()</div><div class="ttdef"><b>Definition</b> <a href="#l00424">cpp-heap.cc:424</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter_html_a5bb9bde1003e0b6e02d6fce329e4203f"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a5bb9bde1003e0b6e02d6fce329e4203f">v8::internal::CppHeap::MetricRecorderAdapter::ClearCachedEvents</a></div><div class="ttdeci">void ClearCachedEvents()</div><div class="ttdef"><b>Definition</b> <a href="#l00430">cpp-heap.cc:430</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter_html_a5cdea3722b17a8bf666b6080902102d2"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a5cdea3722b17a8bf666b6080902102d2">v8::internal::CppHeap::MetricRecorderAdapter::GetContextId</a></div><div class="ttdeci">v8::metrics::Recorder::ContextId GetContextId() const</div><div class="ttdef"><b>Definition</b> <a href="#l00443">cpp-heap.cc:443</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter_html_a647766fbaff3f377021e2f3c793e441b"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a647766fbaff3f377021e2f3c793e441b">v8::internal::CppHeap::MetricRecorderAdapter::last_young_gc_event_</a></div><div class="ttdeci">std::optional&lt; cppgc::internal::MetricRecorder::GCCycle &gt; last_young_gc_event_</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00095">cpp-heap.h:95</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter_html_a705eb5b8eb3c25d2882ff100a930038c"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a705eb5b8eb3c25d2882ff100a930038c">v8::internal::CppHeap::MetricRecorderAdapter::ExtractLastYoungGcEvent</a></div><div class="ttdeci">const std::optional&lt; cppgc::internal::MetricRecorder::GCCycle &gt; ExtractLastYoungGcEvent()</div><div class="ttdef"><b>Definition</b> <a href="#l00417">cpp-heap.cc:417</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter_html_a7bf388075c2336b8006269b7b66d31b1"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#a7bf388075c2336b8006269b7b66d31b1">v8::internal::CppHeap::MetricRecorderAdapter::FlushBatchedIncrementalEvents</a></div><div class="ttdeci">void FlushBatchedIncrementalEvents()</div><div class="ttdef"><b>Definition</b> <a href="#l00385">cpp-heap.cc:385</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter_html_aa54b76e0bf35d31486b93f793e4e38ef"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#aa54b76e0bf35d31486b93f793e4e38ef">v8::internal::CppHeap::MetricRecorderAdapter::FullGCMetricsReportPending</a></div><div class="ttdeci">bool FullGCMetricsReportPending() const</div><div class="ttdef"><b>Definition</b> <a href="#l00401">cpp-heap.cc:401</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter_html_abcfbe46bcf83a68d7e36a6486f4412ce"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#abcfbe46bcf83a68d7e36a6486f4412ce">v8::internal::CppHeap::MetricRecorderAdapter::ExtractLastFullGcEvent</a></div><div class="ttdeci">const std::optional&lt; cppgc::internal::MetricRecorder::GCCycle &gt; ExtractLastFullGcEvent()</div><div class="ttdef"><b>Definition</b> <a href="#l00410">cpp-heap.cc:410</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter_html_abee18cc9e5281a34cd031e721cdaf888"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#abee18cc9e5281a34cd031e721cdaf888">v8::internal::CppHeap::MetricRecorderAdapter::last_full_gc_event_</a></div><div class="ttdeci">std::optional&lt; cppgc::internal::MetricRecorder::GCCycle &gt; last_full_gc_event_</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00093">cpp-heap.h:93</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter_html_af136ec64e0ca79c3f29af21e1e8916a1"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap_1_1MetricRecorderAdapter.html#af136ec64e0ca79c3f29af21e1e8916a1">v8::internal::CppHeap::MetricRecorderAdapter::GetIsolate</a></div><div class="ttdeci">Isolate * GetIsolate() const</div><div class="ttdef"><b>Definition</b> <a href="#l00438">cpp-heap.cc:438</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_1_1PauseConcurrentMarkingScope_html_a2ea3493cfafb76ffcc08ea939f1bd26f"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap_1_1PauseConcurrentMarkingScope.html#a2ea3493cfafb76ffcc08ea939f1bd26f">v8::internal::CppHeap::PauseConcurrentMarkingScope::pause_scope_</a></div><div class="ttdeci">std::optional&lt; cppgc::internal::MarkerBase::PauseConcurrentMarkingScope &gt; pause_scope_</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00106">cpp-heap.h:106</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_1_1PauseConcurrentMarkingScope_html_aaed756aa8431b5ad970283d4d8491bb3"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap_1_1PauseConcurrentMarkingScope.html#aaed756aa8431b5ad970283d4d8491bb3">v8::internal::CppHeap::PauseConcurrentMarkingScope::PauseConcurrentMarkingScope</a></div><div class="ttdeci">PauseConcurrentMarkingScope(CppHeap *)</div><div class="ttdef"><b>Definition</b> <a href="#l01209">cpp-heap.cc:1209</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html">v8::internal::CppHeap</a></div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00039">cpp-heap.h:43</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a02afff9538c86b2bb40cc8ca156a4372"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a02afff9538c86b2bb40cc8ca156a4372">v8::internal::CppHeap::CreateCppMarkingState</a></div><div class="ttdeci">std::unique_ptr&lt; CppMarkingState &gt; CreateCppMarkingState()</div><div class="ttdef"><b>Definition</b> <a href="#l01193">cpp-heap.cc:1193</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a05a1299c5d459c5c4aa87475805fbc57"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a05a1299c5d459c5c4aa87475805fbc57">v8::internal::CppHeap::CollectGarbage</a></div><div class="ttdeci">void CollectGarbage(cppgc::internal::GCConfig) override</div><div class="ttdef"><b>Definition</b> <a href="#l01216">cpp-heap.cc:1216</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a09b8933e55bd3be5d6897acbf96b5b86"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a09b8933e55bd3be5d6897acbf96b5b86">v8::internal::CppHeap::StartIncrementalGarbageCollectionForTesting</a></div><div class="ttdeci">void StartIncrementalGarbageCollectionForTesting() final</div><div class="ttdef"><b>Definition</b> <a href="#l01071">cpp-heap.cc:1071</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a0b105982ab031e78c18f6387c23ece95"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a0b105982ab031e78c18f6387c23ece95">v8::internal::CppHeap::minor_gc_heap_growing_</a></div><div class="ttdeci">std::unique_ptr&lt; MinorGCHeapGrowing &gt; minor_gc_heap_growing_</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00245">cpp-heap.h:245</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a11dbcd395c520879e542c974d7d80d76"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a11dbcd395c520879e542c974d7d80d76">v8::internal::CppHeap::AdvanceTracing</a></div><div class="ttdeci">bool AdvanceTracing(v8::base::TimeDelta max_duration)</div><div class="ttdef"><b>Definition</b> <a href="#l00795">cpp-heap.cc:795</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a19c7a0ac47858c5255a28ae3e91e4c22"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a19c7a0ac47858c5255a28ae3e91e4c22">v8::internal::CppHeap::detached_override_stack_state_</a></div><div class="ttdeci">std::optional&lt; cppgc::EmbedderStackState &gt; detached_override_stack_state_</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00269">cpp-heap.h:269</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a21f40082fbf4a355a3f67cfdd7b8f799"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a21f40082fbf4a355a3f67cfdd7b8f799">v8::internal::CppHeap::CompactAndSweep</a></div><div class="ttdeci">void CompactAndSweep()</div><div class="ttdef"><b>Definition</b> <a href="#l00919">cpp-heap.cc:919</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a232c2d67b2e8b3f34275a2384c195346"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a232c2d67b2e8b3f34275a2384c195346">v8::internal::CppHeap::UpdateGCCapabilitiesFromFlagsForTesting</a></div><div class="ttdeci">void UpdateGCCapabilitiesFromFlagsForTesting()</div><div class="ttdef"><b>Definition</b> <a href="#l01290">cpp-heap.cc:1290</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a2856251873b197e4e86efa63d2a59183"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a2856251873b197e4e86efa63d2a59183">v8::internal::CppHeap::used_size_</a></div><div class="ttdeci">std::atomic&lt; size_t &gt; used_size_</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00261">cpp-heap.h:261</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a2d49cae338c7748ff94942ad232f87ff"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a2d49cae338c7748ff94942ad232f87ff">v8::internal::CppHeap::IsDetachedGCAllowed</a></div><div class="ttdeci">bool IsDetachedGCAllowed() const</div><div class="ttdef"><b>Definition</b> <a href="#l01294">cpp-heap.cc:1294</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a2d4d893f2145f5b38c69b774b07f3c26"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a2d4d893f2145f5b38c69b774b07f3c26">v8::internal::CppHeap::~CppHeap</a></div><div class="ttdeci">~CppHeap() final</div><div class="ttdef"><b>Definition</b> <a href="#l00481">cpp-heap.cc:481</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a2edb27f43e66698d36c533e94da5c3b8"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a2edb27f43e66698d36c533e94da5c3b8">v8::internal::CppHeap::stack</a></div><div class="ttdeci">::heap::base::Stack * stack() final</div><div class="ttdef"><b>Definition</b> <a href="#l00635">cpp-heap.cc:635</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a2eebf1aa02147556869c66fd95f13f63"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a2eebf1aa02147556869c66fd95f13f63">v8::internal::CppHeap::WriteBarrier</a></div><div class="ttdeci">void WriteBarrier(void *)</div><div class="ttdef"><b>Definition</b> <a href="#l00865">cpp-heap.cc:865</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a3499d459295de978a4d642bbd07483b4"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a3499d459295de978a4d642bbd07483b4">v8::internal::CppHeap::CollectionType</a></div><div class="ttdeci">cppgc::internal::CollectionType CollectionType</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00053">cpp-heap.h:53</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a38cb0fc334f72897dc35202010e7c40d"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a38cb0fc334f72897dc35202010e7c40d">v8::internal::CppHeap::current_gc_flags_</a></div><div class="ttdeci">GarbageCollectionFlags current_gc_flags_</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00243">cpp-heap.h:243</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a3a2a25bffca1322f544bc6a77a929970"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a3a2a25bffca1322f544bc6a77a929970">v8::internal::CppHeap::EnterProcessGlobalAtomicPause</a></div><div class="ttdeci">void EnterProcessGlobalAtomicPause()</div><div class="ttdef"><b>Definition</b> <a href="#l00827">cpp-heap.cc:827</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a3c3a371945cb9e7df4eb553268e9e47e"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a3c3a371945cb9e7df4eb553268e9e47e">v8::internal::CppHeap::collection_type_</a></div><div class="ttdeci">std::optional&lt; CollectionType &gt; collection_type_</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00242">cpp-heap.h:242</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a43ea4c0a677a9ca53d3057e218b16cc4"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a43ea4c0a677a9ca53d3057e218b16cc4">v8::internal::CppHeap::heap</a></div><div class="ttdeci">Heap * heap() const</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00236">cpp-heap.h:236</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a44c1fbcea631e3215134dfdc38145d7c"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a44c1fbcea631e3215134dfdc38145d7c">v8::internal::CppHeap::InitializeOncePerProcess</a></div><div class="ttdeci">static void InitializeOncePerProcess()</div><div class="ttdef"><b>Definition</b> <a href="#l00454">cpp-heap.cc:454</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a48178c8704ca41c74410e8796311ce90"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a48178c8704ca41c74410e8796311ce90">v8::internal::CppHeap::clear_overridden_stack_state</a></div><div class="ttdeci">void clear_overridden_stack_state() override</div><div class="ttdef"><b>Definition</b> <a href="#l01250">cpp-heap.cc:1250</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a4844e16c0625f41d328ea9ca1ab76acc"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a4844e16c0625f41d328ea9ca1ab76acc">v8::internal::CppHeap::FinishConcurrentMarkingIfNeeded</a></div><div class="ttdeci">bool FinishConcurrentMarkingIfNeeded()</div><div class="ttdef"><b>Definition</b> <a href="#l00855">cpp-heap.cc:855</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a494facb3576a6c06aeb50a5a31a1eac7"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a494facb3576a6c06aeb50a5a31a1eac7">v8::internal::CppHeap::TracingInitialized</a></div><div class="ttdeci">bool TracingInitialized() const</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00230">cpp-heap.h:230</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a4fea508a91277ca96486db1c032acfb2"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a4fea508a91277ca96486db1c032acfb2">v8::internal::CppHeap::ShouldFinalizeIncrementalMarking</a></div><div class="ttdeci">bool ShouldFinalizeIncrementalMarking() const</div><div class="ttdef"><b>Definition</b> <a href="#l00823">cpp-heap.cc:823</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a504fd99fa9d3db6c478d921a7b1af211"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a504fd99fa9d3db6c478d921a7b1af211">v8::internal::CppHeap::IsGCAllowed</a></div><div class="ttdeci">bool IsGCAllowed() const override</div><div class="ttdef"><b>Definition</b> <a href="#l01298">cpp-heap.cc:1298</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a534b235b4948e66ae40e21c88ce16439"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a534b235b4948e66ae40e21c88ce16439">v8::internal::CppHeap::Terminate</a></div><div class="ttdeci">void Terminate()</div><div class="ttdef"><b>Definition</b> <a href="#l00118">cpp-heap.cc:118</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a57cc89e1735d5e7fb4402a44a041645c"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a57cc89e1735d5e7fb4402a44a041645c">v8::internal::CppHeap::CppHeap</a></div><div class="ttdeci">CppHeap(v8::Platform *, const std::vector&lt; std::unique_ptr&lt; cppgc::CustomSpaceBase &gt; &gt; &amp;, cppgc::Heap::MarkingType, cppgc::Heap::SweepingType)</div><div class="ttdef"><b>Definition</b> <a href="#l00459">cpp-heap.cc:459</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a59aa200f64f60557dffa7b3b6830b237"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a59aa200f64f60557dffa7b3b6830b237">v8::internal::CppHeap::force_incremental_marking_for_testing_</a></div><div class="ttdeci">bool force_incremental_marking_for_testing_</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00257">cpp-heap.h:257</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a5b51fc09c8595c6af2e69042e4927716"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a5b51fc09c8595c6af2e69042e4927716">v8::internal::CppHeap::in_detached_testing_mode_</a></div><div class="ttdeci">bool in_detached_testing_mode_</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00256">cpp-heap.h:256</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a5b7ac0174864380241a63a04157cd431"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a5b7ac0174864380241a63a04157cd431">v8::internal::CppHeap::UpdateGCCapabilitiesFromFlags</a></div><div class="ttdeci">void UpdateGCCapabilitiesFromFlags()</div><div class="ttdef"><b>Definition</b> <a href="#l00683">cpp-heap.cc:683</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a5cf05b67b93df9dabe0533a323885627"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a5cf05b67b93df9dabe0533a323885627">v8::internal::CppHeap::FinalizeIncrementalGarbageCollectionForTesting</a></div><div class="ttdeci">void FinalizeIncrementalGarbageCollectionForTesting(cppgc::EmbedderStackState) final</div><div class="ttdef"><b>Definition</b> <a href="#l01082">cpp-heap.cc:1082</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a5d6541b9b036ba6e6ee3e1289d19235b"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a5d6541b9b036ba6e6ee3e1289d19235b">v8::internal::CppHeap::CreateCppMarkingStateForMutatorThread</a></div><div class="ttdeci">std::unique_ptr&lt; CppMarkingState &gt; CreateCppMarkingStateForMutatorThread()</div><div class="ttdef"><b>Definition</b> <a href="#l01202">cpp-heap.cc:1202</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a665c883449f390a4f1568a801f39551a"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a665c883449f390a4f1568a801f39551a">v8::internal::CppHeap::set_override_stack_state</a></div><div class="ttdeci">void set_override_stack_state(cppgc::EmbedderStackState state) override</div><div class="ttdef"><b>Definition</b> <a href="#l01239">cpp-heap.cc:1239</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a6ae13c1f6a906672819ff2dc5223d3db"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a6ae13c1f6a906672819ff2dc5223d3db">v8::internal::CppHeap::isolate</a></div><div class="ttdeci">Isolate * isolate() const</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00171">cpp-heap.h:171</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a6c121eccc7ec6e682feefa9841a7d2ba"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a6c121eccc7ec6e682feefa9841a7d2ba">v8::internal::CppHeap::EnableDetachedGarbageCollectionsForTesting</a></div><div class="ttdeci">void EnableDetachedGarbageCollectionsForTesting()</div><div class="ttdef"><b>Definition</b> <a href="#l00133">cpp-heap.cc:133</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a6e0482a80eb912cef4efeffd506da4a5a2c10d264b99555a4d24bafd7298de8d8"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a6e0482a80eb912cef4efeffd506da4a5a2c10d264b99555a4d24bafd7298de8d8">v8::internal::CppHeap::kReduceMemory</a></div><div class="ttdeci">@ kReduceMemory</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00047">cpp-heap.h:47</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a6e0482a80eb912cef4efeffd506da4a5a93a9274bc63ac1a0fbc53535a1675cf4"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a6e0482a80eb912cef4efeffd506da4a5a93a9274bc63ac1a0fbc53535a1675cf4">v8::internal::CppHeap::kForced</a></div><div class="ttdeci">@ kForced</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00048">cpp-heap.h:48</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a6e0482a80eb912cef4efeffd506da4a5a979952d239f1f80ac0f5aa759b006439"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a6e0482a80eb912cef4efeffd506da4a5a979952d239f1f80ac0f5aa759b006439">v8::internal::CppHeap::kNoFlags</a></div><div class="ttdeci">@ kNoFlags</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00046">cpp-heap.h:46</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a6f8a03a189eaa4e7d8425179c02f1b8a"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a6f8a03a189eaa4e7d8425179c02f1b8a">v8::internal::CppHeap::SelectMarkingType</a></div><div class="ttdeci">MarkingType SelectMarkingType() const</div><div class="ttdef"><b>Definition</b> <a href="#l00657">cpp-heap.cc:657</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a70fa252bf058400630c62a76f6aae2a7"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a70fa252bf058400630c62a76f6aae2a7">v8::internal::CppHeap::ReEnableConcurrentMarking</a></div><div class="ttdeci">void ReEnableConcurrentMarking()</div><div class="ttdef"><b>Definition</b> <a href="#l00860">cpp-heap.cc:860</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a718bd9b9e4dc5e9258d37bc3fea60e4c"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a718bd9b9e4dc5e9258d37bc3fea60e4c">v8::internal::CppHeap::overridden_stack_state</a></div><div class="ttdeci">std::optional&lt; cppgc::EmbedderStackState &gt; overridden_stack_state() const override</div><div class="ttdef"><b>Definition</b> <a href="#l01233">cpp-heap.cc:1233</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a754453a3dc0a01990420e0a3380a73e7"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a754453a3dc0a01990420e0a3380a73e7">v8::internal::CppHeap::IsGCForbidden</a></div><div class="ttdeci">bool IsGCForbidden() const override</div><div class="ttdef"><b>Definition</b> <a href="#l01302">cpp-heap.cc:1302</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a7ece6ada2874b56155bdbbb560f840c0"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a7ece6ada2874b56155bdbbb560f840c0">v8::internal::CppHeap::cross_heap_remembered_set_</a></div><div class="ttdeci">CrossHeapRememberedSet cross_heap_remembered_set_</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00246">cpp-heap.h:246</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a7f50aadbdc28bceabec7791000099b8d"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a7f50aadbdc28bceabec7791000099b8d">v8::internal::CppHeap::epoch</a></div><div class="ttdeci">size_t epoch() const override</div><div class="ttdef"><b>Definition</b> <a href="#l01266">cpp-heap.cc:1266</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a7fd74b08e4e31209acfd38cb22c78d67"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a7fd74b08e4e31209acfd38cb22c78d67">v8::internal::CppHeap::ReportBufferedAllocationSizeIfPossible</a></div><div class="ttdeci">void ReportBufferedAllocationSizeIfPossible()</div><div class="ttdef"><b>Definition</b> <a href="#l00981">cpp-heap.cc:981</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a82f0ce1d7e37f78ac6e55f4f43b96b12"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a82f0ce1d7e37f78ac6e55f4f43b96b12">v8::internal::CppHeap::DetachIsolate</a></div><div class="ttdeci">void DetachIsolate()</div><div class="ttdef"><b>Definition</b> <a href="#l00597">cpp-heap.cc:597</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a836deff2ab06497da7a43de791b48445"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a836deff2ab06497da7a43de791b48445">v8::internal::CppHeap::From</a></div><div class="ttdeci">static CppHeap * From(v8::CppHeap *heap)</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00111">cpp-heap.h:111</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a86a2995ce0ab000a5951be35929264eb"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a86a2995ce0ab000a5951be35929264eb">v8::internal::CppHeap::override_stack_state_scope_</a></div><div class="ttdeci">std::unique_ptr&lt; v8::internal::EmbedderStackStateScope &gt; override_stack_state_scope_</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00271">cpp-heap.h:271</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a9171e6283279c509a9e40d2be7d9960e"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a9171e6283279c509a9e40d2be7d9960e">v8::internal::CppHeap::EnterFinalPause</a></div><div class="ttdeci">void EnterFinalPause(cppgc::EmbedderStackState stack_state)</div><div class="ttdef"><b>Definition</b> <a href="#l00835">cpp-heap.cc:835</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a929bc21d15f59861888ff0ad39dfa686"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a929bc21d15f59861888ff0ad39dfa686">v8::internal::CppHeap::heap_</a></div><div class="ttdeci">Heap * heap_</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00239">cpp-heap.h:239</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a95972d50a800baefcf9062de07d0901b"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a95972d50a800baefcf9062de07d0901b">v8::internal::CppHeap::allocated_size_</a></div><div class="ttdeci">size_t allocated_size_</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00264">cpp-heap.h:264</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a9dad5e79b098f74f1506a0cfed8c54b7"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a9dad5e79b098f74f1506a0cfed8c54b7">v8::internal::CppHeap::CollectGarbageForTesting</a></div><div class="ttdeci">void CollectGarbageForTesting(CollectionType, StackState)</div><div class="ttdef"><b>Definition</b> <a href="#l00138">cpp-heap.cc:138</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a9e71c551bac572b61ba32084d6d6e73c"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a9e71c551bac572b61ba32084d6d6e73c">v8::internal::CppHeap::AllocatedObjectSizeIncreased</a></div><div class="ttdeci">void AllocatedObjectSizeIncreased(size_t) final</div><div class="ttdef"><b>Definition</b> <a href="#l00971">cpp-heap.cc:971</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_aa00e30bcb6ce48c9a47d08a3d2ed6c79"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#aa00e30bcb6ce48c9a47d08a3d2ed6c79">v8::internal::CppHeap::buffered_allocated_bytes_</a></div><div class="ttdeci">int64_t buffered_allocated_bytes_</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00254">cpp-heap.h:254</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_aa14fa17d93f4a5925c6c5d11fe81462a"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#aa14fa17d93f4a5925c6c5d11fe81462a">v8::internal::CppHeap::StartIncrementalGarbageCollection</a></div><div class="ttdeci">void StartIncrementalGarbageCollection(cppgc::internal::GCConfig) override</div><div class="ttdef"><b>Definition</b> <a href="#l01262">cpp-heap.cc:1262</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_aa24801859d3d9fa473c302aedaa87ddc"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#aa24801859d3d9fa473c302aedaa87ddc">v8::internal::CppHeap::FinishSweepingIfOutOfWork</a></div><div class="ttdeci">void FinishSweepingIfOutOfWork()</div><div class="ttdef"><b>Definition</b> <a href="#l01191">cpp-heap.cc:1191</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_aa27b5b1b58f1f87c170367d84de100a0"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#aa27b5b1b58f1f87c170367d84de100a0">v8::internal::CppHeap::marking_done_</a></div><div class="ttdeci">bool marking_done_</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00240">cpp-heap.h:240</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_aaa05e9e576f5eeda60325b5b11541da1"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#aaa05e9e576f5eeda60325b5b11541da1">v8::internal::CppHeap::FinishAtomicSweepingIfRunning</a></div><div class="ttdeci">void FinishAtomicSweepingIfRunning()</div><div class="ttdef"><b>Definition</b> <a href="#l01182">cpp-heap.cc:1182</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_aaf9c75f9fce2e373e7528f1b0105870d"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#aaf9c75f9fce2e373e7528f1b0105870d">v8::internal::CppHeap::IsCurrentThread</a></div><div class="ttdeci">bool IsCurrentThread(int thread_id) const final</div><div class="ttdef"><b>Definition</b> <a href="#l01308">cpp-heap.cc:1308</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_ab0579030b8b4cfc5f6ba30e3fe20fce5"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#ab0579030b8b4cfc5f6ba30e3fe20fce5">v8::internal::CppHeap::AttachIsolate</a></div><div class="ttdeci">void AttachIsolate(Isolate *isolate)</div><div class="ttdef"><b>Definition</b> <a href="#l00565">cpp-heap.cc:565</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_abeb3e8eb2477908d6d63855e9d055cf1"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#abeb3e8eb2477908d6d63855e9d055cf1">v8::internal::CppHeap::AllocatedObjectSizeDecreased</a></div><div class="ttdeci">void AllocatedObjectSizeDecreased(size_t) final</div><div class="ttdef"><b>Definition</b> <a href="#l00976">cpp-heap.cc:976</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_ac3b3fec0660b44df6efb168e65625926"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#ac3b3fec0660b44df6efb168e65625926">v8::internal::CppHeap::ResetCrossHeapRememberedSet</a></div><div class="ttdeci">void ResetCrossHeapRememberedSet()</div><div class="ttdef"><b>Definition</b> <a href="#l01281">cpp-heap.cc:1281</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_ac7034aca4b644909e7565f0beb372974"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#ac7034aca4b644909e7565f0beb372974">v8::internal::CppHeap::InitializeMarking</a></div><div class="ttdeci">void InitializeMarking(CollectionType, GarbageCollectionFlags=GarbageCollectionFlagValues::kNoFlags)</div><div class="ttdef"><b>Definition</b> <a href="#l00704">cpp-heap.cc:704</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_ad7419cbbd072c983e702f91f702d2f3d"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#ad7419cbbd072c983e702f91f702d2f3d">v8::internal::CppHeap::FinishSweepingIfRunning</a></div><div class="ttdeci">void FinishSweepingIfRunning()</div><div class="ttdef"><b>Definition</b> <a href="#l01175">cpp-heap.cc:1175</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_ad9d5bc83dd772517ed8041450dab1f05"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#ad9d5bc83dd772517ed8041450dab1f05">v8::internal::CppHeap::isolate_</a></div><div class="ttdeci">Isolate * isolate_</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00238">cpp-heap.h:238</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_adb083204c67186cc4257dd62658b9dd3"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#adb083204c67186cc4257dd62658b9dd3">v8::internal::CppHeap::GetMetricRecorder</a></div><div class="ttdeci">MetricRecorderAdapter * GetMetricRecorder() const</div><div class="ttdef"><b>Definition</b> <a href="#l01170">cpp-heap.cc:1170</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_adb18c23268aac722d59534a1a4089d39"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#adb18c23268aac722d59534a1a4089d39">v8::internal::CppHeap::sweeping_on_mutator_thread_observer_</a></div><div class="ttdeci">std::unique_ptr&lt; cppgc::internal::Sweeper::SweepingOnMutatorThreadObserver &gt; sweeping_on_mutator_thread_observer_</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00249">cpp-heap.h:249</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_add87a1812f1fccf530e7345254cb074c"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#add87a1812f1fccf530e7345254cb074c">v8::internal::CppHeap::GarbageCollectionFlags</a></div><div class="ttdeci">base::Flags&lt; GarbageCollectionFlagValues &gt; GarbageCollectionFlags</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00051">cpp-heap.h:51</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_adddb22132263a8f897ae0d7da4edcdc7"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#adddb22132263a8f897ae0d7da4edcdc7">v8::internal::CppHeap::CollectCustomSpaceStatisticsAtLastGC</a></div><div class="ttdeci">void CollectCustomSpaceStatisticsAtLastGC(std::vector&lt; cppgc::CustomSpaceIndex &gt;, std::unique_ptr&lt; CustomSpaceStatisticsReceiver &gt;)</div><div class="ttdef"><b>Definition</b> <a href="#l00126">cpp-heap.cc:126</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_ae67d52cdcb6ee95629fe16a51437588c"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#ae67d52cdcb6ee95629fe16a51437588c">v8::internal::CppHeap::StartMarking</a></div><div class="ttdeci">void StartMarking()</div><div class="ttdef"><b>Definition</b> <a href="#l00781">cpp-heap.cc:781</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_ae9f4d53f91bfab064eda69a638bfade1"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#ae9f4d53f91bfab064eda69a638bfade1">v8::internal::CppHeap::SelectSweepingType</a></div><div class="ttdeci">SweepingType SelectSweepingType() const</div><div class="ttdef"><b>Definition</b> <a href="#l00677">cpp-heap.cc:677</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_af04b03a8fa1a4192cda0dfe198fcba70"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#af04b03a8fa1a4192cda0dfe198fcba70">v8::internal::CppHeap::IsTracingDone</a></div><div class="ttdeci">bool IsTracingDone() const</div><div class="ttdef"><b>Definition</b> <a href="#l00819">cpp-heap.cc:819</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_af32e662a85215f2f74f0422eec027aee"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#af32e662a85215f2f74f0422eec027aee">v8::internal::CppHeap::is_in_v8_marking_step_</a></div><div class="ttdeci">bool is_in_v8_marking_step_</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00258">cpp-heap.h:258</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_af6bfadd392a2cf1a38c796064323d388"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#af6bfadd392a2cf1a38c796064323d388">v8::internal::CppHeap::FinishMarkingAndProcessWeakness</a></div><div class="ttdeci">void FinishMarkingAndProcessWeakness()</div><div class="ttdef"><b>Definition</b> <a href="#l00883">cpp-heap.cc:883</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_afd08a18834a1f0d5fbe2466c909a6a4d"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#afd08a18834a1f0d5fbe2466c909a6a4d">v8::internal::CppHeap::allocated_size_limit_for_check_</a></div><div class="ttdeci">size_t allocated_size_limit_for_check_</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00267">cpp-heap.h:267</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_aff108e8ef92c95f9b33575e9c9bde70b"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#aff108e8ef92c95f9b33575e9c9bde70b">v8::internal::CppHeap::AsBase</a></div><div class="ttdeci">HeapBase &amp; AsBase()</div><div class="ttdef"><b>Definition</b> <a href="cpp-heap_8h_source.html#l00126">cpp-heap.h:126</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppMarkingState_html_a73a1458bd1ec8b8b15ac575757451250"><div class="ttname"><a href="classv8_1_1internal_1_1CppMarkingState.html#a73a1458bd1ec8b8b15ac575757451250">v8::internal::CppMarkingState::MarkAndPush</a></div><div class="ttdeci">void MarkAndPush(void *instance)</div><div class="ttdef"><b>Definition</b> <a href="cpp-marking-state-inl_8h_source.html#l00013">cpp-marking-state-inl.h:13</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CrossHeapRememberedSet_html_a9f27316fb4b55bd3431c7e03cbd59bcb"><div class="ttname"><a href="classv8_1_1internal_1_1CrossHeapRememberedSet.html#a9f27316fb4b55bd3431c7e03cbd59bcb">v8::internal::CrossHeapRememberedSet::IsEmpty</a></div><div class="ttdeci">bool IsEmpty() const</div><div class="ttdef"><b>Definition</b> <a href="cross-heap-remembered-set_8h_source.html#l00038">cross-heap-remembered-set.h:38</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CrossHeapRememberedSet_html_ad8c4e34e09433c2b6dd6b5498c724442"><div class="ttname"><a href="classv8_1_1internal_1_1CrossHeapRememberedSet.html#ad8c4e34e09433c2b6dd6b5498c724442">v8::internal::CrossHeapRememberedSet::Reset</a></div><div class="ttdeci">void Reset(Isolate &amp;isolate)</div><div class="ttdef"><b>Definition</b> <a href="cross-heap-remembered-set_8cc_source.html#l00027">cross-heap-remembered-set.cc:27</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1GCTracer_html"><div class="ttname"><a href="classv8_1_1internal_1_1GCTracer.html">v8::internal::GCTracer</a></div><div class="ttdef"><b>Definition</b> <a href="gc-tracer_8h_source.html#l00107">gc-tracer.h:107</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1GCTracer_html_a5e04aa69400740fdb93c2d3ef9929f96"><div class="ttname"><a href="classv8_1_1internal_1_1GCTracer.html#a5e04aa69400740fdb93c2d3ef9929f96">v8::internal::GCTracer::RecordEmbedderMarkingSpeed</a></div><div class="ttdeci">void RecordEmbedderMarkingSpeed(size_t bytes, base::TimeDelta duration)</div><div class="ttdef"><b>Definition</b> <a href="gc-tracer_8cc_source.html#l01223">gc-tracer.cc:1223</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1GCTracer_html_ae839e3dfb84326c51cbc2c14a46c0ca6"><div class="ttname"><a href="classv8_1_1internal_1_1GCTracer.html#ae839e3dfb84326c51cbc2c14a46c0ca6">v8::internal::GCTracer::NotifyYoungCppGCRunning</a></div><div class="ttdeci">void NotifyYoungCppGCRunning()</div><div class="ttdef"><b>Definition</b> <a href="gc-tracer_8cc_source.html#l00620">gc-tracer.cc:620</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HandleScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1HandleScope.html">v8::internal::HandleScope</a></div><div class="ttdef"><b>Definition</b> <a href="handles_8h_source.html#l00258">handles.h:258</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html">v8::internal::Heap</a></div><div class="ttdef"><b>Definition</b> <a href="heap_8h_source.html#l00192">heap.h:192</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a114d59b1a17d33863f80eda53b14d32d"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a114d59b1a17d33863f80eda53b14d32d">v8::internal::Heap::FinalizeIncrementalMarkingAtomically</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void FinalizeIncrementalMarkingAtomically(GarbageCollectionReason gc_reason)</div><div class="ttdef"><b>Definition</b> <a href="heap_8cc_source.html#l03876">heap.cc:3876</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a30ad60da7f5c276dfce245167c6fe660"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a30ad60da7f5c276dfce245167c6fe660">v8::internal::Heap::DetachCppHeap</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void DetachCppHeap()</div><div class="ttdef"><b>Definition</b> <a href="heap_8cc_source.html#l06011">heap.cc:6011</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a3d8741e9d5e50515a761be0ca0a6f725"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a3d8741e9d5e50515a761be0ca0a6f725">v8::internal::Heap::mark_compact_collector</a></div><div class="ttdeci">MarkCompactCollector * mark_compact_collector()</div><div class="ttdef"><b>Definition</b> <a href="heap_8h_source.html#l00804">heap.h:804</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a5487524df177531b93290adb00d1ea76"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a5487524df177531b93290adb00d1ea76">v8::internal::Heap::incremental_marking</a></div><div class="ttdeci">IncrementalMarking * incremental_marking() const</div><div class="ttdef"><b>Definition</b> <a href="heap_8h_source.html#l01045">heap.h:1045</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a64d03e1e394ae1598a81533d7c6b94fd"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a64d03e1e394ae1598a81533d7c6b94fd">v8::internal::Heap::CollectAllGarbage</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void CollectAllGarbage(GCFlags gc_flags, GarbageCollectionReason gc_reason, const GCCallbackFlags gc_callback_flags=kNoGCCallbackFlags)</div><div class="ttdef"><b>Definition</b> <a href="heap_8cc_source.html#l01270">heap.cc:1270</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a770c2ed881e1aafb007e34d3aa47a92d"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a770c2ed881e1aafb007e34d3aa47a92d">v8::internal::Heap::overridden_stack_state</a></div><div class="ttdeci">std::optional&lt; StackState &gt; overridden_stack_state() const</div><div class="ttdef"><b>Definition</b> <a href="heap_8cc_source.html#l06022">heap.cc:6022</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_ad345b98fade0a6223cde39f6e23306bf"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#ad345b98fade0a6223cde39f6e23306bf">v8::internal::Heap::stack</a></div><div class="ttdeci">V8_EXPORT_PRIVATE::heap::base::Stack &amp; stack()</div><div class="ttdef"><b>Definition</b> <a href="heap_8cc_source.html#l06034">heap.cc:6034</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_ae12ef5f250417c33f81f5f599feffe17"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#ae12ef5f250417c33f81f5f599feffe17">v8::internal::Heap::tracer</a></div><div class="ttdeci">GCTracer * tracer()</div><div class="ttdef"><b>Definition</b> <a href="heap_8h_source.html#l00792">heap.h:792</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IncrementalMarking_html_a36f76d27a7a670a4b270804cef79cea1"><div class="ttname"><a href="classv8_1_1internal_1_1IncrementalMarking.html#a36f76d27a7a670a4b270804cef79cea1">v8::internal::IncrementalMarking::IsMarking</a></div><div class="ttdeci">bool IsMarking() const</div><div class="ttdef"><b>Definition</b> <a href="incremental-marking_8h_source.html#l00087">incremental-marking.h:87</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html">v8::internal::Isolate</a></div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l00575">isolate.h:575</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a3ba8b3d232276de35af27d3fede878be"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a3ba8b3d232276de35af27d3fede878be">v8::internal::Isolate::was_locker_ever_used</a></div><div class="ttdeci">bool was_locker_ever_used() const</div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l01713">isolate.h:1713</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a44b6ca4cd581c053d46bab9d0b67943c"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a44b6ca4cd581c053d46bab9d0b67943c">v8::internal::Isolate::InFastCCall</a></div><div class="ttdeci">bool InFastCCall() const</div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate-inl_8h_source.html#l00192">isolate-inl.h:192</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a67c396ca00a91e3b3c6131d6db14a438"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a67c396ca00a91e3b3c6131d6db14a438">v8::internal::Isolate::traced_handles</a></div><div class="ttdeci">TracedHandles * traced_handles()</div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l01407">isolate.h:1407</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a84d573c56acbbe1b0140c98047daeda7"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a84d573c56acbbe1b0140c98047daeda7">v8::internal::Isolate::thread_manager</a></div><div class="ttdeci">ThreadManager * thread_manager() const</div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l01411">isolate.h:1411</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a8f158e28d6a29d8bf8459c45ba5e40c2"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a8f158e28d6a29d8bf8459c45ba5e40c2">v8::internal::Isolate::heap</a></div><div class="ttdeci">Heap * heap()</div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l01188">isolate.h:1188</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_ab8c320f45e3e713821a188c0309a9923"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#ab8c320f45e3e713821a188c0309a9923">v8::internal::Isolate::heap_profiler</a></div><div class="ttdeci">HeapProfiler * heap_profiler() const</div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l01498">isolate.h:1498</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_aa709baf43b9629ff0df85d2700caa88b"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#aa709baf43b9629ff0df85d2700caa88b">v8::internal::MarkCompactCollector::UseBackgroundThreadsInCycle</a></div><div class="ttdeci">bool UseBackgroundThreadsInCycle() const</div><div class="ttdef"><b>Definition</b> <a href="mark-compact_8h_source.html#l00188">mark-compact.h:188</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_afdd5062b5568a5aa3d2c1b457252df79"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#afdd5062b5568a5aa3d2c1b457252df79">v8::internal::MarkCompactCollector::local_marking_worklists</a></div><div class="ttdeci">MarkingWorklists::Local * local_marking_worklists() const</div><div class="ttdef"><b>Definition</b> <a href="mark-compact_8h_source.html#l00165">mark-compact.h:165</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkingWorklists_1_1Local_html"><div class="ttname"><a href="classv8_1_1internal_1_1MarkingWorklists_1_1Local.html">v8::internal::MarkingWorklists::Local</a></div><div class="ttdef"><b>Definition</b> <a href="marking-worklist_8h_source.html#l00139">marking-worklist.h:139</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkingWorklists_1_1Local_html_acce9cc0730ee7af549c2eb514174c930"><div class="ttname"><a href="classv8_1_1internal_1_1MarkingWorklists_1_1Local.html#acce9cc0730ee7af549c2eb514174c930">v8::internal::MarkingWorklists::Local::cpp_marking_state</a></div><div class="ttdeci">CppMarkingState * cpp_marking_state() const</div><div class="ttdef"><b>Definition</b> <a href="marking-worklist_8h_source.html#l00179">marking-worklist.h:179</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkingWorklists_html"><div class="ttname"><a href="classv8_1_1internal_1_1MarkingWorklists.html">v8::internal::MarkingWorklists</a></div><div class="ttdef"><b>Definition</b> <a href="marking-worklist_8h_source.html#l00068">marking-worklist.h:68</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MinorGCHeapGrowing_html"><div class="ttname"><a href="classv8_1_1internal_1_1MinorGCHeapGrowing.html">v8::internal::MinorGCHeapGrowing</a></div><div class="ttdef"><b>Definition</b> <a href="#l00061">cpp-heap.cc:62</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MinorGCHeapGrowing_html_a02a85c2738625cc153475789c729b709"><div class="ttname"><a href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a02a85c2738625cc153475789c729b709">v8::internal::MinorGCHeapGrowing::stats_collector_</a></div><div class="ttdeci">cppgc::internal::StatsCollector &amp; stats_collector_</div><div class="ttdef"><b>Definition</b> <a href="#l00095">cpp-heap.cc:95</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MinorGCHeapGrowing_html_a06ca8d640b3e13869dc4971a8c4f2a0d"><div class="ttname"><a href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a06ca8d640b3e13869dc4971a8c4f2a0d">v8::internal::MinorGCHeapGrowing::limit_for_atomic_gc_</a></div><div class="ttdeci">size_t limit_for_atomic_gc_</div><div class="ttdef"><b>Definition</b> <a href="#l00097">cpp-heap.cc:97</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MinorGCHeapGrowing_html_a0deabe28b5a6679b48c076542938ffd1"><div class="ttname"><a href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a0deabe28b5a6679b48c076542938ffd1">v8::internal::MinorGCHeapGrowing::~MinorGCHeapGrowing</a></div><div class="ttdeci">virtual ~MinorGCHeapGrowing()=default</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MinorGCHeapGrowing_html_a15f377e9f6504b22fa620ac07fb835e5"><div class="ttname"><a href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a15f377e9f6504b22fa620ac07fb835e5">v8::internal::MinorGCHeapGrowing::AllocatedObjectSizeDecreased</a></div><div class="ttdeci">void AllocatedObjectSizeDecreased(size_t) final</div><div class="ttdef"><b>Definition</b> <a href="#l00071">cpp-heap.cc:71</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MinorGCHeapGrowing_html_a302e0d2aaef7f1c303e8ef75328a9fbd"><div class="ttname"><a href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a302e0d2aaef7f1c303e8ef75328a9fbd">v8::internal::MinorGCHeapGrowing::MinorGCHeapGrowing</a></div><div class="ttdeci">MinorGCHeapGrowing(cppgc::internal::StatsCollector &amp;stats_collector)</div><div class="ttdef"><b>Definition</b> <a href="#l00064">cpp-heap.cc:64</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MinorGCHeapGrowing_html_a39041f1af221bbd474f89004424a51ff"><div class="ttname"><a href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a39041f1af221bbd474f89004424a51ff">v8::internal::MinorGCHeapGrowing::ResetAllocatedObjectSize</a></div><div class="ttdeci">void ResetAllocatedObjectSize(size_t allocated_object_size) final</div><div class="ttdef"><b>Definition</b> <a href="#l00072">cpp-heap.cc:72</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MinorGCHeapGrowing_html_a6a927d64978248a262939d5d95ca686b"><div class="ttname"><a href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#a6a927d64978248a262939d5d95ca686b">v8::internal::MinorGCHeapGrowing::initial_heap_size_</a></div><div class="ttdeci">size_t initial_heap_size_</div><div class="ttdef"><b>Definition</b> <a href="#l00096">cpp-heap.cc:96</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MinorGCHeapGrowing_html_aa2f5fa0ced308746eb45c1a3047e82a1"><div class="ttname"><a href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#aa2f5fa0ced308746eb45c1a3047e82a1">v8::internal::MinorGCHeapGrowing::LimitReached</a></div><div class="ttdeci">bool LimitReached() const</div><div class="ttdef"><b>Definition</b> <a href="#l00076">cpp-heap.cc:76</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MinorGCHeapGrowing_html_ae14eccc1d2a402e8ce65c3383d731134"><div class="ttname"><a href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#ae14eccc1d2a402e8ce65c3383d731134">v8::internal::MinorGCHeapGrowing::ConfigureLimit</a></div><div class="ttdeci">void ConfigureLimit(size_t allocated_object_size)</div><div class="ttdef"><b>Definition</b> <a href="#l00081">cpp-heap.cc:81</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MinorGCHeapGrowing_html_afc9bb9a200e980e5569fa9a7095e979f"><div class="ttname"><a href="classv8_1_1internal_1_1MinorGCHeapGrowing.html#afc9bb9a200e980e5569fa9a7095e979f">v8::internal::MinorGCHeapGrowing::AllocatedObjectSizeIncreased</a></div><div class="ttdeci">void AllocatedObjectSizeIncreased(size_t) final</div><div class="ttdef"><b>Definition</b> <a href="#l00070">cpp-heap.cc:70</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MutatorUnifiedHeapMarkingVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1MutatorUnifiedHeapMarkingVisitor.html">v8::internal::MutatorUnifiedHeapMarkingVisitor</a></div><div class="ttdef"><b>Definition</b> <a href="unified-heap-marking-visitor_8h_source.html#l00069">unified-heap-marking-visitor.h:70</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThreadManager_html_aa010051a059cfda7e45228fc28a3ff52"><div class="ttname"><a href="classv8_1_1internal_1_1ThreadManager.html#aa010051a059cfda7e45228fc28a3ff52">v8::internal::ThreadManager::IsLockedByCurrentThread</a></div><div class="ttdeci">bool IsLockedByCurrentThread() const</div><div class="ttdef"><b>Definition</b> <a href="v8threads_8h_source.html#l00073">v8threads.h:73</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TracedHandles_html_a5d85bd5c0e73564f22f60f38b3c301c5"><div class="ttname"><a href="classv8_1_1internal_1_1TracedHandles.html#a5d85bd5c0e73564f22f60f38b3c301c5">v8::internal::TracedHandles::DeleteEmptyBlocks</a></div><div class="ttdeci">void DeleteEmptyBlocks()</div><div class="ttdef"><b>Definition</b> <a href="traced-handles_8cc_source.html#l00299">traced-handles.cc:299</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UnifiedHeapMarker_html"><div class="ttname"><a href="classv8_1_1internal_1_1UnifiedHeapMarker.html">v8::internal::UnifiedHeapMarker</a></div><div class="ttdef"><b>Definition</b> <a href="#l00276">cpp-heap.cc:276</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UnifiedHeapMarker_html_a07f6e03e9d954de8f5dc7c0f75ee5876"><div class="ttname"><a href="classv8_1_1internal_1_1UnifiedHeapMarker.html#a07f6e03e9d954de8f5dc7c0f75ee5876">v8::internal::UnifiedHeapMarker::mutator_unified_heap_marking_state_</a></div><div class="ttdeci">UnifiedHeapMarkingState mutator_unified_heap_marking_state_</div><div class="ttdef"><b>Definition</b> <a href="#l00308">cpp-heap.cc:308</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UnifiedHeapMarker_html_a0e46ecb790d158d653de179425729460"><div class="ttname"><a href="classv8_1_1internal_1_1UnifiedHeapMarker.html#a0e46ecb790d158d653de179425729460">v8::internal::UnifiedHeapMarker::stack_visitor</a></div><div class="ttdeci">::heap::base::StackVisitor &amp; stack_visitor() final</div><div class="ttdef"><b>Definition</b> <a href="#l00303">cpp-heap.cc:303</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UnifiedHeapMarker_html_a2b5109744201ea2273e53cbd8c630051"><div class="ttname"><a href="classv8_1_1internal_1_1UnifiedHeapMarker.html#a2b5109744201ea2273e53cbd8c630051">v8::internal::UnifiedHeapMarker::GetMutatorMarkingState</a></div><div class="ttdeci">cppgc::internal::MutatorMarkingState &amp; GetMutatorMarkingState()</div><div class="ttdef"><b>Definition</b> <a href="#l00288">cpp-heap.cc:288</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UnifiedHeapMarker_html_a6b3c845fcde3fb0f816d0aa99f750f5c"><div class="ttname"><a href="classv8_1_1internal_1_1UnifiedHeapMarker.html#a6b3c845fcde3fb0f816d0aa99f750f5c">v8::internal::UnifiedHeapMarker::UnifiedHeapMarker</a></div><div class="ttdeci">UnifiedHeapMarker(Heap *v8_heap, cppgc::internal::HeapBase &amp;cpp_heap, cppgc::Platform *platform, cppgc::internal::MarkingConfig config)</div><div class="ttdef"><b>Definition</b> <a href="#l00313">cpp-heap.cc:313</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UnifiedHeapMarker_html_a746f420eb69cdd8fef9b968dbbffb8b7"><div class="ttname"><a href="classv8_1_1internal_1_1UnifiedHeapMarker.html#a746f420eb69cdd8fef9b968dbbffb8b7">v8::internal::UnifiedHeapMarker::visitor</a></div><div class="ttdeci">cppgc::Visitor &amp; visitor() final</div><div class="ttdef"><b>Definition</b> <a href="#l00302">cpp-heap.cc:302</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UnifiedHeapMarker_html_abfbba497dd0cc3306e749a125356b722"><div class="ttname"><a href="classv8_1_1internal_1_1UnifiedHeapMarker.html#abfbba497dd0cc3306e749a125356b722">v8::internal::UnifiedHeapMarker::marking_visitor_</a></div><div class="ttdeci">std::unique_ptr&lt; MutatorUnifiedHeapMarkingVisitor &gt; marking_visitor_</div><div class="ttdef"><b>Definition</b> <a href="#l00309">cpp-heap.cc:309</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UnifiedHeapMarker_html_ada9324d4b2ac143204ab85dce9af9c84"><div class="ttname"><a href="classv8_1_1internal_1_1UnifiedHeapMarker.html#ada9324d4b2ac143204ab85dce9af9c84">v8::internal::UnifiedHeapMarker::GetMutatorUnifiedHeapMarkingState</a></div><div class="ttdeci">UnifiedHeapMarkingState &amp; GetMutatorUnifiedHeapMarkingState()</div><div class="ttdef"><b>Definition</b> <a href="#l00293">cpp-heap.cc:293</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UnifiedHeapMarker_html_aed0e485cb92b2c0b056083e5843e6131"><div class="ttname"><a href="classv8_1_1internal_1_1UnifiedHeapMarker.html#aed0e485cb92b2c0b056083e5843e6131">v8::internal::UnifiedHeapMarker::conservative_marking_visitor_</a></div><div class="ttdeci">UnifiedHeapConservativeMarkingVisitor conservative_marking_visitor_</div><div class="ttdef"><b>Definition</b> <a href="#l00310">cpp-heap.cc:310</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UnifiedHeapMarker_html_aed48cf45da5244b6c5f4446e85764a5b"><div class="ttname"><a href="classv8_1_1internal_1_1UnifiedHeapMarker.html#aed48cf45da5244b6c5f4446e85764a5b">v8::internal::UnifiedHeapMarker::~UnifiedHeapMarker</a></div><div class="ttdeci">~UnifiedHeapMarker() final=default</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UnifiedHeapMarker_html_afd8b2c23a415e862ec6990e3e3b19b7b"><div class="ttname"><a href="classv8_1_1internal_1_1UnifiedHeapMarker.html#afd8b2c23a415e862ec6990e3e3b19b7b">v8::internal::UnifiedHeapMarker::conservative_visitor</a></div><div class="ttdeci">UnifiedHeapConservativeMarkingVisitor &amp; conservative_visitor() final</div><div class="ttdef"><b>Definition</b> <a href="#l00297">cpp-heap.cc:297</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UnifiedHeapMarkingState_html"><div class="ttname"><a href="classv8_1_1internal_1_1UnifiedHeapMarkingState.html">v8::internal::UnifiedHeapMarkingState</a></div><div class="ttdef"><b>Definition</b> <a href="unified-heap-marking-state_8h_source.html#l00019">unified-heap-marking-state.h:19</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UnifiedHeapMarkingVerifier_html"><div class="ttname"><a href="classv8_1_1internal_1_1UnifiedHeapMarkingVerifier.html">v8::internal::UnifiedHeapMarkingVerifier</a></div><div class="ttdef"><b>Definition</b> <a href="unified-heap-marking-verifier_8h_source.html#l00019">unified-heap-marking-verifier.h:20</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1V8_html_a977b087d4ee58955efe72b33136a4e94"><div class="ttname"><a href="classv8_1_1internal_1_1V8.html#a977b087d4ee58955efe72b33136a4e94">v8::internal::V8::FatalProcessOutOfMemory</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void FatalProcessOutOfMemory(Isolate *isolate, const char *location, const OOMDetails &amp;details=kNoOOMDetails)</div></div>
<div class="ttc" id="aconcurrent-marker_8h_html"><div class="ttname"><a href="concurrent-marker_8h.html">concurrent-marker.h</a></div></div>
<div class="ttc" id="acpp-heap_8cc_html_a0ee55a107a54572260ea7a1be6ce2ae4"><div class="ttname"><a href="cpp-heap_8cc.html#a0ee55a107a54572260ea7a1be6ce2ae4">kTaskDelayMs</a></div><div class="ttdeci">static constexpr v8::base::TimeDelta kTaskDelayMs</div><div class="ttdef"><b>Definition</b> <a href="#l01112">cpp-heap.cc:1112</a></div></div>
<div class="ttc" id="acpp-heap_8cc_html_a121aee969503dcc0f2d4ff4879d9c4d9"><div class="ttname"><a href="cpp-heap_8cc.html#a121aee969503dcc0f2d4ff4879d9c4d9">active_</a></div><div class="ttdeci">bool active_</div><div class="ttdef"><b>Definition</b> <a href="#l00560">cpp-heap.cc:560</a></div></div>
<div class="ttc" id="acpp-heap_8cc_html_a17ab68c0df05711b0315b9614b588f9d"><div class="ttname"><a href="cpp-heap_8cc.html#a17ab68c0df05711b0315b9614b588f9d">page_allocator_</a></div><div class="ttdeci">cppgc::PageAllocator * page_allocator_</div><div class="ttdef"><b>Definition</b> <a href="#l00194">cpp-heap.cc:194</a></div></div>
<div class="ttc" id="acpp-heap_8cc_html_a2f2ae300b31f4b2c2af7414e2ecae231"><div class="ttname"><a href="cpp-heap_8cc.html#a2f2ae300b31f4b2c2af7414e2ecae231">marking_visitor_</a></div><div class="ttdeci">std::unique_ptr&lt; ConservativeTracedHandlesMarkingVisitor &gt; marking_visitor_</div><div class="ttdef"><b>Definition</b> <a href="#l00271">cpp-heap.cc:271</a></div></div>
<div class="ttc" id="acpp-heap_8cc_html_a45b167fca157a479e2c965c464469fe3"><div class="ttname"><a href="cpp-heap_8cc.html#a45b167fca157a479e2c965c464469fe3">is_in_detached_mode_</a></div><div class="ttdeci">bool is_in_detached_mode_</div><div class="ttdef"><b>Definition</b> <a href="#l00196">cpp-heap.cc:196</a></div></div>
<div class="ttc" id="acpp-heap_8cc_html_a9ce841c7eda3d551d30dd1ade1cc8141"><div class="ttname"><a href="cpp-heap_8cc.html#a9ce841c7eda3d551d30dd1ade1cc8141">platform_</a></div><div class="ttdeci">v8::Platform * platform_</div><div class="ttdef"><b>Definition</b> <a href="#l00193">cpp-heap.cc:193</a></div></div>
<div class="ttc" id="acpp-heap_8cc_html_aae3a0455122e76180ec49a028135c55b"><div class="ttname"><a href="cpp-heap_8cc.html#aae3a0455122e76180ec49a028135c55b">v8_heap_</a></div><div class="ttdeci">Heap *const v8_heap_</div><div class="ttdef"><b>Definition</b> <a href="#l00218">cpp-heap.cc:218</a></div></div>
<div class="ttc" id="acpp-heap_8cc_html_abeebb7739b038757ffcf1593c6b11ae7"><div class="ttname"><a href="cpp-heap_8cc.html#abeebb7739b038757ffcf1593c6b11ae7">kStepSizeMs</a></div><div class="ttdeci">static constexpr v8::base::TimeDelta kStepSizeMs</div><div class="ttdef"><b>Definition</b> <a href="#l01141">cpp-heap.cc:1141</a></div></div>
<div class="ttc" id="acpp-heap_8cc_html_abf26aeebfa3b211a147d054e3acfa1aa"><div class="ttname"><a href="cpp-heap_8cc.html#abf26aeebfa3b211a147d054e3acfa1aa">heap_</a></div><div class="ttdeci">CppHeap * heap_</div><div class="ttdef"><b>Definition</b> <a href="#l00559">cpp-heap.cc:559</a></div></div>
<div class="ttc" id="acpp-heap_8cc_html_ac9e843b0cb5c71c1989b87fffe31dbb6"><div class="ttname"><a href="cpp-heap_8cc.html#ac9e843b0cb5c71c1989b87fffe31dbb6">collection_type_</a></div><div class="ttdeci">CppHeap::CollectionType collection_type_</div><div class="ttdef"><b>Definition</b> <a href="#l00219">cpp-heap.cc:219</a></div></div>
<div class="ttc" id="acpp-heap_8cc_html_ad4f5b55b609dcb476d80f243c563f35e"><div class="ttname"><a href="cpp-heap_8cc.html#ad4f5b55b609dcb476d80f243c563f35e">traced_handles_</a></div><div class="ttdeci">TracedHandles &amp; traced_handles_</div><div class="ttdef"><b>Definition</b> <a href="#l00507">cpp-heap.cc:507</a></div></div>
<div class="ttc" id="acpp-heap_8cc_html_af2396715a57f2f122e2e5d1ed09ab56c"><div class="ttname"><a href="cpp-heap_8cc.html#af2396715a57f2f122e2e5d1ed09ab56c">custom_spaces_</a></div><div class="ttdeci">std::vector&lt; cppgc::CustomSpaceIndex &gt; custom_spaces_</div><div class="ttdef"><b>Definition</b> <a href="#l01145">cpp-heap.cc:1145</a></div></div>
<div class="ttc" id="acpp-heap_8h_html"><div class="ttname"><a href="cpp-heap_8h.html">cpp-heap.h</a></div></div>
<div class="ttc" id="acpp-marking-state_8h_html"><div class="ttname"><a href="cpp-marking-state_8h.html">cpp-marking-state.h</a></div></div>
<div class="ttc" id="acpp-snapshot_8h_html"><div class="ttname"><a href="cpp-snapshot_8h.html">cpp-snapshot.h</a></div></div>
<div class="ttc" id="acppgc_2marking-state_8h_html"><div class="ttname"><a href="cppgc_2marking-state_8h.html">marking-state.h</a></div></div>
<div class="ttc" id="acppgc_2marking-visitor_8h_html"><div class="ttname"><a href="cppgc_2marking-visitor_8h.html">marking-visitor.h</a></div></div>
<div class="ttc" id="acppgc_2sweeper_8cc_html_a876e0ae5632dcb3138e6e718ac01ae8a"><div class="ttname"><a href="cppgc_2sweeper_8cc.html#a876e0ae5632dcb3138e6e718ac01ae8a">page</a></div><div class="ttdeci">BasePage * page</div><div class="ttdef"><b>Definition</b> <a href="cppgc_2sweeper_8cc_source.html#l00218">sweeper.cc:218</a></div></div>
<div class="ttc" id="acppgc_2sweeper_8h_html"><div class="ttname"><a href="cppgc_2sweeper_8h.html">sweeper.h</a></div></div>
<div class="ttc" id="aexecution_2isolate-inl_8h_html"><div class="ttname"><a href="execution_2isolate-inl_8h.html">isolate-inl.h</a></div></div>
<div class="ttc" id="aflags_2flags_8h_html"><div class="ttname"><a href="flags_2flags_8h.html">flags.h</a></div></div>
<div class="ttc" id="agc-info-table_8h_html"><div class="ttname"><a href="gc-info-table_8h.html">gc-info-table.h</a></div></div>
<div class="ttc" id="agc-tracer_8h_html"><div class="ttname"><a href="gc-tracer_8h.html">gc-tracer.h</a></div></div>
<div class="ttc" id="agraph-builder_8cc_html_a9990dda08de44f6aee0aaf44c50da7d9"><div class="ttname"><a href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a></div><div class="ttdeci">Isolate * isolate</div><div class="ttdef"><b>Definition</b> <a href="graph-builder_8cc_source.html#l00058">graph-builder.cc:58</a></div></div>
<div class="ttc" id="ahandles_8h_html"><div class="ttname"><a href="handles_8h.html">handles.h</a></div></div>
<div class="ttc" id="aheap-base_8h_html"><div class="ttname"><a href="heap-base_8h.html">heap-base.h</a></div></div>
<div class="ttc" id="aheap-object-header_8h_html"><div class="ttname"><a href="heap-object-header_8h.html">heap-object-header.h</a></div></div>
<div class="ttc" id="aheap-profiler_8h_html"><div class="ttname"><a href="heap-profiler_8h.html">heap-profiler.h</a></div></div>
<div class="ttc" id="aheap_2cppgc_2platform_8h_html"><div class="ttname"><a href="heap_2cppgc_2platform_8h.html">platform.h</a></div></div>
<div class="ttc" id="aheap_8h_html"><div class="ttname"><a href="heap_8h.html">heap.h</a></div></div>
<div class="ttc" id="ajs-call-reducer_8cc_html_a0835767fe473cead88c1afdf3175bce8"><div class="ttname"><a href="js-call-reducer_8cc.html#a0835767fe473cead88c1afdf3175bce8">context</a></div><div class="ttdeci">TNode&lt; Context &gt; context</div><div class="ttdef"><b>Definition</b> <a href="js-call-reducer_8cc_source.html#l01496">js-call-reducer.cc:1496</a></div></div>
<div class="ttc" id="ajs-call-reducer_8cc_html_a636976930af33f8ea09789d93b5a6fc3"><div class="ttname"><a href="js-call-reducer_8cc.html#a636976930af33f8ea09789d93b5a6fc3">receiver_</a></div><div class="ttdeci">Node * receiver_</div><div class="ttdef"><b>Definition</b> <a href="js-call-reducer_8cc_source.html#l03615">js-call-reducer.cc:3615</a></div></div>
<div class="ttc" id="ajs-call-reducer_8cc_html_a8aab47cc18f1dda0f6b8034f5c64d43d"><div class="ttname"><a href="js-call-reducer_8cc.html#a8aab47cc18f1dda0f6b8034f5c64d43d">receiver</a></div><div class="ttdeci">TNode&lt; Object &gt; receiver</div><div class="ttdef"><b>Definition</b> <a href="js-call-reducer_8cc_source.html#l01499">js-call-reducer.cc:1499</a></div></div>
<div class="ttc" id="aliftoff-compiler_8cc_html_ab600894d6947e13cf9b2a5a775e70324"><div class="ttname"><a href="liftoff-compiler_8cc.html#ab600894d6947e13cf9b2a5a775e70324">state</a></div><div class="ttdeci">LiftoffAssembler::CacheState state</div><div class="ttdef"><b>Definition</b> <a href="liftoff-compiler_8cc_source.html#l00453">liftoff-compiler.cc:453</a></div></div>
<div class="ttc" id="alogging_8h_html"><div class="ttname"><a href="logging_8h.html">logging.h</a></div></div>
<div class="ttc" id="alogging_8h_html_a2209830df6b59d1ec1fdf66b9352924f"><div class="ttname"><a href="logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a></div><div class="ttdeci">#define DCHECK_NULL(val)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00491">logging.h:491</a></div></div>
<div class="ttc" id="alogging_8h_html_a2c0c4cea27d0690467662bb05131b2af"><div class="ttname"><a href="logging_8h.html#a2c0c4cea27d0690467662bb05131b2af">CHECK_IMPLIES</a></div><div class="ttdeci">#define CHECK_IMPLIES(lhs, rhs)</div></div>
<div class="ttc" id="alogging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00124">logging.h:124</a></div></div>
<div class="ttc" id="alogging_8h_html_a7b9f9517fedacc2a1a56c2bbb9d03688"><div class="ttname"><a href="logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a></div><div class="ttdeci">#define DCHECK_NOT_NULL(val)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00492">logging.h:492</a></div></div>
<div class="ttc" id="alogging_8h_html_a7bf1ad59490562f507223cd6ca2cc6fa"><div class="ttname"><a href="logging_8h.html#a7bf1ad59490562f507223cd6ca2cc6fa">CHECK_NULL</a></div><div class="ttdeci">#define CHECK_NULL(val)</div></div>
<div class="ttc" id="alogging_8h_html_a96a75539aa82216cdde2250a11126ea0"><div class="ttname"><a href="logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a></div><div class="ttdeci">#define DCHECK_IMPLIES(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00493">logging.h:493</a></div></div>
<div class="ttc" id="alogging_8h_html_aabec5c3b7a8628298a25f044dcf89c25"><div class="ttname"><a href="logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a></div><div class="ttdeci">#define DCHECK_GE(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00488">logging.h:488</a></div></div>
<div class="ttc" id="alogging_8h_html_ae17f8119c108cf3070bad3449c7e0006"><div class="ttname"><a href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a></div><div class="ttdeci">#define DCHECK(condition)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00482">logging.h:482</a></div></div>
<div class="ttc" id="amacros_8h_html"><div class="ttname"><a href="macros_8h.html">macros.h</a></div></div>
<div class="ttc" id="amacros_8h_html_a280b0798f270f4b3f361c9ab64832956"><div class="ttname"><a href="macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a></div><div class="ttdeci">#define USE(...)</div><div class="ttdef"><b>Definition</b> <a href="macros_8h_source.html#l00281">macros.h:281</a></div></div>
<div class="ttc" id="amarker_8h_html"><div class="ttname"><a href="marker_8h.html">marker.h</a></div></div>
<div class="ttc" id="amarking-worklist_8h_html"><div class="ttname"><a href="marking-worklist_8h.html">marking-worklist.h</a></div></div>
<div class="ttc" id="ametric-recorder_8h_html"><div class="ttname"><a href="metric-recorder_8h.html">metric-recorder.h</a></div></div>
<div class="ttc" id="aminor-mark-sweep_8h_html"><div class="ttname"><a href="minor-mark-sweep_8h.html">minor-mark-sweep.h</a></div></div>
<div class="ttc" id="amodule-compiler_8cc_html_a12a507bc765598b5db4100af52f045e3"><div class="ttname"><a href="module-compiler_8cc.html#a12a507bc765598b5db4100af52f045e3">priority</a></div><div class="ttdeci">size_t priority</div><div class="ttdef"><b>Definition</b> <a href="module-compiler_8cc_source.html#l00294">module-compiler.cc:294</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_a31164e981f2a7080855c4ba02f1a910b"><div class="ttname"><a href="namespacecppgc_1_1internal.html#a31164e981f2a7080855c4ba02f1a910b">cppgc::internal::kPageSize</a></div><div class="ttdeci">constexpr size_t kPageSize</div><div class="ttdef"><b>Definition</b> <a href="heap_2cppgc_2globals_8h_source.html#l00042">globals.h:42</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_a7216f6dea9e0b6fa2e60f51b9e1cf915"><div class="ttname"><a href="namespacecppgc_1_1internal.html#a7216f6dea9e0b6fa2e60f51b9e1cf915">cppgc::internal::kMB</a></div><div class="ttdeci">constexpr size_t kMB</div><div class="ttdef"><b>Definition</b> <a href="heap_2cppgc_2globals_8h_source.html#l00021">globals.h:21</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_a9a435919d5a4a3ecfdfe20fb93896a60"><div class="ttname"><a href="namespacecppgc_1_1internal.html#a9a435919d5a4a3ecfdfe20fb93896a60">cppgc::internal::CollectionType</a></div><div class="ttdeci">CollectionType</div><div class="ttdef"><b>Definition</b> <a href="heap-config_8h_source.html#l00015">heap-config.h:15</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_a9a435919d5a4a3ecfdfe20fb93896a60a94f16e44c50fb544fc2b1f177b913cbc"><div class="ttname"><a href="namespacecppgc_1_1internal.html#a9a435919d5a4a3ecfdfe20fb93896a60a94f16e44c50fb544fc2b1f177b913cbc">cppgc::internal::CollectionType::kMajor</a></div><div class="ttdeci">@ kMajor</div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_af2de8a2a288069d21c5077af318676da"><div class="ttname"><a href="namespacecppgc_1_1internal.html#af2de8a2a288069d21c5077af318676da">cppgc::internal::GetGlobalOOMHandler</a></div><div class="ttdeci">FatalOutOfMemoryHandler &amp; GetGlobalOOMHandler()</div><div class="ttdef"><b>Definition</b> <a href="heap_2cppgc_2platform_8cc_source.html#l00073">platform.cc:73</a></div></div>
<div class="ttc" id="anamespacecppgc_html"><div class="ttname"><a href="namespacecppgc.html">cppgc</a></div><div class="ttdef"><b>Definition</b> <a href="cross-heap-remembered-set_8h_source.html#l00014">cross-heap-remembered-set.h:14</a></div></div>
<div class="ttc" id="anamespaceheap_html"><div class="ttname"><a href="namespaceheap.html">heap</a></div><div class="ttdef"><b>Definition</b> <a href="base_2platform_2platform_8h_source.html#l00073">platform.h:73</a></div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition</b> <a href="hashing_8h_source.html#l00364">hashing.h:364</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0a2f2571e39a2684be87407899aba748ab14447a049f69ee9f567f2da98e5e6ab"><div class="ttname"><a href="namespacev8_1_1internal.html#a0a2f2571e39a2684be87407899aba748ab14447a049f69ee9f567f2da98e5e6ab">v8::internal::GarbageCollectionReason::kCppHeapAllocationFailure</a></div><div class="ttdeci">@ kCppHeapAllocationFailure</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5031451934208565c827c86d9eb86c5a"><div class="ttname"><a href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">v8::internal::internal</a></div><div class="ttdeci">internal</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00457">wasm-objects-inl.h:457</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a538499d2a66bf6e9d3182a57104edec9"><div class="ttname"><a href="namespacev8_1_1internal.html#a538499d2a66bf6e9d3182a57104edec9">v8::internal::UNIMPLEMENTED</a></div><div class="ttdeci">UNIMPLEMENTED()</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a62f9ba01cabe0363e57940200d641ea5"><div class="ttname"><a href="namespacev8_1_1internal.html#a62f9ba01cabe0363e57940200d641ea5">v8::internal::flags</a></div><div class="ttdeci">Flag flags[]</div><div class="ttdef"><b>Definition</b> <a href="flags_8cc_source.html#l03697">flags.cc:3697</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a782acb70e9eabcd3faaccfb6a3bde48e"><div class="ttname"><a href="namespacev8_1_1internal.html#a782acb70e9eabcd3faaccfb6a3bde48e">v8::internal::Address</a></div><div class="ttdeci">Address</div><div class="ttdef"><b>Definition</b> <a href="api-callbacks-inl_8h_source.html#l00034">api-callbacks-inl.h:34</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aaf09a39558f639935e293adba6962fc7ad15860417dc4fe071de45246b23edaaa"><div class="ttname"><a href="namespacev8_1_1internal.html#aaf09a39558f639935e293adba6962fc7ad15860417dc4fe071de45246b23edaaa">v8::internal::EmbedderStackStateOrigin::kExplicitInvocation</a></div><div class="ttdeci">@ kExplicitInvocation</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab368fe5f67cc93158861582746107fec"><div class="ttname"><a href="namespacev8_1_1internal.html#ab368fe5f67cc93158861582746107fec">v8::internal::KB</a></div><div class="ttdeci">refactor address components for immediate indexing filter for tracing turbofan compilation trace turbo cfg trace TurboFan s graph trimmer trace TurboFan s control equivalence trace TurboFan s register allocator trace stack load store counters for optimized code in run fuzzing &amp;&amp;concurrent_recompilation trace_turbo trace_turbo_scheduled trace_turbo_stack_accesses verify TurboFan machine graph of code stubs enable FixedArray bounds checks print TurboFan statistics of wasm compilations maximum cumulative size of bytecode considered for inlining scale factor of bytecode size used to calculate the inlining budget * KB</div><div class="ttdef"><b>Definition</b> <a href="flags_8cc_source.html#l01294">flags.cc:1294</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae64a67f1c140b4617efdee2dd95094f4a1560a0f2c71a124bd10d2c0855ec48ea"><div class="ttname"><a href="namespacev8_1_1internal.html#ae64a67f1c140b4617efdee2dd95094f4a1560a0f2c71a124bd10d2c0855ec48ea">v8::internal::GCFlag::kReduceMemoryFootprint</a></div><div class="ttdeci">@ kReduceMemoryFootprint</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae64a67f1c140b4617efdee2dd95094f4a744f371df4037409b14e84cb6ec340e6"><div class="ttname"><a href="namespacev8_1_1internal.html#ae64a67f1c140b4617efdee2dd95094f4a744f371df4037409b14e84cb6ec340e6">v8::internal::GCFlag::kNoFlags</a></div><div class="ttdeci">@ kNoFlags</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afe601ad9b4b4c61d8a6a700e7db12c2a"><div class="ttname"><a href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">v8::internal::native_context</a></div><div class="ttdeci">!IsContextMap !IsContextMap native_context</div><div class="ttdef"><b>Definition</b> <a href="map-inl_8h_source.html#l00854">map-inl.h:854</a></div></div>
<div class="ttc" id="anamespacev8_html"><div class="ttname"><a href="namespacev8.html">v8</a></div><div class="ttdef"><b>Definition</b> <a href="api-arguments-inl_8h_source.html#l00017">api-arguments-inl.h:17</a></div></div>
<div class="ttc" id="aobject-allocator_8h_html"><div class="ttname"><a href="object-allocator_8h.html">object-allocator.h</a></div></div>
<div class="ttc" id="apage-memory_8h_html"><div class="ttname"><a href="page-memory_8h.html">page-memory.h</a></div></div>
<div class="ttc" id="aprefinalizer-handler_8h_html"><div class="ttname"><a href="prefinalizer-handler_8h.html">prefinalizer-handler.h</a></div></div>
<div class="ttc" id="araw-heap_8h_html"><div class="ttname"><a href="raw-heap_8h.html">raw-heap.h</a></div></div>
<div class="ttc" id="areference-summarizer_8cc_html_a6b59d061d97640791278582e60080519"><div class="ttname"><a href="reference-summarizer_8cc.html#a6b59d061d97640791278582e60080519">marking_worklists_</a></div><div class="ttdeci">MarkingWorklists marking_worklists_</div><div class="ttdef"><b>Definition</b> <a href="reference-summarizer_8cc_source.html#l00084">reference-summarizer.cc:84</a></div></div>
<div class="ttc" id="astack_8h_html"><div class="ttname"><a href="stack_8h.html">stack.h</a></div></div>
<div class="ttc" id="astats-collector_8h_html"><div class="ttname"><a href="stats-collector_8h.html">stats-collector.h</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1GCConfig_html"><div class="ttname"><a href="structcppgc_1_1internal_1_1GCConfig.html">cppgc::internal::GCConfig</a></div><div class="ttdef"><b>Definition</b> <a href="heap-config_8h_source.html#l00059">heap-config.h:59</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1GCConfig_html_a0fd9e94fc6bb912b51463e368e79e4bf"><div class="ttname"><a href="structcppgc_1_1internal_1_1GCConfig.html#a0fd9e94fc6bb912b51463e368e79e4bf">cppgc::internal::GCConfig::sweeping_type</a></div><div class="ttdeci">SweepingType sweeping_type</div><div class="ttdef"><b>Definition</b> <a href="heap-config_8h_source.html#l00110">heap-config.h:110</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1GCConfig_html_af71ca0333cf1c53904978351fc4926c9"><div class="ttname"><a href="structcppgc_1_1internal_1_1GCConfig.html#af71ca0333cf1c53904978351fc4926c9">cppgc::internal::GCConfig::free_memory_handling</a></div><div class="ttdeci">FreeMemoryHandling free_memory_handling</div><div class="ttdef"><b>Definition</b> <a href="heap-config_8h_source.html#l00111">heap-config.h:111</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1MarkingConfig_html"><div class="ttname"><a href="structcppgc_1_1internal_1_1MarkingConfig.html">cppgc::internal::MarkingConfig</a></div><div class="ttdef"><b>Definition</b> <a href="heap-config_8h_source.html#l00032">heap-config.h:32</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1MarkingConfig_html_a146d9dd286e4b3af8d78682887f670fd"><div class="ttname"><a href="structcppgc_1_1internal_1_1MarkingConfig.html#a146d9dd286e4b3af8d78682887f670fd">cppgc::internal::MarkingConfig::collection_type</a></div><div class="ttdeci">const CollectionType collection_type</div><div class="ttdef"><b>Definition</b> <a href="heap-config_8h_source.html#l00041">heap-config.h:41</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1MarkingConfig_html_a74d8f8edbbd41410753efcb241bca188a5d15e19685b0655571d8b0f742811b65"><div class="ttname"><a href="structcppgc_1_1internal_1_1MarkingConfig.html#a74d8f8edbbd41410753efcb241bca188a5d15e19685b0655571d8b0f742811b65">cppgc::internal::MarkingConfig::IsForcedGC::kNotForced</a></div><div class="ttdeci">@ kNotForced</div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1MarkingConfig_html_a74d8f8edbbd41410753efcb241bca188af8ece195be5dd5e820bdeee7ad21a4bf"><div class="ttname"><a href="structcppgc_1_1internal_1_1MarkingConfig.html#a74d8f8edbbd41410753efcb241bca188af8ece195be5dd5e820bdeee7ad21a4bf">cppgc::internal::MarkingConfig::IsForcedGC::kForced</a></div><div class="ttdeci">@ kForced</div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1MetricRecorder_1_1GCCycle_html"><div class="ttname"><a href="structcppgc_1_1internal_1_1MetricRecorder_1_1GCCycle.html">cppgc::internal::MetricRecorder::GCCycle</a></div><div class="ttdef"><b>Definition</b> <a href="metric-recorder_8h_source.html#l00023">metric-recorder.h:23</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1MetricRecorder_1_1GCCycle_html_a0628613241b3d7dcbcdf9ae2fd432700"><div class="ttname"><a href="structcppgc_1_1internal_1_1MetricRecorder_1_1GCCycle.html#a0628613241b3d7dcbcdf9ae2fd432700">cppgc::internal::MetricRecorder::GCCycle::type</a></div><div class="ttdeci">Type type</div><div class="ttdef"><b>Definition</b> <a href="metric-recorder_8h_source.html#l00039">metric-recorder.h:39</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1MetricRecorder_1_1MainThreadIncrementalMark_html"><div class="ttname"><a href="structcppgc_1_1internal_1_1MetricRecorder_1_1MainThreadIncrementalMark.html">cppgc::internal::MetricRecorder::MainThreadIncrementalMark</a></div><div class="ttdef"><b>Definition</b> <a href="metric-recorder_8h_source.html#l00051">metric-recorder.h:51</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1MetricRecorder_1_1MainThreadIncrementalMark_html_a67af83154098fe271681abc1edce84bd"><div class="ttname"><a href="structcppgc_1_1internal_1_1MetricRecorder_1_1MainThreadIncrementalMark.html#a67af83154098fe271681abc1edce84bd">cppgc::internal::MetricRecorder::MainThreadIncrementalMark::duration_us</a></div><div class="ttdeci">int64_t duration_us</div><div class="ttdef"><b>Definition</b> <a href="metric-recorder_8h_source.html#l00052">metric-recorder.h:52</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1MetricRecorder_1_1MainThreadIncrementalSweep_html"><div class="ttname"><a href="structcppgc_1_1internal_1_1MetricRecorder_1_1MainThreadIncrementalSweep.html">cppgc::internal::MetricRecorder::MainThreadIncrementalSweep</a></div><div class="ttdef"><b>Definition</b> <a href="metric-recorder_8h_source.html#l00055">metric-recorder.h:55</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1MetricRecorder_1_1MainThreadIncrementalSweep_html_a9fc95e6b2a2f10cefa9af1b936b025bd"><div class="ttname"><a href="structcppgc_1_1internal_1_1MetricRecorder_1_1MainThreadIncrementalSweep.html#a9fc95e6b2a2f10cefa9af1b936b025bd">cppgc::internal::MetricRecorder::MainThreadIncrementalSweep::duration_us</a></div><div class="ttdeci">int64_t duration_us</div><div class="ttdef"><b>Definition</b> <a href="metric-recorder_8h_source.html#l00056">metric-recorder.h:56</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1SweepingConfig_html"><div class="ttname"><a href="structcppgc_1_1internal_1_1SweepingConfig.html">cppgc::internal::SweepingConfig</a></div><div class="ttdef"><b>Definition</b> <a href="heap-config_8h_source.html#l00048">heap-config.h:48</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1SweepingConfig_html_a2523f1fec7c4b756d00f3d8c5d658077"><div class="ttname"><a href="structcppgc_1_1internal_1_1SweepingConfig.html#a2523f1fec7c4b756d00f3d8c5d658077">cppgc::internal::SweepingConfig::CompactableSpaceHandling</a></div><div class="ttdeci">CompactableSpaceHandling</div><div class="ttdef"><b>Definition</b> <a href="heap-config_8h_source.html#l00050">heap-config.h:50</a></div></div>
<div class="ttc" id="atime_8h_html"><div class="ttname"><a href="time_8h.html">time.h</a></div></div>
<div class="ttc" id="atraced-handles-marking-visitor_8h_html"><div class="ttname"><a href="traced-handles-marking-visitor_8h.html">traced-handles-marking-visitor.h</a></div></div>
<div class="ttc" id="atraced-handles_8h_html"><div class="ttname"><a href="traced-handles_8h.html">traced-handles.h</a></div></div>
<div class="ttc" id="aunified-heap-marking-state-inl_8h_html"><div class="ttname"><a href="unified-heap-marking-state-inl_8h.html">unified-heap-marking-state-inl.h</a></div></div>
<div class="ttc" id="aunified-heap-marking-state_8h_html"><div class="ttname"><a href="unified-heap-marking-state_8h.html">unified-heap-marking-state.h</a></div></div>
<div class="ttc" id="aunified-heap-marking-verifier_8h_html"><div class="ttname"><a href="unified-heap-marking-verifier_8h.html">unified-heap-marking-verifier.h</a></div></div>
<div class="ttc" id="aunified-heap-marking-visitor_8h_html"><div class="ttname"><a href="unified-heap-marking-visitor_8h.html">unified-heap-marking-visitor.h</a></div></div>
<div class="ttc" id="aunmarker_8h_html"><div class="ttname"><a href="unmarker_8h.html">unmarker.h</a></div></div>
<div class="ttc" id="av8_8h_html"><div class="ttname"><a href="v8_8h.html">v8.h</a></div></div>
<div class="ttc" id="av8threads_8h_html"><div class="ttname"><a href="v8threads_8h.html">v8threads.h</a></div></div>
<div class="ttc" id="avisitor_8h_html"><div class="ttname"><a href="visitor_8h.html">visitor.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 3 2025 08:18:30 for v8 by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
