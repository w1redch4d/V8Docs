<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>v8: src/wasm/wasm-objects.cc Source File</title>
<link rel="icon" href="v8.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="v8.png"/></td>
  <td id="projectalign">
   <div id="projectname">v8
   </div>
   <div id="projectbrief">V8 is Googleâ€™s open source high-performance JavaScript and WebAssembly engine, written in C++. It is used in Chrome and in Node.js, among others. It implements ECMAScript and WebAssembly, and runs on Windows, macOS, and Linux systems that use x64, IA-32, or ARM processors. V8 can be embedded into any C++ application.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('wasm-objects_8cc_source.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">wasm-objects.cc</div></div>
</div><!--header-->
<div class="contents">
<a href="wasm-objects_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">// Copyright 2015 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#if V8_TARGET_OS_LINUX</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &lt;sys/mman.h&gt;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &lt;sys/stat.h&gt;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">// `sys/mman.h defines `MAP_TYPE`, but `MAP_TYPE` also gets defined within V8.</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">// Since we don&#39;t need `sys/mman.h`&#39;s `MAP_TYPE`, we undefine it immediately</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">// after the `#include`.</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#undef MAP_TYPE</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#endif  </span><span class="comment">// V8_TARGET_OS_LINUX</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span> </div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &quot;<a class="code" href="wasm-objects_8h.html">src/wasm/wasm-objects.h</a>&quot;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span> </div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &quot;<a class="code" href="iterator_8h.html">src/base/iterator.h</a>&quot;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &quot;<a class="code" href="vector_8h.html">src/base/vector.h</a>&quot;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &quot;<a class="code" href="builtins-inl_8h.html">src/builtins/builtins-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &quot;<a class="code" href="wasm-compiler_8h.html">src/compiler/wasm-compiler.h</a>&quot;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &quot;<a class="code" href="debug_8h.html">src/debug/debug.h</a>&quot;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;<a class="code" href="counters_8h.html">src/logging/counters.h</a>&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &quot;<a class="code" href="managed-inl_8h.html">src/objects/managed-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="objects-inl_8h.html">src/objects/objects-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &quot;<a class="code" href="oddball_8h.html">src/objects/oddball.h</a>&quot;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;<a class="code" href="shared-function-info_8h.html">src/objects/shared-function-info.h</a>&quot;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;<a class="code" href="roots-inl_8h.html">src/roots/roots-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &quot;<a class="code" href="utils_2utils_8h.html">src/utils/utils.h</a>&quot;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &quot;<a class="code" href="canonical-types_8h.html">src/wasm/canonical-types.h</a>&quot;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &quot;<a class="code" href="code-space-access_8h.html">src/wasm/code-space-access.h</a>&quot;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &quot;<a class="code" href="module-compiler_8h.html">src/wasm/module-compiler.h</a>&quot;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &quot;<a class="code" href="module-decoder_8h.html">src/wasm/module-decoder.h</a>&quot;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &quot;<a class="code" href="module-instantiate_8h.html">src/wasm/module-instantiate.h</a>&quot;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#include &quot;<a class="code" href="stacks_8h.html">src/wasm/stacks.h</a>&quot;</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#include &quot;<a class="code" href="value-type_8h.html">src/wasm/value-type.h</a>&quot;</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">#include &quot;<a class="code" href="wasm-code-manager_8h.html">src/wasm/wasm-code-manager.h</a>&quot;</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#include &quot;<a class="code" href="wasm-code-pointer-table-inl_8h.html">src/wasm/wasm-code-pointer-table-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="preprocessor">#include &quot;<a class="code" href="wasm-engine_8h.html">src/wasm/wasm-engine.h</a>&quot;</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="preprocessor">#include &quot;<a class="code" href="wasm-limits_8h.html">src/wasm/wasm-limits.h</a>&quot;</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="preprocessor">#include &quot;<a class="code" href="wasm-module_8h.html">src/wasm/wasm-module.h</a>&quot;</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="preprocessor">#include &quot;<a class="code" href="wasm-objects-inl_8h.html">src/wasm/wasm-objects-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="preprocessor">#include &quot;<a class="code" href="wasm-subtyping_8h.html">src/wasm/wasm-subtyping.h</a>&quot;</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="preprocessor">#include &quot;<a class="code" href="wasm-value_8h.html">src/wasm/wasm-value.h</a>&quot;</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span> </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="preprocessor">#include &quot;<a class="code" href="wasm-interpreter-inl_8h.html">src/wasm/interpreter/wasm-interpreter-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="preprocessor">#include &quot;<a class="code" href="wasm-interpreter-runtime_8h.html">src/wasm/interpreter/wasm-interpreter-runtime.h</a>&quot;</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span> </div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="comment">// Needs to be last so macros do not get undefined.</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="preprocessor">#include &quot;<a class="code" href="object-macros_8h.html">src/objects/object-macros.h</a>&quot;</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span> </div>
<div class="foldopen" id="foldopen00054" data-start="" data-end="">
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno"><a class="line" href="wasm-objects_8cc.html#a21efa1f26601b2d6f6839765ebc71df9">   54</a></span><span class="preprocessor">#define TRACE_IFT(...)              \</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="preprocessor">  do {                              \</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="preprocessor">    if (false) PrintF(__VA_ARGS__); \</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="preprocessor">  } while (false)</span></div>
</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> </div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacev8.html">v8</a> {</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span><span class="keyword">namespace </span>internal {</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span> </div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span> </div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="comment">// Utilities for handling &quot;uses&quot; lists. We reserve one slot for the</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span><span class="comment">// used length, then store pairs of (instance, table_index).</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span><span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">int</span> kReservedSlotOffset = 1;</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><span class="keywordtype">void</span> SetUsedLength(<a class="code hl_function" href="namespacev8_1_1internal.html#a4382c244e839ce16a4beafabd1c6bd1d">Tagged&lt;ProtectedWeakFixedArray&gt;</a> uses, <span class="keywordtype">int</span> length) {</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>  <span class="comment">// {set} includes a DCHECK for sufficient capacity.</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>  uses-&gt;set(0, <a class="code hl_function" href="classv8_1_1internal_1_1Smi.html#a755464f4d2c3a71ffd82cd474bbc50f3">Smi::FromInt</a>(length));</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>}</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span><span class="keywordtype">int</span> GetUsedLength(<a class="code hl_function" href="namespacev8_1_1internal.html#a4382c244e839ce16a4beafabd1c6bd1d">Tagged&lt;ProtectedWeakFixedArray&gt;</a> uses) {</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>  <span class="keywordflow">if</span> (uses-&gt;length() == 0) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;Smi&gt;</a>(uses-&gt;get(0)).value();</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>}</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span><span class="keywordtype">void</span> SetEntry(<a class="code hl_function" href="namespacev8_1_1internal.html#a4382c244e839ce16a4beafabd1c6bd1d">Tagged&lt;ProtectedWeakFixedArray&gt;</a> uses, <span class="keywordtype">int</span> slot_index,</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>              <a class="code hl_function" href="namespacev8_1_1internal.html#a4382c244e839ce16a4beafabd1c6bd1d">Tagged&lt;WasmTrustedInstanceData&gt;</a> user, <span class="keywordtype">int</span> table_index) {</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(slot_index &amp; 1);</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>  uses-&gt;set(slot_index, <a class="code hl_function" href="namespacev8_1_1internal.html#a96a98d1219c08bac1c5c91ba9dacd1d4">MakeWeak</a>(user));</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>  uses-&gt;set(slot_index + 1, <a class="code hl_function" href="classv8_1_1internal_1_1Smi.html#a755464f4d2c3a71ffd82cd474bbc50f3">Smi::FromInt</a>(table_index));</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>}</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="comment">// These are two separate functions because GCMole produces bogus warnings</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="comment">// when we return a std::pair&lt;A, B&gt; and call it as `auto [a, b] = ...`.</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span><a class="code hl_function" href="namespacev8_1_1internal.html#a4382c244e839ce16a4beafabd1c6bd1d">Tagged&lt;WasmTrustedInstanceData&gt;</a> GetInstance(</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    <a class="code hl_function" href="namespacev8_1_1internal.html#a4382c244e839ce16a4beafabd1c6bd1d">Tagged&lt;ProtectedWeakFixedArray&gt;</a> uses, <span class="keywordtype">int</span> slot_index) {</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(slot_index &amp; 1);</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmTrustedInstanceData&gt;</a>(</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>      uses-&gt;get(slot_index).GetHeapObjectAssumeWeak());</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>}</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span><span class="keywordtype">int</span> GetTableIndex(<a class="code hl_function" href="namespacev8_1_1internal.html#a4382c244e839ce16a4beafabd1c6bd1d">Tagged&lt;ProtectedWeakFixedArray&gt;</a> uses, <span class="keywordtype">int</span> slot_index) {</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(slot_index &amp; 1);</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;Smi&gt;</a>(uses-&gt;get(slot_index + 1)).value();</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>}</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span><span class="keywordtype">void</span> CopyEntry(<a class="code hl_function" href="namespacev8_1_1internal.html#a4382c244e839ce16a4beafabd1c6bd1d">Tagged&lt;ProtectedWeakFixedArray&gt;</a> dst, <span class="keywordtype">int</span> dst_index,</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>               <a class="code hl_function" href="namespacev8_1_1internal.html#a4382c244e839ce16a4beafabd1c6bd1d">Tagged&lt;ProtectedWeakFixedArray&gt;</a> src, <span class="keywordtype">int</span> src_index) {</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(dst_index &amp; 1);</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(src_index &amp; 1);</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>  <span class="comment">// There shouldn&#39;t be a reason to copy cleared entries.</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>      IsWasmTrustedInstanceData(src-&gt;get(src_index).GetHeapObjectAssumeWeak()));</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#a511c3dd03bb4fc2b91ed9ef5535e202e">IsSmi</a>(src-&gt;get(src_index + 1)));</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>  dst-&gt;set(dst_index, src-&gt;get(src_index));</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>  dst-&gt;set(dst_index + 1, src-&gt;get(src_index + 1));</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>}</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span> </div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span> </div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span><span class="comment">// Import a few often used types from the wasm namespace.</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#af265e8d13c88f8408dc6b23e691652c5">  108</a></span><span class="keyword">using </span><a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmFunction.html">WasmFunction</a> = <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmFunction.html">wasm::WasmFunction</a>;</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a441e4c4a255cdc8d844a7fe362ef05d4">  109</a></span><span class="keyword">using </span><a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a> = <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">wasm::WasmModule</a>;</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span> </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen00112" data-start="{" data-end="}">
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmModuleObject.html#a2d0c6490148366c81d5ea7e05913f3f8">  112</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmModuleObject&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmModuleObject.html#a2d0c6490148366c81d5ea7e05913f3f8">WasmModuleObject::New</a>(</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, std::shared_ptr&lt;wasm::NativeModule&gt; native_module,</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Script&gt;</a> script) {</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Managed&lt;wasm::NativeModule&gt;</a>&gt; managed_native_module;</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>  <span class="keywordflow">if</span> (script-&gt;type() == Script::Type::kWasm) {</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    managed_native_module = <a class="code hl_function" href="namespacev8_1_1internal.html#a60f13a8c00d0433f9336368824ac21a1">direct_handle</a>(</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>        <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast</a>&lt;<a class="code hl_class" href="classv8_1_1internal_1_1Managed.html">Managed&lt;wasm::NativeModule&gt;</a>&gt;(script-&gt;wasm_managed_native_module()),</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>        isolate);</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* <a class="code hl_function" href="classv8_1_1internal_1_1WasmModuleObject.html#a11f569095080536e4a32d07e7819ab78">module</a> = <a class="code hl_function" href="classv8_1_1internal_1_1WasmModuleObject.html#a909423f11ae499833369d415e9a18212">native_module</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a443a4c6a0f2bedcc6e0ac7f03ece629e">module</a>();</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    <span class="keywordtype">size_t</span> memory_estimate =</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>        <a class="code hl_function" href="classv8_1_1internal_1_1WasmModuleObject.html#a909423f11ae499833369d415e9a18212">native_module</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#abacd1cb85a612977eef0bc38deb0e076">committed_code_space</a>() +</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>        <a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a791a00c5dc50aed58b0d0a5908753675">wasm::WasmCodeManager::EstimateNativeModuleMetaDataSize</a>(<a class="code hl_function" href="classv8_1_1internal_1_1WasmModuleObject.html#a11f569095080536e4a32d07e7819ab78">module</a>);</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    managed_native_module = <a class="code hl_function" href="classv8_1_1internal_1_1Managed.html#a1c10cb948281b864db32d8af25a7b7d9">Managed&lt;wasm::NativeModule&gt;::From</a>(</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>        isolate, memory_estimate, std::move(<a class="code hl_function" href="classv8_1_1internal_1_1WasmModuleObject.html#a909423f11ae499833369d415e9a18212">native_module</a>));</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>  }</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmModuleObject&gt;</a> module_object = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmModuleObject&gt;</a>(</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>      isolate-&gt;factory()-&gt;NewJSObject(isolate-&gt;wasm_module_constructor()));</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>  module_object-&gt;set_managed_native_module(*managed_native_module);</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>  module_object-&gt;set_script(*script);</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>  <span class="keywordflow">return</span> module_object;</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>}</div>
</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span> </div>
<div class="foldopen" id="foldopen00135" data-start="{" data-end="}">
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmModuleObject.html#a5dc976735be8211ba60cbf55c0c1925b">  135</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;String&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmModuleObject.html#a5dc976735be8211ba60cbf55c0c1925b">WasmModuleObject::ExtractUtf8StringFromModuleBytes</a>(</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmModuleObject&gt;</a> module_object,</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html">wasm::WireBytesRef</a> ref, <a class="code hl_enumeration" href="namespacev8_1_1internal.html#a00e6a81b8b499c814a011d90853897fb">InternalizeString</a> internalize) {</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>  <a class="code hl_class" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> wire_bytes =</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>      module_object-&gt;native_module()-&gt;wire_bytes();</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmModuleObject.html#a5dc976735be8211ba60cbf55c0c1925b">ExtractUtf8StringFromModuleBytes</a>(isolate, wire_bytes, ref,</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>                                          internalize);</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>}</div>
</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span> </div>
<div class="foldopen" id="foldopen00144" data-start="{" data-end="}">
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmModuleObject.html#a4d0b665dde920217dbc96aa867bc9d75">  144</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;String&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmModuleObject.html#a5dc976735be8211ba60cbf55c0c1925b">WasmModuleObject::ExtractUtf8StringFromModuleBytes</a>(</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> wire_bytes,</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html">wasm::WireBytesRef</a> ref, <a class="code hl_enumeration" href="namespacev8_1_1internal.html#a00e6a81b8b499c814a011d90853897fb">InternalizeString</a> internalize) {</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>  <a class="code hl_class" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> name_vec =</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>      wire_bytes.<a class="code hl_function" href="classv8_1_1base_1_1Vector.html#a2a7f93a33a4938bd73b628789f214d3d">SubVector</a>(ref.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html#a4f2dffb7efc3721571b5f1604d5d448a">offset</a>(), ref.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html#a1853a6fc4a88a37d2bb8a91b58781daf">end_offset</a>());</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>  <span class="comment">// UTF8 validation happens at decode time.</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="classunibrow_1_1Utf8.html#aa6e4ee521e61e597e3861e9cf77f73aa">unibrow::Utf8::ValidateEncoding</a>(name_vec.<a class="code hl_function" href="classv8_1_1base_1_1Vector.html#ad0021e2947c974d78adbbc1d543d43a5">begin</a>(), name_vec.<a class="code hl_function" href="classv8_1_1base_1_1Vector.html#a1eb4ed5d322a219428bdb9f9a2cb6708">length</a>()));</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>  <span class="keyword">auto</span>* factory = isolate-&gt;factory();</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>  <span class="keywordflow">return</span> internalize</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>             ? factory-&gt;InternalizeUtf8String(</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>                   <a class="code hl_class" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const char&gt;::cast</a>(name_vec))</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>             : factory</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>                   -&gt;NewStringFromUtf8(<a class="code hl_class" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const char&gt;::cast</a>(name_vec))</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>                   .ToHandleChecked();</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>}</div>
</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span> </div>
<div class="foldopen" id="foldopen00160" data-start="{" data-end="}">
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmModuleObject.html#a8417975919cc6eb781c85c845650c4c4">  160</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;String&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmModuleObject.html#a8417975919cc6eb781c85c845650c4c4">WasmModuleObject::GetModuleNameOrNull</a>(</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmModuleObject&gt;</a> module_object) {</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>  <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* <a class="code hl_function" href="classv8_1_1internal_1_1WasmModuleObject.html#a11f569095080536e4a32d07e7819ab78">module</a> = module_object-&gt;module();</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classv8_1_1internal_1_1WasmModuleObject.html#a11f569095080536e4a32d07e7819ab78">module</a>-&gt;<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#ac76bdfa93432deb3dc1580b98a9b836e">name</a>.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html#a94db77b7254197e7ed15d4851dcc3934">is_set</a>()) <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmModuleObject.html#a5dc976735be8211ba60cbf55c0c1925b">ExtractUtf8StringFromModuleBytes</a>(isolate, module_object, <a class="code hl_function" href="classv8_1_1internal_1_1WasmModuleObject.html#a11f569095080536e4a32d07e7819ab78">module</a>-&gt;<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#ac76bdfa93432deb3dc1580b98a9b836e">name</a>,</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>                                          <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a00e6a81b8b499c814a011d90853897fba81b23a97077ceef0f9633d2041ae1737">kNoInternalize</a>);</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>}</div>
</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span> </div>
<div class="foldopen" id="foldopen00168" data-start="{" data-end="}">
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmModuleObject.html#a10c13f09c7692081e4b17d2080a3cd00">  168</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;String&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmModuleObject.html#a10c13f09c7692081e4b17d2080a3cd00">WasmModuleObject::GetFunctionNameOrNull</a>(</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmModuleObject&gt;</a> module_object,</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>    uint32_t func_index) {</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(func_index, module_object-&gt;module()-&gt;functions.size());</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>  <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html">wasm::WireBytesRef</a> name =</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>      module_object-&gt;module()-&gt;lazily_generated_names.LookupFunctionName(</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>          <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1ModuleWireBytes.html">wasm::ModuleWireBytes</a>(module_object-&gt;native_module()-&gt;wire_bytes()),</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>          func_index);</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>  <span class="keywordflow">if</span> (!name.is_set()) <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmModuleObject.html#a5dc976735be8211ba60cbf55c0c1925b">ExtractUtf8StringFromModuleBytes</a>(isolate, module_object, name,</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>                                          <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a00e6a81b8b499c814a011d90853897fba81b23a97077ceef0f9633d2041ae1737">kNoInternalize</a>);</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>}</div>
</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span> </div>
<div class="foldopen" id="foldopen00181" data-start="{" data-end="}">
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmModuleObject.html#a9c404ba0124692e0b3b5b7c58c582ac2">  181</a></span><a class="code hl_class" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmModuleObject.html#a9c404ba0124692e0b3b5b7c58c582ac2">WasmModuleObject::GetRawFunctionName</a>(</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <span class="keywordtype">int</span> func_index) {</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>  <span class="keywordflow">if</span> (func_index == <a class="code hl_variable" href="namespacev8_1_1internal_1_1wasm.html#a1bb1a5429ae3d1ec380de1b5da81238f">wasm::kAnonymousFuncIndex</a>) {</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a>({<span class="keyword">nullptr</span>, 0});</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>  }</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a>(<a class="code hl_function" href="classv8_1_1internal_1_1WasmModuleObject.html#a11f569095080536e4a32d07e7819ab78">module</a>()-&gt;functions.size(), func_index);</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>  <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1ModuleWireBytes.html">wasm::ModuleWireBytes</a> wire_bytes(<a class="code hl_function" href="classv8_1_1internal_1_1WasmModuleObject.html#a909423f11ae499833369d415e9a18212">native_module</a>()-&gt;wire_bytes());</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>  <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html">wasm::WireBytesRef</a> name_ref =</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>      <a class="code hl_function" href="classv8_1_1internal_1_1WasmModuleObject.html#a11f569095080536e4a32d07e7819ab78">module</a>()-&gt;<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a0968dbfaa7e6cf781764e9d2cf7336a5">lazily_generated_names</a>.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1LazilyGeneratedNames.html#a18b1d6d0ec7a67bbb0ecac1da13d75db">LookupFunctionName</a>(wire_bytes,</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>                                                          func_index);</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>  <a class="code hl_class" href="classv8_1_1base_1_1Vector.html">wasm::WasmName</a> name = wire_bytes.<a class="code hl_function" href="structv8_1_1internal_1_1wasm_1_1ModuleWireBytes.html#aad25d74a24c1f21b337f94460ecc662c">GetNameOrNull</a>(name_ref);</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1base_1_1Vector.html#ae9beccd123505a6a33f09578a54ebe1d">base::Vector&lt;const uint8_t&gt;::cast</a>(name);</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>}</div>
</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span> </div>
<div class="foldopen" id="foldopen00195" data-start="{" data-end="}">
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTableObject.html#ab5e638488798736d11b1ff0c35daa2d2">  195</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmTableObject&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTableObject.html#ab5e638488798736d11b1ff0c35daa2d2">WasmTableObject::New</a>(</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> trusted_data,</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1ValueType.html">wasm::ValueType</a> type, <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html">wasm::CanonicalValueType</a> canonical_type,</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    uint32_t initial, <span class="keywordtype">bool</span> has_maximum, uint64_t maximum,</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> initial_value, <a class="code hl_enumeration" href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952">wasm::AddressType</a> address_type) {</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(type.is_object_reference());</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span> </div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(initial, <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a38d56b630d25ea0451a91c6204e89042">wasm::max_table_size</a>());</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FixedArray&gt;</a> <a class="code hl_variable" href="liftoff-compiler_8cc.html#ab8d3010479e75420093f37bb28df0db7">entries</a> = isolate-&gt;factory()-&gt;NewFixedArray(initial);</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = 0; i &lt; static_cast&lt;int&gt;(initial); ++<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>) {</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>    <a class="code hl_variable" href="liftoff-compiler_8cc.html#ab8d3010479e75420093f37bb28df0db7">entries</a>-&gt;set(<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>, *initial_value);</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>  }</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>  <span class="keywordtype">bool</span> is_function_table = canonical_type.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html#a35e9c1c07079590ad79b46c0264809f4">IsFunctionType</a>();</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmDispatchTable&gt;</a> dispatch_table =</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>      is_function_table</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>          ? isolate-&gt;factory()-&gt;NewWasmDispatchTable(initial, canonical_type)</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>          : <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmDispatchTable&gt;</a>{};</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span> </div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;UnionOf&lt;Undefined, Number, BigInt&gt;</a>&gt; max =</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>      isolate-&gt;factory()-&gt;undefined_value();</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>  <span class="keywordflow">if</span> (has_maximum) {</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>    <span class="keywordflow">if</span> (address_type == <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952a0a0ecdb4eded286c722877578774a293">wasm::AddressType::kI32</a>) {</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>      <a class="code hl_define" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">kMaxUInt32</a>, maximum);</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>      max = isolate-&gt;factory()-&gt;NewNumber(maximum);</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>      max = <a class="code hl_function" href="classv8_1_1internal_1_1BigInt.html#a7df25eb1750797b26ce9588754f919c3">BigInt::FromUint64</a>(isolate, maximum);</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    }</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>  }</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span> </div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> table_ctor(</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>      isolate-&gt;native_context()-&gt;wasm_table_constructor(), isolate);</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>  <span class="keyword">auto</span> table_obj =</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmTableObject&gt;</a>(isolate-&gt;factory()-&gt;NewJSObject(table_ctor));</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span> </div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>  <span class="keywordflow">if</span> (!trusted_data.<a class="code hl_function" href="classv8_1_1internal_1_1DirectHandle.html#a06eb965863d4b0adb5aa7f70aba666e3">is_null</a>()) {</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    table_obj-&gt;set_trusted_data(*trusted_data);</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    table_obj-&gt;clear_trusted_data();</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>  }</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>  table_obj-&gt;set_entries(*<a class="code hl_variable" href="liftoff-compiler_8cc.html#ab8d3010479e75420093f37bb28df0db7">entries</a>);</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>  table_obj-&gt;set_current_length(initial);</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>  table_obj-&gt;set_maximum_length(*max);</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>  table_obj-&gt;set_raw_type(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(type.raw_bit_field()));</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>  table_obj-&gt;set_address_type(address_type);</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>  table_obj-&gt;set_padding_for_address_type_0(0);</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>  table_obj-&gt;set_padding_for_address_type_1(0);</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span><span class="preprocessor">#if TAGGED_SIZE_8_BYTES</span></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>  table_obj-&gt;set_padding_for_address_type_2(0);</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span> </div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>  <span class="keywordflow">if</span> (is_function_table) {</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(table_obj-&gt;current_length(), dispatch_table-&gt;length());</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>    table_obj-&gt;set_trusted_dispatch_table(*dispatch_table);</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    table_obj-&gt;clear_trusted_dispatch_table();</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>  }</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>  <span class="keywordflow">return</span> table_obj;</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>}</div>
</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span> </div>
<div class="foldopen" id="foldopen00255" data-start="{" data-end="}">
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTableObject.html#ad51363b96ea8a38d2957f46f2767b4de">  255</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTableObject.html#ad51363b96ea8a38d2957f46f2767b4de">WasmTableObject::Grow</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTableObject&gt;</a> table,</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>                          uint32_t <a class="code hl_struct" href="structv8_1_1internal_1_1count.html">count</a>, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> init_value) {</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>  uint32_t old_size = table-&gt;current_length();</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>  <span class="keywordflow">if</span> (<a class="code hl_struct" href="structv8_1_1internal_1_1count.html">count</a> == 0) <span class="keywordflow">return</span> old_size;  <span class="comment">// Degenerate case: nothing to do.</span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span> </div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>  <span class="comment">// Check if growing by {count} is valid.</span></div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>  <span class="keyword">static_assert</span>(<a class="code hl_variable" href="namespacev8_1_1internal_1_1wasm.html#ad39cf555e73abbf7233ee2029b74ff7d">wasm::kV8MaxWasmTableSize</a> &lt;= <a class="code hl_variable" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">kMaxUInt32</a>);</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>  uint64_t static_max_size = <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a38d56b630d25ea0451a91c6204e89042">wasm::max_table_size</a>();</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>  uint32_t max_size = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(std::min(</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>      static_max_size, table-&gt;maximum_length_u64().value_or(static_max_size)));</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(old_size, max_size);</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>  <span class="keywordflow">if</span> (<a class="code hl_struct" href="structv8_1_1internal_1_1count.html">count</a> &gt; max_size - old_size) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span> </div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>  uint32_t new_size = old_size + <a class="code hl_variable" href="debug-coverage_8cc.html#a86988a65e0d3ece7990c032c159786d6">count</a>;</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>  <span class="comment">// Even with 2x over-allocation, there should not be an integer overflow.</span></div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>  <span class="keyword">static_assert</span>(<a class="code hl_variable" href="namespacev8_1_1internal_1_1wasm.html#ad39cf555e73abbf7233ee2029b74ff7d">wasm::kV8MaxWasmTableSize</a> &lt;= <a class="code hl_variable" href="namespacev8_1_1internal.html#ad03e50e4d15ee0da6a722254f350e7eb">kMaxInt</a> / 2);</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#ad03e50e4d15ee0da6a722254f350e7eb">kMaxInt</a>, new_size);</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>  <span class="keywordtype">int</span> old_capacity = table-&gt;entries()-&gt;length();</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>  <span class="keywordflow">if</span> (new_size &gt; <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(old_capacity)) {</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    <span class="keywordtype">int</span> grow = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(new_size) - old_capacity;</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    <span class="comment">// Grow at least by the old capacity, to implement exponential growing.</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>    grow = std::max(grow, old_capacity);</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    <span class="comment">// Never grow larger than the max size.</span></div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    grow = std::min(grow, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(max_size - old_capacity));</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    <span class="keyword">auto</span> new_store = isolate-&gt;factory()-&gt;CopyFixedArrayAndGrow(</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>        <a class="code hl_function" href="namespacev8_1_1internal.html#a60f13a8c00d0433f9336368824ac21a1">direct_handle</a>(table-&gt;entries(), isolate), grow);</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    table-&gt;set_entries(*new_store, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13a936c581afe29bbe04ab84d8ae4c6267d">WriteBarrierMode::UPDATE_WRITE_BARRIER</a>);</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>  }</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span> </div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>  <span class="keywordflow">if</span> (table-&gt;has_trusted_dispatch_table()) {</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmDispatchTable&gt;</a> dispatch_table(</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>        table-&gt;trusted_dispatch_table(isolate), isolate);</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(old_size, dispatch_table-&gt;length());</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmDispatchTable&gt;</a> new_dispatch_table =</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>        <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#ac4957a8eba2e99f7ecffdb2d4d15ceee">WasmDispatchTable::Grow</a>(isolate, dispatch_table, new_size);</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    <span class="keywordflow">if</span> (!dispatch_table.<a class="code hl_function" href="classv8_1_1internal_1_1HandleBase.html#a5411bed6067b977537609842dbbefd16">is_identical_to</a>(new_dispatch_table)) {</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>      table-&gt;set_trusted_dispatch_table(*new_dispatch_table);</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>    }</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(new_size, table-&gt;trusted_dispatch_table(isolate)-&gt;length());</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span> </div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span><span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) {</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>      <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ProtectedWeakFixedArray&gt;</a> uses = dispatch_table-&gt;protected_uses();</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>      <span class="keywordtype">int</span> used_length = GetUsedLength(uses);</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = kReservedSlotOffset; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; used_length; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> += 2) {</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>        <span class="keywordflow">if</span> (uses-&gt;get(<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>).<a class="code hl_function" href="classv8_1_1internal_1_1TaggedImpl.html#a5d84dde6d0c8149b4560d7c79cf8f1a3">IsCleared</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>        <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> instance = GetInstance(uses, <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>        <span class="keywordflow">if</span> (instance-&gt;has_interpreter_object()) {</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>          <span class="keywordtype">int</span> table_index = GetTableIndex(uses, <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>          <a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmInterpreterRuntime.html#a13dbf7fabc7cebbd384812215185fccf">wasm::WasmInterpreterRuntime::UpdateIndirectCallTable</a>(</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>              isolate, <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(instance-&gt;instance_object(), isolate),</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>              table_index);</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>        }</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>      }</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>    }</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>  }</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span> </div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>  <span class="comment">// Only update the current length after all allocations of sub-objects</span></div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>  <span class="comment">// (in particular: the new dispatch table) are done, so that heap verification</span></div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>  <span class="comment">// can assert that the dispatch table&#39;s length matches the table&#39;s length.</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>  table-&gt;set_current_length(new_size);</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span> </div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>  <span class="keywordflow">for</span> (uint32_t entry = old_size; entry &lt; new_size; ++entry) {</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>    <a class="code hl_function" href="classv8_1_1internal_1_1WasmTableObject.html#acfdec070b48fe34a36f7aa7fed63a969">WasmTableObject::Set</a>(isolate, table, entry, init_value);</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>  }</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>  <span class="keywordflow">return</span> old_size;</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>}</div>
</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span> </div>
<div class="foldopen" id="foldopen00324" data-start="{" data-end="}">
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTableObject.html#ae0b3435dd99e91f0f4c076efd9364319">  324</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;Object&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTableObject.html#ae0b3435dd99e91f0f4c076efd9364319">WasmTableObject::JSToWasmElement</a>(</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTableObject&gt;</a> table, <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> entry,</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>** error_message) {</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>  <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* module = !table-&gt;has_trusted_data()</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>                                 ? <a class="code hl_variable" href="namespacev8_1_1internal.html#ab55855918f3529ba7ad70baf3dfbc014">nullptr</a></div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>                                 : table-&gt;trusted_data(isolate)-&gt;module();</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a4028018fc306f5bf21254dcaeb81b9e8">wasm::JSToWasmObject</a>(isolate, module, entry, table-&gt;type(module),</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>                              error_message);</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>}</div>
</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span> </div>
<div class="foldopen" id="foldopen00334" data-start="{" data-end="}">
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTableObject.html#a4d17c6f8f0a18a656e9037595396372f">  334</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTableObject.html#a4d17c6f8f0a18a656e9037595396372f">WasmTableObject::SetFunctionTableEntry</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>                                            <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTableObject&gt;</a> table,</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>                                            <span class="keywordtype">int</span> entry_index,</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>                                            <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> entry) {</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>  <span class="keywordflow">if</span> (IsWasmNull(*entry, isolate)) {</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>    table-&gt;ClearDispatchTable(entry_index);  <span class="comment">// Degenerate case.</span></div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>    table-&gt;entries()-&gt;set(entry_index, <a class="code hl_class" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(isolate).wasm_null());</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>  }</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsWasmFuncRef(*entry));</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> external = <a class="code hl_function" href="classv8_1_1internal_1_1WasmInternalFunction.html#aa73c203e0df09290a7561ab7382403e1">WasmInternalFunction::GetOrCreateExternal</a>(</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#a60f13a8c00d0433f9336368824ac21a1">direct_handle</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmFuncRef&gt;</a>(*entry)-&gt;internal(isolate), isolate));</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span> </div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classv8_1_1internal_1_1WasmExportedFunction.html#a89d14615aeb9e6fdd2017315fe60d0ef">WasmExportedFunction::IsWasmExportedFunction</a>(*external)) {</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>    <span class="keyword">auto</span> exported_function = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmExportedFunction&gt;</a>(external);</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>    <span class="keyword">auto</span> func_data = exported_function-&gt;shared()-&gt;wasm_exported_function_data();</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> target_instance_data(</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>        func_data-&gt;instance_data(), isolate);</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>    <span class="keywordtype">int</span> func_index = func_data-&gt;function_index();</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* module = target_instance_data-&gt;module();</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    <a class="code hl_define" href="check_8h.html#aa48820509053e4a2ad5061bae4fb9c40">SBXCHECK_BOUNDS</a>(func_index, module-&gt;<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a79b743888793de4a17ae53dd93988de6">functions</a>.size());</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>    <span class="keyword">auto</span>* wasm_function = <span class="keyword">module</span>-&gt;functions.data() + func_index;</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    <a class="code hl_function" href="classv8_1_1internal_1_1WasmTableObject.html#a16b9d149c61b70377845fc6b41761c19">UpdateDispatchTable</a>(isolate, table, entry_index, wasm_function,</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>                        target_instance_data</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>#<span class="keywordflow">if</span> V8_ENABLE_DRUMBRAKE</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>                        ,</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>                        func_index</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>#endif  <span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    );</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="classv8_1_1internal_1_1WasmJSFunction.html#acd5f3569a442acea759fd951ca21567f">WasmJSFunction::IsWasmJSFunction</a>(*external)) {</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>    <a class="code hl_function" href="classv8_1_1internal_1_1WasmTableObject.html#a16b9d149c61b70377845fc6b41761c19">UpdateDispatchTable</a>(isolate, table, entry_index,</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>                        <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmJSFunction&gt;</a>(external));</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1WasmCapiFunction.html#a62930ad9bbbf2736e47ad0b607ee0c83">WasmCapiFunction::IsWasmCapiFunction</a>(*external));</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    <a class="code hl_function" href="classv8_1_1internal_1_1WasmTableObject.html#a16b9d149c61b70377845fc6b41761c19">UpdateDispatchTable</a>(isolate, table, entry_index,</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>                        <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmCapiFunction&gt;</a>(external));</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>  }</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>  table-&gt;entries()-&gt;set(entry_index, *entry);</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>}</div>
</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span> </div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span><span class="comment">// Note: This needs to be handlified because it can call {NewWasmImportData}.</span></div>
<div class="foldopen" id="foldopen00375" data-start="{" data-end="}">
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTableObject.html#acfdec070b48fe34a36f7aa7fed63a969">  375</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTableObject.html#acfdec070b48fe34a36f7aa7fed63a969">WasmTableObject::Set</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTableObject&gt;</a> table,</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>                          uint32_t <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> entry) {</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>  <span class="comment">// Callers need to perform bounds checks, type check, and error handling.</span></div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(table-&gt;is_in_bounds(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>));</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span> </div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FixedArray&gt;</a> <a class="code hl_variable" href="liftoff-compiler_8cc.html#ab8d3010479e75420093f37bb28df0db7">entries</a>(table-&gt;entries(), isolate);</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>  <span class="comment">// The FixedArray is addressed with int&#39;s.</span></div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>  <span class="keywordtype">int</span> entry_index = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span> </div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>  <span class="keywordflow">switch</span> (table-&gt;unsafe_type().heap_representation_non_shared()) {</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a01edec79a04fce2edabc7f5f9b6f2305">wasm::HeapType::kExtern</a>:</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787add407adfe4e7d07e6e00416e104e930f">wasm::HeapType::kString</a>:</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787ac78ca0d956a311e28df4f4503826d43a">wasm::HeapType::kStringViewWtf8</a>:</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787af822d40276950d3a96075619287b5e7f">wasm::HeapType::kStringViewWtf16</a>:</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787ad8ce30917d618363851a3eab1e950ff2">wasm::HeapType::kStringViewIter</a>:</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a747949a8c02d366db421957a9a737347">wasm::HeapType::kEq</a>:</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a5621b910055ccbf8fe66df77cf288fc6">wasm::HeapType::kStruct</a>:</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a57169601682149a6b8bebd68e0e0f9a7">wasm::HeapType::kArray</a>:</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a12fc36cebc5486d34bcec8ba9adbc1c6">wasm::HeapType::kAny</a>:</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a52cfdbb770d3ad5e7d8c11792560de20">wasm::HeapType::kI31</a>:</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787addd08e9014cea077cc28ab6cbcbff986">wasm::HeapType::kNone</a>:</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787ada6888bc410e07dbaf1f0b45eeb22d04">wasm::HeapType::kNoFunc</a>:</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a987b6ca446d2306e8506f82869ddac97">wasm::HeapType::kNoExtern</a>:</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a3db0fc636300b4734d5fc1f49b1aeeeb">wasm::HeapType::kExn</a>:</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a23794aa47278a212c060ac01a772dae6">wasm::HeapType::kNoExn</a>:</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>      <a class="code hl_variable" href="liftoff-compiler_8cc.html#ab8d3010479e75420093f37bb28df0db7">entries</a>-&gt;set(entry_index, *entry);</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a8668d98b226023d9ccef4c77f2a722e3">wasm::HeapType::kFunc</a>:</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>      <a class="code hl_function" href="classv8_1_1internal_1_1WasmTableObject.html#a4d17c6f8f0a18a656e9037595396372f">SetFunctionTableEntry</a>(isolate, table, entry_index, entry);</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a6f48276cb3ce5450412d23417dde7622">wasm::HeapType::kBottom</a>:</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a2ae0d78e75126aacaa152688325d4db3">wasm::HeapType::kTop</a>:</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>      <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(table-&gt;has_trusted_data());</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>      <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">wasm::WasmModule</a>* module = table-&gt;trusted_data(isolate)-&gt;module();</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>      <span class="keywordflow">if</span> (module-&gt;<a class="code hl_function" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a3afd8a65f37ef25ae73380555291ce94">has_signature</a>(table-&gt;type(module).ref_index())) {</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>        <a class="code hl_function" href="classv8_1_1internal_1_1WasmTableObject.html#a4d17c6f8f0a18a656e9037595396372f">SetFunctionTableEntry</a>(isolate, table, entry_index, entry);</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>      }</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>      <a class="code hl_variable" href="liftoff-compiler_8cc.html#ab8d3010479e75420093f37bb28df0db7">entries</a>-&gt;set(entry_index, *entry);</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>  }</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>}</div>
</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span> </div>
<div class="foldopen" id="foldopen00420" data-start="{" data-end="}">
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTableObject.html#a3c8470b664c71c54c8d71a851c4432ad">  420</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTableObject.html#a3c8470b664c71c54c8d71a851c4432ad">WasmTableObject::Get</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>                                    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTableObject&gt;</a> table,</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>                                    uint32_t <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FixedArray&gt;</a> <a class="code hl_variable" href="liftoff-compiler_8cc.html#ab8d3010479e75420093f37bb28df0db7">entries</a>(table-&gt;entries(), isolate);</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>  <span class="comment">// Callers need to perform bounds checks and error handling.</span></div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(table-&gt;is_in_bounds(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>));</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span> </div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>  <span class="comment">// The FixedArray is addressed with int&#39;s.</span></div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>  <span class="keywordtype">int</span> entry_index = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span> </div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> entry(<a class="code hl_variable" href="liftoff-compiler_8cc.html#ab8d3010479e75420093f37bb28df0db7">entries</a>-&gt;get(entry_index), isolate);</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span> </div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>  <span class="keywordflow">if</span> (IsWasmNull(*entry, isolate)) <span class="keywordflow">return</span> entry;</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>  <span class="keywordflow">if</span> (IsWasmFuncRef(*entry)) <span class="keywordflow">return</span> entry;</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span> </div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>  <span class="keywordflow">switch</span> (table-&gt;unsafe_type().heap_representation_non_shared()) {</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787ac78ca0d956a311e28df4f4503826d43a">wasm::HeapType::kStringViewWtf8</a>:</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787af822d40276950d3a96075619287b5e7f">wasm::HeapType::kStringViewWtf16</a>:</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787ad8ce30917d618363851a3eab1e950ff2">wasm::HeapType::kStringViewIter</a>:</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a01edec79a04fce2edabc7f5f9b6f2305">wasm::HeapType::kExtern</a>:</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787add407adfe4e7d07e6e00416e104e930f">wasm::HeapType::kString</a>:</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a747949a8c02d366db421957a9a737347">wasm::HeapType::kEq</a>:</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a52cfdbb770d3ad5e7d8c11792560de20">wasm::HeapType::kI31</a>:</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a5621b910055ccbf8fe66df77cf288fc6">wasm::HeapType::kStruct</a>:</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a57169601682149a6b8bebd68e0e0f9a7">wasm::HeapType::kArray</a>:</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a12fc36cebc5486d34bcec8ba9adbc1c6">wasm::HeapType::kAny</a>:</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787addd08e9014cea077cc28ab6cbcbff986">wasm::HeapType::kNone</a>:</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787ada6888bc410e07dbaf1f0b45eeb22d04">wasm::HeapType::kNoFunc</a>:</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a987b6ca446d2306e8506f82869ddac97">wasm::HeapType::kNoExtern</a>:</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a3db0fc636300b4734d5fc1f49b1aeeeb">wasm::HeapType::kExn</a>:</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a23794aa47278a212c060ac01a772dae6">wasm::HeapType::kNoExn</a>:</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>      <span class="keywordflow">return</span> entry;</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a8668d98b226023d9ccef4c77f2a722e3">wasm::HeapType::kFunc</a>:</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>      <span class="comment">// Placeholder; handled below.</span></div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a6f48276cb3ce5450412d23417dde7622">wasm::HeapType::kBottom</a>:</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a2ae0d78e75126aacaa152688325d4db3">wasm::HeapType::kTop</a>:</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>      <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(table-&gt;has_trusted_data());</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>      <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* module = table-&gt;trusted_data(isolate)-&gt;module();</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>      <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1ModuleTypeIndex.html">wasm::ModuleTypeIndex</a> element_type = table-&gt;type(module).ref_index();</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>      <span class="keywordflow">if</span> (module-&gt;<a class="code hl_function" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4d7f2eb3c584f9a7b9d79754dd29a315">has_array</a>(element_type) || module-&gt;<a class="code hl_function" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#aaf7eed69c6866ffacfec579a31b9fa3d">has_struct</a>(element_type)) {</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>        <span class="keywordflow">return</span> entry;</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>      }</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>      <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(module-&gt;<a class="code hl_function" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a3afd8a65f37ef25ae73380555291ce94">has_signature</a>(element_type));</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>  }</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span> </div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>  <span class="comment">// {entry} is not a valid entry in the table. It has to be a placeholder</span></div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>  <span class="comment">// for lazy initialization.</span></div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Tuple2&gt;</a> tuple = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;Tuple2&gt;</a>(entry);</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>  <span class="keyword">auto</span> trusted_instance_data =</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmInstanceObject&gt;</a>(tuple-&gt;value1())-&gt;trusted_data(isolate),</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>             isolate);</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>  <span class="keywordtype">int</span> function_index = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;Smi&gt;</a>(tuple-&gt;value2()).value();</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span> </div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>  <span class="comment">// Create a WasmInternalFunction and WasmFuncRef for the function if it does</span></div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>  <span class="comment">// not exist yet, and store it in the table.</span></div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmFuncRef&gt;</a> func_ref = <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a743dd82b5a2b1a0664b5fda8d6b50a53">WasmTrustedInstanceData::GetOrCreateFuncRef</a>(</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>      isolate, trusted_instance_data, function_index);</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>  <a class="code hl_variable" href="liftoff-compiler_8cc.html#ab8d3010479e75420093f37bb28df0db7">entries</a>-&gt;set(entry_index, *func_ref);</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>  <span class="keywordflow">return</span> func_ref;</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>}</div>
</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span> </div>
<div class="foldopen" id="foldopen00485" data-start="{" data-end="}">
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTableObject.html#abd200bd6702d0b1d288516cb0f7173fc">  485</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTableObject.html#abd200bd6702d0b1d288516cb0f7173fc">WasmTableObject::Fill</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>                           <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTableObject&gt;</a> table, uint32_t <a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a>,</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>                           <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> entry, uint32_t <a class="code hl_struct" href="structv8_1_1internal_1_1count.html">count</a>) {</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>  <span class="comment">// Bounds checks must be done by the caller.</span></div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(<a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a>, table-&gt;current_length());</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(<a class="code hl_struct" href="structv8_1_1internal_1_1count.html">count</a>, table-&gt;current_length());</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(<a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a> + <a class="code hl_struct" href="structv8_1_1internal_1_1count.html">count</a>, table-&gt;current_length());</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span> </div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>  <span class="keywordflow">for</span> (uint32_t <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code hl_variable" href="debug-coverage_8cc.html#a86988a65e0d3ece7990c032c159786d6">count</a>; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>    <a class="code hl_function" href="classv8_1_1internal_1_1WasmTableObject.html#acfdec070b48fe34a36f7aa7fed63a969">WasmTableObject::Set</a>(isolate, table, <a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a> + <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>, entry);</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>  }</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>}</div>
</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span> </div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span><span class="preprocessor">#if V8_ENABLE_SANDBOX || DEBUG</span></div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span><span class="keywordtype">bool</span> FunctionSigMatchesTable(<a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a> sig_id,</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>                             <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html">wasm::CanonicalValueType</a> table_type) {</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(table_type.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#aa459140e8766cc7f6bdf67dcd174ad1e">is_object_reference</a>());</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>  <span class="comment">// When in-sandbox data is corrupted, we can&#39;t trust the statically</span></div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>  <span class="comment">// checked types; to prevent sandbox escapes, we have to verify actual</span></div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>  <span class="comment">// types before installing the dispatch table entry. There are three</span></div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>  <span class="comment">// alternative success conditions:</span></div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>  <span class="comment">// (1) Generic &quot;funcref&quot; tables can hold any function entry.</span></div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>  <span class="keywordflow">if</span> (table_type.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a0c9d01db0d2ee104368cd4de098257b2">heap_representation_non_shared</a>() == <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a8668d98b226023d9ccef4c77f2a722e3">wasm::HeapType::kFunc</a>) {</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>  }</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>  <span class="comment">// (2) Most function types are expected to be final, so they can be compared</span></div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>  <span class="comment">//     cheaply by canonicalized index equality.</span></div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>  wasm::CanonicalTypeIndex canonical_table_type = table_type.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html#ab58fc78ee1cd5b17394acbc1a9fb7225">ref_index</a>();</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="v8config_8h.html#a4f489f1b838163ab33f251c9e470d938">V8_LIKELY</a>(sig_id == canonical_table_type)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>  <span class="comment">// (3) In the remaining cases, perform the full subtype check.</span></div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">wasm::GetWasmEngine</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a2bd8d1062109983456ee727ddc7141d7">type_canonicalizer</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a09f520b3ab3e3fa22827a66c4eebcb59">IsCanonicalSubtype</a>(</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>      sig_id, canonical_table_type);</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>}</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_SANDBOX || DEBUG</span></div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span> </div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen00521" data-start="{" data-end="}">
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTableObject.html#a16b9d149c61b70377845fc6b41761c19">  521</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTableObject.html#a16b9d149c61b70377845fc6b41761c19">WasmTableObject::UpdateDispatchTable</a>(</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTableObject&gt;</a> table, <span class="keywordtype">int</span> entry_index,</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmFunction.html">wasm::WasmFunction</a>* func,</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> target_instance_data</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>#<span class="keywordflow">if</span> V8_ENABLE_DRUMBRAKE</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>    ,</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>    <span class="keywordtype">int</span> target_func_index</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>#endif  <span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>) {</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;TrustedObject&gt;</a> implicit_arg =</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>      func-&gt;<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmFunction.html#af8099247d56554096502101a9b7321be">imported</a></div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>          <span class="comment">// The function in the target instance was imported. Use its imports</span></div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>          <span class="comment">// table to look up the ref.</span></div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>          ? <a class="code hl_function" href="namespacev8_1_1internal.html#a60f13a8c00d0433f9336368824ac21a1">direct_handle</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;TrustedObject&gt;</a>(</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>                              target_instance_data-&gt;dispatch_table_for_imports()</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>                                  -&gt;implicit_arg(func-&gt;<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmFunction.html#a8b451aaa09042c8dcc935d85f4fa0422">func_index</a>)),</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>                          isolate)</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>          <span class="comment">// For wasm functions, just pass the target instance data.</span></div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>          : target_instance_data;</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>  <a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> call_target =</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>      target_instance_data-&gt;GetCallTarget(func-&gt;<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmFunction.html#a8b451aaa09042c8dcc935d85f4fa0422">func_index</a>);</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span> </div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span><span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>  <span class="keywordflow">if</span> (target_func_index &lt;</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>      <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>          target_instance_data-&gt;module()-&gt;num_imported_functions)) {</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>    target_func_index = target_instance_data-&gt;imported_function_indices()-&gt;get(</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>        target_func_index);</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>  }</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span> </div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>  <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* target_module = target_instance_data-&gt;module();</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>  <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a> sig_id =</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>      target_module-&gt;<a class="code hl_function" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a80ed14bf76cb65cc93c6c9ba1b56f75c">canonical_sig_id</a>(func-&gt;<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmFunction.html#a27c9b60862536d6bd685a1fb750bec1f">sig_index</a>);</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmDispatchTable&gt;</a> dispatch_table(</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>      table-&gt;trusted_dispatch_table(isolate), isolate);</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>  <a class="code hl_define" href="check_8h.html#aee78f6fbdf206be23e949191f9408e4b">SBXCHECK</a>(FunctionSigMatchesTable(sig_id, dispatch_table-&gt;table_type()));</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span> </div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_generic_wrapper &amp;&amp; IsWasmImportData(*implicit_arg)) {</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>    <span class="keyword">auto</span> import_data = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmImportData&gt;</a>(implicit_arg);</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmImportData&gt;</a> new_import_data =</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>        isolate-&gt;factory()-&gt;NewWasmImportData(import_data);</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>    new_import_data-&gt;set_call_origin(*dispatch_table);</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>    new_import_data-&gt;set_table_slot(entry_index);</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>    implicit_arg = new_import_data;</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>  }</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>  <span class="keywordflow">if</span> (target_instance_data-&gt;dispatch_table_for_imports()-&gt;IsAWrapper(</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>          func-&gt;<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmFunction.html#a8b451aaa09042c8dcc935d85f4fa0422">func_index</a>)) {</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>    uint64_t signature_hash = <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">wasm::GetTypeCanonicalizer</a>()</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>                                  -&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa1f36fc3851ba2316d47223fa2b6e155">LookupFunctionSignature</a>(sig_id)</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>                                  -&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html#a445378a77774c35dbb4230763038be0b">signature_hash</a>();</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>    dispatch_table-&gt;SetForWrapper(</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>        entry_index, *implicit_arg,</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>        <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a0a36931b3d2bbcdfcbb253b229838952">wasm::GetProcessWideWasmCodePointerTable</a>()-&gt;GetEntrypoint(</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>            call_target, signature_hash),</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>        sig_id, signature_hash,</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>#<span class="keywordflow">if</span> V8_ENABLE_DRUMBRAKE</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>        target_func_index,</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>#endif</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>        <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a36345041662f17bb39d27709c1cb78ac">wasm::GetWasmImportWrapperCache</a>()-&gt;FindWrapper(call_target),</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>        <a class="code hl_enumvalue" href="classv8_1_1internal_1_1WasmDispatchTable.html#ad1ad1647c93a971226e24d85ed741da5ae94e8b46dc9495b2683216119d41f6be">WasmDispatchTable::kExistingEntry</a>);</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>    dispatch_table-&gt;SetForNonWrapper(entry_index, *implicit_arg, call_target,</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>                                     sig_id,</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>#<span class="keywordflow">if</span> V8_ENABLE_DRUMBRAKE</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>                                     target_func_index,</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>#endif</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>                                     <a class="code hl_enumvalue" href="classv8_1_1internal_1_1WasmDispatchTable.html#ad1ad1647c93a971226e24d85ed741da5ae94e8b46dc9495b2683216119d41f6be">WasmDispatchTable::kExistingEntry</a>);</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>  }</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span> </div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span><span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) {</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ProtectedWeakFixedArray&gt;</a> uses = dispatch_table-&gt;protected_uses();</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>    <span class="keywordtype">int</span> used_length = GetUsedLength(uses);</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = kReservedSlotOffset; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; used_length; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> += 2) {</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>      <span class="keywordflow">if</span> (uses-&gt;get(<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>).<a class="code hl_function" href="classv8_1_1internal_1_1TaggedImpl.html#a5d84dde6d0c8149b4560d7c79cf8f1a3">IsCleared</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>      <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> instance = GetInstance(uses, <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>      <span class="keywordflow">if</span> (instance-&gt;has_interpreter_object()) {</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>        <span class="keywordtype">int</span> table_index = GetTableIndex(uses, <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>        <a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmInterpreterRuntime.html#a13dbf7fabc7cebbd384812215185fccf">wasm::WasmInterpreterRuntime::UpdateIndirectCallTable</a>(</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>            isolate, <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(instance-&gt;instance_object(), isolate), table_index);</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>      }</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>    }</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>  }</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>}</div>
</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span> </div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen00609" data-start="{" data-end="}">
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTableObject.html#a1d4d2376f066e51065d0d07be8b24304">  609</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTableObject.html#a16b9d149c61b70377845fc6b41761c19">WasmTableObject::UpdateDispatchTable</a>(</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTableObject&gt;</a> table, <span class="keywordtype">int</span> entry_index,</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmJSFunction&gt;</a> function) {</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmJSFunctionData&gt;</a> function_data =</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>      function-&gt;shared()-&gt;wasm_js_function_data();</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>  <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a> sig_id = function_data-&gt;sig_index();</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span> </div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>  <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html">wasm::WasmCodeRefScope</a> code_ref_scope;</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span> </div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmDispatchTable&gt;</a> dispatch_table(</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>      table-&gt;trusted_dispatch_table(isolate), isolate);</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>  <a class="code hl_define" href="check_8h.html#aee78f6fbdf206be23e949191f9408e4b">SBXCHECK</a>(FunctionSigMatchesTable(sig_id, dispatch_table-&gt;table_type()));</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span> </div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmImportData&gt;</a> import_data(</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmImportData&gt;</a>(function_data-&gt;internal()-&gt;implicit_arg()), isolate);</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>  <a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> code_pointer = function_data-&gt;internal()-&gt;call_target();</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>  <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache.html">wasm::WasmImportWrapperCache</a>* cache = <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a36345041662f17bb39d27709c1cb78ac">wasm::GetWasmImportWrapperCache</a>();</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>  <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">wasm::WasmCode</a>* wasm_code = cache-&gt;FindWrapper(code_pointer);</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a92ab64d42404e439be3d6a7556e32380">Address</a> call_target = <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a0a36931b3d2bbcdfcbb253b229838952">wasm::GetProcessWideWasmCodePointerTable</a>()</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>                            -&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#a65882a1f49bd2c6a667cd3054f3dc2e2">GetEntrypointWithoutSignatureCheck</a>(code_pointer);</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>  uint64_t signature_hash;</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>  <span class="keywordflow">if</span> (wasm_code) {</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(wasm_code-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>(), call_target);</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>    signature_hash = wasm_code-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0c7c3734a1ad0fe3202e49fc5806947c">signature_hash</a>();</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>    <span class="comment">// The function&#39;s code_pointer is not a compiled wrapper.</span></div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>    <span class="comment">// Opportunistically check if a matching wrapper has already been</span></div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>    <span class="comment">// compiled, but otherwise don&#39;t eagerly compile it now.</span></div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;JSReceiver&gt;</a> callable(function_data-&gt;GetCallable(), isolate);</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>    <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html">wasm::CanonicalSig</a>* <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a> =</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>        <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">wasm::GetWasmEngine</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a2bd8d1062109983456ee727ddc7141d7">type_canonicalizer</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa1f36fc3851ba2316d47223fa2b6e155">LookupFunctionSignature</a>(</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>            sig_id);</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>    signature_hash = <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html#a445378a77774c35dbb4230763038be0b">signature_hash</a>();</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>    <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1ResolvedWasmImport.html">wasm::ResolvedWasmImport</a> resolved({}, -1, callable, <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>, sig_id,</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>                                      <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#afaaaa7fd7a0bc697a4d91133566c5c6ea4a2d15530df7ed8fe7a35b02d47fff24">wasm::WellKnownImport::kUninstantiated</a>);</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>    <a class="code hl_enumeration" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63a">wasm::ImportCallKind</a> kind = resolved.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1ResolvedWasmImport.html#a680ff048f40f3a9d9b47de1a7f2f0635">kind</a>();</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>    callable = resolved.callable();  <span class="comment">// Update to ultimate target.</span></div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(<a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa5411029decc6201a8ac468e9bb7fadbb">wasm::ImportCallKind::kLinkError</a>, kind);</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>    <span class="keywordtype">int</span> expected_arity = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;parameter_count());</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>    <span class="keywordflow">if</span> (kind == wasm::ImportCallKind ::kJSFunctionArityMismatch) {</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>      expected_arity = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;JSFunction&gt;</a>(callable)</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>                           -&gt;shared()</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>                           -&gt;internal_formal_parameter_count_without_receiver();</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>    }</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>    <a class="code hl_enumeration" href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843a">wasm::Suspend</a> suspend = function_data-&gt;GetSuspend();</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>    wasm_code = cache-&gt;MaybeGet(kind, sig_id, expected_arity, suspend);</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>    <span class="keywordflow">if</span> (wasm_code) {</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>      call_target = wasm_code-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>();</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>      <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;signature_hash(), wasm_code-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0c7c3734a1ad0fe3202e49fc5806947c">signature_hash</a>());</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>      <span class="comment">// We still don&#39;t have a compiled wrapper. Allocate a new import_data</span></div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>      <span class="comment">// so we can store the proper call_origin for later wrapper tier-up.</span></div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>      <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(call_target ==</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>                 <a class="code hl_function" href="classv8_1_1internal_1_1Builtins.html#acebcaee6cb63c76d9b36678a3a375187">Builtins::EntryOf</a>(Builtin::kWasmToJsWrapperAsm, isolate) ||</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>             call_target == <a class="code hl_function" href="classv8_1_1internal_1_1Builtins.html#acebcaee6cb63c76d9b36678a3a375187">Builtins::EntryOf</a>(</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>                                Builtin::kWasmToJsWrapperInvalidSig, isolate));</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>      import_data = isolate-&gt;factory()-&gt;NewWasmImportData(</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>          callable, suspend, <a class="code hl_class" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;WasmTrustedInstanceData&gt;</a>{}, <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>);</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>      import_data-&gt;SetIndexInTableAsCallOrigin(*dispatch_table, entry_index);</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>    }</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>  }</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span> </div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(wasm_code ||</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>         call_target ==</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>             <a class="code hl_function" href="classv8_1_1internal_1_1Builtins.html#acebcaee6cb63c76d9b36678a3a375187">Builtins::EntryOf</a>(Builtin::kWasmToJsWrapperAsm, isolate) ||</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>         call_target ==</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>             <a class="code hl_function" href="classv8_1_1internal_1_1Builtins.html#acebcaee6cb63c76d9b36678a3a375187">Builtins::EntryOf</a>(Builtin::kWasmToJsWrapperInvalidSig, isolate));</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>  dispatch_table-&gt;SetForWrapper(entry_index, *import_data, call_target, sig_id,</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>                                signature_hash,</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>#<span class="keywordflow">if</span> V8_ENABLE_DRUMBRAKE</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>                                WasmDispatchTable::kInvalidFunctionIndex,</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>#endif  <span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>                                wasm_code, <a class="code hl_enumvalue" href="classv8_1_1internal_1_1WasmDispatchTable.html#ad1ad1647c93a971226e24d85ed741da5ae94e8b46dc9495b2683216119d41f6be">WasmDispatchTable::kExistingEntry</a>);</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>}</div>
</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span> </div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen00685" data-start="{" data-end="}">
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTableObject.html#a30fb6d462d77b86690d5acd49aea4b01">  685</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTableObject.html#a16b9d149c61b70377845fc6b41761c19">WasmTableObject::UpdateDispatchTable</a>(</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTableObject&gt;</a> table, <span class="keywordtype">int</span> entry_index,</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmCapiFunction&gt;</a> capi_function) {</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmCapiFunctionData&gt;</a> func_data(</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>      capi_function-&gt;shared()-&gt;wasm_capi_function_data(), isolate);</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>  <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html">wasm::CanonicalSig</a>* <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a> = func_data-&gt;sig();</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">wasm::GetTypeCanonicalizer</a>()-&gt;Contains(<a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>));</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>  <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a> sig_index = func_data-&gt;sig_index();</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span> </div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>  <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html">wasm::WasmCodeRefScope</a> code_ref_scope;</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>  <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache.html">wasm::WasmImportWrapperCache</a>* cache = <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a36345041662f17bb39d27709c1cb78ac">wasm::GetWasmImportWrapperCache</a>();</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>  <span class="keyword">auto</span> kind = <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa7f5686cf8a9e0b7053c4d28dde68020f">wasm::ImportCallKind::kWasmToCapi</a>;</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>  <span class="keywordtype">int</span> param_count = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;parameter_count());</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>  <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">wasm::WasmCode</a>* wasm_code =</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>      cache-&gt;MaybeGet(kind, sig_index, param_count, <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843aac51012268661bd5ae03450b2207e5d83">wasm::kNoSuspend</a>);</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>  <span class="keywordflow">if</span> (wasm_code == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>    <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmCompilationResult.html">wasm::WasmCompilationResult</a> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> =</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>        <a class="code hl_function" href="namespacev8_1_1internal_1_1compiler.html#a50bcd95a7391f11ea798d7b747922901">compiler::CompileWasmCapiCallWrapper</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>);</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>    {</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>      <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache_1_1ModificationScope.html">wasm::WasmImportWrapperCache::ModificationScope</a> cache_scope(cache);</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>      <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache_1_1CacheKey.html">wasm::WasmImportWrapperCache::CacheKey</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>(kind, sig_index, param_count,</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>                                                 <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843aac51012268661bd5ae03450b2207e5d83">wasm::kNoSuspend</a>);</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>      wasm_code = cache_scope.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache_1_1ModificationScope.html#a6c799e372ae713858bddbbb0f8a86a76">AddWrapper</a>(</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>          <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, std::move(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>), <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da806ef6ecaaea44fafa40934e34fceef5">wasm::WasmCode::Kind::kWasmToCapiWrapper</a>,</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>          <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;signature_hash());</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>    }</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>    <span class="comment">// To avoid lock order inversion, code printing must happen after the</span></div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>    <span class="comment">// end of the {cache_scope}.</span></div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>    wasm_code-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0f94a461ae1a32a2931d6cec086860e2">MaybePrint</a>();</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>    isolate-&gt;counters()-&gt;wasm_generated_code_size()-&gt;Increment(</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>        wasm_code-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a35a765c275210d7f0ca8ec68502120a9">instructions</a>().<a class="code hl_function" href="classv8_1_1base_1_1Vector.html#a1eb4ed5d322a219428bdb9f9a2cb6708">length</a>());</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>    isolate-&gt;counters()-&gt;wasm_reloc_size()-&gt;Increment(</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>        wasm_code-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a7ce5e9c4ac84834ffd253b89c0f35d71">reloc_info</a>().<a class="code hl_function" href="classv8_1_1base_1_1Vector.html#a1eb4ed5d322a219428bdb9f9a2cb6708">length</a>());</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>  }</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObject&gt;</a> implicit_arg = func_data-&gt;internal()-&gt;implicit_arg();</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a92ab64d42404e439be3d6a7556e32380">Address</a> call_target = wasm_code-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>();</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmDispatchTable&gt;</a> dispatch_table =</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>      table-&gt;trusted_dispatch_table(isolate);</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>  <a class="code hl_define" href="check_8h.html#aee78f6fbdf206be23e949191f9408e4b">SBXCHECK</a>(FunctionSigMatchesTable(sig_index, dispatch_table-&gt;table_type()));</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>  dispatch_table-&gt;SetForWrapper(entry_index, implicit_arg, call_target,</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>                                sig_index, wasm_code-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0c7c3734a1ad0fe3202e49fc5806947c">signature_hash</a>(),</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>#<span class="keywordflow">if</span> V8_ENABLE_DRUMBRAKE</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>                                WasmDispatchTable::kInvalidFunctionIndex,</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>#endif  <span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>                                wasm_code, <a class="code hl_enumvalue" href="classv8_1_1internal_1_1WasmDispatchTable.html#ad1ad1647c93a971226e24d85ed741da5ae94e8b46dc9495b2683216119d41f6be">WasmDispatchTable::kExistingEntry</a>);</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>}</div>
</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span> </div>
<div class="foldopen" id="foldopen00732" data-start="{" data-end="}">
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTableObject.html#a0d4796d0039b7a60188d70af68ef3c0b">  732</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTableObject.html#a0d4796d0039b7a60188d70af68ef3c0b">WasmTableObject::ClearDispatchTable</a>(<span class="keywordtype">int</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate = GetIsolate();</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmDispatchTable&gt;</a> dispatch_table = trusted_dispatch_table(isolate);</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>  dispatch_table-&gt;Clear(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="code hl_enumvalue" href="classv8_1_1internal_1_1WasmDispatchTable.html#ad1ad1647c93a971226e24d85ed741da5ae94e8b46dc9495b2683216119d41f6be">WasmDispatchTable::kExistingEntry</a>);</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span><span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) {</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ProtectedWeakFixedArray&gt;</a> uses = dispatch_table-&gt;protected_uses();</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>    <span class="keywordtype">int</span> used_length = GetUsedLength(uses);</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = kReservedSlotOffset; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; used_length; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> += 2) {</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>      <span class="keywordflow">if</span> (uses-&gt;get(<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>).<a class="code hl_function" href="classv8_1_1internal_1_1TaggedImpl.html#a5d84dde6d0c8149b4560d7c79cf8f1a3">IsCleared</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>      <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> non_shared_instance_data =</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>          GetInstance(uses, <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>      <span class="keywordflow">if</span> (non_shared_instance_data-&gt;has_interpreter_object()) {</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>        <span class="keywordtype">int</span> table_index = GetTableIndex(uses, <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>        <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmInstanceObject&gt;</a> instance_handle =</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>            <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(non_shared_instance_data-&gt;instance_object(), isolate);</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>        <a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmInterpreterRuntime.html#a9823a21072d95ee863cb68c93cc0efde">wasm::WasmInterpreterRuntime::ClearIndirectCallCacheEntry</a>(</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>            isolate, instance_handle, table_index, <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>      }</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>    }</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>  }</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>}</div>
</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span> </div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen00758" data-start="{" data-end="}">
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTableObject.html#ada0ac8e1ab7d1e365edd372d6b02c53d">  758</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTableObject.html#ada0ac8e1ab7d1e365edd372d6b02c53d">WasmTableObject::SetFunctionTablePlaceholder</a>(</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTableObject&gt;</a> table, <span class="keywordtype">int</span> entry_index,</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data,</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>    <span class="keywordtype">int</span> func_index) {</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>  <span class="comment">// Put (instance, func_index) as a Tuple2 into the entry_index.</span></div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>  <span class="comment">// The {WasmExportedFunction} will be created lazily.</span></div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>  <span class="comment">// Allocate directly in old space as the tuples are typically long-lived, and</span></div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>  <span class="comment">// we create many of them, which would result in lots of GC when initializing</span></div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>  <span class="comment">// large tables.</span></div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>  <span class="comment">// TODO(42204563): Avoid crashing if the instance object is not available.</span></div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(trusted_instance_data-&gt;has_instance_object());</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Tuple2&gt;</a> tuple = isolate-&gt;factory()-&gt;NewTuple2(</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#a60f13a8c00d0433f9336368824ac21a1">direct_handle</a>(trusted_instance_data-&gt;instance_object(), isolate),</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#a60f13a8c00d0433f9336368824ac21a1">direct_handle</a>(<a class="code hl_function" href="classv8_1_1internal_1_1Smi.html#a755464f4d2c3a71ffd82cd474bbc50f3">Smi::FromInt</a>(func_index), isolate), <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">AllocationType::kOld</a>);</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>  table-&gt;entries()-&gt;set(entry_index, *tuple);</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>}</div>
</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span> </div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen00776" data-start="{" data-end="}">
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTableObject.html#a6a815662eb3a0cec4809b203bb012a7a">  776</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTableObject.html#a6a815662eb3a0cec4809b203bb012a7a">WasmTableObject::GetFunctionTableEntry</a>(</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTableObject&gt;</a> table, <span class="keywordtype">int</span> entry_index,</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>    <span class="keywordtype">bool</span>* is_valid, <span class="keywordtype">bool</span>* is_null,</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>    <a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;WasmTrustedInstanceData&gt;</a>* <a class="code hl_variable" href="namespacev8_1_1internal.html#a4bf21ee96580042a8262a8300dca514c">instance_data</a>, <span class="keywordtype">int</span>* function_index,</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>    <a class="code hl_class" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;WasmJSFunction&gt;</a>* maybe_js_function) {</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span><span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>  <span class="keywordflow">if</span> (table-&gt;has_trusted_data()) {</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">wasm::WasmModule</a>* module = table-&gt;trusted_data(isolate)-&gt;module();</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#ac814c0c5fdc2144633e7dfb837ca5374">wasm::IsSubtypeOf</a>(table-&gt;type(module), <a class="code hl_variable" href="namespacev8_1_1internal_1_1wasm.html#a37c10a6c9b36e2b30daa3adf302a9331">wasm::kWasmFuncRef</a>, module));</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>    <span class="comment">// A function table defined outside a module may only have type exactly</span></div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>    <span class="comment">// {funcref}.</span></div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(table-&gt;unsafe_type() == <a class="code hl_variable" href="namespacev8_1_1internal_1_1wasm.html#a37c10a6c9b36e2b30daa3adf302a9331">wasm::kWasmFuncRef</a>);</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>  }</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(entry_index, table-&gt;current_length());</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>  <span class="comment">// We initialize {is_valid} with {true}. We may change it later.</span></div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>  *is_valid = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> element(table-&gt;entries()-&gt;get(entry_index), isolate);</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span> </div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>  *is_null = IsWasmNull(*element, isolate);</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>  <span class="keywordflow">if</span> (*is_null) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span> </div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>  <span class="keywordflow">if</span> (IsWasmFuncRef(*element)) {</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmInternalFunction&gt;</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a>{</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>        <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmFuncRef&gt;</a>(*element)-&gt;internal(isolate), isolate};</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>    element = <a class="code hl_function" href="classv8_1_1internal_1_1WasmInternalFunction.html#aa73c203e0df09290a7561ab7382403e1">WasmInternalFunction::GetOrCreateExternal</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a>);</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>  }</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classv8_1_1internal_1_1WasmExportedFunction.html#a89d14615aeb9e6fdd2017315fe60d0ef">WasmExportedFunction::IsWasmExportedFunction</a>(*element)) {</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>    <span class="keyword">auto</span> target_func = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmExportedFunction&gt;</a>(element);</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>    <span class="keyword">auto</span> func_data = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmExportedFunctionData&gt;</a>(</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>        target_func-&gt;shared()-&gt;wasm_exported_function_data());</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>    *<a class="code hl_variable" href="namespacev8_1_1internal.html#a4bf21ee96580042a8262a8300dca514c">instance_data</a> = <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(func_data-&gt;instance_data(), isolate);</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>    *function_index = func_data-&gt;function_index();</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>    *maybe_js_function = <a class="code hl_class" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;WasmJSFunction&gt;</a>();</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>  }</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classv8_1_1internal_1_1WasmJSFunction.html#acd5f3569a442acea759fd951ca21567f">WasmJSFunction::IsWasmJSFunction</a>(*element)) {</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>    *<a class="code hl_variable" href="namespacev8_1_1internal.html#a4bf21ee96580042a8262a8300dca514c">instance_data</a> = <a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;WasmTrustedInstanceData&gt;</a>();</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>    *maybe_js_function = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmJSFunction&gt;</a>(element);</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>  }</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>  <span class="keywordflow">if</span> (IsTuple2(*element)) {</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>    <span class="keyword">auto</span> tuple = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;Tuple2&gt;</a>(element);</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>    *<a class="code hl_variable" href="namespacev8_1_1internal.html#a4bf21ee96580042a8262a8300dca514c">instance_data</a> =</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>        <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmInstanceObject&gt;</a>(tuple-&gt;value1())-&gt;trusted_data(isolate),</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>               isolate);</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>    *function_index = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;Smi&gt;</a>(tuple-&gt;value2()).value();</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>    *maybe_js_function = <a class="code hl_class" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;WasmJSFunction&gt;</a>();</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>  }</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>  *is_valid = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>}</div>
</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span> </div>
<div class="foldopen" id="foldopen00830" data-start="{" data-end="}">
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmSuspendingObject.html#aa57bfff6c45e5fa252a7dbbfef0af406">  830</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmSuspendingObject&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmSuspendingObject.html#aa57bfff6c45e5fa252a7dbbfef0af406">WasmSuspendingObject::New</a>(</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSReceiver&gt;</a> callable) {</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> suspending_ctor(</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>      isolate-&gt;native_context()-&gt;wasm_suspending_constructor(), isolate);</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>  <span class="keyword">auto</span> suspending_obj = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmSuspendingObject&gt;</a>(</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>      isolate-&gt;factory()-&gt;NewJSObject(suspending_ctor));</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>  suspending_obj-&gt;set_callable(*callable);</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>  <span class="keywordflow">return</span> suspending_obj;</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>}</div>
</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span> </div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span> </div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span><span class="keywordtype">void</span> SetInstanceMemory(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data,</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>                       <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;JSArrayBuffer&gt;</a> buffer, <span class="keywordtype">int</span> memory_index) {</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowHeapAllocation</a> no_gc;</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>  <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* module = trusted_instance_data-&gt;module();</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>  <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmMemory.html">wasm::WasmMemory</a>&amp; memory = <span class="keyword">module</span>-&gt;memories[memory_index];</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span> </div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>  <span class="keywordtype">bool</span> is_wasm_module = <span class="keyword">module</span>-&gt;origin == wasm::kWasmOrigin;</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>  <span class="keywordtype">bool</span> use_trap_handler = memory.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmMemory.html#a2f28747332d5adbb45a11c870b46c24c">bounds_checks</a> == <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#aaca6d9503a7b3a8f1d6e319b19baca66a6c3b400bf8685e810f458dfd466cf006">wasm::kTrapHandler</a>;</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>  <span class="comment">// Asm.js does not use trap handling.</span></div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a2c0c4cea27d0690467662bb05131b2af">CHECK_IMPLIES</a>(use_trap_handler, is_wasm_module);</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>  <span class="comment">// ArrayBuffers allocated for Wasm do always have a BackingStore.</span></div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>  std::shared_ptr&lt;BackingStore&gt; backing_store = buffer-&gt;GetBackingStore();</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a2c0c4cea27d0690467662bb05131b2af">CHECK_IMPLIES</a>(is_wasm_module, backing_store);</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a2c0c4cea27d0690467662bb05131b2af">CHECK_IMPLIES</a>(is_wasm_module, backing_store-&gt;is_wasm_memory());</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>  <span class="comment">// Wasm modules compiled to use the trap handler don&#39;t have bounds checks,</span></div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>  <span class="comment">// so they must have a memory that has guard regions.</span></div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>  <span class="comment">// Note: This CHECK can fail when in-sandbox corruption modified a</span></div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>  <span class="comment">// WasmMemoryObject. We currently believe that this would at worst</span></div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>  <span class="comment">// corrupt the contents of other Wasm memories or ArrayBuffers, but having</span></div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>  <span class="comment">// this CHECK in release mode is nice as an additional layer of defense.</span></div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a2c0c4cea27d0690467662bb05131b2af">CHECK_IMPLIES</a>(use_trap_handler, backing_store-&gt;has_guard_regions());</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>  <span class="comment">// We checked this before, but a malicious worker thread with an in-sandbox</span></div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>  <span class="comment">// corruption primitive could have modified it since then.</span></div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>  <span class="keywordtype">size_t</span> byte_length = buffer-&gt;byte_length();</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>  <a class="code hl_define" href="check_8h.html#aec752d98ed7d655aa8ced64592c346d5">SBXCHECK_GE</a>(byte_length, memory.min_memory_size);</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span> </div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>  trusted_instance_data-&gt;SetRawMemory(</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>      memory_index, <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(buffer-&gt;backing_store()),</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>      byte_length);</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span> </div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span><span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless &amp;&amp;</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>      trusted_instance_data-&gt;has_interpreter_object()) {</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>    <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">AllowHeapAllocation</a> allow_heap;</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate = trusted_instance_data-&gt;instance_object()-&gt;GetIsolate();</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>    <a class="code hl_class" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>    <a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmInterpreterRuntime.html#a09065610f9ed340ca0f3f14169fd3218">wasm::WasmInterpreterRuntime::UpdateMemoryAddress</a>(</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>        <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(trusted_instance_data-&gt;instance_object(), isolate));</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>  }</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>}</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span> </div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span> </div>
<div class="foldopen" id="foldopen00886" data-start="{" data-end="}">
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmMemoryObject.html#adcea08bfa954c607292e483c82684f5a">  886</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmMemoryObject&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmMemoryObject.html#adcea08bfa954c607292e483c82684f5a">WasmMemoryObject::New</a>(</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSArrayBuffer&gt;</a> buffer, <span class="keywordtype">int</span> maximum,</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>    <a class="code hl_enumeration" href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952">wasm::AddressType</a> address_type) {</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> memory_ctor(</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>      isolate-&gt;native_context()-&gt;wasm_memory_constructor(), isolate);</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span> </div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>  <span class="keyword">auto</span> memory_object = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmMemoryObject&gt;</a>(</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>      isolate-&gt;factory()-&gt;NewJSObject(memory_ctor, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">AllocationType::kOld</a>));</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>  memory_object-&gt;set_array_buffer(*buffer);</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>  memory_object-&gt;set_maximum_pages(maximum);</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>  memory_object-&gt;set_address_type(address_type);</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>  memory_object-&gt;set_padding_for_address_type_0(0);</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>  memory_object-&gt;set_padding_for_address_type_1(0);</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span><span class="preprocessor">#if TAGGED_SIZE_8_BYTES</span></div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>  memory_object-&gt;set_padding_for_address_type_2(0);</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>  memory_object-&gt;set_instances(<a class="code hl_class" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>{isolate}.empty_weak_array_list());</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span> </div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>  std::shared_ptr&lt;BackingStore&gt; backing_store = buffer-&gt;GetBackingStore();</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>  <span class="keywordflow">if</span> (buffer-&gt;is_shared()) {</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>    <span class="comment">// Only Wasm memory can be shared (in contrast to asm.js memory).</span></div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(backing_store &amp;&amp; backing_store-&gt;is_wasm_memory());</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>    backing_store-&gt;AttachSharedWasmMemoryObject(isolate, memory_object);</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (backing_store) {</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!backing_store-&gt;is_shared());</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>  }</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span> </div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>  <span class="comment">// For debugging purposes we memorize a link from the JSArrayBuffer</span></div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>  <span class="comment">// to its owning WasmMemoryObject instance.</span></div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Symbol&gt;</a> symbol =</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>      isolate-&gt;factory()-&gt;array_buffer_wasm_memory_symbol();</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>  <a class="code hl_function" href="classv8_1_1internal_1_1Object.html#a2e8108d7b7d2b826ab90a71b20be7a9d">Object::SetProperty</a>(isolate, buffer, symbol, memory_object).Check();</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span> </div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>  <span class="keywordflow">return</span> memory_object;</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>}</div>
</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span> </div>
<div class="foldopen" id="foldopen00922" data-start="{" data-end="}">
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmMemoryObject.html#a8a8e4db66b5d1c06d4034785fac69886">  922</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;WasmMemoryObject&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmMemoryObject.html#adcea08bfa954c607292e483c82684f5a">WasmMemoryObject::New</a>(</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keywordtype">int</span> initial, <span class="keywordtype">int</span> maximum, <a class="code hl_enumeration" href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160">SharedFlag</a> shared,</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>    <a class="code hl_enumeration" href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952">wasm::AddressType</a> address_type) {</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>  <span class="keywordtype">bool</span> has_maximum = maximum != <a class="code hl_variable" href="classv8_1_1internal_1_1WasmMemoryObject.html#a65b8addcf2135f693f3f83a8acf74aa7">kNoMaximum</a>;</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span> </div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>  <span class="keywordtype">int</span> engine_maximum = address_type == <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952a6601e7b0f7c0f03d9ffa9f222c82e6a0">wasm::AddressType::kI64</a></div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>                           ? <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a4326f4455d83a545760a1048f2d6b122">wasm::max_mem64_pages</a>())</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>                           : <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a2c6edd5180c4a1c2a0454eaac389dc1f">wasm::max_mem32_pages</a>());</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span> </div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>  <span class="keywordflow">if</span> (initial &gt; engine_maximum) <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span> </div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span><span class="preprocessor">#ifdef V8_TARGET_ARCH_32_BIT</span></div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>  <span class="comment">// On 32-bit platforms we need an heuristic here to balance overall memory</span></div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>  <span class="comment">// and address space consumption.</span></div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>  <span class="keyword">constexpr</span> <span class="keywordtype">int</span> kGBPages = 1024 * 1024 * 1024 / <a class="code hl_variable" href="namespacev8_1_1internal_1_1wasm.html#ac29e28cd9a3b18c7e07a3406d5d6ff1a">wasm::kWasmPageSize</a>;</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>  <span class="comment">// We allocate the smallest of the following sizes, but at least the initial</span></div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>  <span class="comment">// size:</span></div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>  <span class="comment">// 1) the module-defined maximum;</span></div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>  <span class="comment">// 2) 1GB;</span></div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>  <span class="comment">// 3) the engine maximum;</span></div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>  <span class="keywordtype">int</span> allocation_maximum = std::min(kGBPages, engine_maximum);</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>  <span class="keywordtype">int</span> heuristic_maximum;</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>  <span class="keywordflow">if</span> (initial &gt; kGBPages) {</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>    <span class="comment">// We always allocate at least the initial size.</span></div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>    heuristic_maximum = initial;</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (has_maximum) {</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>    <span class="comment">// We try to reserve the maximum, but at most the allocation_maximum to</span></div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>    <span class="comment">// avoid OOMs.</span></div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>    heuristic_maximum = std::min(maximum, allocation_maximum);</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (shared == <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16">SharedFlag::kShared</a>) {</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>    <span class="comment">// If shared memory has no maximum, we use the allocation_maximum as an</span></div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>    <span class="comment">// implicit maximum.</span></div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>    heuristic_maximum = allocation_maximum;</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>    <span class="comment">// If non-shared memory has no maximum, we only allocate the initial size</span></div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>    <span class="comment">// and then grow with realloc.</span></div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>    heuristic_maximum = initial;</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>  }</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>  <span class="keywordtype">int</span> heuristic_maximum =</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>      has_maximum ? std::min(engine_maximum, maximum) : engine_maximum;</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span> </div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>  std::unique_ptr&lt;BackingStore&gt; backing_store =</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>      BackingStore::AllocateWasmMemory(isolate, initial, heuristic_maximum,</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>                                       address_type == <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952a0a0ecdb4eded286c722877578774a293">wasm::AddressType::kI32</a></div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>                                           ? <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a5ccd81f4720c063fbbb03699603034c6a047ebee131a760d19529704fdfc1d412">WasmMemoryFlag::kWasmMemory32</a></div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>                                           : <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a5ccd81f4720c063fbbb03699603034c6a076ed6b69b93a14d0f539af6c5bf4913">WasmMemoryFlag::kWasmMemory64</a>,</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>                                       shared);</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span> </div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>  <span class="keywordflow">if</span> (!backing_store) <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span> </div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSArrayBuffer&gt;</a> buffer =</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>      shared == <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16">SharedFlag::kShared</a></div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>          ? isolate-&gt;factory()-&gt;NewJSSharedArrayBuffer(std::move(backing_store))</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>          : isolate-&gt;factory()-&gt;NewJSArrayBuffer(std::move(backing_store));</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span> </div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmMemoryObject.html#adcea08bfa954c607292e483c82684f5a">New</a>(isolate, buffer, maximum, address_type);</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>}</div>
</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span> </div>
<div class="foldopen" id="foldopen00982" data-start="{" data-end="}">
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmMemoryObject.html#a83af2a10e27026f8c76e91833243e5f5">  982</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmMemoryObject.html#a83af2a10e27026f8c76e91833243e5f5">WasmMemoryObject::UseInInstance</a>(</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmMemoryObject&gt;</a> memory,</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data,</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> shared_trusted_instance_data,</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>    <span class="keywordtype">int</span> memory_index_in_instance) {</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>  SetInstanceMemory(*trusted_instance_data, memory-&gt;array_buffer(),</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>                    memory_index_in_instance);</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>  <span class="keywordflow">if</span> (!shared_trusted_instance_data.<a class="code hl_function" href="classv8_1_1internal_1_1DirectHandle.html#a06eb965863d4b0adb5aa7f70aba666e3">is_null</a>()) {</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>    SetInstanceMemory(*shared_trusted_instance_data, memory-&gt;array_buffer(),</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>                      memory_index_in_instance);</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>  }</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WeakArrayList&gt;</a> instances{memory-&gt;instances(), isolate};</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>  <span class="keyword">auto</span> weak_instance_object = <a class="code hl_function" href="classv8_1_1internal_1_1MaybeObjectDirectHandle.html#af39f668bdaaf25432eb7cdbc4066f4d6">MaybeObjectDirectHandle::Weak</a>(</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>      trusted_instance_data-&gt;instance_object(), isolate);</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>  instances = <a class="code hl_function" href="classv8_1_1internal_1_1WeakArrayList.html#ac91eea3c39f649ae0ff2b151c7956ace">WeakArrayList::Append</a>(isolate, instances, weak_instance_object);</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>  memory-&gt;set_instances(*instances);</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>}</div>
</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span> </div>
<div class="foldopen" id="foldopen01000" data-start="{" data-end="}">
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmMemoryObject.html#a31ddf60b7ad075d9a5459341d7d5051e"> 1000</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmMemoryObject.html#a31ddf60b7ad075d9a5459341d7d5051e">WasmMemoryObject::SetNewBuffer</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;JSArrayBuffer&gt;</a> new_buffer) {</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>  set_array_buffer(new_buffer);</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WeakArrayList&gt;</a> instances = this-&gt;instances();</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate = GetIsolate();</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = 0, len = instances-&gt;length(); <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; len; ++<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>) {</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;MaybeObject&gt;</a> elem = instances-&gt;Get(<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>    <span class="keywordflow">if</span> (elem.<a class="code hl_function" href="classv8_1_1internal_1_1TaggedImpl.html#a5d84dde6d0c8149b4560d7c79cf8f1a3">IsCleared</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmInstanceObject&gt;</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#adfd398598d5cab5022712cef2cb18ea7">instance_object</a> =</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>        <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmInstanceObject&gt;</a>(elem.<a class="code hl_function" href="classv8_1_1internal_1_1TaggedImpl.html#af954049cb1526fdcdff6faad97f5fbac">GetHeapObjectAssumeWeak</a>());</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> trusted_data =</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>        <a class="code hl_variable" href="namespacev8_1_1internal.html#adfd398598d5cab5022712cef2cb18ea7">instance_object</a>-&gt;trusted_data(isolate);</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>    <span class="comment">// TODO(clemens): Avoid the iteration by also remembering the memory index</span></div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>    <span class="comment">// if we ever see larger numbers of memories.</span></div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;FixedArray&gt;</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a70e8dccefd7f6f38830c3d495df86da7">memory_objects</a> = trusted_data-&gt;memory_objects();</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>    <span class="keywordtype">int</span> num_memories = <a class="code hl_variable" href="namespacev8_1_1internal.html#a70e8dccefd7f6f38830c3d495df86da7">memory_objects</a>-&gt;length();</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> mem_idx = 0; mem_idx &lt; num_memories; ++mem_idx) {</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#a70e8dccefd7f6f38830c3d495df86da7">memory_objects</a>-&gt;get(mem_idx) == *<span class="keyword">this</span>) {</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>        SetInstanceMemory(trusted_data, new_buffer, mem_idx);</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>      }</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>    }</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>  }</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>}</div>
</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span> </div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen01025" data-start="{" data-end="}">
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmMemoryObject.html#ab04a12b70d33ad72a3442d2a21bbfff7"> 1025</a></span>int32_t <a class="code hl_function" href="classv8_1_1internal_1_1WasmMemoryObject.html#ab04a12b70d33ad72a3442d2a21bbfff7">WasmMemoryObject::Grow</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>                               <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmMemoryObject&gt;</a> memory_object,</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>                               uint32_t pages) {</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>  <a class="code hl_define" href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a>(<span class="stringliteral">&quot;v8.wasm&quot;</span>, <span class="stringliteral">&quot;wasm.GrowMemory&quot;</span>);</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSArrayBuffer&gt;</a> old_buffer(memory_object-&gt;array_buffer(),</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>                                         isolate);</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span> </div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>  std::shared_ptr&lt;BackingStore&gt; backing_store = old_buffer-&gt;GetBackingStore();</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>  <span class="comment">// Only Wasm memory can grow, and Wasm memory always has a backing store.</span></div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(backing_store);</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span> </div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>  <span class="comment">// Check for maximum memory size.</span></div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>  <span class="comment">// Note: The {wasm::max_mem_pages()} limit is already checked in</span></div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>  <span class="comment">// {BackingStore::CopyWasmMemory}, and is irrelevant for</span></div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>  <span class="comment">// {GrowWasmMemoryInPlace} because memory is never allocated with more</span></div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>  <span class="comment">// capacity than that limit.</span></div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>  <span class="keywordtype">size_t</span> old_size = old_buffer-&gt;byte_length();</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, old_size % <a class="code hl_variable" href="namespacev8_1_1internal_1_1wasm.html#ac29e28cd9a3b18c7e07a3406d5d6ff1a">wasm::kWasmPageSize</a>);</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>  <span class="keywordtype">size_t</span> old_pages = old_size / <a class="code hl_variable" href="namespacev8_1_1internal_1_1wasm.html#ac29e28cd9a3b18c7e07a3406d5d6ff1a">wasm::kWasmPageSize</a>;</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>  <span class="keywordtype">size_t</span> max_pages = memory_object-&gt;is_memory64() ? <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a4326f4455d83a545760a1048f2d6b122">wasm::max_mem64_pages</a>()</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>                                                  : <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a2c6edd5180c4a1c2a0454eaac389dc1f">wasm::max_mem32_pages</a>();</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>  <span class="keywordflow">if</span> (memory_object-&gt;has_maximum_pages()) {</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>    max_pages = std::min(max_pages,</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>                         <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(memory_object-&gt;maximum_pages()));</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>  }</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(max_pages, old_pages);</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>  <span class="keywordflow">if</span> (pages &gt; max_pages - old_pages) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span> </div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> must_grow_in_place =</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>      old_buffer-&gt;is_shared() || backing_store-&gt;has_guard_regions();</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> try_grow_in_place =</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>      must_grow_in_place || !<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.stress_wasm_memory_moving;</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span> </div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>  std::optional&lt;size_t&gt; result_inplace =</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>      try_grow_in_place</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>          ? backing_store-&gt;GrowWasmMemoryInPlace(isolate, pages, max_pages)</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>          : std::nullopt;</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>  <span class="keywordflow">if</span> (must_grow_in_place &amp;&amp; !result_inplace.has_value()) {</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>    <span class="comment">// There are different limits per platform, thus crash if the correctness</span></div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>    <span class="comment">// fuzzer is running.</span></div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.correctness_fuzzer_suppressions) {</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>      <a class="code hl_define" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;could not grow wasm memory&quot;</span>);</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>    }</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>  }</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span> </div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>  <span class="comment">// Handle shared memory first.</span></div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>  <span class="keywordflow">if</span> (old_buffer-&gt;is_shared()) {</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(result_inplace.has_value());</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>    backing_store-&gt;BroadcastSharedWasmMemoryGrow(isolate);</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>    <span class="comment">// Broadcasting the update should update this memory object too.</span></div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#aa958a8a4e5dda3abaa031977268ae60e">CHECK_NE</a>(*old_buffer, memory_object-&gt;array_buffer());</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>    <span class="keywordtype">size_t</span> new_pages = result_inplace.value() + pages;</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>    <span class="comment">// If the allocation succeeded, then this can&#39;t possibly overflow:</span></div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>    <span class="keywordtype">size_t</span> new_byte_length = new_pages * <a class="code hl_variable" href="namespacev8_1_1internal_1_1wasm.html#ac29e28cd9a3b18c7e07a3406d5d6ff1a">wasm::kWasmPageSize</a>;</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>    <span class="comment">// This is a less than check, as it is not guaranteed that the SAB</span></div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>    <span class="comment">// length here will be equal to the stashed length above as calls to</span></div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span>    <span class="comment">// grow the same memory object can come in from different workers.</span></div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>    <span class="comment">// It is also possible that a call to Grow was in progress when</span></div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>    <span class="comment">// handling this call.</span></div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>(new_byte_length, memory_object-&gt;array_buffer()-&gt;byte_length());</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>    <span class="comment">// As {old_pages} was read racefully, we return here the synchronized</span></div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>    <span class="comment">// value provided by {GrowWasmMemoryInPlace}, to provide the atomic</span></div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>    <span class="comment">// read-modify-write behavior required by the spec.</span></div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(result_inplace.value());  <span class="comment">// success</span></div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>  }</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span> </div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>  <span class="comment">// Check if the non-shared memory could grow in-place.</span></div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>  <span class="keywordflow">if</span> (result_inplace.has_value()) {</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>    <span class="comment">// Detach old and create a new one with the grown backing store.</span></div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>    <a class="code hl_function" href="classv8_1_1internal_1_1JSArrayBuffer.html#a98d48c4b2a6e4e7d80037a26ed2de8ff">JSArrayBuffer::Detach</a>(old_buffer, <span class="keyword">true</span>).Check();</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSArrayBuffer&gt;</a> new_buffer =</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>        isolate-&gt;factory()-&gt;NewJSArrayBuffer(std::move(backing_store));</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>    memory_object-&gt;SetNewBuffer(*new_buffer);</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>    <span class="comment">// For debugging purposes we memorize a link from the JSArrayBuffer</span></div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>    <span class="comment">// to its owning WasmMemoryObject instance.</span></div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Symbol&gt;</a> symbol =</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>        isolate-&gt;factory()-&gt;array_buffer_wasm_memory_symbol();</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>    <a class="code hl_function" href="classv8_1_1internal_1_1Object.html#a2e8108d7b7d2b826ab90a71b20be7a9d">Object::SetProperty</a>(isolate, new_buffer, symbol, memory_object).Check();</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(result_inplace.value(), old_pages);</div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(result_inplace.value());  <span class="comment">// success</span></div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>  }</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span> </div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>  <span class="keywordtype">size_t</span> new_pages = old_pages + pages;</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>  <span class="comment">// Check for overflow (should be excluded via {max_pages} above).</span></div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(old_pages, new_pages);</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>  <span class="comment">// Trying to grow in-place without actually growing must always succeed.</span></div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(try_grow_in_place, old_pages &lt; new_pages);</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span> </div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>  <span class="comment">// Try allocating a new backing store and copying.</span></div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>  <span class="comment">// To avoid overall quadratic complexity of many small grow operations, we</span></div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>  <span class="comment">// grow by at least 0.5 MB + 12.5% of the existing memory size.</span></div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>  <span class="comment">// These numbers are kept small because we must be careful about address</span></div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>  <span class="comment">// space consumption on 32-bit platforms.</span></div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>  <span class="keywordtype">size_t</span> min_growth = old_pages + 8 + (old_pages &gt;&gt; 3);</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>  <span class="comment">// First apply {min_growth}, then {max_pages}. The order is important, because</span></div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>  <span class="comment">// {min_growth} can be bigger than {max_pages}, and in that case we want to</span></div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>  <span class="comment">// cap to {max_pages}.</span></div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>  <span class="keywordtype">size_t</span> new_capacity = std::min(max_pages, std::max(new_pages, min_growth));</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(new_pages, new_capacity);</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>  std::unique_ptr&lt;BackingStore&gt; new_backing_store =</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>      backing_store-&gt;CopyWasmMemory(isolate, new_pages, new_capacity,</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>                                    memory_object-&gt;is_memory64()</div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>                                        ? <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a5ccd81f4720c063fbbb03699603034c6a076ed6b69b93a14d0f539af6c5bf4913">WasmMemoryFlag::kWasmMemory64</a></div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>                                        : <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a5ccd81f4720c063fbbb03699603034c6a047ebee131a760d19529704fdfc1d412">WasmMemoryFlag::kWasmMemory32</a>);</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>  <span class="keywordflow">if</span> (!new_backing_store) {</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>    <span class="comment">// Crash on out-of-memory if the correctness fuzzer is running.</span></div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.correctness_fuzzer_suppressions) {</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>      <a class="code hl_define" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;could not grow wasm memory&quot;</span>);</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>    }</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>  }</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span> </div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>  <span class="comment">// Detach old and create a new one with the new backing store.</span></div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>  <a class="code hl_function" href="classv8_1_1internal_1_1JSArrayBuffer.html#a98d48c4b2a6e4e7d80037a26ed2de8ff">JSArrayBuffer::Detach</a>(old_buffer, <span class="keyword">true</span>).Check();</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSArrayBuffer&gt;</a> new_buffer =</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>      isolate-&gt;factory()-&gt;NewJSArrayBuffer(std::move(new_backing_store));</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>  memory_object-&gt;SetNewBuffer(*new_buffer);</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>  <span class="comment">// For debugging purposes we memorize a link from the JSArrayBuffer</span></div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>  <span class="comment">// to its owning WasmMemoryObject instance.</span></div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Symbol&gt;</a> symbol =</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>      isolate-&gt;factory()-&gt;array_buffer_wasm_memory_symbol();</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>  <a class="code hl_function" href="classv8_1_1internal_1_1Object.html#a2e8108d7b7d2b826ab90a71b20be7a9d">Object::SetProperty</a>(isolate, new_buffer, symbol, memory_object).Check();</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(old_pages);  <span class="comment">// success</span></div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>}</div>
</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span> </div>
<div class="foldopen" id="foldopen01151" data-start="{" data-end="}">
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmMemoryMapDescriptor.html#a2d0a4da3b456a3bd9e24da39e34b506c"> 1151</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;WasmMemoryMapDescriptor&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmMemoryMapDescriptor.html#a2d0a4da3b456a3bd9e24da39e34b506c">WasmMemoryMapDescriptor::NewFromAnonymous</a>(</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keywordtype">size_t</span> length) {</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span><span class="preprocessor">#if V8_TARGET_OS_LINUX</span></div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.experimental_wasm_memory_control);</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;JSFunction&gt;</a> descriptor_ctor(</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>      isolate-&gt;native_context()-&gt;wasm_memory_map_descriptor_constructor(),</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>      isolate);</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span> </div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>  <span class="keyword">auto</span> descriptor_object = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmMemoryMapDescriptor&gt;</a>(</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>      isolate-&gt;factory()-&gt;NewJSObject(descriptor_ctor, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">AllocationType::kOld</a>));</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span> </div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>  <span class="keywordtype">int</span> file_descriptor = memfd_create(<span class="stringliteral">&quot;wasm_memory_map_descriptor&quot;</span>, MFD_CLOEXEC);</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>  printf(<span class="stringliteral">&quot;Create file descriptor: %d\n&quot;</span>, file_descriptor);</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>  <span class="keywordflow">if</span> (file_descriptor == -1) {</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>    <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>  }</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>  <span class="keywordtype">int</span> ret_val = ftruncate(file_descriptor, length);</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>  <span class="keywordflow">if</span> (ret_val == -1) {</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>    <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>  }</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>  <a class="code hl_typedef" href="classv8_1_1WasmMemoryMapDescriptor.html#a063f4d747215f425345cb62da59469bc">v8::WasmMemoryMapDescriptor::WasmFileDescriptor</a> wasm_fd =</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>      <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="classv8_1_1WasmMemoryMapDescriptor.html#a063f4d747215f425345cb62da59469bc">v8::WasmMemoryMapDescriptor::WasmFileDescriptor</a><span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>          file_descriptor);</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>  descriptor_object-&gt;set_file_descriptor(wasm_fd);</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span> </div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>  <span class="keywordflow">return</span> descriptor_object;</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span><span class="preprocessor">#else   </span><span class="comment">// V8_TARGET_OS_LINUX</span></div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>  <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span><span class="preprocessor">#endif  </span><span class="comment">// V8_TARGET_OS_LINUX</span></div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>}</div>
</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span> </div>
<div class="foldopen" id="foldopen01182" data-start="{" data-end="}">
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmMemoryMapDescriptor.html#a19cefcb190b1174d8c3253a8ae3bc6aa"> 1182</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmMemoryMapDescriptor&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmMemoryMapDescriptor.html#a19cefcb190b1174d8c3253a8ae3bc6aa">WasmMemoryMapDescriptor::NewFromFileDescriptor</a>(</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keywordtype">int</span> file_descriptor) {</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.experimental_wasm_memory_control);</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;JSFunction&gt;</a> descriptor_ctor(</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>      isolate-&gt;native_context()-&gt;wasm_memory_map_descriptor_constructor(),</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>      isolate);</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span> </div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>  <span class="keyword">auto</span> descriptor_object = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmMemoryMapDescriptor&gt;</a>(</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>      isolate-&gt;factory()-&gt;NewJSObject(descriptor_ctor, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">AllocationType::kOld</a>));</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span> </div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>  descriptor_object-&gt;set_file_descriptor(file_descriptor);</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span> </div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>  <span class="keywordflow">return</span> descriptor_object;</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>}</div>
</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span> </div>
<div class="foldopen" id="foldopen01197" data-start="{" data-end="}">
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmMemoryObject.html#a01bb1c85e9c6bdeea02bd4fe6f2e7bab"> 1197</a></span><span class="keywordtype">size_t</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmMemoryObject.html#a01bb1c85e9c6bdeea02bd4fe6f2e7bab">WasmMemoryObject::MapDescriptor</a>(</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmMemoryMapDescriptor&gt;</a> descriptor, <span class="keywordtype">size_t</span> <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>) {</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span><span class="preprocessor">#if V8_TARGET_OS_LINUX</span></div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.experimental_wasm_memory_control);</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>  <span class="keywordflow">if</span> (this-&gt;array_buffer()-&gt;<a class="code hl_variable" href="namespacev8_1_1internal.html#adee95482032a93e07f59341fed5c909f">is_shared</a>()) {</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>    <span class="comment">// TODO(ahaas): Handle concurrent calls to `MapDescriptor`. To prevent</span></div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>    <span class="comment">// concurrency issues, we disable `MapDescriptor` for shared wasm memories</span></div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>    <span class="comment">// so far.</span></div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>  }</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span> </div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>  uint8_t* target =</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>      <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(this-&gt;array_buffer()-&gt;backing_store()) +</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>      <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>;</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span> </div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>  <span class="keyword">struct </span>stat stat_for_size;</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>  <span class="keywordflow">if</span> (fstat(descriptor-&gt;file_descriptor(), &amp;stat_for_size) == -1) {</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>    <span class="comment">// Could not determine file size.</span></div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>  }</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>  <span class="keywordtype">size_t</span> size = <a class="code hl_function" href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a>(stat_for_size.st_size,</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>                        <a class="code hl_function" href="namespacev8_1_1internal.html#a68cd7a6d75e39d01877e03931678b516">GetArrayBufferPageAllocator</a>()-&gt;<a class="code hl_function" href="namespacev8_1_1internal.html#a9f5507dc03f0b35f38b119fc3285586a">AllocatePageSize</a>());</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span> </div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>  <span class="keywordflow">if</span> (size + <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> &lt; size) {</div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>    <span class="comment">// Overflow</span></div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>  }</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>  <span class="keywordflow">if</span> (size + <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> &gt; this-&gt;array_buffer()-&gt;byte_length()) {</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>  }</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span> </div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>  <span class="keywordtype">void</span>* ret_val =</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>      mmap(target, size, PROT_READ | PROT_WRITE, MAP_FIXED | MAP_SHARED,</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>           descriptor-&gt;file_descriptor(), 0);</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>  <span class="keywordflow">if</span> (ret_val == MAP_FAILED) {</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>    printf(<span class="stringliteral">&quot;%s\n&quot;</span>, strerror(errno));</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>  }</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(ret_val, target);</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="setup-heap-internal_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>}</div>
</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span> </div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen01243" data-start="{" data-end="}">
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmGlobalObject.html#aef33c1c2cc823fda9541eb8843e35171"> 1243</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;WasmGlobalObject&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmGlobalObject.html#aef33c1c2cc823fda9541eb8843e35171">WasmGlobalObject::New</a>(</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> trusted_data,</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>    <a class="code hl_class" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;JSArrayBuffer&gt;</a> maybe_untagged_buffer,</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>    <a class="code hl_class" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;FixedArray&gt;</a> maybe_tagged_buffer, <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1ValueType.html">wasm::ValueType</a> type,</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>    int32_t <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>, <span class="keywordtype">bool</span> is_mutable) {</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> global_ctor(</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>      isolate-&gt;native_context()-&gt;wasm_global_constructor(), isolate);</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>  <span class="keyword">auto</span> global_obj =</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmGlobalObject&gt;</a>(isolate-&gt;factory()-&gt;NewJSObject(global_ctor));</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>  {</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>    <span class="comment">// Disallow GC until all fields have acceptable types.</span></div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>    <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>    <span class="keywordflow">if</span> (!trusted_data.<a class="code hl_function" href="classv8_1_1internal_1_1DirectHandle.html#a06eb965863d4b0adb5aa7f70aba666e3">is_null</a>()) {</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>      global_obj-&gt;set_trusted_data(*trusted_data);</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>      global_obj-&gt;clear_trusted_data();</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>    }</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>    global_obj-&gt;set_type(type);</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>    global_obj-&gt;set_offset(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>);</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>    global_obj-&gt;set_is_mutable(is_mutable);</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>  }</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span> </div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>  <span class="keywordflow">if</span> (type.is_reference()) {</div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(maybe_untagged_buffer.<a class="code hl_function" href="classv8_1_1internal_1_1MaybeDirectHandle.html#afa6049503b1adca49361abb0c6f2b46d">is_null</a>());</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FixedArray&gt;</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#afb53db8cc7fb48b96a2be12004cdcb10">tagged_buffer</a>;</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>    <span class="keywordflow">if</span> (!maybe_tagged_buffer.<a class="code hl_function" href="classv8_1_1internal_1_1MaybeDirectHandle.html#a76857e813e1bdb19bbb3cbbfad729f1c">ToHandle</a>(&amp;<a class="code hl_variable" href="namespacev8_1_1internal.html#afb53db8cc7fb48b96a2be12004cdcb10">tagged_buffer</a>)) {</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>      <span class="comment">// If no buffer was provided, create one.</span></div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>      <a class="code hl_variable" href="namespacev8_1_1internal.html#afb53db8cc7fb48b96a2be12004cdcb10">tagged_buffer</a> =</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>          isolate-&gt;factory()-&gt;NewFixedArray(1, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">AllocationType::kOld</a>);</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>      <a class="code hl_define" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>, 0);</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>    }</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>    global_obj-&gt;set_tagged_buffer(*<a class="code hl_variable" href="namespacev8_1_1internal.html#afb53db8cc7fb48b96a2be12004cdcb10">tagged_buffer</a>);</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(maybe_tagged_buffer.<a class="code hl_function" href="classv8_1_1internal_1_1MaybeDirectHandle.html#afa6049503b1adca49361abb0c6f2b46d">is_null</a>());</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>    uint32_t <a class="code hl_function" href="classv8_1_1internal_1_1WasmGlobalObject.html#a9edfe9ec8d5743bb3ca664cfdb54dad8">type_size</a> = type.value_kind_size();</div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span> </div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSArrayBuffer&gt;</a> untagged_buffer;</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>    <span class="keywordflow">if</span> (!maybe_untagged_buffer.<a class="code hl_function" href="classv8_1_1internal_1_1MaybeDirectHandle.html#a76857e813e1bdb19bbb3cbbfad729f1c">ToHandle</a>(&amp;untagged_buffer)) {</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>      <a class="code hl_class" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;JSArrayBuffer&gt;</a> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> =</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>          isolate-&gt;factory()-&gt;NewJSArrayBufferAndBackingStore(</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>              <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + <a class="code hl_function" href="classv8_1_1internal_1_1WasmGlobalObject.html#a9edfe9ec8d5743bb3ca664cfdb54dad8">type_size</a>, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a6d3f691695696e478ebb4a18ab857bfaae914d084ea4fe52636ea783ce1c1cbc0">InitializedFlag::kZeroInitialized</a>);</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span> </div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>      <span class="keywordflow">if</span> (!<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.ToHandle(&amp;untagged_buffer)) <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>    }</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span> </div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>    <span class="comment">// Check that the offset is in bounds.</span></div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + <a class="code hl_function" href="classv8_1_1internal_1_1WasmGlobalObject.html#a9edfe9ec8d5743bb3ca664cfdb54dad8">type_size</a>, untagged_buffer-&gt;byte_length());</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span> </div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>    global_obj-&gt;set_untagged_buffer(*untagged_buffer);</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>  }</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span> </div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>  <span class="keywordflow">return</span> global_obj;</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>}</div>
</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span> </div>
<div class="foldopen" id="foldopen01297" data-start="{" data-end="}">
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1FunctionTargetAndImplicitArg.html#ad0a026e552f339130d8ae3a8c9877c9b"> 1297</a></span><a class="code hl_function" href="classv8_1_1internal_1_1FunctionTargetAndImplicitArg.html#ad0a026e552f339130d8ae3a8c9877c9b">FunctionTargetAndImplicitArg::FunctionTargetAndImplicitArg</a>(</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmTrustedInstanceData&gt;</a> target_instance_data,</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>    <span class="keywordtype">int</span> target_func_index) {</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1FunctionTargetAndImplicitArg.html#a1eb01dce7d0b92cf1d1a044289d9ab4b">implicit_arg_</a> = target_instance_data;</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>  <span class="keywordflow">if</span> (target_func_index &lt;</div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>      <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>          target_instance_data-&gt;module()-&gt;num_imported_functions)) {</div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>    <span class="comment">// The function in the target instance was imported. Load the ref from the</span></div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>    <span class="comment">// dispatch table for imports.</span></div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1FunctionTargetAndImplicitArg.html#a1eb01dce7d0b92cf1d1a044289d9ab4b">implicit_arg_</a> = <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>        <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;TrustedObject&gt;</a>(</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span>            target_instance_data-&gt;dispatch_table_for_imports()-&gt;implicit_arg(</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>                target_func_index)),</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>        isolate);</div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span><span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>    target_func_index_ = target_instance_data-&gt;imported_function_indices()-&gt;get(</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>        target_func_index);</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>    <span class="comment">// The function in the target instance was not imported.</span></div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span><span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>    target_func_index_ = target_func_index;</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>  }</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1FunctionTargetAndImplicitArg.html#adabbd38fc203bd4d656ec7d18e175023">call_target_</a> = target_instance_data-&gt;GetCallTarget(target_func_index);</div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>}</div>
</div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span> </div>
<div class="foldopen" id="foldopen01324" data-start="{" data-end="}">
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a6b3561e058d2843d33a3b8c297fbd50c"> 1324</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a6b3561e058d2843d33a3b8c297fbd50c">ImportedFunctionEntry::SetGenericWasmToJs</a>(</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSReceiver&gt;</a> callable, <a class="code hl_enumeration" href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843a">wasm::Suspend</a> suspend,</div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>    <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html">wasm::CanonicalSig</a>* <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>, <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a> sig_id) {</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a92ab64d42404e439be3d6a7556e32380">Address</a> wrapper_entry;</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a769350a0bf794ab0ebf3c8fc1c8fc450">wasm::IsJSCompatibleSignature</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>)) {</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span>        <a class="code hl_function" href="namespacev8_1_1internal.html#a667827abe3e3649a272fe634ee5b2612">UseGenericWasmToJSWrapper</a>(<a class="code hl_variable" href="namespacev8_1_1internal_1_1wasm.html#a69dd1a4bb0eb499d621cab7dd4843058">wasm::kDefaultImportCallKind</a>, <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>, suspend));</div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span>    wrapper_entry = <a class="code hl_function" href="classv8_1_1internal_1_1Builtins.html#acebcaee6cb63c76d9b36678a3a375187">Builtins::EntryOf</a>(Builtin::kWasmToJsWrapperAsm, isolate);</div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span>    wrapper_entry =</div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>        <a class="code hl_function" href="classv8_1_1internal_1_1Builtins.html#acebcaee6cb63c76d9b36678a3a375187">Builtins::EntryOf</a>(Builtin::kWasmToJsWrapperInvalidSig, isolate);</div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span>  }</div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span>  <a class="code hl_define" href="wasm-objects_8cc.html#a21efa1f26601b2d6f6839765ebc71df9">TRACE_IFT</a>(<span class="stringliteral">&quot;Import callable 0x%&quot;</span> PRIxPTR <span class="stringliteral">&quot;[%d] = {callable=0x%&quot;</span> PRIxPTR</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>            <span class="stringliteral">&quot;, target=0x%&quot;</span> PRIxPTR <span class="stringliteral">&quot;}\n&quot;</span>,</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>            <a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a3ecb46f6c98a2b4165b12fe0410cf1bc">instance_data_</a>-&gt;ptr(), <a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a1c23f1b43dd3aaf0b10ed4a9eb758326">index_</a>, <a class="code hl_function" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a0dc369c8fad0c9c8e98af59d7165ddbc">callable</a>-&gt;ptr(), wrapper_entry);</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmImportData&gt;</a> import_data =</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>      isolate-&gt;factory()-&gt;NewWasmImportData(<a class="code hl_function" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a0dc369c8fad0c9c8e98af59d7165ddbc">callable</a>, suspend, <a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a3ecb46f6c98a2b4165b12fe0410cf1bc">instance_data_</a>,</div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span>                                            <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>);</div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span>  import_data-&gt;SetIndexInTableAsCallOrigin(</div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>      <a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a3ecb46f6c98a2b4165b12fe0410cf1bc">instance_data_</a>-&gt;dispatch_table_for_imports(), <a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a1c23f1b43dd3aaf0b10ed4a9eb758326">index_</a>);</div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span> </div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a3ecb46f6c98a2b4165b12fe0410cf1bc">instance_data_</a>-&gt;dispatch_table_for_imports()-&gt;SetForWrapper(</div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>      <a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a1c23f1b43dd3aaf0b10ed4a9eb758326">index_</a>, *import_data, wrapper_entry, sig_id, <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;signature_hash(),</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>#<span class="keywordflow">if</span> V8_ENABLE_DRUMBRAKE</div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>      WasmDispatchTable::kInvalidFunctionIndex,</div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>#endif  <span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>      <span class="keyword">nullptr</span>, <a class="code hl_enumvalue" href="classv8_1_1internal_1_1WasmDispatchTable.html#ad1ad1647c93a971226e24d85ed741da5a9f2f50b3fefb9ec17a7654a289287866">WasmDispatchTable::kNewEntry</a>);</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span><span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a3ecb46f6c98a2b4165b12fe0410cf1bc">instance_data_</a>-&gt;imported_function_indices()-&gt;set(<a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a1c23f1b43dd3aaf0b10ed4a9eb758326">index_</a>, -1);</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>}</div>
</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span> </div>
<div class="foldopen" id="foldopen01357" data-start="{" data-end="}">
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a659986d11de2e64f193f2134a567a10e"> 1357</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a659986d11de2e64f193f2134a567a10e">ImportedFunctionEntry::SetCompiledWasmToJs</a>(</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSReceiver&gt;</a> callable,</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>    <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">wasm::WasmCode</a>* wasm_to_js_wrapper, <a class="code hl_enumeration" href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843a">wasm::Suspend</a> suspend,</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>    <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html">wasm::CanonicalSig</a>* <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>, <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a> sig_id) {</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>  <a class="code hl_define" href="wasm-objects_8cc.html#a21efa1f26601b2d6f6839765ebc71df9">TRACE_IFT</a>(<span class="stringliteral">&quot;Import callable 0x%&quot;</span> PRIxPTR <span class="stringliteral">&quot;[%d] = {callable=0x%&quot;</span> PRIxPTR</div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>            <span class="stringliteral">&quot;, target=%p}\n&quot;</span>,</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>            <a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a3ecb46f6c98a2b4165b12fe0410cf1bc">instance_data_</a>-&gt;ptr(), <a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a1c23f1b43dd3aaf0b10ed4a9eb758326">index_</a>, <a class="code hl_function" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a0dc369c8fad0c9c8e98af59d7165ddbc">callable</a>-&gt;ptr(),</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>            wasm_to_js_wrapper ? <span class="keyword">nullptr</span></div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>                               : wasm_to_js_wrapper-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a35a765c275210d7f0ca8ec68502120a9">instructions</a>().<a class="code hl_function" href="classv8_1_1base_1_1Vector.html#ad0021e2947c974d78adbbc1d543d43a5">begin</a>());</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless ||</div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>         wasm_to_js_wrapper-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ad8a26bf968040e704a34b3d572ba7d3f">kind</a>() == <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04daef214dac33aaad4bde9322f48d8cc3e4">wasm::WasmCode::kWasmToJsWrapper</a> ||</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>         wasm_to_js_wrapper-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ad8a26bf968040e704a34b3d572ba7d3f">kind</a>() == <a class="code hl_enumvalue" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da806ef6ecaaea44fafa40934e34fceef5">wasm::WasmCode::kWasmToCapiWrapper</a>);</div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmImportData&gt;</a> import_data =</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>      isolate-&gt;factory()-&gt;NewWasmImportData(<a class="code hl_function" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a0dc369c8fad0c9c8e98af59d7165ddbc">callable</a>, suspend, <a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a3ecb46f6c98a2b4165b12fe0410cf1bc">instance_data_</a>,</div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>                                            <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>);</div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmDispatchTable&gt;</a> dispatch_table =</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>      <a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a3ecb46f6c98a2b4165b12fe0410cf1bc">instance_data_</a>-&gt;dispatch_table_for_imports();</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless, wasm_to_js_wrapper == <span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(wasm_to_js_wrapper != <span class="keyword">nullptr</span>,</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>                 wasm_to_js_wrapper-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0c7c3734a1ad0fe3202e49fc5806947c">signature_hash</a>() == <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;signature_hash());</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span> </div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>  dispatch_table-&gt;SetForWrapper(</div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>      <a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a1c23f1b43dd3aaf0b10ed4a9eb758326">index_</a>, *import_data,</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>      <a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless ? <a class="code hl_variable" href="namespacev8_1_1internal.html#a92ab64d42404e439be3d6a7556e32380">Address</a>{}</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>                            : wasm_to_js_wrapper-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>(),</div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>      sig_id, <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;signature_hash(),</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>#<span class="keywordflow">if</span> V8_ENABLE_DRUMBRAKE</div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>      WasmDispatchTable::kInvalidFunctionIndex,</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>#endif  <span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>      wasm_to_js_wrapper, <a class="code hl_enumvalue" href="classv8_1_1internal_1_1WasmDispatchTable.html#ad1ad1647c93a971226e24d85ed741da5a9f2f50b3fefb9ec17a7654a289287866">WasmDispatchTable::kNewEntry</a>);</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span> </div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span><span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a3ecb46f6c98a2b4165b12fe0410cf1bc">instance_data_</a>-&gt;imported_function_indices()-&gt;set(<a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a1c23f1b43dd3aaf0b10ed4a9eb758326">index_</a>, -1);</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>}</div>
</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span> </div>
<div class="foldopen" id="foldopen01394" data-start="{" data-end="}">
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#aff58f12e21d41c7343027b995211e629"> 1394</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#aff58f12e21d41c7343027b995211e629">ImportedFunctionEntry::SetWasmToWasm</a>(</div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> target_instance_data,</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>    <a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> call_target, <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a> sig_id</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>#<span class="keywordflow">if</span> V8_ENABLE_DRUMBRAKE</div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>    ,</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>    <span class="keywordtype">int</span> exported_function_index</div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>#endif  <span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>) {</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>  <a class="code hl_define" href="wasm-objects_8cc.html#a21efa1f26601b2d6f6839765ebc71df9">TRACE_IFT</a>(<span class="stringliteral">&quot;Import Wasm 0x%&quot;</span> PRIxPTR <span class="stringliteral">&quot;[%d] = {instance_data=0x%&quot;</span> PRIxPTR</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>            <span class="stringliteral">&quot;, target=0x%&quot;</span> PRIxPTR <span class="stringliteral">&quot;}\n&quot;</span>,</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>            <a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a3ecb46f6c98a2b4165b12fe0410cf1bc">instance_data_</a>-&gt;ptr(), <a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a1c23f1b43dd3aaf0b10ed4a9eb758326">index_</a>, target_instance_data.<a class="code hl_function" href="classv8_1_1internal_1_1TaggedImpl.html#a04c1b715ba67f397a5a6607d054d9c4c">ptr</a>(),</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>            <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a0a36931b3d2bbcdfcbb253b229838952">wasm::GetProcessWideWasmCodePointerTable</a>()</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>                -&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#a65882a1f49bd2c6a667cd3054f3dc2e2">GetEntrypointWithoutSignatureCheck</a>(call_target));</div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmDispatchTable&gt;</a> dispatch_table =</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>      <a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a3ecb46f6c98a2b4165b12fe0410cf1bc">instance_data_</a>-&gt;dispatch_table_for_imports();</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>  dispatch_table-&gt;SetForNonWrapper(<a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a1c23f1b43dd3aaf0b10ed4a9eb758326">index_</a>, target_instance_data, call_target,</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>                                   sig_id,</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>#<span class="keywordflow">if</span> V8_ENABLE_DRUMBRAKE</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>                                   WasmDispatchTable::kInvalidFunctionIndex,</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>#endif  <span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>                                   <a class="code hl_enumvalue" href="classv8_1_1internal_1_1WasmDispatchTable.html#ad1ad1647c93a971226e24d85ed741da5ae94e8b46dc9495b2683216119d41f6be">WasmDispatchTable::kExistingEntry</a>);</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span> </div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span><span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a3ecb46f6c98a2b4165b12fe0410cf1bc">instance_data_</a>-&gt;imported_function_indices()-&gt;set(<a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a1c23f1b43dd3aaf0b10ed4a9eb758326">index_</a>,</div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>                                                   exported_function_index);</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>}</div>
</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span> </div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span><span class="comment">// Returns an empty Tagged&lt;Object&gt;() if no callable is available, a JSReceiver</span></div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span><span class="comment">// otherwise.</span></div>
<div class="foldopen" id="foldopen01425" data-start="{" data-end="}">
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a63021958628904891284066b5e414b8d"> 1425</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Object&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a63021958628904891284066b5e414b8d">ImportedFunctionEntry::maybe_callable</a>() {</div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Object&gt;</a> data = <a class="code hl_function" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a610c4666b44a3e3a5b45ed43b0e0baf2">implicit_arg</a>();</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>  <span class="keywordflow">if</span> (!IsWasmImportData(data)) <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a5297fd2c72981b2220e6b9a831570fb3">Tagged&lt;Object&gt;</a>();</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;JSReceiver&gt;</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmImportData&gt;</a>(data)-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a0dc369c8fad0c9c8e98af59d7165ddbc">callable</a>());</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>}</div>
</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span> </div>
<div class="foldopen" id="foldopen01431" data-start="{" data-end="}">
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a0dc369c8fad0c9c8e98af59d7165ddbc"> 1431</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;JSReceiver&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a0dc369c8fad0c9c8e98af59d7165ddbc">ImportedFunctionEntry::callable</a>() {</div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;JSReceiver&gt;</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmImportData&gt;</a>(<a class="code hl_function" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a610c4666b44a3e3a5b45ed43b0e0baf2">implicit_arg</a>())-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a0dc369c8fad0c9c8e98af59d7165ddbc">callable</a>());</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>}</div>
</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span> </div>
<div class="foldopen" id="foldopen01435" data-start="{" data-end="}">
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a610c4666b44a3e3a5b45ed43b0e0baf2"> 1435</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Object&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a610c4666b44a3e3a5b45ed43b0e0baf2">ImportedFunctionEntry::implicit_arg</a>() {</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a3ecb46f6c98a2b4165b12fe0410cf1bc">instance_data_</a>-&gt;dispatch_table_for_imports()-&gt;implicit_arg(<a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a1c23f1b43dd3aaf0b10ed4a9eb758326">index_</a>);</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>}</div>
</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span> </div>
<div class="foldopen" id="foldopen01439" data-start="{" data-end="}">
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a0e747f460892159f4f39aa81962d615a"> 1439</a></span><a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> <a class="code hl_function" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a0e747f460892159f4f39aa81962d615a">ImportedFunctionEntry::target</a>() {</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a3ecb46f6c98a2b4165b12fe0410cf1bc">instance_data_</a>-&gt;dispatch_table_for_imports()-&gt;target(<a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a1c23f1b43dd3aaf0b10ed4a9eb758326">index_</a>);</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>}</div>
</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span> </div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span><span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span><span class="keywordtype">int</span> ImportedFunctionEntry::function_index_in_called_module() {</div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a3ecb46f6c98a2b4165b12fe0410cf1bc">instance_data_</a>-&gt;imported_function_indices()-&gt;get(<a class="code hl_variable" href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a1c23f1b43dd3aaf0b10ed4a9eb758326">index_</a>);</div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>}</div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span> </div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span><span class="comment">// static</span></div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span><span class="keyword">constexpr</span> std::array&lt;uint16_t, WasmTrustedInstanceData::kTaggedFieldsCount&gt;</div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#aabf57a672c88fe7c988311cd560a37d1">WasmTrustedInstanceData::kTaggedFieldOffsets</a>;</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span><span class="comment">// static</span></div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span><span class="keyword">constexpr</span> std::array&lt;const char*, WasmTrustedInstanceData::kTaggedFieldsCount&gt;</div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a82e0d67b495b3d12886e1491a43cdb24">WasmTrustedInstanceData::kTaggedFieldNames</a>;</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span><span class="comment">// static</span></div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span><span class="keyword">constexpr</span> std::array&lt;uint16_t, 6&gt;</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a6d40ff595b69eb36026f3ec8d1a35fac">WasmTrustedInstanceData::kProtectedFieldOffsets</a>;</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span><span class="comment">// static</span></div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span><span class="keyword">constexpr</span> std::array&lt;const char*, 6&gt;</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a570376cd95bb723fb0a30b9e1e0ebc0d">WasmTrustedInstanceData::kProtectedFieldNames</a>;</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span> </div>
<div class="foldopen" id="foldopen01462" data-start="{" data-end="}">
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a3b10b49e542f346ba14702828af547c0"> 1462</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a3b10b49e542f346ba14702828af547c0">WasmTrustedInstanceData::SetRawMemory</a>(<span class="keywordtype">int</span> memory_index, uint8_t* mem_start,</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>                                           <span class="keywordtype">size_t</span> mem_size) {</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a45a0717f39b7011dc823c1fe7b83e6fc">CHECK_LT</a>(memory_index, <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#abe17aad860c7790fe78f65cae8e64d29">module</a>()-&gt;memories.size());</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span> </div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>(mem_size, <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#abe17aad860c7790fe78f65cae8e64d29">module</a>()-&gt;memories[memory_index].is_memory64()</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>                         ? <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#adce8d2d1fb7219dada0f8cb31b9ba0ce">wasm::max_mem64_bytes</a>()</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>                         : <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#ab2ccdd8f6263889b55561cb1aa7b566e">wasm::max_mem32_bytes</a>());</div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>  <span class="comment">// All memory bases and sizes are stored in a TrustedFixedAddressArray.</span></div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;TrustedFixedAddressArray&gt;</a> bases_and_sizes = memory_bases_and_sizes();</div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span>  bases_and_sizes-&gt;set(memory_index * 2, <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_variable" href="namespacev8_1_1internal.html#a92ab64d42404e439be3d6a7556e32380">Address</a><span class="keyword">&gt;</span>(mem_start));</div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span>  bases_and_sizes-&gt;set(memory_index * 2 + 1, mem_size);</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>  <span class="comment">// Memory 0 has fast-access fields.</span></div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>  <span class="keywordflow">if</span> (memory_index == 0) {</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>    set_memory0_start(mem_start);</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>    set_memory0_size(mem_size);</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>  }</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>}</div>
</div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span> </div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span><span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Tuple2&gt;</a> WasmTrustedInstanceData::GetOrCreateInterpreterObject(</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmInstanceObject&gt;</a> instance) {</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless);</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate = instance-&gt;GetIsolate();</div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmTrustedInstanceData&gt;</a> trusted_data =</div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(instance-&gt;trusted_data(isolate), isolate);</div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span>  <span class="keywordflow">if</span> (trusted_data-&gt;has_interpreter_object()) {</div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(trusted_data-&gt;interpreter_object(), isolate);</div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span>  }</div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>  <a class="code hl_class" href="classv8_1_1Local.html">Handle&lt;Tuple2&gt;</a> new_interpreter = <a class="code hl_function" href="classv8_1_1internal_1_1WasmInterpreterObject.html#ac1c542eb1645a1d233ff851181fea8ec">WasmInterpreterObject::New</a>(instance);</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(trusted_data-&gt;has_interpreter_object());</div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span>  <span class="keywordflow">return</span> new_interpreter;</div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>}</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span> </div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span><a class="code hl_typedef" href="namespacev8.html#a25d2bd830a15c10ed892862df4c7f2eb">Handle&lt;Tuple2&gt;</a> WasmTrustedInstanceData::GetInterpreterObject(</div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>    <a class="code hl_typedef" href="namespacev8.html#a25d2bd830a15c10ed892862df4c7f2eb">Handle&lt;WasmInstanceObject&gt;</a> instance) {</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless);</div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>  Isolate* isolate = instance-&gt;GetIsolate();</div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span>  <a class="code hl_typedef" href="namespacev8.html#a25d2bd830a15c10ed892862df4c7f2eb">Handle&lt;WasmTrustedInstanceData&gt;</a> trusted_data =</div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(instance-&gt;trusted_data(isolate), isolate);</div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(trusted_data-&gt;has_interpreter_object());</div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(trusted_data-&gt;interpreter_object(), isolate);</div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>}</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span> </div>
<div class="foldopen" id="foldopen01506" data-start="{" data-end="}">
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#aa9358c42d89b73872bf663ca701ea50f"> 1506</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmTrustedInstanceData&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#aa9358c42d89b73872bf663ca701ea50f">WasmTrustedInstanceData::New</a>(</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmModuleObject&gt;</a> module_object,</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>    <span class="keywordtype">bool</span> shared) {</div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>  <span class="comment">// Read the link to the {std::shared_ptr&lt;NativeModule&gt;} once from the</span></div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>  <span class="comment">// `module_object` and use it to initialize the fields of the</span></div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>  <span class="comment">// `WasmTrustedInstanceData`. It will then be stored in a `TrustedManaged` in</span></div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>  <span class="comment">// the `WasmTrustedInstanceData` where it is safe from manipulation.</span></div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span>  std::shared_ptr&lt;wasm::NativeModule&gt; <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a1712b5e555cfe7c555c1167b74a0c81a">native_module</a> =</div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>      <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a50285bb0cb1b1cf4b3c6cb146f73eecb">module_object</a>-&gt;shared_native_module();</div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span> </div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span>  <span class="comment">// Do first allocate all objects that will be stored in instance fields,</span></div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span>  <span class="comment">// because otherwise we would have to allocate when the instance is not fully</span></div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span>  <span class="comment">// initialized yet, which can lead to heap verification errors.</span></div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>  <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#abe17aad860c7790fe78f65cae8e64d29">module</a> = <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a1712b5e555cfe7c555c1167b74a0c81a">native_module</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a443a4c6a0f2bedcc6e0ac7f03ece629e">module</a>();</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span> </div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span>  <span class="keywordtype">int</span> num_imported_functions = <span class="keyword">module</span>-&gt;num_imported_functions;</div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmDispatchTable&gt;</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a1b94465438598ac1a56b03ea0bfe1a46">dispatch_table_for_imports</a> =</div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>      isolate-&gt;factory()-&gt;NewWasmDispatchTable(num_imported_functions,</div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>                                               <a class="code hl_variable" href="namespacev8_1_1internal_1_1wasm.html#ab79ed2eaa1472960bddba3774ba4762c">wasm::kCanonicalFuncRef</a>);</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FixedArray&gt;</a> well_known_imports =</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>      isolate-&gt;factory()-&gt;NewFixedArray(num_imported_functions);</div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span> </div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FixedArray&gt;</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a903827dbc9c71fa8f479929e0db77a4b">func_refs</a> =</div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>      isolate-&gt;factory()-&gt;NewFixedArrayWithZeroes(</div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>          <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#abe17aad860c7790fe78f65cae8e64d29">module</a>-&gt;<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a79b743888793de4a17ae53dd93988de6">functions</a>.size()));</div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span> </div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span>  <span class="keywordtype">int</span> num_imported_mutable_globals = <span class="keyword">module</span>-&gt;num_imported_mutable_globals;</div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>  <span class="comment">// The imported_mutable_globals is essentially a FixedAddressArray (storing</span></div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>  <span class="comment">// sandboxed pointers), but some entries (the indices for reference-type</span></div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span>  <span class="comment">// globals) are accessed as 32-bit integers which is more convenient with a</span></div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>  <span class="comment">// raw ByteArray.</span></div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FixedAddressArray&gt;</a> imported_mutable_globals =</div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>      <a class="code hl_function" href="classv8_1_1internal_1_1FixedAddressArrayBase.html#adf24e1e87fe52fe43e12be1a89b0c87c">FixedAddressArray::New</a>(isolate, num_imported_mutable_globals);</div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span> </div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span>  <span class="keywordtype">int</span> num_data_segments = <span class="keyword">module</span>-&gt;num_declared_data_segments;</div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FixedAddressArray&gt;</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a8b75dab15a004e4731967a4d43d02f57">data_segment_starts</a> =</div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span>      <a class="code hl_function" href="classv8_1_1internal_1_1FixedAddressArrayBase.html#adf24e1e87fe52fe43e12be1a89b0c87c">FixedAddressArray::New</a>(isolate, num_data_segments);</div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FixedUInt32Array&gt;</a> data_segment_sizes =</div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span>      <a class="code hl_function" href="classv8_1_1internal_1_1FixedIntegerArrayBase.html#ab977d693c069b16770327672f8a9ae8e">FixedUInt32Array::New</a>(isolate, num_data_segments);</div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span> </div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span><span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;FixedInt32Array&gt;</a> imported_function_indices =</div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span>      <a class="code hl_function" href="classv8_1_1internal_1_1FixedIntegerArrayBase.html#ab977d693c069b16770327672f8a9ae8e">FixedInt32Array::New</a>(isolate, num_imported_functions);</div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span> </div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span>  <span class="keyword">static_assert</span>(<a class="code hl_variable" href="namespacev8_1_1internal_1_1wasm.html#ab89f70ccd3d4626bef2224d6496f7feb">wasm::kV8MaxWasmMemories</a> &lt; <a class="code hl_variable" href="namespacev8_1_1internal.html#ad03e50e4d15ee0da6a722254f350e7eb">kMaxInt</a> / 2);</div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span>  <span class="keywordtype">int</span> num_memories = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<span class="keyword">module</span>-&gt;memories.size());</div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FixedArray&gt;</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a70e8dccefd7f6f38830c3d495df86da7">memory_objects</a> =</div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>      isolate-&gt;factory()-&gt;NewFixedArray(num_memories);</div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;TrustedFixedAddressArray&gt;</a> memory_bases_and_sizes =</div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span>      <a class="code hl_function" href="classv8_1_1internal_1_1FixedAddressArrayBase.html#adf24e1e87fe52fe43e12be1a89b0c87c">TrustedFixedAddressArray::New</a>(isolate, 2 * num_memories);</div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span> </div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>  <span class="comment">// TODO(clemensb): Should we have singleton empty dispatch table in the</span></div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>  <span class="comment">// trusted space?</span></div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmDispatchTable&gt;</a> empty_dispatch_table =</div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span>      isolate-&gt;factory()-&gt;NewWasmDispatchTable(0, <a class="code hl_variable" href="namespacev8_1_1internal_1_1wasm.html#ab79ed2eaa1472960bddba3774ba4762c">wasm::kCanonicalFuncRef</a>);</div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;ProtectedFixedArray&gt;</a> empty_protected_fixed_array =</div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span>      isolate-&gt;factory()-&gt;empty_protected_fixed_array();</div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span> </div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span>  <span class="comment">// Use the same memory estimate as the (untrusted) Managed in</span></div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span>  <span class="comment">// WasmModuleObject. This is not security critical, and we at least always</span></div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>  <span class="comment">// read the memory estimation of *some* NativeModule here.</span></div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span>  <span class="keywordtype">size_t</span> estimated_size =</div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span>      <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a50285bb0cb1b1cf4b3c6cb146f73eecb">module_object</a>-&gt;managed_native_module()-&gt;estimated_size();</div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;TrustedManaged&lt;wasm::NativeModule&gt;</a>&gt;</div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span>      trusted_managed_native_module = <a class="code hl_function" href="classv8_1_1internal_1_1TrustedManaged.html#a31607218c064dc615cd88ad1ec00f0f5">TrustedManaged&lt;wasm::NativeModule&gt;::From</a>(</div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span>          isolate, estimated_size, <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a1712b5e555cfe7c555c1167b74a0c81a">native_module</a>);</div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span> </div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span>  <span class="comment">// Now allocate the WasmTrustedInstanceData.</span></div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span>  <span class="comment">// During this step, no more allocations should happen because the instance is</span></div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span>  <span class="comment">// incomplete yet, so we should not trigger heap verification at this point.</span></div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmTrustedInstanceData&gt;</a> trusted_data =</div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span>      isolate-&gt;factory()-&gt;NewWasmTrustedInstanceData();</div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span>  {</div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span>    <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowHeapAllocation</a> no_gc;</div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span> </div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span>    <span class="comment">// Some constants:</span></div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span>    uint8_t* empty_backing_store_buffer =</div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span>        <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(<a class="code hl_function" href="namespacev8_1_1internal.html#a846c67d13ac7b1d3ba83702785d024af">EmptyBackingStoreBuffer</a>());</div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"> 1585</span>    <a class="code hl_class" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a> ro_roots{isolate};</div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;FixedArray&gt;</a> empty_fixed_array = ro_roots.empty_fixed_array();</div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span> </div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span>    trusted_data-&gt;set_dispatch_table_for_imports(*<a class="code hl_variable" href="namespacev8_1_1internal.html#a1b94465438598ac1a56b03ea0bfe1a46">dispatch_table_for_imports</a>);</div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span>    trusted_data-&gt;set_imported_mutable_globals(*imported_mutable_globals);</div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>    trusted_data-&gt;set_dispatch_table0(*empty_dispatch_table);</div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>    trusted_data-&gt;set_dispatch_tables(*empty_protected_fixed_array);</div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>    trusted_data-&gt;set_shared_part(*trusted_data);  <span class="comment">// TODO(14616): Good enough?</span></div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>    trusted_data-&gt;set_data_segment_starts(*<a class="code hl_variable" href="namespacev8_1_1internal.html#a8b75dab15a004e4731967a4d43d02f57">data_segment_starts</a>);</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span>    trusted_data-&gt;set_data_segment_sizes(*data_segment_sizes);</div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span>    trusted_data-&gt;set_element_segments(empty_fixed_array);</div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span>    trusted_data-&gt;set_managed_native_module(*trusted_managed_native_module);</div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>    trusted_data-&gt;set_new_allocation_limit_address(</div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>        isolate-&gt;heap()-&gt;NewSpaceAllocationLimitAddress());</div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span>    trusted_data-&gt;set_new_allocation_top_address(</div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span>        isolate-&gt;heap()-&gt;NewSpaceAllocationTopAddress());</div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>    trusted_data-&gt;set_old_allocation_limit_address(</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>        isolate-&gt;heap()-&gt;OldSpaceAllocationLimitAddress());</div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span>    trusted_data-&gt;set_old_allocation_top_address(</div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span>        isolate-&gt;heap()-&gt;OldSpaceAllocationTopAddress());</div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span>    trusted_data-&gt;set_globals_start(empty_backing_store_buffer);</div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span><span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span>    trusted_data-&gt;set_imported_function_indices(*imported_function_indices);</div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span>    trusted_data-&gt;set_native_context(*isolate-&gt;native_context());</div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span>    trusted_data-&gt;set_jump_table_start(<a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a1712b5e555cfe7c555c1167b74a0c81a">native_module</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aad381026fba28fc729be46402fef86e7">jump_table_start</a>());</div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span>    trusted_data-&gt;set_hook_on_function_call_address(</div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span>        isolate-&gt;debug()-&gt;hook_on_function_call_address());</div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span>    trusted_data-&gt;set_managed_object_maps(</div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span>        *isolate-&gt;factory()-&gt;empty_fixed_array());</div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span>    trusted_data-&gt;set_well_known_imports(*well_known_imports);</div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span>    trusted_data-&gt;set_func_refs(*<a class="code hl_variable" href="namespacev8_1_1internal.html#a903827dbc9c71fa8f479929e0db77a4b">func_refs</a>);</div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span>    trusted_data-&gt;set_feedback_vectors(</div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span>        *isolate-&gt;factory()-&gt;empty_fixed_array());</div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span>    trusted_data-&gt;set_tiering_budget_array(</div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span>        <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a1712b5e555cfe7c555c1167b74a0c81a">native_module</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a20151ad81d070cbbceb14edabf32dda5">tiering_budget_array</a>());</div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span>    trusted_data-&gt;set_break_on_entry(<a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a50285bb0cb1b1cf4b3c6cb146f73eecb">module_object</a>-&gt;script()-&gt;break_on_entry());</div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span>    trusted_data-&gt;InitDataSegmentArrays(<a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a1712b5e555cfe7c555c1167b74a0c81a">native_module</a>.get());</div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span>    trusted_data-&gt;set_memory0_start(empty_backing_store_buffer);</div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span>    trusted_data-&gt;set_memory0_size(0);</div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span>    trusted_data-&gt;set_memory_objects(*<a class="code hl_variable" href="namespacev8_1_1internal.html#a70e8dccefd7f6f38830c3d495df86da7">memory_objects</a>);</div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span>    trusted_data-&gt;set_memory_bases_and_sizes(*memory_bases_and_sizes);</div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span>    trusted_data-&gt;set_stress_deopt_counter_address(</div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span>        ExternalReference::stress_deopt_count(isolate).<a class="code hl_function" href="classv8_1_1internal_1_1HeapObject.html#ad440840079c8a6579ae7416dde0d8077">address</a>());</div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span> </div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; num_memories; ++<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>) {</div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span>      memory_bases_and_sizes-&gt;set(</div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span>          2 * <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>, <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_variable" href="namespacev8_1_1internal.html#a92ab64d42404e439be3d6a7556e32380">Address</a><span class="keyword">&gt;</span>(empty_backing_store_buffer));</div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span>      memory_bases_and_sizes-&gt;set(2 * <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> + 1, 0);</div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span>    }</div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span>  }</div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span> </div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span>  <span class="comment">// Allocate the exports object, to be store in the instance object.</span></div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> exports_object =</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span>      isolate-&gt;factory()-&gt;NewJSObjectWithNullProto();</div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"> 1640</span> </div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"> 1641</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmInstanceObject&gt;</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#adfd398598d5cab5022712cef2cb18ea7">instance_object</a>;</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span> </div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span>  <span class="keywordflow">if</span> (!shared) {</div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span>    <span class="comment">// Allocate the WasmInstanceObject (JS wrapper).</span></div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> instance_cons(</div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>        isolate-&gt;native_context()-&gt;wasm_instance_constructor(), isolate);</div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>    <a class="code hl_variable" href="namespacev8_1_1internal.html#adfd398598d5cab5022712cef2cb18ea7">instance_object</a> = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmInstanceObject&gt;</a>(</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span>        isolate-&gt;factory()-&gt;NewJSObject(instance_cons, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">AllocationType::kOld</a>));</div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>    <a class="code hl_variable" href="namespacev8_1_1internal.html#adfd398598d5cab5022712cef2cb18ea7">instance_object</a>-&gt;set_trusted_data(*trusted_data);</div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span>    <a class="code hl_variable" href="namespacev8_1_1internal.html#adfd398598d5cab5022712cef2cb18ea7">instance_object</a>-&gt;set_module_object(*<a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a50285bb0cb1b1cf4b3c6cb146f73eecb">module_object</a>);</div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span>    <a class="code hl_variable" href="namespacev8_1_1internal.html#adfd398598d5cab5022712cef2cb18ea7">instance_object</a>-&gt;set_exports_object(*exports_object);</div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span>    trusted_data-&gt;set_instance_object(*<a class="code hl_variable" href="namespacev8_1_1internal.html#adfd398598d5cab5022712cef2cb18ea7">instance_object</a>);</div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span>  }</div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span> </div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span>  <span class="comment">// Insert the new instance into the scripts weak list of instances. This list</span></div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span>  <span class="comment">// is used for breakpoints affecting all instances belonging to the script.</span></div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a50285bb0cb1b1cf4b3c6cb146f73eecb">module_object</a>-&gt;script()-&gt;type() == Script::Type::kWasm &amp;&amp;</div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span>      !<a class="code hl_variable" href="namespacev8_1_1internal.html#adfd398598d5cab5022712cef2cb18ea7">instance_object</a>.is_null()) {</div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WeakArrayList&gt;</a> weak_instance_list(</div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span>        <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a50285bb0cb1b1cf4b3c6cb146f73eecb">module_object</a>-&gt;script()-&gt;wasm_weak_instance_list(), isolate);</div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span>    weak_instance_list =</div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span>        <a class="code hl_function" href="classv8_1_1internal_1_1WeakArrayList.html#ac91eea3c39f649ae0ff2b151c7956ace">WeakArrayList::Append</a>(isolate, weak_instance_list,</div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span>                              <a class="code hl_function" href="classv8_1_1internal_1_1MaybeObjectDirectHandle.html#af39f668bdaaf25432eb7cdbc4066f4d6">MaybeObjectDirectHandle::Weak</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#adfd398598d5cab5022712cef2cb18ea7">instance_object</a>));</div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span>    <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a50285bb0cb1b1cf4b3c6cb146f73eecb">module_object</a>-&gt;script()-&gt;set_wasm_weak_instance_list(*weak_instance_list);</div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span>  }</div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span> </div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span>  <span class="keywordflow">return</span> trusted_data;</div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span>}</div>
</div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"> 1669</span> </div>
<div class="foldopen" id="foldopen01670" data-start="{" data-end="}">
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a74e85e919dddc266cc1d846849aec50a"> 1670</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a74e85e919dddc266cc1d846849aec50a">WasmTrustedInstanceData::InitDataSegmentArrays</a>(</div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span>    <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">wasm::NativeModule</a>* native_module) {</div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span>  <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#abe17aad860c7790fe78f65cae8e64d29">module</a> = <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a1712b5e555cfe7c555c1167b74a0c81a">native_module</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a443a4c6a0f2bedcc6e0ac7f03ece629e">module</a>();</div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span>  <a class="code hl_class" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> wire_bytes = <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a1712b5e555cfe7c555c1167b74a0c81a">native_module</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5a7bb5fd0dd2615fbbb6b608df1fdd68">wire_bytes</a>();</div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span>  uint32_t num_data_segments = <span class="keyword">module</span>-&gt;num_declared_data_segments;</div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span>  <span class="comment">// The number of declared data segments will be zero if there is no DataCount</span></div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span>  <span class="comment">// section. These arrays will not be allocated nor initialized in that case,</span></div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span>  <span class="comment">// since they cannot be used (since the validator checks that number of</span></div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span>  <span class="comment">// declared data segments when validating the memory.init and memory.drop</span></div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span>  <span class="comment">// instructions).</span></div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(num_data_segments == 0 ||</div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span>         num_data_segments == <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#abe17aad860c7790fe78f65cae8e64d29">module</a>-&gt;<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#adc0a70e660a7112df858945f38616edc">data_segments</a>.size());</div>
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"> 1682</span>  <span class="keywordflow">for</span> (uint32_t <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; num_data_segments; ++<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>) {</div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmDataSegment.html">wasm::WasmDataSegment</a>&amp; segment = <span class="keyword">module</span>-&gt;data_segments[i];</div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span>    <span class="comment">// Initialize the pointer and size of passive segments.</span></div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>    <span class="keyword">auto</span> source_bytes = wire_bytes.<a class="code hl_function" href="classv8_1_1base_1_1Vector.html#a2a7f93a33a4938bd73b628789f214d3d">SubVector</a>(segment.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmDataSegment.html#ad002288f070d114ec32dd93c4874ee5b">source</a>.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html#a4f2dffb7efc3721571b5f1604d5d448a">offset</a>(),</div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span>                                             segment.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmDataSegment.html#ad002288f070d114ec32dd93c4874ee5b">source</a>.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html#a1853a6fc4a88a37d2bb8a91b58781daf">end_offset</a>());</div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span>    <a class="code hl_variable" href="namespacev8_1_1internal.html#a8b75dab15a004e4731967a4d43d02f57">data_segment_starts</a>()-&gt;set(<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>,</div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span>                               <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_variable" href="namespacev8_1_1internal.html#a92ab64d42404e439be3d6a7556e32380">Address</a><span class="keyword">&gt;</span>(source_bytes.begin()));</div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span>    <span class="comment">// Set the active segments to being already dropped, since memory.init on</span></div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span>    <span class="comment">// a dropped passive segment and an active segment have the same</span></div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span>    <span class="comment">// behavior.</span></div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span>    data_segment_sizes()-&gt;set(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>),</div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span>                              segment.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmDataSegment.html#a12e17e3fa84bb4207424e2b348187aa8">active</a> ? 0 : source_bytes.length());</div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span>  }</div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span>}</div>
</div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span> </div>
<div class="foldopen" id="foldopen01697" data-start="{" data-end="}">
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#ad7aa4c4d7b3be1343889e872863e2982"> 1697</a></span><a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#ad7aa4c4d7b3be1343889e872863e2982">WasmTrustedInstanceData::GetCallTarget</a>(uint32_t func_index) {</div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span>  <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">wasm::NativeModule</a>* <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a1712b5e555cfe7c555c1167b74a0c81a">native_module</a> = this-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a1712b5e555cfe7c555c1167b74a0c81a">native_module</a>();</div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span>  <a class="code hl_define" href="check_8h.html#aa48820509053e4a2ad5061bae4fb9c40">SBXCHECK_BOUNDS</a>(func_index, <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a1712b5e555cfe7c555c1167b74a0c81a">native_module</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4210dcf60ee0c22b95de93af93f17f86">num_functions</a>());</div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span>  <span class="keywordflow">if</span> (func_index &lt; native_module-&gt;num_imported_functions()) {</div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a1b94465438598ac1a56b03ea0bfe1a46">dispatch_table_for_imports</a>()-&gt;target(func_index);</div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span>  }</div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"> 1703</span> </div>
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"> 1704</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) {</div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacev8_1_1internal_1_1wasm.html#a7d41c6d12091165e18a14f58ae8b1b91">wasm::kInvalidWasmCodePointer</a>;</div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>  }</div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span> </div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a1712b5e555cfe7c555c1167b74a0c81a">native_module</a>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a63657aff1b54d8355c88d671645a62fd">GetCodePointerHandle</a>(func_index);</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>}</div>
</div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span> </div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen01712" data-start="{" data-end="}">
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#ad5fa0df8fba113e186afd8a1b10b8161"> 1712</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#ad5fa0df8fba113e186afd8a1b10b8161">WasmTrustedInstanceData::CopyTableEntries</a>(</div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data,</div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span>    uint32_t table_dst_index, uint32_t table_src_index, uint32_t dst,</div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span>    uint32_t src, uint32_t <a class="code hl_struct" href="structv8_1_1internal_1_1count.html">count</a>) {</div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a45a0717f39b7011dc823c1fe7b83e6fc">CHECK_LT</a>(table_dst_index, trusted_instance_data-&gt;tables()-&gt;length());</div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a45a0717f39b7011dc823c1fe7b83e6fc">CHECK_LT</a>(table_src_index, trusted_instance_data-&gt;tables()-&gt;length());</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span>  <span class="keyword">auto</span> table_dst =</div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#a60f13a8c00d0433f9336368824ac21a1">direct_handle</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmTableObject&gt;</a>(</div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span>                        trusted_instance_data-&gt;tables()-&gt;get(table_dst_index)),</div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span>                    isolate);</div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span>  <span class="keyword">auto</span> table_src =</div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#a60f13a8c00d0433f9336368824ac21a1">direct_handle</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmTableObject&gt;</a>(</div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>                        trusted_instance_data-&gt;tables()-&gt;get(table_src_index)),</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span>                    isolate);</div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span>  uint32_t max_dst = table_dst-&gt;current_length();</div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span>  uint32_t max_src = table_src-&gt;current_length();</div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span>  <span class="keywordtype">bool</span> copy_backward = src &lt; dst;</div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespacev8_1_1base.html#a600d2abb293e572ea35a21c049781141">base::IsInBounds</a>(dst, <a class="code hl_struct" href="structv8_1_1internal_1_1count.html">count</a>, max_dst) ||</div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span>      !<a class="code hl_function" href="namespacev8_1_1base.html#a600d2abb293e572ea35a21c049781141">base::IsInBounds</a>(src, <a class="code hl_struct" href="structv8_1_1internal_1_1count.html">count</a>, max_src)) {</div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span>  }</div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span> </div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span>  <span class="comment">// no-op</span></div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span>  <span class="keywordflow">if</span> ((dst == src &amp;&amp; table_dst_index == table_src_index) || <a class="code hl_struct" href="structv8_1_1internal_1_1count.html">count</a> == 0) {</div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>  }</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span> </div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span>  <span class="keywordflow">for</span> (uint32_t <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code hl_variable" href="debug-coverage_8cc.html#a86988a65e0d3ece7990c032c159786d6">count</a>; ++<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>) {</div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span>    uint32_t src_index = copy_backward ? (src + <a class="code hl_struct" href="structv8_1_1internal_1_1count.html">count</a> - <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> - 1) : src + <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>;</div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>    uint32_t dst_index = copy_backward ? (dst + <a class="code hl_struct" href="structv8_1_1internal_1_1count.html">count</a> - <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> - 1) : dst + <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>;</div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>    <span class="keyword">auto</span> value = <a class="code hl_function" href="classv8_1_1internal_1_1WasmTableObject.html#a3c8470b664c71c54c8d71a851c4432ad">WasmTableObject::Get</a>(isolate, table_src, src_index);</div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>    <a class="code hl_function" href="classv8_1_1internal_1_1WasmTableObject.html#acfdec070b48fe34a36f7aa7fed63a969">WasmTableObject::Set</a>(isolate, table_dst, dst_index, value);</div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span>  }</div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>}</div>
</div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span> </div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen01750" data-start="{" data-end="}">
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a3559cff5510ccf662c3e1f550de408c2"> 1750</a></span>std::optional&lt;MessageTemplate&gt; <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a3559cff5510ccf662c3e1f550de408c2">WasmTrustedInstanceData::InitTableEntries</a>(</div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data,</div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmTrustedInstanceData&gt;</a> shared_trusted_instance_data,</div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span>    uint32_t table_index, uint32_t segment_index, uint32_t dst, uint32_t src,</div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>    uint32_t <a class="code hl_struct" href="structv8_1_1internal_1_1count.html">count</a>) {</div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>  <a class="code hl_class" href="classv8_1_1internal_1_1AccountingAllocator.html">AccountingAllocator</a> allocator;</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>  <span class="comment">// This {Zone} will be used only by the temporary WasmFullDecoder allocated</span></div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span>  <span class="comment">// down the line from this call. Therefore it is safe to stack-allocate it</span></div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span>  <span class="comment">// here.</span></div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Zone.html">Zone</a> zone(&amp;allocator, <span class="stringliteral">&quot;LoadElemSegment&quot;</span>);</div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span> </div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span>  <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#abe17aad860c7790fe78f65cae8e64d29">module</a> = trusted_instance_data-&gt;module();</div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span> </div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>  <span class="keywordtype">bool</span> table_is_shared = <span class="keyword">module</span>-&gt;tables[table_index].shared;</div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span>  <span class="keywordtype">bool</span> segment_is_shared = <span class="keyword">module</span>-&gt;elem_segments[segment_index].shared;</div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span> </div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTableObject&gt;</a> table_object(</div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmTableObject&gt;</a>((table_is_shared ? shared_trusted_instance_data</div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span>                                             : trusted_instance_data)</div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>                                -&gt;<a class="code hl_variable" href="namespacev8_1_1internal.html#a786d7ba7a8e20ca2cf266040119a02c7">tables</a>()</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>                                -&gt;get(table_index)),</div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span>      isolate);</div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span> </div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span>  <span class="comment">// If needed, try to lazily initialize the element segment.</span></div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span>  std::optional&lt;MessageTemplate&gt; opt_error = <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#ac56e6724b7d8d7abc95b70c8bfdd39af">wasm::InitializeElementSegment</a>(</div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span>      &amp;zone, isolate, trusted_instance_data, shared_trusted_instance_data,</div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>      segment_index);</div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>  <span class="keywordflow">if</span> (opt_error.has_value()) <span class="keywordflow">return</span> opt_error;</div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span> </div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FixedArray&gt;</a> elem_segment(</div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;FixedArray&gt;</a>((segment_is_shared ? shared_trusted_instance_data</div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span>                                          : trusted_instance_data)</div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>                           -&gt;<a class="code hl_variable" href="namespacev8_1_1internal.html#aa69aed986b3ddf45d17b27a01f2d1c56">element_segments</a>()</div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>                           -&gt;get(segment_index)),</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>      isolate);</div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespacev8_1_1base.html#a600d2abb293e572ea35a21c049781141">base::IsInBounds&lt;uint64_t&gt;</a>(dst, <a class="code hl_struct" href="structv8_1_1internal_1_1count.html">count</a>, table_object-&gt;current_length())) {</div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>    <span class="keywordflow">return</span> {MessageTemplate::kWasmTrapTableOutOfBounds};</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>  }</div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespacev8_1_1base.html#a600d2abb293e572ea35a21c049781141">base::IsInBounds&lt;uint64_t&gt;</a>(src, <a class="code hl_struct" href="structv8_1_1internal_1_1count.html">count</a>, elem_segment-&gt;length())) {</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>    <span class="keywordflow">return</span> {MessageTemplate::kWasmTrapElementSegmentOutOfBounds};</div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span>  }</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span> </div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span>  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code hl_variable" href="debug-coverage_8cc.html#a86988a65e0d3ece7990c032c159786d6">count</a>; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span>    <a class="code hl_function" href="classv8_1_1internal_1_1WasmTableObject.html#acfdec070b48fe34a36f7aa7fed63a969">WasmTableObject::Set</a>(</div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span>        isolate, table_object, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(dst + <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>),</div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span>        <a class="code hl_function" href="namespacev8_1_1internal.html#a60f13a8c00d0433f9336368824ac21a1">direct_handle</a>(elem_segment-&gt;get(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(src + <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>)), isolate));</div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span>  }</div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span> </div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span>  <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span>}</div>
</div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span> </div>
<div class="foldopen" id="foldopen01801" data-start="{" data-end="}">
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a6a3c772c7795f345d71f35b3cac43d45"> 1801</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a6a3c772c7795f345d71f35b3cac43d45">WasmTrustedInstanceData::try_get_func_ref</a>(<span class="keywordtype">int</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>,</div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span>                                               <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmFuncRef&gt;</a>* <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>) {</div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Object&gt;</a> val = <a class="code hl_variable" href="namespacev8_1_1internal.html#a903827dbc9c71fa8f479929e0db77a4b">func_refs</a>()-&gt;get(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classv8_1_1internal_1_1TaggedImpl.html#ac581f955a852851b751735177af20efa">IsSmi</a>(val)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span>  *<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmFuncRef&gt;</a>(val);</div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>}</div>
</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span> </div>
<div class="foldopen" id="foldopen01809" data-start="{" data-end="}">
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a743dd82b5a2b1a0664b5fda8d6b50a53"> 1809</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmFuncRef&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a743dd82b5a2b1a0664b5fda8d6b50a53">WasmTrustedInstanceData::GetOrCreateFuncRef</a>(</div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> trusted_instance_data,</div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>    <span class="keywordtype">int</span> function_index) {</div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmFuncRef&gt;</a> existing_func_ref;</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>  <span class="keywordflow">if</span> (trusted_instance_data-&gt;try_get_func_ref(function_index,</div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>                                              &amp;existing_func_ref)) {</div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(existing_func_ref, isolate);</div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span>  }</div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span> </div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span>  <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#abe17aad860c7790fe78f65cae8e64d29">module</a> = trusted_instance_data-&gt;module();</div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>  <span class="keywordtype">bool</span> is_import =</div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span>      function_index &lt; static_cast&lt;int&gt;(<a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#abe17aad860c7790fe78f65cae8e64d29">module</a>-&gt;<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a81b4b2b056e744758f875acafe4c909a">num_imported_functions</a>);</div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span>  <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1ModuleTypeIndex.html">wasm::ModuleTypeIndex</a> sig_index = <span class="keyword">module</span>-&gt;functions[function_index].sig_index;</div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;TrustedObject&gt;</a> implicit_arg =</div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span>      is_import ? <a class="code hl_function" href="namespacev8_1_1internal.html#a60f13a8c00d0433f9336368824ac21a1">direct_handle</a>(</div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span>                      <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;TrustedObject&gt;</a>(</div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span>                          trusted_instance_data-&gt;dispatch_table_for_imports()</div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span>                              -&gt;implicit_arg(function_index)),</div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span>                      isolate)</div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span>                : trusted_instance_data;</div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span> </div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span>  <span class="comment">// TODO(14034): Create funcref RTTs lazily?</span></div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> rtt{</div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;Map&gt;</a>(</div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span>          trusted_instance_data-&gt;managed_object_maps()-&gt;get(sig_index.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#ad0355b4f2bc1bc8a489e4d01da40067b">index</a>)),</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>      isolate};</div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span> </div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmInternalFunction&gt;</a> internal_function =</div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>      isolate-&gt;factory()-&gt;NewWasmInternalFunction(implicit_arg, function_index);</div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmFuncRef&gt;</a> func_ref =</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>      isolate-&gt;factory()-&gt;NewWasmFuncRef(internal_function, rtt);</div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>  trusted_instance_data-&gt;func_refs()-&gt;set(function_index, *func_ref);</div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span> </div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>  <span class="comment">// Reuse the call target of the instance. In case of import wrappers, the</span></div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span>  <span class="comment">// wrapper will automatically get tiered up together since it will use the</span></div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span>  <span class="comment">// same CPT entry.</span></div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span>  internal_function-&gt;set_call_target(</div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span>      trusted_instance_data-&gt;GetCallTarget(function_index));</div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span> </div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span>  <span class="keywordflow">return</span> func_ref;</div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span>}</div>
</div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span> </div>
<div class="foldopen" id="foldopen01852" data-start="{" data-end="}">
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmInternalFunction.html#afc61f955fff63212f4ae19ee110cf978"> 1852</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmInternalFunction.html#afc61f955fff63212f4ae19ee110cf978">WasmInternalFunction::try_get_external</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;JSFunction&gt;</a>* <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>) {</div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>  <span class="keywordflow">if</span> (IsUndefined(external())) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span>  *<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;JSFunction&gt;</a>(external());</div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span>}</div>
</div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span> </div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen01859" data-start="{" data-end="}">
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmInternalFunction.html#aa73c203e0df09290a7561ab7382403e1"> 1859</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;JSFunction&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmInternalFunction.html#aa73c203e0df09290a7561ab7382403e1">WasmInternalFunction::GetOrCreateExternal</a>(</div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmInternalFunction&gt;</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a>) {</div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate = <a class="code hl_function" href="namespacev8_1_1internal.html#a4d3dfe21a456192e79ca3540fccc29c2">GetIsolateFromWritableObject</a>(*<a class="code hl_variable" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a>);</div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span> </div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;JSFunction&gt;</a> existing_external;</div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a>-&gt;try_get_external(&amp;existing_external)) {</div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(existing_external, isolate);</div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span>  }</div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span> </div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>  <span class="comment">// {this} can either be:</span></div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span>  <span class="comment">// - a declared function, i.e. {implicit_arg()} is a WasmTrustedInstanceData,</span></div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span>  <span class="comment">// - or an imported callable, i.e. {implicit_arg()} is a WasmImportData which</span></div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>  <span class="comment">//   refers to the imported instance.</span></div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span>  <span class="comment">// It cannot be a JS/C API function as for those, the external function is set</span></div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span>  <span class="comment">// at creation.</span></div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;TrustedObject&gt;</a> implicit_arg{<a class="code hl_variable" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a>-&gt;implicit_arg(), isolate};</div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4bf21ee96580042a8262a8300dca514c">instance_data</a> =</div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span>      IsWasmTrustedInstanceData(*implicit_arg)</div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span>          ? <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmTrustedInstanceData&gt;</a>(implicit_arg)</div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>          : <a class="code hl_function" href="namespacev8_1_1internal.html#a60f13a8c00d0433f9336368824ac21a1">direct_handle</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmImportData&gt;</a>(*implicit_arg)-&gt;instance_data(),</div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span>                          isolate);</div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span>  <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* module = <a class="code hl_variable" href="namespacev8_1_1internal.html#a4bf21ee96580042a8262a8300dca514c">instance_data</a>-&gt;module();</div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span>  <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmFunction.html">WasmFunction</a>&amp; function = <span class="keyword">module</span>-&gt;functions[internal-&gt;function_index()];</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>  <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a> sig_id =</div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>      <span class="keyword">module</span>-&gt;canonical_sig_id(function.sig_index);</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>  <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html">wasm::CanonicalSig</a>* <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a> =</div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span>      <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">wasm::GetTypeCanonicalizer</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa1f36fc3851ba2316d47223fa2b6e155">LookupFunctionSignature</a>(sig_id);</div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span>  <a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aac1117f1918f3c8580be0e192a1c7307">wasm::TypeCanonicalizer::PrepareForCanonicalTypeId</a>(isolate, sig_id);</div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>  <span class="keywordtype">int</span> wrapper_index = sig_id.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#ad0355b4f2bc1bc8a489e4d01da40067b">index</a>;</div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span> </div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;MaybeObject&gt;</a> entry =</div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span>      isolate-&gt;heap()-&gt;js_to_wasm_wrappers()-&gt;get(wrapper_index);</div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span> </div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Code&gt;</a> wrapper_code;</div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span>  <span class="comment">// {entry} can be cleared or a weak reference to a ready {CodeWrapper}.</span></div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span>  <span class="keywordflow">if</span> (!entry.<a class="code hl_function" href="classv8_1_1internal_1_1TaggedImpl.html#a5d84dde6d0c8149b4560d7c79cf8f1a3">IsCleared</a>()) {</div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span>    wrapper_code = <a class="code hl_function" href="namespacev8_1_1internal.html#a60f13a8c00d0433f9336368824ac21a1">direct_handle</a>(</div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span>        <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;CodeWrapper&gt;</a>(entry.<a class="code hl_function" href="classv8_1_1internal_1_1TaggedImpl.html#af954049cb1526fdcdff6faad97f5fbac">GetHeapObjectAssumeWeak</a>())-&gt;code(isolate),</div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span>        isolate);</div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span><span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) {</div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span>    wrapper_code = isolate-&gt;builtins()-&gt;code_handle(</div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span>        Builtin::kGenericJSToWasmInterpreterWrapper);</div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CanUseGenericJsToWasmWrapper(module, <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>)) {</div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span>    isolate-&gt;EnsureGenericJSToWasmWrapperParamBufferExists();</div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.stress_wasm_stack_switching) {</div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span>      wrapper_code =</div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span>          isolate-&gt;builtins()-&gt;code_handle(Builtin::kWasmStressSwitch);</div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"> 1909</span>      wrapper_code =</div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span>          isolate-&gt;builtins()-&gt;code_handle(Builtin::kJSToWasmWrapper);</div>
<div class="line"><a id="l01911" name="l01911"></a><span class="lineno"> 1911</span>    }</div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>    <span class="comment">// The wrapper does not exist yet; compile it now.</span></div>
<div class="line"><a id="l01914" name="l01914"></a><span class="lineno"> 1914</span>    wrapper_code = <a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1JSToWasmWrapperCompilationUnit.html#a686f0a2d3c5683c5781dc77b45c5ecec">wasm::JSToWasmWrapperCompilationUnit::CompileJSToWasmWrapper</a>(</div>
<div class="line"><a id="l01915" name="l01915"></a><span class="lineno"> 1915</span>        isolate, <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>, sig_id);</div>
<div class="line"><a id="l01916" name="l01916"></a><span class="lineno"> 1916</span>    <span class="comment">// This should have added an entry in the per-isolate cache.</span></div>
<div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#a96a98d1219c08bac1c5c91ba9dacd1d4">MakeWeak</a>(wrapper_code-&gt;wrapper()),</div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span>              isolate-&gt;heap()-&gt;js_to_wasm_wrappers()-&gt;get(wrapper_index));</div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span>  }</div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"> 1920</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmFuncRef&gt;</a> func_ref{</div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"> 1921</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmFuncRef&gt;</a>(</div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span>          <a class="code hl_variable" href="namespacev8_1_1internal.html#a4bf21ee96580042a8262a8300dca514c">instance_data</a>-&gt;func_refs()-&gt;get(<a class="code hl_variable" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a>-&gt;function_index())),</div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span>      isolate};</div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"> 1924</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(func_ref-&gt;internal(isolate), *<a class="code hl_variable" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a>);</div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"> 1925</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> = <a class="code hl_function" href="classv8_1_1internal_1_1WasmExportedFunction.html#aba073d48c8e2520f56b42b2b0621ee9b">WasmExportedFunction::New</a>(</div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"> 1926</span>      isolate, <a class="code hl_variable" href="namespacev8_1_1internal.html#a4bf21ee96580042a8262a8300dca514c">instance_data</a>, func_ref, <a class="code hl_variable" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a>,</div>
<div class="line"><a id="l01927" name="l01927"></a><span class="lineno"> 1927</span>      <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;parameter_count()), wrapper_code);</div>
<div class="line"><a id="l01928" name="l01928"></a><span class="lineno"> 1928</span> </div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a>-&gt;set_external(*<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>);</div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>;</div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"> 1931</span>}</div>
</div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span> </div>
<div class="foldopen" id="foldopen01933" data-start="{" data-end="}">
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmImportData.html#aa4e2be8693dfea569a0e6264c7d7fae7"> 1933</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmImportData.html#aa4e2be8693dfea569a0e6264c7d7fae7">WasmImportData::SetIndexInTableAsCallOrigin</a>(</div>
<div class="line"><a id="l01934" name="l01934"></a><span class="lineno"> 1934</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmDispatchTable&gt;</a> table, <span class="keywordtype">int</span> entry_index) {</div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span>  set_call_origin(table);</div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span>  set_table_slot(entry_index);</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span>}</div>
</div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span> </div>
<div class="foldopen" id="foldopen01939" data-start="{" data-end="}">
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmImportData.html#a5e5fe028402ec8919bc6fa46e6057d08"> 1939</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmImportData.html#a5e5fe028402ec8919bc6fa46e6057d08">WasmImportData::SetFuncRefAsCallOrigin</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmInternalFunction&gt;</a> func) {</div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span>  set_call_origin(func);</div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span>}</div>
</div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span> </div>
<div class="foldopen" id="foldopen01943" data-start="{" data-end="}">
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a7558971c5572009784c8a45e25033bdc"> 1943</a></span>uint8_t* <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a7558971c5572009784c8a45e25033bdc">WasmTrustedInstanceData::GetGlobalStorage</a>(</div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html">wasm::WasmGlobal</a>&amp; global) {</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!global.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html#a65b8d04d9022b2619f9bc51256d6946e">type</a>.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a786387bf26930354003d39a87eec7921">is_reference</a>());</div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span>  <span class="keywordflow">if</span> (global.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html#ab337075faef641441d4180f20d0a9365">mutability</a> &amp;&amp; global.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html#a24043583c0a876cc3c838259974492f5">imported</a>) {</div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span>    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span>        imported_mutable_globals()-&gt;get_sandboxed_pointer(global.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html#a41c558eeba7d915933647fdbdb1daf41">index</a>));</div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span>  }</div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a321483bf059e8447957a469e2896b">globals_start</a>() + global.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html#a542230c2ed200a1e8a0c6d1423a9426a">offset</a>;</div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span>}</div>
</div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span> </div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span>std::pair&lt;Tagged&lt;FixedArray&gt;, uint32_t&gt;</div>
<div class="foldopen" id="foldopen01954" data-start="{" data-end="}">
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a2b52a6afd836b6b563383e787d3131e7"> 1954</a></span><a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a2b52a6afd836b6b563383e787d3131e7">WasmTrustedInstanceData::GetGlobalBufferAndIndex</a>(</div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html">wasm::WasmGlobal</a>&amp; global) {</div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l01957" name="l01957"></a><span class="lineno"> 1957</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(global.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html#a65b8d04d9022b2619f9bc51256d6946e">type</a>.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a786387bf26930354003d39a87eec7921">is_reference</a>());</div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span>  <span class="keywordflow">if</span> (global.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html#ab337075faef641441d4180f20d0a9365">mutability</a> &amp;&amp; global.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html#a24043583c0a876cc3c838259974492f5">imported</a>) {</div>
<div class="line"><a id="l01959" name="l01959"></a><span class="lineno"> 1959</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;FixedArray&gt;</a> buffer =</div>
<div class="line"><a id="l01960" name="l01960"></a><span class="lineno"> 1960</span>        <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;FixedArray&gt;</a>(imported_mutable_globals_buffers()-&gt;get(global.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html#a41c558eeba7d915933647fdbdb1daf41">index</a>));</div>
<div class="line"><a id="l01961" name="l01961"></a><span class="lineno"> 1961</span>    <a class="code hl_variable" href="namespacev8_1_1internal.html#a92ab64d42404e439be3d6a7556e32380">Address</a> idx = imported_mutable_globals()-&gt;get(global.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html#a41c558eeba7d915933647fdbdb1daf41">index</a>);</div>
<div class="line"><a id="l01962" name="l01962"></a><span class="lineno"> 1962</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(idx, std::numeric_limits&lt;uint32_t&gt;::max());</div>
<div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span>    <span class="keywordflow">return</span> {buffer, <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(idx)};</div>
<div class="line"><a id="l01964" name="l01964"></a><span class="lineno"> 1964</span>  }</div>
<div class="line"><a id="l01965" name="l01965"></a><span class="lineno"> 1965</span>  <span class="keywordflow">return</span> {<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9b306ced7c7f7e1cd449e20bd536cb3">tagged_globals_buffer</a>(), global.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html#a542230c2ed200a1e8a0c6d1423a9426a">offset</a>};</div>
<div class="line"><a id="l01966" name="l01966"></a><span class="lineno"> 1966</span>}</div>
</div>
<div class="line"><a id="l01967" name="l01967"></a><span class="lineno"> 1967</span> </div>
<div class="foldopen" id="foldopen01968" data-start="{" data-end="}">
<div class="line"><a id="l01968" name="l01968"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#abc9dc826c0283941be4d1e6cfa9371d3"> 1968</a></span><a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WasmValue.html">wasm::WasmValue</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#abc9dc826c0283941be4d1e6cfa9371d3">WasmTrustedInstanceData::GetGlobalValue</a>(</div>
<div class="line"><a id="l01969" name="l01969"></a><span class="lineno"> 1969</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html">wasm::WasmGlobal</a>&amp; global) {</div>
<div class="line"><a id="l01970" name="l01970"></a><span class="lineno"> 1970</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l01971" name="l01971"></a><span class="lineno"> 1971</span>  <span class="keywordflow">if</span> (global.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html#a65b8d04d9022b2619f9bc51256d6946e">type</a>.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a786387bf26930354003d39a87eec7921">is_reference</a>()) {</div>
<div class="line"><a id="l01972" name="l01972"></a><span class="lineno"> 1972</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;FixedArray&gt;</a> global_buffer;  <span class="comment">// The buffer of the global.</span></div>
<div class="line"><a id="l01973" name="l01973"></a><span class="lineno"> 1973</span>    uint32_t global_index = 0;         <span class="comment">// The index into the buffer.</span></div>
<div class="line"><a id="l01974" name="l01974"></a><span class="lineno"> 1974</span>    std::tie(global_buffer, global_index) = <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a2b52a6afd836b6b563383e787d3131e7">GetGlobalBufferAndIndex</a>(global);</div>
<div class="line"><a id="l01975" name="l01975"></a><span class="lineno"> 1975</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WasmValue.html">wasm::WasmValue</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(global_buffer-&gt;get(global_index), isolate),</div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"> 1976</span>                           global.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html#a65b8d04d9022b2619f9bc51256d6946e">type</a>, <a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#abe17aad860c7790fe78f65cae8e64d29">module</a>());</div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span>  }</div>
<div class="line"><a id="l01978" name="l01978"></a><span class="lineno"> 1978</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a92ab64d42404e439be3d6a7556e32380">Address</a> <a class="code hl_function" href="classv8_1_1internal_1_1TaggedImpl.html#a04c1b715ba67f397a5a6607d054d9c4c">ptr</a> = <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_variable" href="namespacev8_1_1internal.html#a92ab64d42404e439be3d6a7556e32380">Address</a><span class="keyword">&gt;</span>(<a class="code hl_function" href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a7558971c5572009784c8a45e25033bdc">GetGlobalStorage</a>(global));</div>
<div class="line"><a id="l01979" name="l01979"></a><span class="lineno"> 1979</span>  <span class="keywordflow">switch</span> (global.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html#a65b8d04d9022b2619f9bc51256d6946e">type</a>.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a777139722a5dbb1f696aa90375aab584">kind</a>()) {</div>
<div class="line"><a id="l01980" name="l01980"></a><span class="lineno"> 1980</span><span class="preprocessor">#define CASE_TYPE(valuetype, ctype) \</span></div>
<div class="line"><a id="l01981" name="l01981"></a><span class="lineno"> 1981</span><span class="preprocessor">  case wasm::valuetype:             \</span></div>
<div class="line"><a id="l01982" name="l01982"></a><span class="lineno"> 1982</span><span class="preprocessor">    return wasm::WasmValue(base::ReadUnalignedValue&lt;ctype&gt;(ptr));</span></div>
<div class="line"><a id="l01983" name="l01983"></a><span class="lineno"> 1983</span>    <a class="code hl_define" href="value-type_8h.html#adf86c65c5ba682f447bce7040a35a995">FOREACH_WASMVALUE_CTYPES</a>(<a class="code hl_define" href="wasm-objects_8cc.html#a0979779f556ee0d06534c86c91092716">CASE_TYPE</a>)</div>
<div class="line"><a id="l01984" name="l01984"></a><span class="lineno"> 1984</span><span class="preprocessor">#undef CASE_TYPE</span></div>
<div class="line"><a id="l01985" name="l01985"></a><span class="lineno"> 1985</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01986" name="l01986"></a><span class="lineno"> 1986</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a id="l01987" name="l01987"></a><span class="lineno"> 1987</span>  }</div>
<div class="line"><a id="l01988" name="l01988"></a><span class="lineno"> 1988</span>}</div>
</div>
<div class="line"><a id="l01989" name="l01989"></a><span class="lineno"> 1989</span> </div>
<div class="foldopen" id="foldopen01990" data-start="{" data-end="}">
<div class="line"><a id="l01990" name="l01990"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmStruct.html#a9bfd362a1d1c2f9a5eaa51e5740c4d59"> 1990</a></span><a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WasmValue.html">wasm::WasmValue</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmStruct.html#a9bfd362a1d1c2f9a5eaa51e5740c4d59">WasmStruct::GetFieldValue</a>(uint32_t <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a id="l01991" name="l01991"></a><span class="lineno"> 1991</span>  <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1ValueType.html">wasm::ValueType</a> field_type = <a class="code hl_function" href="classv8_1_1internal_1_1WasmStruct.html#acc32232d00fec68981dc707613f86111">type</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1StructType.html#a0befc03840ccdf98e89b868ecaf154c7">field</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l01992" name="l01992"></a><span class="lineno"> 1992</span>  <span class="keywordtype">int</span> field_offset = WasmStruct::kHeaderSize + <a class="code hl_function" href="classv8_1_1internal_1_1WasmStruct.html#acc32232d00fec68981dc707613f86111">type</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1StructTypeBase.html#a5228db786b7257b3491b238fc82eebe3">field_offset</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l01993" name="l01993"></a><span class="lineno"> 1993</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a92ab64d42404e439be3d6a7556e32380">Address</a> field_address = GetFieldAddress(field_offset);</div>
<div class="line"><a id="l01994" name="l01994"></a><span class="lineno"> 1994</span>  <span class="keywordflow">switch</span> (field_type.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a777139722a5dbb1f696aa90375aab584">kind</a>()) {</div>
<div class="line"><a id="l01995" name="l01995"></a><span class="lineno"> 1995</span><span class="preprocessor">#define CASE_TYPE(valuetype, ctype) \</span></div>
<div class="line"><a id="l01996" name="l01996"></a><span class="lineno"> 1996</span><span class="preprocessor">  case wasm::valuetype:             \</span></div>
<div class="line"><a id="l01997" name="l01997"></a><span class="lineno"> 1997</span><span class="preprocessor">    return wasm::WasmValue(base::ReadUnalignedValue&lt;ctype&gt;(field_address));</span></div>
<div class="line"><a id="l01998" name="l01998"></a><span class="lineno"> 1998</span>    <a class="code hl_define" href="wasm-objects_8cc.html#a0979779f556ee0d06534c86c91092716">CASE_TYPE</a>(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a6c86e764d5c427a8339c3920a3c08603">kI8</a>, int8_t)</div>
<div class="line"><a id="l01999" name="l01999"></a><span class="lineno"> 1999</span>    <a class="code hl_define" href="wasm-objects_8cc.html#a0979779f556ee0d06534c86c91092716">CASE_TYPE</a>(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a1201e21104cbb7ea3a7c362efcb325a3">kI16</a>, int16_t)</div>
<div class="line"><a id="l02000" name="l02000"></a><span class="lineno"> 2000</span>    <a class="code hl_define" href="value-type_8h.html#adf86c65c5ba682f447bce7040a35a995">FOREACH_WASMVALUE_CTYPES</a>(<a class="code hl_define" href="wasm-objects_8cc.html#a0979779f556ee0d06534c86c91092716">CASE_TYPE</a>)</div>
<div class="line"><a id="l02001" name="l02001"></a><span class="lineno"> 2001</span><span class="preprocessor">#undef CASE_TYPE</span></div>
<div class="line"><a id="l02002" name="l02002"></a><span class="lineno"> 2002</span>    <span class="keywordflow">case</span> wasm::kF16:</div>
<div class="line"><a id="l02003" name="l02003"></a><span class="lineno"> 2003</span>      <span class="keywordflow">return</span> <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WasmValue.html">wasm::WasmValue</a>(fp16_ieee_to_fp32_value(</div>
<div class="line"><a id="l02004" name="l02004"></a><span class="lineno"> 2004</span>          <a class="code hl_function" href="namespacev8_1_1base.html#a0b04f46ee47c13e48f05a4c0031b94c3">base::ReadUnalignedValue&lt;uint16_t&gt;</a>(field_address)));</div>
<div class="line"><a id="l02005" name="l02005"></a><span class="lineno"> 2005</span>    <span class="keywordflow">case</span> wasm::kRef:</div>
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"> 2006</span>    <span class="keywordflow">case</span> wasm::kRefNull: {</div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"> 2007</span>      <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> ref(<a class="code hl_class" href="classv8_1_1internal_1_1TaggedField.html">TaggedField&lt;Object&gt;::load</a>(*<span class="keyword">this</span>, field_offset),</div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span>                         <a class="code hl_function" href="namespacev8_1_1internal.html#a4d3dfe21a456192e79ca3540fccc29c2">GetIsolateFromWritableObject</a>(*<span class="keyword">this</span>));</div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"> 2009</span>      <span class="keywordflow">return</span> <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WasmValue.html">wasm::WasmValue</a>(ref, field_type, <a class="code hl_function" href="classv8_1_1internal_1_1WasmStruct.html#aee520372ea70ac4274921ca216a937d2">module</a>());</div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"> 2010</span>    }</div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"> 2011</span>    <span class="keywordflow">case</span> wasm::kRtt:</div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"> 2012</span>    <span class="keywordflow">case</span> wasm::kVoid:</div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"> 2013</span>    <span class="keywordflow">case</span> wasm::kTop:</div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"> 2014</span>    <span class="keywordflow">case</span> wasm::kBottom:</div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"> 2015</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"> 2016</span>  }</div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"> 2017</span>}</div>
</div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"> 2018</span> </div>
<div class="foldopen" id="foldopen02019" data-start="{" data-end="}">
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmArray.html#a083bf7dcc3db8f7422ff53b33261af95"> 2019</a></span><a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WasmValue.html">wasm::WasmValue</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmArray.html#a083bf7dcc3db8f7422ff53b33261af95">WasmArray::GetElement</a>(uint32_t <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a id="l02020" name="l02020"></a><span class="lineno"> 2020</span>  <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1ValueType.html">wasm::ValueType</a> element_type = <a class="code hl_function" href="classv8_1_1internal_1_1WasmArray.html#aee007fc9f1f96a0f2f2029f8ef0842a3">type</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1ArrayType.html#a33942a61683c7b83fe86986a26333b1a">element_type</a>();</div>
<div class="line"><a id="l02021" name="l02021"></a><span class="lineno"> 2021</span>  <span class="keywordtype">int</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmArray.html#a3cb945dc26102a0b75d0f7fe0d33f5f7">element_offset</a> =</div>
<div class="line"><a id="l02022" name="l02022"></a><span class="lineno"> 2022</span>      WasmArray::kHeaderSize + <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> * element_type.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a09cf4ea5d5c5131cd99bf69b427dd13f">value_kind_size</a>();</div>
<div class="line"><a id="l02023" name="l02023"></a><span class="lineno"> 2023</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a92ab64d42404e439be3d6a7556e32380">Address</a> element_address = GetFieldAddress(<a class="code hl_function" href="classv8_1_1internal_1_1WasmArray.html#a3cb945dc26102a0b75d0f7fe0d33f5f7">element_offset</a>);</div>
<div class="line"><a id="l02024" name="l02024"></a><span class="lineno"> 2024</span>  <span class="keywordflow">switch</span> (element_type.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a777139722a5dbb1f696aa90375aab584">kind</a>()) {</div>
<div class="line"><a id="l02025" name="l02025"></a><span class="lineno"> 2025</span><span class="preprocessor">#define CASE_TYPE(value_type, ctype) \</span></div>
<div class="line"><a id="l02026" name="l02026"></a><span class="lineno"> 2026</span><span class="preprocessor">  case wasm::value_type:             \</span></div>
<div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span><span class="preprocessor">    return wasm::WasmValue(base::ReadUnalignedValue&lt;ctype&gt;(element_address));</span></div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span>    <a class="code hl_define" href="wasm-objects_8cc.html#a0979779f556ee0d06534c86c91092716">CASE_TYPE</a>(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a6c86e764d5c427a8339c3920a3c08603">kI8</a>, int8_t)</div>
<div class="line"><a id="l02029" name="l02029"></a><span class="lineno"> 2029</span>    <a class="code hl_define" href="wasm-objects_8cc.html#a0979779f556ee0d06534c86c91092716">CASE_TYPE</a>(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a1201e21104cbb7ea3a7c362efcb325a3">kI16</a>, int16_t)</div>
<div class="line"><a id="l02030" name="l02030"></a><span class="lineno"> 2030</span>    <a class="code hl_define" href="value-type_8h.html#adf86c65c5ba682f447bce7040a35a995">FOREACH_WASMVALUE_CTYPES</a>(<a class="code hl_define" href="wasm-objects_8cc.html#a0979779f556ee0d06534c86c91092716">CASE_TYPE</a>)</div>
<div class="line"><a id="l02031" name="l02031"></a><span class="lineno"> 2031</span><span class="preprocessor">#undef CASE_TYPE</span></div>
<div class="line"><a id="l02032" name="l02032"></a><span class="lineno"> 2032</span>    <span class="keywordflow">case</span> wasm::kF16:</div>
<div class="line"><a id="l02033" name="l02033"></a><span class="lineno"> 2033</span>      <span class="keywordflow">return</span> <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WasmValue.html">wasm::WasmValue</a>(fp16_ieee_to_fp32_value(</div>
<div class="line"><a id="l02034" name="l02034"></a><span class="lineno"> 2034</span>          <a class="code hl_function" href="namespacev8_1_1base.html#a0b04f46ee47c13e48f05a4c0031b94c3">base::ReadUnalignedValue&lt;uint16_t&gt;</a>(element_address)));</div>
<div class="line"><a id="l02035" name="l02035"></a><span class="lineno"> 2035</span>    <span class="keywordflow">case</span> wasm::kRef:</div>
<div class="line"><a id="l02036" name="l02036"></a><span class="lineno"> 2036</span>    <span class="keywordflow">case</span> wasm::kRefNull: {</div>
<div class="line"><a id="l02037" name="l02037"></a><span class="lineno"> 2037</span>      <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> ref(<a class="code hl_class" href="classv8_1_1internal_1_1TaggedField.html">TaggedField&lt;Object&gt;::load</a>(*<span class="keyword">this</span>, <a class="code hl_function" href="classv8_1_1internal_1_1WasmArray.html#a3cb945dc26102a0b75d0f7fe0d33f5f7">element_offset</a>),</div>
<div class="line"><a id="l02038" name="l02038"></a><span class="lineno"> 2038</span>                         <a class="code hl_function" href="namespacev8_1_1internal.html#a4d3dfe21a456192e79ca3540fccc29c2">GetIsolateFromWritableObject</a>(*<span class="keyword">this</span>));</div>
<div class="line"><a id="l02039" name="l02039"></a><span class="lineno"> 2039</span>      <span class="keywordflow">return</span> <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WasmValue.html">wasm::WasmValue</a>(ref, element_type, <a class="code hl_function" href="classv8_1_1internal_1_1WasmArray.html#ad2d8ac966ea5c9b1eb0ca49766c0457c">module</a>());</div>
<div class="line"><a id="l02040" name="l02040"></a><span class="lineno"> 2040</span>    }</div>
<div class="line"><a id="l02041" name="l02041"></a><span class="lineno"> 2041</span>    <span class="keywordflow">case</span> wasm::kRtt:</div>
<div class="line"><a id="l02042" name="l02042"></a><span class="lineno"> 2042</span>    <span class="keywordflow">case</span> wasm::kVoid:</div>
<div class="line"><a id="l02043" name="l02043"></a><span class="lineno"> 2043</span>    <span class="keywordflow">case</span> wasm::kTop:</div>
<div class="line"><a id="l02044" name="l02044"></a><span class="lineno"> 2044</span>    <span class="keywordflow">case</span> wasm::kBottom:</div>
<div class="line"><a id="l02045" name="l02045"></a><span class="lineno"> 2045</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a id="l02046" name="l02046"></a><span class="lineno"> 2046</span>  }</div>
<div class="line"><a id="l02047" name="l02047"></a><span class="lineno"> 2047</span>}</div>
</div>
<div class="line"><a id="l02048" name="l02048"></a><span class="lineno"> 2048</span> </div>
<div class="foldopen" id="foldopen02049" data-start="{" data-end="}">
<div class="line"><a id="l02049" name="l02049"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmArray.html#a40b023f6ad782775f32009f324a26217"> 2049</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmArray.html#a40b023f6ad782775f32009f324a26217">WasmArray::SetTaggedElement</a>(uint32_t <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> value,</div>
<div class="line"><a id="l02050" name="l02050"></a><span class="lineno"> 2050</span>                                 <a class="code hl_enumeration" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13">WriteBarrierMode</a> mode) {</div>
<div class="line"><a id="l02051" name="l02051"></a><span class="lineno"> 2051</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1WasmArray.html#aee007fc9f1f96a0f2f2029f8ef0842a3">type</a>()-&gt;element_type().is_reference());</div>
<div class="line"><a id="l02052" name="l02052"></a><span class="lineno"> 2052</span>  <a class="code hl_function" href="classv8_1_1internal_1_1TaggedField.html#a8d902c25d47df2b4fa0e50d189bbc705">TaggedField&lt;Object&gt;::store</a>(*<span class="keyword">this</span>, <a class="code hl_function" href="classv8_1_1internal_1_1WasmArray.html#a3cb945dc26102a0b75d0f7fe0d33f5f7">element_offset</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>), *value);</div>
<div class="line"><a id="l02053" name="l02053"></a><span class="lineno"> 2053</span>  <a class="code hl_define" href="object-macros_8h.html#a9231f70a649a71a193851bbd81d05010">CONDITIONAL_WRITE_BARRIER</a>(*<span class="keyword">this</span>, <a class="code hl_function" href="classv8_1_1internal_1_1WasmArray.html#a3cb945dc26102a0b75d0f7fe0d33f5f7">element_offset</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>), *value, mode);</div>
<div class="line"><a id="l02054" name="l02054"></a><span class="lineno"> 2054</span>}</div>
</div>
<div class="line"><a id="l02055" name="l02055"></a><span class="lineno"> 2055</span> </div>
<div class="line"><a id="l02056" name="l02056"></a><span class="lineno"> 2056</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen02057" data-start="{" data-end="}">
<div class="line"><a id="l02057" name="l02057"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTagObject.html#a855bc16461d99c199e34a8b677f9799e"> 2057</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmTagObject&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTagObject.html#a855bc16461d99c199e34a8b677f9799e">WasmTagObject::New</a>(</div>
<div class="line"><a id="l02058" name="l02058"></a><span class="lineno"> 2058</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1Signature.html">wasm::FunctionSig</a>* <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>,</div>
<div class="line"><a id="l02059" name="l02059"></a><span class="lineno"> 2059</span>    <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a> type_index, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;HeapObject&gt;</a> tag,</div>
<div class="line"><a id="l02060" name="l02060"></a><span class="lineno"> 2060</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> trusted_data) {</div>
<div class="line"><a id="l02061" name="l02061"></a><span class="lineno"> 2061</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> tag_cons(</div>
<div class="line"><a id="l02062" name="l02062"></a><span class="lineno"> 2062</span>      isolate-&gt;native_context()-&gt;wasm_tag_constructor(), isolate);</div>
<div class="line"><a id="l02063" name="l02063"></a><span class="lineno"> 2063</span> </div>
<div class="line"><a id="l02064" name="l02064"></a><span class="lineno"> 2064</span>  <span class="comment">// Serialize the signature.</span></div>
<div class="line"><a id="l02065" name="l02065"></a><span class="lineno"> 2065</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;return_count());</div>
<div class="line"><a id="l02066" name="l02066"></a><span class="lineno"> 2066</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;parameter_count(), std::numeric_limits&lt;int&gt;::max());</div>
<div class="line"><a id="l02067" name="l02067"></a><span class="lineno"> 2067</span>  <span class="keywordtype">int</span> sig_size = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;parameter_count());</div>
<div class="line"><a id="l02068" name="l02068"></a><span class="lineno"> 2068</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;PodArray&lt;wasm::ValueType&gt;</a>&gt; serialized_sig =</div>
<div class="line"><a id="l02069" name="l02069"></a><span class="lineno"> 2069</span>      <a class="code hl_function" href="classv8_1_1internal_1_1PodArray.html#a3f28a70fe5af7c7d45ec1d89d2afe748">PodArray&lt;wasm::ValueType&gt;::New</a>(isolate, sig_size, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">AllocationType::kOld</a>);</div>
<div class="line"><a id="l02070" name="l02070"></a><span class="lineno"> 2070</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = 0;  <span class="comment">// Index into the {PodArray} above.</span></div>
<div class="line"><a id="l02071" name="l02071"></a><span class="lineno"> 2071</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1ValueType.html">wasm::ValueType</a> param : <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;parameters()) {</div>
<div class="line"><a id="l02072" name="l02072"></a><span class="lineno"> 2072</span>    serialized_sig-&gt;set(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>++, param);</div>
<div class="line"><a id="l02073" name="l02073"></a><span class="lineno"> 2073</span>  }</div>
<div class="line"><a id="l02074" name="l02074"></a><span class="lineno"> 2074</span> </div>
<div class="line"><a id="l02075" name="l02075"></a><span class="lineno"> 2075</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;JSObject&gt;</a> tag_object =</div>
<div class="line"><a id="l02076" name="l02076"></a><span class="lineno"> 2076</span>      isolate-&gt;factory()-&gt;NewJSObject(tag_cons, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">AllocationType::kOld</a>);</div>
<div class="line"><a id="l02077" name="l02077"></a><span class="lineno"> 2077</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmTagObject&gt;</a> tag_wrapper = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmTagObject&gt;</a>(tag_object);</div>
<div class="line"><a id="l02078" name="l02078"></a><span class="lineno"> 2078</span>  tag_wrapper-&gt;set_serialized_signature(*serialized_sig);</div>
<div class="line"><a id="l02079" name="l02079"></a><span class="lineno"> 2079</span>  tag_wrapper-&gt;set_canonical_type_index(type_index.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#ad0355b4f2bc1bc8a489e4d01da40067b">index</a>);</div>
<div class="line"><a id="l02080" name="l02080"></a><span class="lineno"> 2080</span>  tag_wrapper-&gt;set_tag(*tag);</div>
<div class="line"><a id="l02081" name="l02081"></a><span class="lineno"> 2081</span>  <span class="keywordflow">if</span> (!trusted_data.<a class="code hl_function" href="classv8_1_1internal_1_1DirectHandle.html#a06eb965863d4b0adb5aa7f70aba666e3">is_null</a>()) {</div>
<div class="line"><a id="l02082" name="l02082"></a><span class="lineno"> 2082</span>    tag_wrapper-&gt;set_trusted_data(*trusted_data);</div>
<div class="line"><a id="l02083" name="l02083"></a><span class="lineno"> 2083</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02084" name="l02084"></a><span class="lineno"> 2084</span>    tag_wrapper-&gt;clear_trusted_data();</div>
<div class="line"><a id="l02085" name="l02085"></a><span class="lineno"> 2085</span>  }</div>
<div class="line"><a id="l02086" name="l02086"></a><span class="lineno"> 2086</span> </div>
<div class="line"><a id="l02087" name="l02087"></a><span class="lineno"> 2087</span>  <span class="keywordflow">return</span> tag_wrapper;</div>
<div class="line"><a id="l02088" name="l02088"></a><span class="lineno"> 2088</span>}</div>
</div>
<div class="line"><a id="l02089" name="l02089"></a><span class="lineno"> 2089</span> </div>
<div class="foldopen" id="foldopen02090" data-start="{" data-end="}">
<div class="line"><a id="l02090" name="l02090"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmTagObject.html#a5e0d871680ed27f3dc92de54b1c2257d"> 2090</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmTagObject.html#a5e0d871680ed27f3dc92de54b1c2257d">WasmTagObject::MatchesSignature</a>(<a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a> expected_index) {</div>
<div class="line"><a id="l02091" name="l02091"></a><span class="lineno"> 2091</span>  <span class="keywordflow">return</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a>{<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l02092" name="l02092"></a><span class="lineno"> 2092</span>             this-&gt;canonical_type_index())} == expected_index;</div>
<div class="line"><a id="l02093" name="l02093"></a><span class="lineno"> 2093</span>}</div>
</div>
<div class="line"><a id="l02094" name="l02094"></a><span class="lineno"> 2094</span> </div>
<div class="foldopen" id="foldopen02095" data-start="{" data-end="}">
<div class="line"><a id="l02095" name="l02095"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmCapiFunction.html#a303283aba317fedb0d548295dd9f3a2d"> 2095</a></span><span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html">wasm::CanonicalSig</a>* <a class="code hl_function" href="classv8_1_1internal_1_1WasmCapiFunction.html#a303283aba317fedb0d548295dd9f3a2d">WasmCapiFunction::sig</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l02096" name="l02096"></a><span class="lineno"> 2096</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="js-call-reducer_8cc.html#a9fa9548665fda8f7a8cfad92f3c8cedd">shared</a>()-&gt;wasm_capi_function_data()-&gt;sig();</div>
<div class="line"><a id="l02097" name="l02097"></a><span class="lineno"> 2097</span>}</div>
</div>
<div class="line"><a id="l02098" name="l02098"></a><span class="lineno"> 2098</span> </div>
<div class="line"><a id="l02099" name="l02099"></a><span class="lineno"> 2099</span><span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a id="l02100" name="l02100"></a><span class="lineno"> 2100</span><a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> WasmDispatchTableData::WrapperCodePointerForDebugging(</div>
<div class="line"><a id="l02101" name="l02101"></a><span class="lineno"> 2101</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a id="l02102" name="l02102"></a><span class="lineno"> 2102</span>  <span class="keyword">auto</span> it = <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTableData.html#a137a2ae43ed2633fad5b10003c95771f">wrappers_</a>.find(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l02103" name="l02103"></a><span class="lineno"> 2103</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#aa958a8a4e5dda3abaa031977268ae60e">CHECK_NE</a>(it, <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTableData.html#a137a2ae43ed2633fad5b10003c95771f">wrappers_</a>.end());</div>
<div class="line"><a id="l02104" name="l02104"></a><span class="lineno"> 2104</span>  <span class="keywordflow">return</span> it-&gt;second.call_target;</div>
<div class="line"><a id="l02105" name="l02105"></a><span class="lineno"> 2105</span>}</div>
<div class="line"><a id="l02106" name="l02106"></a><span class="lineno"> 2106</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02107" name="l02107"></a><span class="lineno"> 2107</span> </div>
<div class="foldopen" id="foldopen02108" data-start="{" data-end="}">
<div class="line"><a id="l02108" name="l02108"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmDispatchTableData.html#ac3ad720c689f7db24f6edfc50a834639"> 2108</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTableData.html#ac3ad720c689f7db24f6edfc50a834639">WasmDispatchTableData::IsAWrapper</a>(<span class="keywordtype">int</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l02109" name="l02109"></a><span class="lineno"> 2109</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTableData.html#a137a2ae43ed2633fad5b10003c95771f">wrappers_</a>.contains(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l02110" name="l02110"></a><span class="lineno"> 2110</span>}</div>
</div>
<div class="line"><a id="l02111" name="l02111"></a><span class="lineno"> 2111</span> </div>
<div class="foldopen" id="foldopen02112" data-start="{" data-end="}">
<div class="line"><a id="l02112" name="l02112"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmDispatchTableData.html#a45a43707acc5751fdf77a35b570d5ce8"> 2112</a></span><a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTableData.html#a45a43707acc5751fdf77a35b570d5ce8">WasmDispatchTableData::~WasmDispatchTableData</a>() {</div>
<div class="line"><a id="l02113" name="l02113"></a><span class="lineno"> 2113</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTableData.html#a137a2ae43ed2633fad5b10003c95771f">wrappers_</a>.empty()) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02114" name="l02114"></a><span class="lineno"> 2114</span>  std::vector&lt;wasm::WasmCode*&gt; codes;</div>
<div class="line"><a id="l02115" name="l02115"></a><span class="lineno"> 2115</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> [<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, entry] : <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTableData.html#a137a2ae43ed2633fad5b10003c95771f">wrappers_</a>) {</div>
<div class="line"><a id="l02116" name="l02116"></a><span class="lineno"> 2116</span>    <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a0a36931b3d2bbcdfcbb253b229838952">wasm::GetProcessWideWasmCodePointerTable</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#a65f15597b54747d33d9d892912b1c5f4">FreeEntry</a>(entry.call_target);</div>
<div class="line"><a id="l02117" name="l02117"></a><span class="lineno"> 2117</span>    <span class="keywordflow">if</span> (entry.code) codes.push_back(entry.code);</div>
<div class="line"><a id="l02118" name="l02118"></a><span class="lineno"> 2118</span>  }</div>
<div class="line"><a id="l02119" name="l02119"></a><span class="lineno"> 2119</span>  <a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#aabc336382e10df3a5f7c37ba95d15799">wasm::WasmCode::DecrementRefCount</a>(<a class="code hl_function" href="namespacev8_1_1base.html#ab277246c6caecad159bbc8755cf6bb54">base::VectorOf</a>(codes));</div>
<div class="line"><a id="l02120" name="l02120"></a><span class="lineno"> 2120</span>}</div>
</div>
<div class="line"><a id="l02121" name="l02121"></a><span class="lineno"> 2121</span> </div>
<div class="foldopen" id="foldopen02122" data-start="{" data-end="}">
<div class="line"><a id="l02122" name="l02122"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmDispatchTableData.html#ad69f84a898f2ff0d90c17146f0db66f0"> 2122</a></span><a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTableData.html#ad69f84a898f2ff0d90c17146f0db66f0">WasmDispatchTableData::Add</a>(<span class="keywordtype">int</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="code hl_variable" href="namespacev8_1_1internal.html#a92ab64d42404e439be3d6a7556e32380">Address</a> call_target,</div>
<div class="line"><a id="l02123" name="l02123"></a><span class="lineno"> 2123</span>                                           <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">wasm::WasmCode</a>* compiled_wrapper,</div>
<div class="line"><a id="l02124" name="l02124"></a><span class="lineno"> 2124</span>                                           uint64_t signature_hash) {</div>
<div class="line"><a id="l02125" name="l02125"></a><span class="lineno"> 2125</span>  <a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> code_pointer;</div>
<div class="line"><a id="l02126" name="l02126"></a><span class="lineno"> 2126</span>  <span class="keyword">auto</span> it = <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTableData.html#a137a2ae43ed2633fad5b10003c95771f">wrappers_</a>.find(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l02127" name="l02127"></a><span class="lineno"> 2127</span>  <span class="keywordflow">if</span> (it == <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTableData.html#a137a2ae43ed2633fad5b10003c95771f">wrappers_</a>.end()) {</div>
<div class="line"><a id="l02128" name="l02128"></a><span class="lineno"> 2128</span>    code_pointer =</div>
<div class="line"><a id="l02129" name="l02129"></a><span class="lineno"> 2129</span>        <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a0a36931b3d2bbcdfcbb253b229838952">wasm::GetProcessWideWasmCodePointerTable</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#af436bb2d545345a376c8cb9c691ed22e">AllocateAndInitializeEntry</a>(</div>
<div class="line"><a id="l02130" name="l02130"></a><span class="lineno"> 2130</span>            call_target, signature_hash);</div>
<div class="line"><a id="l02131" name="l02131"></a><span class="lineno"> 2131</span>    <span class="keyword">auto</span> [wrapper_cache, was_inserted] =</div>
<div class="line"><a id="l02132" name="l02132"></a><span class="lineno"> 2132</span>        <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTableData.html#a137a2ae43ed2633fad5b10003c95771f">wrappers_</a>.emplace(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="code hl_struct" href="structv8_1_1internal_1_1WasmDispatchTableData_1_1WrapperEntry.html">WrapperEntry</a>{code_pointer, compiled_wrapper});</div>
<div class="line"><a id="l02133" name="l02133"></a><span class="lineno"> 2133</span>    <a class="code hl_define" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(was_inserted);</div>
<div class="line"><a id="l02134" name="l02134"></a><span class="lineno"> 2134</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(was_inserted);</div>
<div class="line"><a id="l02135" name="l02135"></a><span class="lineno"> 2135</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02136" name="l02136"></a><span class="lineno"> 2136</span>    <span class="keyword">auto</span>&amp; [existing_code_pointer, wrapper_code] = it-&gt;second;</div>
<div class="line"><a id="l02137" name="l02137"></a><span class="lineno"> 2137</span>    code_pointer = existing_code_pointer;</div>
<div class="line"><a id="l02138" name="l02138"></a><span class="lineno"> 2138</span>    <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a0a36931b3d2bbcdfcbb253b229838952">wasm::GetProcessWideWasmCodePointerTable</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#a2fd4a03eb9cfc1412bc02dc30638e640">UpdateEntrypoint</a>(</div>
<div class="line"><a id="l02139" name="l02139"></a><span class="lineno"> 2139</span>        code_pointer, call_target, signature_hash);</div>
<div class="line"><a id="l02140" name="l02140"></a><span class="lineno"> 2140</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(wrapper_code);</div>
<div class="line"><a id="l02141" name="l02141"></a><span class="lineno"> 2141</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(compiled_wrapper);</div>
<div class="line"><a id="l02142" name="l02142"></a><span class="lineno"> 2142</span>    wrapper_code = compiled_wrapper;</div>
<div class="line"><a id="l02143" name="l02143"></a><span class="lineno"> 2143</span>  }</div>
<div class="line"><a id="l02144" name="l02144"></a><span class="lineno"> 2144</span>  <span class="keywordflow">if</span> (compiled_wrapper) {</div>
<div class="line"><a id="l02145" name="l02145"></a><span class="lineno"> 2145</span>    compiled_wrapper-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ad60a6ef9ac5fe39bc7c33b3ef12acced">IncRef</a>();</div>
<div class="line"><a id="l02146" name="l02146"></a><span class="lineno"> 2146</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02147" name="l02147"></a><span class="lineno"> 2147</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(<a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a36345041662f17bb39d27709c1cb78ac">wasm::GetWasmImportWrapperCache</a>()-&gt;FindWrapper(code_pointer));</div>
<div class="line"><a id="l02148" name="l02148"></a><span class="lineno"> 2148</span>  }</div>
<div class="line"><a id="l02149" name="l02149"></a><span class="lineno"> 2149</span> </div>
<div class="line"><a id="l02150" name="l02150"></a><span class="lineno"> 2150</span>  <span class="keywordflow">return</span> code_pointer;</div>
<div class="line"><a id="l02151" name="l02151"></a><span class="lineno"> 2151</span>}</div>
</div>
<div class="line"><a id="l02152" name="l02152"></a><span class="lineno"> 2152</span> </div>
<div class="foldopen" id="foldopen02153" data-start="{" data-end="}">
<div class="line"><a id="l02153" name="l02153"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmDispatchTableData.html#a975fcfc54044aa2aabae5312ee395780"> 2153</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTableData.html#a975fcfc54044aa2aabae5312ee395780">WasmDispatchTableData::Remove</a>(<span class="keywordtype">int</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> call_target) {</div>
<div class="line"><a id="l02154" name="l02154"></a><span class="lineno"> 2154</span>  <span class="keywordflow">if</span> (call_target == <a class="code hl_variable" href="namespacev8_1_1internal_1_1wasm.html#a7d41c6d12091165e18a14f58ae8b1b91">wasm::kInvalidWasmCodePointer</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02155" name="l02155"></a><span class="lineno"> 2155</span> </div>
<div class="line"><a id="l02156" name="l02156"></a><span class="lineno"> 2156</span>  <span class="keyword">auto</span> entry = <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTableData.html#a137a2ae43ed2633fad5b10003c95771f">wrappers_</a>.find(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l02157" name="l02157"></a><span class="lineno"> 2157</span>  <span class="keywordflow">if</span> (entry == <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTableData.html#a137a2ae43ed2633fad5b10003c95771f">wrappers_</a>.end()) {</div>
<div class="line"><a id="l02158" name="l02158"></a><span class="lineno"> 2158</span>    <span class="comment">// This is certainly not a wrapper.</span></div>
<div class="line"><a id="l02159" name="l02159"></a><span class="lineno"> 2159</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(<a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a36345041662f17bb39d27709c1cb78ac">wasm::GetWasmImportWrapperCache</a>()-&gt;FindWrapper(call_target));</div>
<div class="line"><a id="l02160" name="l02160"></a><span class="lineno"> 2160</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02161" name="l02161"></a><span class="lineno"> 2161</span>  }</div>
<div class="line"><a id="l02162" name="l02162"></a><span class="lineno"> 2162</span>  <span class="keyword">auto</span>&amp; [code_pointer, wrapper_code] = entry-&gt;second;</div>
<div class="line"><a id="l02163" name="l02163"></a><span class="lineno"> 2163</span>  <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a0a36931b3d2bbcdfcbb253b229838952">wasm::GetProcessWideWasmCodePointerTable</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#a65f15597b54747d33d9d892912b1c5f4">FreeEntry</a>(code_pointer);</div>
<div class="line"><a id="l02164" name="l02164"></a><span class="lineno"> 2164</span>  <span class="keywordflow">if</span> (wrapper_code) {</div>
<div class="line"><a id="l02165" name="l02165"></a><span class="lineno"> 2165</span>    <span class="comment">// TODO(clemensb): We should speed this up by doing</span></div>
<div class="line"><a id="l02166" name="l02166"></a><span class="lineno"> 2166</span>    <span class="comment">// {WasmCodeRefScope::AddRef} and then {DecRefOnLiveCode}.</span></div>
<div class="line"><a id="l02167" name="l02167"></a><span class="lineno"> 2167</span>    <a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#aabc336382e10df3a5f7c37ba95d15799">wasm::WasmCode::DecrementRefCount</a>({&amp;wrapper_code, 1});</div>
<div class="line"><a id="l02168" name="l02168"></a><span class="lineno"> 2168</span>  }</div>
<div class="line"><a id="l02169" name="l02169"></a><span class="lineno"> 2169</span> </div>
<div class="line"><a id="l02170" name="l02170"></a><span class="lineno"> 2170</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTableData.html#a137a2ae43ed2633fad5b10003c95771f">wrappers_</a>.erase(entry);</div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"> 2171</span>}</div>
</div>
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"> 2172</span> </div>
<div class="foldopen" id="foldopen02173" data-start="{" data-end="}">
<div class="line"><a id="l02173" name="l02173"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmDispatchTable.html#a606951caaeebcb52a1e259321938672a"> 2173</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#a606951caaeebcb52a1e259321938672a">WasmDispatchTable::SetForNonWrapper</a>(<span class="keywordtype">int</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Object&gt;</a> implicit_arg,</div>
<div class="line"><a id="l02174" name="l02174"></a><span class="lineno"> 2174</span>                                         <a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> call_target,</div>
<div class="line"><a id="l02175" name="l02175"></a><span class="lineno"> 2175</span>                                         <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a> sig_id,</div>
<div class="line"><a id="l02176" name="l02176"></a><span class="lineno"> 2176</span>#<span class="keywordflow">if</span> V8_ENABLE_DRUMBRAKE</div>
<div class="line"><a id="l02177" name="l02177"></a><span class="lineno"> 2177</span>                                         uint32_t function_index,</div>
<div class="line"><a id="l02178" name="l02178"></a><span class="lineno"> 2178</span>#endif  <span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l02179" name="l02179"></a><span class="lineno"> 2179</span>                                         <a class="code hl_enumeration" href="classv8_1_1internal_1_1WasmDispatchTable.html#ad1ad1647c93a971226e24d85ed741da5">NewOrExistingEntry</a> new_or_existing) {</div>
<div class="line"><a id="l02180" name="l02180"></a><span class="lineno"> 2180</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#af57144d54ea98150a598940d4a4729bb">implicit_arg</a> == <a class="code hl_function" href="classv8_1_1internal_1_1Smi.html#ae2be3083c9562dbe7c4bc39337bbe831">Smi::zero</a>()) {</div>
<div class="line"><a id="l02181" name="l02181"></a><span class="lineno"> 2181</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code hl_variable" href="namespacev8_1_1internal_1_1wasm.html#a7d41c6d12091165e18a14f58ae8b1b91">wasm::kInvalidWasmCodePointer</a>, call_target);</div>
<div class="line"><a id="l02182" name="l02182"></a><span class="lineno"> 2182</span>    <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#a077547a040fefbe67a9a443a4c4431bb">Clear</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, new_or_existing);</div>
<div class="line"><a id="l02183" name="l02183"></a><span class="lineno"> 2183</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02184" name="l02184"></a><span class="lineno"> 2184</span>  }</div>
<div class="line"><a id="l02185" name="l02185"></a><span class="lineno"> 2185</span> </div>
<div class="line"><a id="l02186" name="l02186"></a><span class="lineno"> 2186</span>  <a class="code hl_define" href="check_8h.html#aa48820509053e4a2ad5061bae4fb9c40">SBXCHECK_BOUNDS</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#a21e6f366c276cd435de54841571be9d8">length</a>());</div>
<div class="line"><a id="l02187" name="l02187"></a><span class="lineno"> 2187</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsWasmImportData(<a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#af57144d54ea98150a598940d4a4729bb">implicit_arg</a>) ||</div>
<div class="line"><a id="l02188" name="l02188"></a><span class="lineno"> 2188</span>         IsWasmTrustedInstanceData(<a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#af57144d54ea98150a598940d4a4729bb">implicit_arg</a>));</div>
<div class="line"><a id="l02189" name="l02189"></a><span class="lineno"> 2189</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(sig_id.<a class="code hl_function" href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#a9340071636f85090c2fe2171797857c0">valid</a>());</div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> = <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#afe90b842432164928401d05f5fff3a8a">OffsetOf</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) {</div>
<div class="line"><a id="l02192" name="l02192"></a><span class="lineno"> 2192</span>    <span class="comment">// When overwriting an existing entry, we must decrement the refcount</span></div>
<div class="line"><a id="l02193" name="l02193"></a><span class="lineno"> 2193</span>    <span class="comment">// of any overwritten wrappers. When initializing an entry, we must not</span></div>
<div class="line"><a id="l02194" name="l02194"></a><span class="lineno"> 2194</span>    <span class="comment">// read uninitialized memory.</span></div>
<div class="line"><a id="l02195" name="l02195"></a><span class="lineno"> 2195</span>    <span class="keywordflow">if</span> (new_or_existing == <a class="code hl_enumvalue" href="classv8_1_1internal_1_1WasmDispatchTable.html#ad1ad1647c93a971226e24d85ed741da5ae94e8b46dc9495b2683216119d41f6be">kExistingEntry</a>) {</div>
<div class="line"><a id="l02196" name="l02196"></a><span class="lineno"> 2196</span>      <a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> old_target =</div>
<div class="line"><a id="l02197" name="l02197"></a><span class="lineno"> 2197</span>          <a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a>{<a class="code hl_function" href="classv8_1_1internal_1_1HeapObject.html#a9c437b0e65275ce4ef93b51062e66cff">ReadField&lt;uint32_t&gt;</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTable.html#a3e4e2907cbc69176e0725dd18f3dca97">kTargetBias</a>)};</div>
<div class="line"><a id="l02198" name="l02198"></a><span class="lineno"> 2198</span>      offheap_data()-&gt;Remove(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, old_target);</div>
<div class="line"><a id="l02199" name="l02199"></a><span class="lineno"> 2199</span>    }</div>
<div class="line"><a id="l02200" name="l02200"></a><span class="lineno"> 2200</span>    <a class="code hl_function" href="classv8_1_1internal_1_1HeapObject.html#af03c1bedf6b6a77ceb3fefeb0957dbd7">WriteField&lt;uint32_t&gt;</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTable.html#a3e4e2907cbc69176e0725dd18f3dca97">kTargetBias</a>, call_target.<a class="code hl_function" href="classv8_1_1internal_1_1WasmCodePointer.html#aa08af187eb29ca018162901c0d47183b">value</a>());</div>
<div class="line"><a id="l02201" name="l02201"></a><span class="lineno"> 2201</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02202" name="l02202"></a><span class="lineno"> 2202</span><span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l02203" name="l02203"></a><span class="lineno"> 2203</span>    <span class="comment">// Ignore call_target, not used in jitless mode.</span></div>
<div class="line"><a id="l02204" name="l02204"></a><span class="lineno"> 2204</span>    <a class="code hl_function" href="classv8_1_1internal_1_1HeapObject.html#af03c1bedf6b6a77ceb3fefeb0957dbd7">WriteField&lt;int&gt;</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + kFunctionIndexBias, function_index);</div>
<div class="line"><a id="l02205" name="l02205"></a><span class="lineno"> 2205</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l02206" name="l02206"></a><span class="lineno"> 2206</span>  }</div>
<div class="line"><a id="l02207" name="l02207"></a><span class="lineno"> 2207</span>  <a class="code hl_function" href="classv8_1_1internal_1_1TrustedObject.html#a839a65b36476a066b6053d45f18c2ecb">WriteProtectedPointerField</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTable.html#aac23a57676a6c819173dd81a2ecc7eaa">kImplicitArgBias</a>,</div>
<div class="line"><a id="l02208" name="l02208"></a><span class="lineno"> 2208</span>                             <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;TrustedObject&gt;</a>(<a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#af57144d54ea98150a598940d4a4729bb">implicit_arg</a>));</div>
<div class="line"><a id="l02209" name="l02209"></a><span class="lineno"> 2209</span>  <a class="code hl_define" href="object-macros_8h.html#a9231f70a649a71a193851bbd81d05010">CONDITIONAL_WRITE_BARRIER</a>(*<span class="keyword">this</span>, <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTable.html#aac23a57676a6c819173dd81a2ecc7eaa">kImplicitArgBias</a>, <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#af57144d54ea98150a598940d4a4729bb">implicit_arg</a>,</div>
<div class="line"><a id="l02210" name="l02210"></a><span class="lineno"> 2210</span>                            <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13a936c581afe29bbe04ab84d8ae4c6267d">UPDATE_WRITE_BARRIER</a>);</div>
<div class="line"><a id="l02211" name="l02211"></a><span class="lineno"> 2211</span>  <a class="code hl_function" href="classv8_1_1internal_1_1HeapObject.html#af03c1bedf6b6a77ceb3fefeb0957dbd7">WriteField&lt;uint32_t&gt;</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTable.html#a7dc6e7ebbb76782d6d3232ffea5edaf7">kSigBias</a>, sig_id.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#ad0355b4f2bc1bc8a489e4d01da40067b">index</a>);</div>
<div class="line"><a id="l02212" name="l02212"></a><span class="lineno"> 2212</span>}</div>
</div>
<div class="line"><a id="l02213" name="l02213"></a><span class="lineno"> 2213</span> </div>
<div class="foldopen" id="foldopen02214" data-start="{" data-end="}">
<div class="line"><a id="l02214" name="l02214"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmDispatchTable.html#af437b7b8769bf876b5e14f8180933177"> 2214</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#af437b7b8769bf876b5e14f8180933177">WasmDispatchTable::SetForWrapper</a>(<span class="keywordtype">int</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Object&gt;</a> implicit_arg,</div>
<div class="line"><a id="l02215" name="l02215"></a><span class="lineno"> 2215</span>                                      <a class="code hl_variable" href="namespacev8_1_1internal.html#a92ab64d42404e439be3d6a7556e32380">Address</a> call_target,</div>
<div class="line"><a id="l02216" name="l02216"></a><span class="lineno"> 2216</span>                                      <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a> sig_id,</div>
<div class="line"><a id="l02217" name="l02217"></a><span class="lineno"> 2217</span>                                      uint64_t signature_hash,</div>
<div class="line"><a id="l02218" name="l02218"></a><span class="lineno"> 2218</span>#<span class="keywordflow">if</span> V8_ENABLE_DRUMBRAKE</div>
<div class="line"><a id="l02219" name="l02219"></a><span class="lineno"> 2219</span>                                      uint32_t function_index,</div>
<div class="line"><a id="l02220" name="l02220"></a><span class="lineno"> 2220</span>#endif  <span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l02221" name="l02221"></a><span class="lineno"> 2221</span>                                      <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">wasm::WasmCode</a>* compiled_wrapper,</div>
<div class="line"><a id="l02222" name="l02222"></a><span class="lineno"> 2222</span>                                      <a class="code hl_enumeration" href="classv8_1_1internal_1_1WasmDispatchTable.html#ad1ad1647c93a971226e24d85ed741da5">NewOrExistingEntry</a> new_or_existing) {</div>
<div class="line"><a id="l02223" name="l02223"></a><span class="lineno"> 2223</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(<a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#af57144d54ea98150a598940d4a4729bb">implicit_arg</a>, <a class="code hl_function" href="classv8_1_1internal_1_1Smi.html#ae2be3083c9562dbe7c4bc39337bbe831">Smi::zero</a>());</div>
<div class="line"><a id="l02224" name="l02224"></a><span class="lineno"> 2224</span> </div>
<div class="line"><a id="l02225" name="l02225"></a><span class="lineno"> 2225</span>  <a class="code hl_define" href="check_8h.html#aa48820509053e4a2ad5061bae4fb9c40">SBXCHECK_BOUNDS</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#a21e6f366c276cd435de54841571be9d8">length</a>());</div>
<div class="line"><a id="l02226" name="l02226"></a><span class="lineno"> 2226</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsWasmImportData(<a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#af57144d54ea98150a598940d4a4729bb">implicit_arg</a>) ||</div>
<div class="line"><a id="l02227" name="l02227"></a><span class="lineno"> 2227</span>         IsWasmTrustedInstanceData(<a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#af57144d54ea98150a598940d4a4729bb">implicit_arg</a>));</div>
<div class="line"><a id="l02228" name="l02228"></a><span class="lineno"> 2228</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(sig_id.<a class="code hl_function" href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#a9340071636f85090c2fe2171797857c0">valid</a>());</div>
<div class="line"><a id="l02229" name="l02229"></a><span class="lineno"> 2229</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> = <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#afe90b842432164928401d05f5fff3a8a">OffsetOf</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l02230" name="l02230"></a><span class="lineno"> 2230</span>  <a class="code hl_function" href="classv8_1_1internal_1_1TrustedObject.html#a839a65b36476a066b6053d45f18c2ecb">WriteProtectedPointerField</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTable.html#aac23a57676a6c819173dd81a2ecc7eaa">kImplicitArgBias</a>,</div>
<div class="line"><a id="l02231" name="l02231"></a><span class="lineno"> 2231</span>                             <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;TrustedObject&gt;</a>(<a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#af57144d54ea98150a598940d4a4729bb">implicit_arg</a>));</div>
<div class="line"><a id="l02232" name="l02232"></a><span class="lineno"> 2232</span>  <a class="code hl_define" href="object-macros_8h.html#a9231f70a649a71a193851bbd81d05010">CONDITIONAL_WRITE_BARRIER</a>(*<span class="keyword">this</span>, <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTable.html#aac23a57676a6c819173dd81a2ecc7eaa">kImplicitArgBias</a>, <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#af57144d54ea98150a598940d4a4729bb">implicit_arg</a>,</div>
<div class="line"><a id="l02233" name="l02233"></a><span class="lineno"> 2233</span>                            <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13a936c581afe29bbe04ab84d8ae4c6267d">UPDATE_WRITE_BARRIER</a>);</div>
<div class="line"><a id="l02234" name="l02234"></a><span class="lineno"> 2234</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) {</div>
<div class="line"><a id="l02235" name="l02235"></a><span class="lineno"> 2235</span>    <span class="comment">// When overwriting an existing entry, we must decrement the refcount</span></div>
<div class="line"><a id="l02236" name="l02236"></a><span class="lineno"> 2236</span>    <span class="comment">// of any overwritten wrappers. When initializing an entry, we must not</span></div>
<div class="line"><a id="l02237" name="l02237"></a><span class="lineno"> 2237</span>    <span class="comment">// read uninitialized memory.</span></div>
<div class="line"><a id="l02238" name="l02238"></a><span class="lineno"> 2238</span>    <span class="keywordflow">if</span> (new_or_existing == <a class="code hl_enumvalue" href="classv8_1_1internal_1_1WasmDispatchTable.html#ad1ad1647c93a971226e24d85ed741da5ae94e8b46dc9495b2683216119d41f6be">kExistingEntry</a>) {</div>
<div class="line"><a id="l02239" name="l02239"></a><span class="lineno"> 2239</span>      <a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> old_target =</div>
<div class="line"><a id="l02240" name="l02240"></a><span class="lineno"> 2240</span>          <a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a>{<a class="code hl_function" href="classv8_1_1internal_1_1HeapObject.html#a9c437b0e65275ce4ef93b51062e66cff">ReadField&lt;uint32_t&gt;</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTable.html#a3e4e2907cbc69176e0725dd18f3dca97">kTargetBias</a>)};</div>
<div class="line"><a id="l02241" name="l02241"></a><span class="lineno"> 2241</span>      offheap_data()-&gt;Remove(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, old_target);</div>
<div class="line"><a id="l02242" name="l02242"></a><span class="lineno"> 2242</span>    }</div>
<div class="line"><a id="l02243" name="l02243"></a><span class="lineno"> 2243</span>    <a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> code_pointer = offheap_data()-&gt;Add(</div>
<div class="line"><a id="l02244" name="l02244"></a><span class="lineno"> 2244</span>        <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, call_target, compiled_wrapper, signature_hash);</div>
<div class="line"><a id="l02245" name="l02245"></a><span class="lineno"> 2245</span>    <a class="code hl_function" href="classv8_1_1internal_1_1HeapObject.html#af03c1bedf6b6a77ceb3fefeb0957dbd7">WriteField&lt;uint32_t&gt;</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTable.html#a3e4e2907cbc69176e0725dd18f3dca97">kTargetBias</a>, code_pointer.<a class="code hl_function" href="classv8_1_1internal_1_1WasmCodePointer.html#aa08af187eb29ca018162901c0d47183b">value</a>());</div>
<div class="line"><a id="l02246" name="l02246"></a><span class="lineno"> 2246</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02247" name="l02247"></a><span class="lineno"> 2247</span><span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l02248" name="l02248"></a><span class="lineno"> 2248</span>    <span class="comment">// Ignore call_target, not used in jitless mode.</span></div>
<div class="line"><a id="l02249" name="l02249"></a><span class="lineno"> 2249</span>    <a class="code hl_function" href="classv8_1_1internal_1_1HeapObject.html#af03c1bedf6b6a77ceb3fefeb0957dbd7">WriteField&lt;int&gt;</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + kFunctionIndexBias, function_index);</div>
<div class="line"><a id="l02250" name="l02250"></a><span class="lineno"> 2250</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l02251" name="l02251"></a><span class="lineno"> 2251</span>  }</div>
<div class="line"><a id="l02252" name="l02252"></a><span class="lineno"> 2252</span> </div>
<div class="line"><a id="l02253" name="l02253"></a><span class="lineno"> 2253</span>  <a class="code hl_function" href="classv8_1_1internal_1_1HeapObject.html#af03c1bedf6b6a77ceb3fefeb0957dbd7">WriteField&lt;uint32_t&gt;</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTable.html#a7dc6e7ebbb76782d6d3232ffea5edaf7">kSigBias</a>, sig_id.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#ad0355b4f2bc1bc8a489e4d01da40067b">index</a>);</div>
<div class="line"><a id="l02254" name="l02254"></a><span class="lineno"> 2254</span>}</div>
</div>
<div class="line"><a id="l02255" name="l02255"></a><span class="lineno"> 2255</span> </div>
<div class="foldopen" id="foldopen02256" data-start="{" data-end="}">
<div class="line"><a id="l02256" name="l02256"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmDispatchTable.html#a077547a040fefbe67a9a443a4c4431bb"> 2256</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#a077547a040fefbe67a9a443a4c4431bb">WasmDispatchTable::Clear</a>(<span class="keywordtype">int</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="code hl_enumeration" href="classv8_1_1internal_1_1WasmDispatchTable.html#ad1ad1647c93a971226e24d85ed741da5">NewOrExistingEntry</a> new_or_existing) {</div>
<div class="line"><a id="l02257" name="l02257"></a><span class="lineno"> 2257</span>  <a class="code hl_define" href="check_8h.html#aa48820509053e4a2ad5061bae4fb9c40">SBXCHECK_BOUNDS</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#a21e6f366c276cd435de54841571be9d8">length</a>());</div>
<div class="line"><a id="l02258" name="l02258"></a><span class="lineno"> 2258</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> = <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#afe90b842432164928401d05f5fff3a8a">OffsetOf</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l02259" name="l02259"></a><span class="lineno"> 2259</span>  <span class="comment">// When clearing an existing entry, we must update the refcount of any</span></div>
<div class="line"><a id="l02260" name="l02260"></a><span class="lineno"> 2260</span>  <span class="comment">// wrappers. When clear-initializing new entries, we must not read</span></div>
<div class="line"><a id="l02261" name="l02261"></a><span class="lineno"> 2261</span>  <span class="comment">// uninitialized memory.</span></div>
<div class="line"><a id="l02262" name="l02262"></a><span class="lineno"> 2262</span>  <span class="keywordflow">if</span> (new_or_existing == <a class="code hl_enumvalue" href="classv8_1_1internal_1_1WasmDispatchTable.html#ad1ad1647c93a971226e24d85ed741da5ae94e8b46dc9495b2683216119d41f6be">kExistingEntry</a>) {</div>
<div class="line"><a id="l02263" name="l02263"></a><span class="lineno"> 2263</span>    <a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> old_target =</div>
<div class="line"><a id="l02264" name="l02264"></a><span class="lineno"> 2264</span>        <a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a>{<a class="code hl_function" href="classv8_1_1internal_1_1HeapObject.html#a9c437b0e65275ce4ef93b51062e66cff">ReadField&lt;uint32_t&gt;</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTable.html#a3e4e2907cbc69176e0725dd18f3dca97">kTargetBias</a>)};</div>
<div class="line"><a id="l02265" name="l02265"></a><span class="lineno"> 2265</span>    offheap_data()-&gt;Remove(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, old_target);</div>
<div class="line"><a id="l02266" name="l02266"></a><span class="lineno"> 2266</span>  }</div>
<div class="line"><a id="l02267" name="l02267"></a><span class="lineno"> 2267</span>  <a class="code hl_function" href="classv8_1_1internal_1_1TrustedObject.html#a3e0789f0ae71c63b4b841bc64154093d">ClearProtectedPointerField</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTable.html#aac23a57676a6c819173dd81a2ecc7eaa">kImplicitArgBias</a>);</div>
<div class="line"><a id="l02268" name="l02268"></a><span class="lineno"> 2268</span>  <a class="code hl_function" href="classv8_1_1internal_1_1HeapObject.html#af03c1bedf6b6a77ceb3fefeb0957dbd7">WriteField&lt;uint32_t&gt;</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTable.html#a3e4e2907cbc69176e0725dd18f3dca97">kTargetBias</a>,</div>
<div class="line"><a id="l02269" name="l02269"></a><span class="lineno"> 2269</span>                       <a class="code hl_variable" href="namespacev8_1_1internal_1_1wasm.html#a7d41c6d12091165e18a14f58ae8b1b91">wasm::kInvalidWasmCodePointer</a>.<a class="code hl_variable" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>());</div>
<div class="line"><a id="l02270" name="l02270"></a><span class="lineno"> 2270</span>  <a class="code hl_function" href="classv8_1_1internal_1_1HeapObject.html#af03c1bedf6b6a77ceb3fefeb0957dbd7">WriteField&lt;int&gt;</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTable.html#a7dc6e7ebbb76782d6d3232ffea5edaf7">kSigBias</a>, -1);</div>
<div class="line"><a id="l02271" name="l02271"></a><span class="lineno"> 2271</span>}</div>
</div>
<div class="line"><a id="l02272" name="l02272"></a><span class="lineno"> 2272</span> </div>
<div class="foldopen" id="foldopen02273" data-start="{" data-end="}">
<div class="line"><a id="l02273" name="l02273"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmDispatchTable.html#af8d5186e08cba71e65fffc73ae894933"> 2273</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#af8d5186e08cba71e65fffc73ae894933">WasmDispatchTable::InstallCompiledWrapper</a>(<span class="keywordtype">int</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>,</div>
<div class="line"><a id="l02274" name="l02274"></a><span class="lineno"> 2274</span>                                               <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">wasm::WasmCode</a>* wrapper) {</div>
<div class="line"><a id="l02275" name="l02275"></a><span class="lineno"> 2275</span>  <a class="code hl_define" href="check_8h.html#aa48820509053e4a2ad5061bae4fb9c40">SBXCHECK_BOUNDS</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#a21e6f366c276cd435de54841571be9d8">length</a>());</div>
<div class="line"><a id="l02276" name="l02276"></a><span class="lineno"> 2276</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) <span class="keywordflow">return</span>;  <span class="comment">// Nothing to do.</span></div>
<div class="line"><a id="l02277" name="l02277"></a><span class="lineno"> 2277</span> </div>
<div class="line"><a id="l02278" name="l02278"></a><span class="lineno"> 2278</span>  <a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> call_target = offheap_data()-&gt;Add(</div>
<div class="line"><a id="l02279" name="l02279"></a><span class="lineno"> 2279</span>      <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, wrapper-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>(), wrapper, wrapper-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0c7c3734a1ad0fe3202e49fc5806947c">signature_hash</a>());</div>
<div class="line"><a id="l02280" name="l02280"></a><span class="lineno"> 2280</span>  <a class="code hl_define" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(call_target);</div>
<div class="line"><a id="l02281" name="l02281"></a><span class="lineno"> 2281</span>  <span class="comment">// When installing a compiled wrapper, we already had the generic wrapper in</span></div>
<div class="line"><a id="l02282" name="l02282"></a><span class="lineno"> 2282</span>  <span class="comment">// place, which shares the same code pointer table entry.</span></div>
<div class="line"><a id="l02283" name="l02283"></a><span class="lineno"> 2283</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a>{<a class="code hl_function" href="classv8_1_1internal_1_1HeapObject.html#a9c437b0e65275ce4ef93b51062e66cff">ReadField&lt;uint32_t&gt;</a>(<a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#afe90b842432164928401d05f5fff3a8a">OffsetOf</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) + <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTable.html#a3e4e2907cbc69176e0725dd18f3dca97">kTargetBias</a>)},</div>
<div class="line"><a id="l02284" name="l02284"></a><span class="lineno"> 2284</span>            call_target);</div>
<div class="line"><a id="l02285" name="l02285"></a><span class="lineno"> 2285</span>}</div>
</div>
<div class="line"><a id="l02286" name="l02286"></a><span class="lineno"> 2286</span> </div>
<div class="foldopen" id="foldopen02287" data-start="{" data-end="}">
<div class="line"><a id="l02287" name="l02287"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmDispatchTable.html#a314022f946807455f717c44b258d5f33"> 2287</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#a314022f946807455f717c44b258d5f33">WasmDispatchTable::IsAWrapper</a>(<span class="keywordtype">int</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l02288" name="l02288"></a><span class="lineno"> 2288</span>  <span class="keywordflow">return</span> offheap_data()-&gt;IsAWrapper(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l02289" name="l02289"></a><span class="lineno"> 2289</span>}</div>
</div>
<div class="line"><a id="l02290" name="l02290"></a><span class="lineno"> 2290</span> </div>
<div class="line"><a id="l02291" name="l02291"></a><span class="lineno"> 2291</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen02292" data-start="{" data-end="}">
<div class="line"><a id="l02292" name="l02292"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmDispatchTable.html#a865e5bfc2f812c54e4b6d38c64ad6ac8"> 2292</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#a865e5bfc2f812c54e4b6d38c64ad6ac8">WasmDispatchTable::AddUse</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l02293" name="l02293"></a><span class="lineno"> 2293</span>                               <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmDispatchTable&gt;</a> dispatch_table,</div>
<div class="line"><a id="l02294" name="l02294"></a><span class="lineno"> 2294</span>                               <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> instance,</div>
<div class="line"><a id="l02295" name="l02295"></a><span class="lineno"> 2295</span>                               <span class="keywordtype">int</span> table_index) {</div>
<div class="line"><a id="l02296" name="l02296"></a><span class="lineno"> 2296</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ProtectedWeakFixedArray&gt;</a> uses =</div>
<div class="line"><a id="l02297" name="l02297"></a><span class="lineno"> 2297</span>      <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#af7dac59bb8e83c542a078d6a63e33979">MaybeGrowUsesList</a>(isolate, dispatch_table);</div>
<div class="line"><a id="l02298" name="l02298"></a><span class="lineno"> 2298</span>  <span class="keywordtype">int</span> cursor = GetUsedLength(uses);</div>
<div class="line"><a id="l02299" name="l02299"></a><span class="lineno"> 2299</span>  <span class="comment">// {MaybeGrowUsesList} ensures that we have enough capacity.</span></div>
<div class="line"><a id="l02300" name="l02300"></a><span class="lineno"> 2300</span>  SetEntry(uses, cursor, *instance, table_index);</div>
<div class="line"><a id="l02301" name="l02301"></a><span class="lineno"> 2301</span>  SetUsedLength(uses, cursor + 2);</div>
<div class="line"><a id="l02302" name="l02302"></a><span class="lineno"> 2302</span>}</div>
</div>
<div class="line"><a id="l02303" name="l02303"></a><span class="lineno"> 2303</span> </div>
<div class="line"><a id="l02304" name="l02304"></a><span class="lineno"> 2304</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen02305" data-start="{" data-end="}">
<div class="line"><a id="l02305" name="l02305"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmDispatchTable.html#af7dac59bb8e83c542a078d6a63e33979"> 2305</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ProtectedWeakFixedArray&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#af7dac59bb8e83c542a078d6a63e33979">WasmDispatchTable::MaybeGrowUsesList</a>(</div>
<div class="line"><a id="l02306" name="l02306"></a><span class="lineno"> 2306</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmDispatchTable&gt;</a> dispatch_table) {</div>
<div class="line"><a id="l02307" name="l02307"></a><span class="lineno"> 2307</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ProtectedWeakFixedArray&gt;</a> uses = dispatch_table-&gt;protected_uses();</div>
<div class="line"><a id="l02308" name="l02308"></a><span class="lineno"> 2308</span>  <span class="keywordtype">int</span> capacity = uses-&gt;length();</div>
<div class="line"><a id="l02309" name="l02309"></a><span class="lineno"> 2309</span>  <span class="keywordflow">if</span> (capacity == 0) {</div>
<div class="line"><a id="l02310" name="l02310"></a><span class="lineno"> 2310</span>    <span class="keyword">constexpr</span> <span class="keywordtype">int</span> kInitialLength = 3;  <span class="comment">// 1 slot + 1 pair.</span></div>
<div class="line"><a id="l02311" name="l02311"></a><span class="lineno"> 2311</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;ProtectedWeakFixedArray&gt;</a> new_uses =</div>
<div class="line"><a id="l02312" name="l02312"></a><span class="lineno"> 2312</span>        isolate-&gt;factory()-&gt;NewProtectedWeakFixedArray(kInitialLength);</div>
<div class="line"><a id="l02313" name="l02313"></a><span class="lineno"> 2313</span>    SetUsedLength(*new_uses, kReservedSlotOffset);</div>
<div class="line"><a id="l02314" name="l02314"></a><span class="lineno"> 2314</span>    dispatch_table-&gt;set_protected_uses(*new_uses);</div>
<div class="line"><a id="l02315" name="l02315"></a><span class="lineno"> 2315</span>    <span class="keywordflow">return</span> *new_uses;</div>
<div class="line"><a id="l02316" name="l02316"></a><span class="lineno"> 2316</span>  }</div>
<div class="line"><a id="l02317" name="l02317"></a><span class="lineno"> 2317</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a>(uses-&gt;length(), 0);</div>
<div class="line"><a id="l02318" name="l02318"></a><span class="lineno"> 2318</span>  <span class="keywordtype">int</span> used_length = GetUsedLength(uses);</div>
<div class="line"><a id="l02319" name="l02319"></a><span class="lineno"> 2319</span>  <span class="keywordflow">if</span> (used_length &lt; capacity) <span class="keywordflow">return</span> uses;</div>
<div class="line"><a id="l02320" name="l02320"></a><span class="lineno"> 2320</span>  <span class="comment">// Try to compact, grow if that doesn&#39;t free up enough space.</span></div>
<div class="line"><a id="l02321" name="l02321"></a><span class="lineno"> 2321</span>  <span class="keywordtype">int</span> cleared_entries = 0;</div>
<div class="line"><a id="l02322" name="l02322"></a><span class="lineno"> 2322</span>  <span class="keywordtype">int</span> write_cursor = kReservedSlotOffset;</div>
<div class="line"><a id="l02323" name="l02323"></a><span class="lineno"> 2323</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = kReservedSlotOffset; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#a101af281a2591cf1af90baa9491805b8">capacity</a>; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> += 2) {</div>
<div class="line"><a id="l02324" name="l02324"></a><span class="lineno"> 2324</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(uses-&gt;get(<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>).<a class="code hl_function" href="classv8_1_1internal_1_1TaggedImpl.html#ad30270db72c80341abd40ca560eb3632">IsWeakOrCleared</a>());</div>
<div class="line"><a id="l02325" name="l02325"></a><span class="lineno"> 2325</span>    <span class="keywordflow">if</span> (uses-&gt;get(<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>).<a class="code hl_function" href="classv8_1_1internal_1_1TaggedImpl.html#a5d84dde6d0c8149b4560d7c79cf8f1a3">IsCleared</a>()) {</div>
<div class="line"><a id="l02326" name="l02326"></a><span class="lineno"> 2326</span>      cleared_entries++;</div>
<div class="line"><a id="l02327" name="l02327"></a><span class="lineno"> 2327</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02328" name="l02328"></a><span class="lineno"> 2328</span>    }</div>
<div class="line"><a id="l02329" name="l02329"></a><span class="lineno"> 2329</span>    <span class="keywordflow">if</span> (write_cursor != <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>) {</div>
<div class="line"><a id="l02330" name="l02330"></a><span class="lineno"> 2330</span>      CopyEntry(uses, write_cursor, uses, <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a id="l02331" name="l02331"></a><span class="lineno"> 2331</span>    }</div>
<div class="line"><a id="l02332" name="l02332"></a><span class="lineno"> 2332</span>    write_cursor += 2;</div>
<div class="line"><a id="l02333" name="l02333"></a><span class="lineno"> 2333</span>  }</div>
<div class="line"><a id="l02334" name="l02334"></a><span class="lineno"> 2334</span>  <span class="comment">// We need at least one free entry. We want at least half the array to be</span></div>
<div class="line"><a id="l02335" name="l02335"></a><span class="lineno"> 2335</span>  <span class="comment">// empty; each entry needs two slots.</span></div>
<div class="line"><a id="l02336" name="l02336"></a><span class="lineno"> 2336</span>  <span class="keywordtype">int</span> min_free_entries = 1 + (capacity &gt;&gt; 2);</div>
<div class="line"><a id="l02337" name="l02337"></a><span class="lineno"> 2337</span>  <span class="keywordflow">if</span> (cleared_entries &gt;= min_free_entries) {</div>
<div class="line"><a id="l02338" name="l02338"></a><span class="lineno"> 2338</span>    SetUsedLength(uses, write_cursor);</div>
<div class="line"><a id="l02339" name="l02339"></a><span class="lineno"> 2339</span>    <span class="keywordflow">return</span> uses;</div>
<div class="line"><a id="l02340" name="l02340"></a><span class="lineno"> 2340</span>  }</div>
<div class="line"><a id="l02341" name="l02341"></a><span class="lineno"> 2341</span>  <span class="comment">// Grow by 50%, at least one entry.</span></div>
<div class="line"><a id="l02342" name="l02342"></a><span class="lineno"> 2342</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;ProtectedWeakFixedArray&gt;</a> uses_handle(uses, isolate);</div>
<div class="line"><a id="l02343" name="l02343"></a><span class="lineno"> 2343</span>  uses = {};</div>
<div class="line"><a id="l02344" name="l02344"></a><span class="lineno"> 2344</span>  <span class="keywordtype">int</span> old_entries = capacity &gt;&gt; 1;  <span class="comment">// Two slots per entry.</span></div>
<div class="line"><a id="l02345" name="l02345"></a><span class="lineno"> 2345</span>  <span class="keywordtype">int</span> new_entries = std::max(old_entries + 1, old_entries + (old_entries &gt;&gt; 1));</div>
<div class="line"><a id="l02346" name="l02346"></a><span class="lineno"> 2346</span>  <span class="keywordtype">int</span> new_capacity = new_entries * 2 + kReservedSlotOffset;</div>
<div class="line"><a id="l02347" name="l02347"></a><span class="lineno"> 2347</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;ProtectedWeakFixedArray&gt;</a> new_uses =</div>
<div class="line"><a id="l02348" name="l02348"></a><span class="lineno"> 2348</span>      isolate-&gt;factory()-&gt;NewProtectedWeakFixedArray(new_capacity);</div>
<div class="line"><a id="l02349" name="l02349"></a><span class="lineno"> 2349</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = kReservedSlotOffset; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; write_cursor; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> += 2) {</div>
<div class="line"><a id="l02350" name="l02350"></a><span class="lineno"> 2350</span>    CopyEntry(*new_uses, <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>, *uses_handle, <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a id="l02351" name="l02351"></a><span class="lineno"> 2351</span>  }</div>
<div class="line"><a id="l02352" name="l02352"></a><span class="lineno"> 2352</span>  SetUsedLength(*new_uses, write_cursor);</div>
<div class="line"><a id="l02353" name="l02353"></a><span class="lineno"> 2353</span>  dispatch_table-&gt;set_protected_uses(*new_uses);</div>
<div class="line"><a id="l02354" name="l02354"></a><span class="lineno"> 2354</span>  <span class="keywordflow">return</span> *new_uses;</div>
<div class="line"><a id="l02355" name="l02355"></a><span class="lineno"> 2355</span>}</div>
</div>
<div class="line"><a id="l02356" name="l02356"></a><span class="lineno"> 2356</span> </div>
<div class="line"><a id="l02357" name="l02357"></a><span class="lineno"> 2357</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen02358" data-start="{" data-end="}">
<div class="line"><a id="l02358" name="l02358"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmDispatchTable.html#ad5b945965b06922104d72a6208c14c11"> 2358</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmDispatchTable&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#ad5b945965b06922104d72a6208c14c11">WasmDispatchTable::New</a>(</div>
<div class="line"><a id="l02359" name="l02359"></a><span class="lineno"> 2359</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keywordtype">int</span> length, <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html">wasm::CanonicalValueType</a> table_type) {</div>
<div class="line"><a id="l02360" name="l02360"></a><span class="lineno"> 2360</span>  <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;NewWasmDispatchTable(length, table_type);</div>
<div class="line"><a id="l02361" name="l02361"></a><span class="lineno"> 2361</span>}</div>
</div>
<div class="line"><a id="l02362" name="l02362"></a><span class="lineno"> 2362</span> </div>
<div class="line"><a id="l02363" name="l02363"></a><span class="lineno"> 2363</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen02364" data-start="{" data-end="}">
<div class="line"><a id="l02364" name="l02364"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmDispatchTable.html#ac4957a8eba2e99f7ecffdb2d4d15ceee"> 2364</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmDispatchTable&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#ac4957a8eba2e99f7ecffdb2d4d15ceee">WasmDispatchTable::Grow</a>(</div>
<div class="line"><a id="l02365" name="l02365"></a><span class="lineno"> 2365</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmDispatchTable&gt;</a> old_table,</div>
<div class="line"><a id="l02366" name="l02366"></a><span class="lineno"> 2366</span>    uint32_t <a class="code hl_variable" href="regexp-bytecode-peephole_8cc.html#ae6409a32d85daa404e52072329e0a5ad">new_length</a>) {</div>
<div class="line"><a id="l02367" name="l02367"></a><span class="lineno"> 2367</span>  uint32_t old_length = old_table-&gt;length();</div>
<div class="line"><a id="l02368" name="l02368"></a><span class="lineno"> 2368</span>  <span class="comment">// This method should only be called if we actually grow. For sandbox</span></div>
<div class="line"><a id="l02369" name="l02369"></a><span class="lineno"> 2369</span>  <span class="comment">// purposes we also want to ensure tables can never shrink below their</span></div>
<div class="line"><a id="l02370" name="l02370"></a><span class="lineno"> 2370</span>  <span class="comment">// static minimum size.</span></div>
<div class="line"><a id="l02371" name="l02371"></a><span class="lineno"> 2371</span>  <a class="code hl_define" href="check_8h.html#a27bd9aa8e613a2123a446cd6bc973fdf">SBXCHECK_LT</a>(old_length, <a class="code hl_variable" href="regexp-bytecode-peephole_8cc.html#ae6409a32d85daa404e52072329e0a5ad">new_length</a>);</div>
<div class="line"><a id="l02372" name="l02372"></a><span class="lineno"> 2372</span> </div>
<div class="line"><a id="l02373" name="l02373"></a><span class="lineno"> 2373</span>  uint32_t old_capacity = old_table-&gt;capacity();</div>
<div class="line"><a id="l02374" name="l02374"></a><span class="lineno"> 2374</span>  <span class="comment">// Catch possible corruption. {new_length} is computed from untrusted data.</span></div>
<div class="line"><a id="l02375" name="l02375"></a><span class="lineno"> 2375</span>  <a class="code hl_define" href="check_8h.html#a0331d7a4dc5d6372d25e946af1f96588">SBXCHECK_LE</a>(<a class="code hl_variable" href="regexp-bytecode-peephole_8cc.html#ae6409a32d85daa404e52072329e0a5ad">new_length</a>, <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a38d56b630d25ea0451a91c6204e89042">wasm::max_table_size</a>());</div>
<div class="line"><a id="l02376" name="l02376"></a><span class="lineno"> 2376</span>  <span class="comment">// {old_length} and {old_capacity} are read from trusted space, so we trust</span></div>
<div class="line"><a id="l02377" name="l02377"></a><span class="lineno"> 2377</span>  <span class="comment">// them. The DCHECKs give fuzzers a chance to catch potential bugs.</span></div>
<div class="line"><a id="l02378" name="l02378"></a><span class="lineno"> 2378</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(old_length, <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a38d56b630d25ea0451a91c6204e89042">wasm::max_table_size</a>());</div>
<div class="line"><a id="l02379" name="l02379"></a><span class="lineno"> 2379</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(old_capacity, <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a38d56b630d25ea0451a91c6204e89042">wasm::max_table_size</a>());</div>
<div class="line"><a id="l02380" name="l02380"></a><span class="lineno"> 2380</span> </div>
<div class="line"><a id="l02381" name="l02381"></a><span class="lineno"> 2381</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="regexp-bytecode-peephole_8cc.html#ae6409a32d85daa404e52072329e0a5ad">new_length</a> &lt; old_capacity) {</div>
<div class="line"><a id="l02382" name="l02382"></a><span class="lineno"> 2382</span>    <a class="code hl_define" href="object-macros_8h.html#af3b897121626563e23614c667e3f754a">RELEASE_WRITE_INT32_FIELD</a>(*old_table, <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTable.html#adb64eac40ae89f9acaae1409ca56e65a">kLengthOffset</a>, <a class="code hl_variable" href="regexp-bytecode-peephole_8cc.html#ae6409a32d85daa404e52072329e0a5ad">new_length</a>);</div>
<div class="line"><a id="l02383" name="l02383"></a><span class="lineno"> 2383</span>    <span class="comment">// All fields within the old capacity are already cleared (see below).</span></div>
<div class="line"><a id="l02384" name="l02384"></a><span class="lineno"> 2384</span>    <span class="keywordflow">return</span> old_table;</div>
<div class="line"><a id="l02385" name="l02385"></a><span class="lineno"> 2385</span>  }</div>
<div class="line"><a id="l02386" name="l02386"></a><span class="lineno"> 2386</span> </div>
<div class="line"><a id="l02387" name="l02387"></a><span class="lineno"> 2387</span>  <span class="comment">// Grow table exponentially to guarantee amortized constant allocation and gc</span></div>
<div class="line"><a id="l02388" name="l02388"></a><span class="lineno"> 2388</span>  <span class="comment">// time.</span></div>
<div class="line"><a id="l02389" name="l02389"></a><span class="lineno"> 2389</span>  uint32_t limit =</div>
<div class="line"><a id="l02390" name="l02390"></a><span class="lineno"> 2390</span>      std::min&lt;uint32_t&gt;(<a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTable.html#a1b90f33e89bf3bcee0fb69f1dd86f461">WasmDispatchTable::kMaxLength</a>, <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a38d56b630d25ea0451a91c6204e89042">wasm::max_table_size</a>());</div>
<div class="line"><a id="l02391" name="l02391"></a><span class="lineno"> 2391</span>  uint32_t max_grow = limit - old_length;</div>
<div class="line"><a id="l02392" name="l02392"></a><span class="lineno"> 2392</span>  uint32_t min_grow = <a class="code hl_variable" href="regexp-bytecode-peephole_8cc.html#ae6409a32d85daa404e52072329e0a5ad">new_length</a> - old_capacity;</div>
<div class="line"><a id="l02393" name="l02393"></a><span class="lineno"> 2393</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>(min_grow, max_grow);</div>
<div class="line"><a id="l02394" name="l02394"></a><span class="lineno"> 2394</span>  <span class="comment">// Grow by old capacity, and at least by 8. Clamp to min_grow and max_grow.</span></div>
<div class="line"><a id="l02395" name="l02395"></a><span class="lineno"> 2395</span>  uint32_t exponential_grow = std::max(old_capacity, 8u);</div>
<div class="line"><a id="l02396" name="l02396"></a><span class="lineno"> 2396</span>  uint32_t grow = std::clamp(exponential_grow, min_grow, max_grow);</div>
<div class="line"><a id="l02397" name="l02397"></a><span class="lineno"> 2397</span>  uint32_t new_capacity = old_capacity + grow;</div>
<div class="line"><a id="l02398" name="l02398"></a><span class="lineno"> 2398</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmDispatchTable&gt;</a> new_table =</div>
<div class="line"><a id="l02399" name="l02399"></a><span class="lineno"> 2399</span>      <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#ad5b945965b06922104d72a6208c14c11">WasmDispatchTable::New</a>(isolate, new_capacity, old_table-&gt;table_type());</div>
<div class="line"><a id="l02400" name="l02400"></a><span class="lineno"> 2400</span> </div>
<div class="line"><a id="l02401" name="l02401"></a><span class="lineno"> 2401</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l02402" name="l02402"></a><span class="lineno"> 2402</span>  <span class="comment">// Writing non-atomically is fine here because this is a freshly allocated</span></div>
<div class="line"><a id="l02403" name="l02403"></a><span class="lineno"> 2403</span>  <span class="comment">// object.</span></div>
<div class="line"><a id="l02404" name="l02404"></a><span class="lineno"> 2404</span>  new_table-&gt;WriteField&lt;<span class="keywordtype">int</span>&gt;(<a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTable.html#adb64eac40ae89f9acaae1409ca56e65a">kLengthOffset</a>, <a class="code hl_variable" href="regexp-bytecode-peephole_8cc.html#ae6409a32d85daa404e52072329e0a5ad">new_length</a>);</div>
<div class="line"><a id="l02405" name="l02405"></a><span class="lineno"> 2405</span>  <span class="keywordflow">for</span> (uint32_t <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; old_length; ++<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>) {</div>
<div class="line"><a id="l02406" name="l02406"></a><span class="lineno"> 2406</span>    <a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> call_target = old_table-&gt;target(<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a id="l02407" name="l02407"></a><span class="lineno"> 2407</span>    <span class="comment">// Update any stored call origins, so that future compiled wrappers</span></div>
<div class="line"><a id="l02408" name="l02408"></a><span class="lineno"> 2408</span>    <span class="comment">// get installed into the new dispatch table.</span></div>
<div class="line"><a id="l02409" name="l02409"></a><span class="lineno"> 2409</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Object&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#af57144d54ea98150a598940d4a4729bb">implicit_arg</a> = old_table-&gt;implicit_arg(<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a id="l02410" name="l02410"></a><span class="lineno"> 2410</span>    <span class="keywordflow">if</span> (IsWasmImportData(<a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#af57144d54ea98150a598940d4a4729bb">implicit_arg</a>)) {</div>
<div class="line"><a id="l02411" name="l02411"></a><span class="lineno"> 2411</span>      <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmImportData&gt;</a> import_data = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmImportData&gt;</a>(<a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#af57144d54ea98150a598940d4a4729bb">implicit_arg</a>);</div>
<div class="line"><a id="l02412" name="l02412"></a><span class="lineno"> 2412</span>      <span class="comment">// After installing a compiled wrapper, we don&#39;t set a call origin</span></div>
<div class="line"><a id="l02413" name="l02413"></a><span class="lineno"> 2413</span>      <span class="comment">// any more.</span></div>
<div class="line"><a id="l02414" name="l02414"></a><span class="lineno"> 2414</span>      <span class="keywordflow">if</span> (import_data-&gt;has_call_origin()) {</div>
<div class="line"><a id="l02415" name="l02415"></a><span class="lineno"> 2415</span>        <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(*old_table, import_data-&gt;call_origin());</div>
<div class="line"><a id="l02416" name="l02416"></a><span class="lineno"> 2416</span>        import_data-&gt;set_call_origin(*new_table);</div>
<div class="line"><a id="l02417" name="l02417"></a><span class="lineno"> 2417</span>      }</div>
<div class="line"><a id="l02418" name="l02418"></a><span class="lineno"> 2418</span>    }</div>
<div class="line"><a id="l02419" name="l02419"></a><span class="lineno"> 2419</span> </div>
<div class="line"><a id="l02420" name="l02420"></a><span class="lineno"> 2420</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#af57144d54ea98150a598940d4a4729bb">implicit_arg</a> == <a class="code hl_function" href="classv8_1_1internal_1_1Smi.html#ae2be3083c9562dbe7c4bc39337bbe831">Smi::zero</a>()) {</div>
<div class="line"><a id="l02421" name="l02421"></a><span class="lineno"> 2421</span>      new_table-&gt;Clear(<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>, <a class="code hl_enumvalue" href="classv8_1_1internal_1_1WasmDispatchTable.html#ad1ad1647c93a971226e24d85ed741da5a9f2f50b3fefb9ec17a7654a289287866">kNewEntry</a>);</div>
<div class="line"><a id="l02422" name="l02422"></a><span class="lineno"> 2422</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02423" name="l02423"></a><span class="lineno"> 2423</span>    }</div>
<div class="line"><a id="l02424" name="l02424"></a><span class="lineno"> 2424</span> </div>
<div class="line"><a id="l02425" name="l02425"></a><span class="lineno"> 2425</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> = <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#afe90b842432164928401d05f5fff3a8a">OffsetOf</a>(<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a id="l02426" name="l02426"></a><span class="lineno"> 2426</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) {</div>
<div class="line"><a id="l02427" name="l02427"></a><span class="lineno"> 2427</span>      new_table-&gt;WriteField&lt;uint32_t&gt;(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTable.html#a3e4e2907cbc69176e0725dd18f3dca97">kTargetBias</a>,</div>
<div class="line"><a id="l02428" name="l02428"></a><span class="lineno"> 2428</span>                                      call_target.<a class="code hl_function" href="classv8_1_1internal_1_1WasmCodePointer.html#aa08af187eb29ca018162901c0d47183b">value</a>());</div>
<div class="line"><a id="l02429" name="l02429"></a><span class="lineno"> 2429</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02430" name="l02430"></a><span class="lineno"> 2430</span><span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l02431" name="l02431"></a><span class="lineno"> 2431</span>      <span class="comment">// Ignore call_target, not used in jitless mode.</span></div>
<div class="line"><a id="l02432" name="l02432"></a><span class="lineno"> 2432</span>      new_table-&gt;WriteField&lt;<span class="keywordtype">int</span>&gt;(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + kFunctionIndexBias,</div>
<div class="line"><a id="l02433" name="l02433"></a><span class="lineno"> 2433</span>                                 old_table-&gt;function_index(<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>));</div>
<div class="line"><a id="l02434" name="l02434"></a><span class="lineno"> 2434</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l02435" name="l02435"></a><span class="lineno"> 2435</span>    }</div>
<div class="line"><a id="l02436" name="l02436"></a><span class="lineno"> 2436</span>    new_table-&gt;WriteProtectedPointerField(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTable.html#aac23a57676a6c819173dd81a2ecc7eaa">kImplicitArgBias</a>,</div>
<div class="line"><a id="l02437" name="l02437"></a><span class="lineno"> 2437</span>                                          <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;TrustedObject&gt;</a>(<a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#af57144d54ea98150a598940d4a4729bb">implicit_arg</a>));</div>
<div class="line"><a id="l02438" name="l02438"></a><span class="lineno"> 2438</span>    <a class="code hl_define" href="object-macros_8h.html#a9231f70a649a71a193851bbd81d05010">CONDITIONAL_WRITE_BARRIER</a>(*new_table, <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTable.html#aac23a57676a6c819173dd81a2ecc7eaa">kImplicitArgBias</a>,</div>
<div class="line"><a id="l02439" name="l02439"></a><span class="lineno"> 2439</span>                              <a class="code hl_function" href="classv8_1_1internal_1_1WasmDispatchTable.html#af57144d54ea98150a598940d4a4729bb">implicit_arg</a>, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13a936c581afe29bbe04ab84d8ae4c6267d">UPDATE_WRITE_BARRIER</a>);</div>
<div class="line"><a id="l02440" name="l02440"></a><span class="lineno"> 2440</span>    new_table-&gt;WriteField&lt;uint32_t&gt;(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + <a class="code hl_variable" href="classv8_1_1internal_1_1WasmDispatchTable.html#a7dc6e7ebbb76782d6d3232ffea5edaf7">kSigBias</a>, old_table-&gt;sig(<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>).<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l02441" name="l02441"></a><span class="lineno"> 2441</span>  }</div>
<div class="line"><a id="l02442" name="l02442"></a><span class="lineno"> 2442</span> </div>
<div class="line"><a id="l02443" name="l02443"></a><span class="lineno"> 2443</span>  new_table-&gt;offheap_data()-&gt;wrappers_ =</div>
<div class="line"><a id="l02444" name="l02444"></a><span class="lineno"> 2444</span>      std::move(old_table-&gt;offheap_data()-&gt;wrappers_);</div>
<div class="line"><a id="l02445" name="l02445"></a><span class="lineno"> 2445</span> </div>
<div class="line"><a id="l02446" name="l02446"></a><span class="lineno"> 2446</span>  <span class="comment">// Update users.</span></div>
<div class="line"><a id="l02447" name="l02447"></a><span class="lineno"> 2447</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ProtectedWeakFixedArray&gt;</a> uses = old_table-&gt;protected_uses();</div>
<div class="line"><a id="l02448" name="l02448"></a><span class="lineno"> 2448</span>  new_table-&gt;set_protected_uses(uses);</div>
<div class="line"><a id="l02449" name="l02449"></a><span class="lineno"> 2449</span>  <span class="keywordtype">int</span> used_length = GetUsedLength(uses);</div>
<div class="line"><a id="l02450" name="l02450"></a><span class="lineno"> 2450</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = kReservedSlotOffset; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; used_length; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> += 2) {</div>
<div class="line"><a id="l02451" name="l02451"></a><span class="lineno"> 2451</span>    <span class="keywordflow">if</span> (uses-&gt;get(<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>).<a class="code hl_function" href="classv8_1_1internal_1_1TaggedImpl.html#a5d84dde6d0c8149b4560d7c79cf8f1a3">IsCleared</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02452" name="l02452"></a><span class="lineno"> 2452</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTrustedInstanceData&gt;</a> instance = GetInstance(uses, <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a id="l02453" name="l02453"></a><span class="lineno"> 2453</span>    <span class="keywordtype">int</span> table_index = GetTableIndex(uses, <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a id="l02454" name="l02454"></a><span class="lineno"> 2454</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(instance-&gt;dispatch_tables()-&gt;get(table_index), *old_table);</div>
<div class="line"><a id="l02455" name="l02455"></a><span class="lineno"> 2455</span>    instance-&gt;dispatch_tables()-&gt;set(table_index, *new_table);</div>
<div class="line"><a id="l02456" name="l02456"></a><span class="lineno"> 2456</span>    <span class="keywordflow">if</span> (table_index == 0) {</div>
<div class="line"><a id="l02457" name="l02457"></a><span class="lineno"> 2457</span>      <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(instance-&gt;dispatch_table0(), *old_table);</div>
<div class="line"><a id="l02458" name="l02458"></a><span class="lineno"> 2458</span>      instance-&gt;set_dispatch_table0(*new_table);</div>
<div class="line"><a id="l02459" name="l02459"></a><span class="lineno"> 2459</span>    }</div>
<div class="line"><a id="l02460" name="l02460"></a><span class="lineno"> 2460</span>  }</div>
<div class="line"><a id="l02461" name="l02461"></a><span class="lineno"> 2461</span>  <span class="keywordflow">return</span> new_table;</div>
<div class="line"><a id="l02462" name="l02462"></a><span class="lineno"> 2462</span>}</div>
</div>
<div class="line"><a id="l02463" name="l02463"></a><span class="lineno"> 2463</span> </div>
<div class="foldopen" id="foldopen02464" data-start="{" data-end="}">
<div class="line"><a id="l02464" name="l02464"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmCapiFunction.html#aa65370f2fd8cec8f4042ab5b2fa79b7a"> 2464</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmCapiFunction.html#aa65370f2fd8cec8f4042ab5b2fa79b7a">WasmCapiFunction::MatchesSignature</a>(</div>
<div class="line"><a id="l02465" name="l02465"></a><span class="lineno"> 2465</span>    <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a> other_canonical_sig_index)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l02466" name="l02466"></a><span class="lineno"> 2466</span><span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a id="l02467" name="l02467"></a><span class="lineno"> 2467</span>  <span class="comment">// TODO(14034): Change this if indexed types are allowed.</span></div>
<div class="line"><a id="l02468" name="l02468"></a><span class="lineno"> 2468</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html">wasm::CanonicalValueType</a> type : this-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1WasmCapiFunction.html#a303283aba317fedb0d548295dd9f3a2d">sig</a>()-&gt;all()) {</div>
<div class="line"><a id="l02469" name="l02469"></a><span class="lineno"> 2469</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!type.has_index());</div>
<div class="line"><a id="l02470" name="l02470"></a><span class="lineno"> 2470</span>  }</div>
<div class="line"><a id="l02471" name="l02471"></a><span class="lineno"> 2471</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02472" name="l02472"></a><span class="lineno"> 2472</span>  <span class="comment">// TODO(14034): Check for subtyping instead if C API functions can define</span></div>
<div class="line"><a id="l02473" name="l02473"></a><span class="lineno"> 2473</span>  <span class="comment">// signature supertype.</span></div>
<div class="line"><a id="l02474" name="l02474"></a><span class="lineno"> 2474</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="js-call-reducer_8cc.html#a9fa9548665fda8f7a8cfad92f3c8cedd">shared</a>()-&gt;wasm_capi_function_data()-&gt;sig_index() ==</div>
<div class="line"><a id="l02475" name="l02475"></a><span class="lineno"> 2475</span>         other_canonical_sig_index;</div>
<div class="line"><a id="l02476" name="l02476"></a><span class="lineno"> 2476</span>}</div>
</div>
<div class="line"><a id="l02477" name="l02477"></a><span class="lineno"> 2477</span> </div>
<div class="line"><a id="l02478" name="l02478"></a><span class="lineno"> 2478</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen02479" data-start="{" data-end="}">
<div class="line"><a id="l02479" name="l02479"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmExceptionPackage.html#aa07b9bf8e6d69fd27a9158f8dbb5b83d"> 2479</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmExceptionPackage&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmExceptionPackage.html#aa07b9bf8e6d69fd27a9158f8dbb5b83d">WasmExceptionPackage::New</a>(</div>
<div class="line"><a id="l02480" name="l02480"></a><span class="lineno"> 2480</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmExceptionTag&gt;</a> exception_tag, <span class="keywordtype">int</span> size) {</div>
<div class="line"><a id="l02481" name="l02481"></a><span class="lineno"> 2481</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FixedArray&gt;</a> values = isolate-&gt;factory()-&gt;NewFixedArray(size);</div>
<div class="line"><a id="l02482" name="l02482"></a><span class="lineno"> 2482</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmExceptionPackage.html#aa07b9bf8e6d69fd27a9158f8dbb5b83d">New</a>(isolate, exception_tag, values);</div>
<div class="line"><a id="l02483" name="l02483"></a><span class="lineno"> 2483</span>}</div>
</div>
<div class="line"><a id="l02484" name="l02484"></a><span class="lineno"> 2484</span> </div>
<div class="foldopen" id="foldopen02485" data-start="{" data-end="}">
<div class="line"><a id="l02485" name="l02485"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmExceptionPackage.html#ae176846a01c2c718781f5bd8e61956ba"> 2485</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmExceptionPackage&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmExceptionPackage.html#aa07b9bf8e6d69fd27a9158f8dbb5b83d">WasmExceptionPackage::New</a>(</div>
<div class="line"><a id="l02486" name="l02486"></a><span class="lineno"> 2486</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmExceptionTag&gt;</a> exception_tag,</div>
<div class="line"><a id="l02487" name="l02487"></a><span class="lineno"> 2487</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FixedArray&gt;</a> values) {</div>
<div class="line"><a id="l02488" name="l02488"></a><span class="lineno"> 2488</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> exception_cons(</div>
<div class="line"><a id="l02489" name="l02489"></a><span class="lineno"> 2489</span>      isolate-&gt;native_context()-&gt;wasm_exception_constructor(), isolate);</div>
<div class="line"><a id="l02490" name="l02490"></a><span class="lineno"> 2490</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;JSObject&gt;</a> exception = isolate-&gt;factory()-&gt;NewJSObject(exception_cons);</div>
<div class="line"><a id="l02491" name="l02491"></a><span class="lineno"> 2491</span>  exception-&gt;InObjectPropertyAtPut(<a class="code hl_enumvalue" href="classv8_1_1internal_1_1WasmExceptionPackage.html#a901140e9a9c45a88becc726525c5e51faed5075d6670bcb3fbea0070f8a69fb27">kTagIndex</a>, *exception_tag);</div>
<div class="line"><a id="l02492" name="l02492"></a><span class="lineno"> 2492</span>  exception-&gt;InObjectPropertyAtPut(<a class="code hl_enumvalue" href="classv8_1_1internal_1_1WasmExceptionPackage.html#a901140e9a9c45a88becc726525c5e51fadfaf00fe3bca39744c0eaf6637917b71">kValuesIndex</a>, *values);</div>
<div class="line"><a id="l02493" name="l02493"></a><span class="lineno"> 2493</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmExceptionPackage&gt;</a>(exception);</div>
<div class="line"><a id="l02494" name="l02494"></a><span class="lineno"> 2494</span>}</div>
</div>
<div class="line"><a id="l02495" name="l02495"></a><span class="lineno"> 2495</span> </div>
<div class="line"><a id="l02496" name="l02496"></a><span class="lineno"> 2496</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen02497" data-start="{" data-end="}">
<div class="line"><a id="l02497" name="l02497"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmExceptionPackage.html#a833f9e80776b90dc91b14074accc7588"> 2497</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmExceptionPackage.html#a833f9e80776b90dc91b14074accc7588">WasmExceptionPackage::GetExceptionTag</a>(</div>
<div class="line"><a id="l02498" name="l02498"></a><span class="lineno"> 2498</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmExceptionPackage&gt;</a> exception_package) {</div>
<div class="line"><a id="l02499" name="l02499"></a><span class="lineno"> 2499</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> tag;</div>
<div class="line"><a id="l02500" name="l02500"></a><span class="lineno"> 2500</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#aba4a2cfb4946da1635ae2730b710ff00">JSReceiver::GetProperty</a>(isolate, exception_package,</div>
<div class="line"><a id="l02501" name="l02501"></a><span class="lineno"> 2501</span>                              isolate-&gt;factory()-&gt;wasm_exception_tag_symbol())</div>
<div class="line"><a id="l02502" name="l02502"></a><span class="lineno"> 2502</span>          .ToHandle(&amp;tag)) {</div>
<div class="line"><a id="l02503" name="l02503"></a><span class="lineno"> 2503</span>    <span class="keywordflow">return</span> tag;</div>
<div class="line"><a id="l02504" name="l02504"></a><span class="lineno"> 2504</span>  }</div>
<div class="line"><a id="l02505" name="l02505"></a><span class="lineno"> 2505</span>  <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;undefined_value();</div>
<div class="line"><a id="l02506" name="l02506"></a><span class="lineno"> 2506</span>}</div>
</div>
<div class="line"><a id="l02507" name="l02507"></a><span class="lineno"> 2507</span> </div>
<div class="line"><a id="l02508" name="l02508"></a><span class="lineno"> 2508</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen02509" data-start="{" data-end="}">
<div class="line"><a id="l02509" name="l02509"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmExceptionPackage.html#a61f7d7bb1cb3190ec15d32d5873f7204"> 2509</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmExceptionPackage.html#a61f7d7bb1cb3190ec15d32d5873f7204">WasmExceptionPackage::GetExceptionValues</a>(</div>
<div class="line"><a id="l02510" name="l02510"></a><span class="lineno"> 2510</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmExceptionPackage&gt;</a> exception_package) {</div>
<div class="line"><a id="l02511" name="l02511"></a><span class="lineno"> 2511</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> values;</div>
<div class="line"><a id="l02512" name="l02512"></a><span class="lineno"> 2512</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#aba4a2cfb4946da1635ae2730b710ff00">JSReceiver::GetProperty</a>(</div>
<div class="line"><a id="l02513" name="l02513"></a><span class="lineno"> 2513</span>          isolate, exception_package,</div>
<div class="line"><a id="l02514" name="l02514"></a><span class="lineno"> 2514</span>          isolate-&gt;factory()-&gt;wasm_exception_values_symbol())</div>
<div class="line"><a id="l02515" name="l02515"></a><span class="lineno"> 2515</span>          .ToHandle(&amp;values)) {</div>
<div class="line"><a id="l02516" name="l02516"></a><span class="lineno"> 2516</span>    <a class="code hl_define" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(!IsUndefined(*values), IsFixedArray(*values));</div>
<div class="line"><a id="l02517" name="l02517"></a><span class="lineno"> 2517</span>    <span class="keywordflow">return</span> values;</div>
<div class="line"><a id="l02518" name="l02518"></a><span class="lineno"> 2518</span>  }</div>
<div class="line"><a id="l02519" name="l02519"></a><span class="lineno"> 2519</span>  <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;undefined_value();</div>
<div class="line"><a id="l02520" name="l02520"></a><span class="lineno"> 2520</span>}</div>
</div>
<div class="line"><a id="l02521" name="l02521"></a><span class="lineno"> 2521</span> </div>
<div class="foldopen" id="foldopen02522" data-start="{" data-end="}">
<div class="line"><a id="l02522" name="l02522"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a2a2a0e61ae504b5c29621f23fe6d1ae8"> 2522</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacev8_1_1internal.html#a2a2a0e61ae504b5c29621f23fe6d1ae8">EncodeI32ExceptionValue</a>(<a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FixedArray&gt;</a> encoded_values,</div>
<div class="line"><a id="l02523" name="l02523"></a><span class="lineno"> 2523</span>                             uint32_t* encoded_index, uint32_t value) {</div>
<div class="line"><a id="l02524" name="l02524"></a><span class="lineno"> 2524</span>  encoded_values-&gt;set((*encoded_index)++, <a class="code hl_function" href="classv8_1_1internal_1_1Smi.html#a755464f4d2c3a71ffd82cd474bbc50f3">Smi::FromInt</a>(value &gt;&gt; 16));</div>
<div class="line"><a id="l02525" name="l02525"></a><span class="lineno"> 2525</span>  encoded_values-&gt;set((*encoded_index)++, <a class="code hl_function" href="classv8_1_1internal_1_1Smi.html#a755464f4d2c3a71ffd82cd474bbc50f3">Smi::FromInt</a>(value &amp; 0xffff));</div>
<div class="line"><a id="l02526" name="l02526"></a><span class="lineno"> 2526</span>}</div>
</div>
<div class="line"><a id="l02527" name="l02527"></a><span class="lineno"> 2527</span> </div>
<div class="foldopen" id="foldopen02528" data-start="{" data-end="}">
<div class="line"><a id="l02528" name="l02528"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#af7ebacf07d7eaed3247cbd3fca3a35e6"> 2528</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacev8_1_1internal.html#af7ebacf07d7eaed3247cbd3fca3a35e6">EncodeI64ExceptionValue</a>(<a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FixedArray&gt;</a> encoded_values,</div>
<div class="line"><a id="l02529" name="l02529"></a><span class="lineno"> 2529</span>                             uint32_t* encoded_index, uint64_t value) {</div>
<div class="line"><a id="l02530" name="l02530"></a><span class="lineno"> 2530</span>  <a class="code hl_function" href="namespacev8_1_1internal.html#a2a2a0e61ae504b5c29621f23fe6d1ae8">EncodeI32ExceptionValue</a>(encoded_values, encoded_index,</div>
<div class="line"><a id="l02531" name="l02531"></a><span class="lineno"> 2531</span>                          <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(value &gt;&gt; 32));</div>
<div class="line"><a id="l02532" name="l02532"></a><span class="lineno"> 2532</span>  <a class="code hl_function" href="namespacev8_1_1internal.html#a2a2a0e61ae504b5c29621f23fe6d1ae8">EncodeI32ExceptionValue</a>(encoded_values, encoded_index,</div>
<div class="line"><a id="l02533" name="l02533"></a><span class="lineno"> 2533</span>                          <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(value));</div>
<div class="line"><a id="l02534" name="l02534"></a><span class="lineno"> 2534</span>}</div>
</div>
<div class="line"><a id="l02535" name="l02535"></a><span class="lineno"> 2535</span> </div>
<div class="foldopen" id="foldopen02536" data-start="{" data-end="}">
<div class="line"><a id="l02536" name="l02536"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a2ef75ab406122e31bc6a5e46e16e0de9"> 2536</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacev8_1_1internal.html#a2ef75ab406122e31bc6a5e46e16e0de9">DecodeI32ExceptionValue</a>(<a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FixedArray&gt;</a> encoded_values,</div>
<div class="line"><a id="l02537" name="l02537"></a><span class="lineno"> 2537</span>                             uint32_t* encoded_index, uint32_t* value) {</div>
<div class="line"><a id="l02538" name="l02538"></a><span class="lineno"> 2538</span>  uint32_t msb = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;Smi&gt;</a>(encoded_values-&gt;get((*encoded_index)++)).value();</div>
<div class="line"><a id="l02539" name="l02539"></a><span class="lineno"> 2539</span>  uint32_t lsb = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;Smi&gt;</a>(encoded_values-&gt;get((*encoded_index)++)).value();</div>
<div class="line"><a id="l02540" name="l02540"></a><span class="lineno"> 2540</span>  *value = (msb &lt;&lt; 16) | (lsb &amp; 0xffff);</div>
<div class="line"><a id="l02541" name="l02541"></a><span class="lineno"> 2541</span>}</div>
</div>
<div class="line"><a id="l02542" name="l02542"></a><span class="lineno"> 2542</span> </div>
<div class="foldopen" id="foldopen02543" data-start="{" data-end="}">
<div class="line"><a id="l02543" name="l02543"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a833daad0bfc17094878be96c55497d8e"> 2543</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacev8_1_1internal.html#a833daad0bfc17094878be96c55497d8e">DecodeI64ExceptionValue</a>(<a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FixedArray&gt;</a> encoded_values,</div>
<div class="line"><a id="l02544" name="l02544"></a><span class="lineno"> 2544</span>                             uint32_t* encoded_index, uint64_t* value) {</div>
<div class="line"><a id="l02545" name="l02545"></a><span class="lineno"> 2545</span>  uint32_t lsb = 0, msb = 0;</div>
<div class="line"><a id="l02546" name="l02546"></a><span class="lineno"> 2546</span>  <a class="code hl_function" href="namespacev8_1_1internal.html#a2ef75ab406122e31bc6a5e46e16e0de9">DecodeI32ExceptionValue</a>(encoded_values, encoded_index, &amp;msb);</div>
<div class="line"><a id="l02547" name="l02547"></a><span class="lineno"> 2547</span>  <a class="code hl_function" href="namespacev8_1_1internal.html#a2ef75ab406122e31bc6a5e46e16e0de9">DecodeI32ExceptionValue</a>(encoded_values, encoded_index, &amp;lsb);</div>
<div class="line"><a id="l02548" name="l02548"></a><span class="lineno"> 2548</span>  *value = (<span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(msb) &lt;&lt; 32) | <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(lsb);</div>
<div class="line"><a id="l02549" name="l02549"></a><span class="lineno"> 2549</span>}</div>
</div>
<div class="line"><a id="l02550" name="l02550"></a><span class="lineno"> 2550</span> </div>
<div class="line"><a id="l02551" name="l02551"></a><span class="lineno"> 2551</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen02552" data-start="{" data-end="}">
<div class="line"><a id="l02552" name="l02552"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmContinuationObject.html#a72f4f8ac0289940eb49e1294759f7453"> 2552</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmContinuationObject&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmContinuationObject.html#a54ce7d740362e8bf3be5125634f22f7c">WasmContinuationObject::New</a>(</div>
<div class="line"><a id="l02553" name="l02553"></a><span class="lineno"> 2553</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1StackMemory.html">wasm::StackMemory</a>* stack,</div>
<div class="line"><a id="l02554" name="l02554"></a><span class="lineno"> 2554</span>    <a class="code hl_enumeration" href="structv8_1_1internal_1_1wasm_1_1JumpBuffer.html#ae01815403be2efcd294f92390cd01fc2">wasm::JumpBuffer::StackState</a> state, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;HeapObject&gt;</a> parent,</div>
<div class="line"><a id="l02555" name="l02555"></a><span class="lineno"> 2555</span>    <a class="code hl_enumeration" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20a">AllocationType</a> allocation_type) {</div>
<div class="line"><a id="l02556" name="l02556"></a><span class="lineno"> 2556</span>  stack-&gt;jmpbuf()-&gt;stack_limit = stack-&gt;jslimit();</div>
<div class="line"><a id="l02557" name="l02557"></a><span class="lineno"> 2557</span>  stack-&gt;jmpbuf()-&gt;sp = stack-&gt;base();</div>
<div class="line"><a id="l02558" name="l02558"></a><span class="lineno"> 2558</span>  stack-&gt;jmpbuf()-&gt;fp = <a class="code hl_variable" href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">kNullAddress</a>;</div>
<div class="line"><a id="l02559" name="l02559"></a><span class="lineno"> 2559</span>  stack-&gt;jmpbuf()-&gt;state = <a class="code hl_variable" href="liftoff-compiler_8cc.html#ab600894d6947e13cf9b2a5a775e70324">state</a>;</div>
<div class="line"><a id="l02560" name="l02560"></a><span class="lineno"> 2560</span>  <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1JumpBuffer.html">wasm::JumpBuffer</a>* <a class="code hl_variable" href="namespacev8_1_1internal.html#a86bca54805e1828c0927f8de7350236b">jmpbuf</a> = stack-&gt;jmpbuf();</div>
<div class="line"><a id="l02561" name="l02561"></a><span class="lineno"> 2561</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmContinuationObject&gt;</a> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> =</div>
<div class="line"><a id="l02562" name="l02562"></a><span class="lineno"> 2562</span>      isolate-&gt;factory()-&gt;NewWasmContinuationObject(</div>
<div class="line"><a id="l02563" name="l02563"></a><span class="lineno"> 2563</span>          <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_variable" href="namespacev8_1_1internal.html#a92ab64d42404e439be3d6a7556e32380">Address</a><span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a86bca54805e1828c0927f8de7350236b">jmpbuf</a>), stack, parent, allocation_type);</div>
<div class="line"><a id="l02564" name="l02564"></a><span class="lineno"> 2564</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>;</div>
<div class="line"><a id="l02565" name="l02565"></a><span class="lineno"> 2565</span>}</div>
</div>
<div class="line"><a id="l02566" name="l02566"></a><span class="lineno"> 2566</span> </div>
<div class="foldopen" id="foldopen02567" data-start="{" data-end="}">
<div class="line"><a id="l02567" name="l02567"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a667827abe3e3649a272fe634ee5b2612"> 2567</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="namespacev8_1_1internal.html#a667827abe3e3649a272fe634ee5b2612">UseGenericWasmToJSWrapper</a>(<a class="code hl_enumeration" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63a">wasm::ImportCallKind</a> kind,</div>
<div class="line"><a id="l02568" name="l02568"></a><span class="lineno"> 2568</span>                               <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html">wasm::CanonicalSig</a>* <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>,</div>
<div class="line"><a id="l02569" name="l02569"></a><span class="lineno"> 2569</span>                               <a class="code hl_enumeration" href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843a">wasm::Suspend</a> suspend) {</div>
<div class="line"><a id="l02570" name="l02570"></a><span class="lineno"> 2570</span>  <span class="keywordflow">if</span> (kind != <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aaadced019e879f8edd1912b4026677f47">wasm::ImportCallKind::kJSFunctionArityMatch</a> &amp;&amp;</div>
<div class="line"><a id="l02571" name="l02571"></a><span class="lineno"> 2571</span>      kind != <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aada29bf8bad277f522fdb79d15a06c6a7">wasm::ImportCallKind::kJSFunctionArityMismatch</a>) {</div>
<div class="line"><a id="l02572" name="l02572"></a><span class="lineno"> 2572</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02573" name="l02573"></a><span class="lineno"> 2573</span>  }</div>
<div class="line"><a id="l02574" name="l02574"></a><span class="lineno"> 2574</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a769350a0bf794ab0ebf3c8fc1c8fc450">wasm::IsJSCompatibleSignature</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>));</div>
<div class="line"><a id="l02575" name="l02575"></a><span class="lineno"> 2575</span><span class="preprocessor">#if !V8_TARGET_ARCH_X64 &amp;&amp; !V8_TARGET_ARCH_ARM64 &amp;&amp; !V8_TARGET_ARCH_ARM &amp;&amp; \</span></div>
<div class="line"><a id="l02576" name="l02576"></a><span class="lineno"> 2576</span><span class="preprocessor">    !V8_TARGET_ARCH_IA32 &amp;&amp; !V8_TARGET_ARCH_RISCV64 &amp;&amp;                     \</span></div>
<div class="line"><a id="l02577" name="l02577"></a><span class="lineno"> 2577</span><span class="preprocessor">    !V8_TARGET_ARCH_RISCV32 &amp;&amp; !V8_TARGET_ARCH_PPC64 &amp;&amp;                    \</span></div>
<div class="line"><a id="l02578" name="l02578"></a><span class="lineno"> 2578</span><span class="preprocessor">    !V8_TARGET_ARCH_S390X &amp;&amp; !V8_TARGET_ARCH_LOONG64 &amp;&amp; !V8_TARGET_ARCH_MIPS64</span></div>
<div class="line"><a id="l02579" name="l02579"></a><span class="lineno"> 2579</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02580" name="l02580"></a><span class="lineno"> 2580</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l02581" name="l02581"></a><span class="lineno"> 2581</span>  <span class="keywordflow">if</span> (suspend != <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843aac51012268661bd5ae03450b2207e5d83">wasm::Suspend::kNoSuspend</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02582" name="l02582"></a><span class="lineno"> 2582</span> </div>
<div class="line"><a id="l02583" name="l02583"></a><span class="lineno"> 2583</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_generic_wrapper;</div>
<div class="line"><a id="l02584" name="l02584"></a><span class="lineno"> 2584</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02585" name="l02585"></a><span class="lineno"> 2585</span>}</div>
</div>
<div class="line"><a id="l02586" name="l02586"></a><span class="lineno"> 2586</span> </div>
<div class="line"><a id="l02587" name="l02587"></a><span class="lineno"> 2587</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen02588" data-start="{" data-end="}">
<div class="line"><a id="l02588" name="l02588"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmContinuationObject.html#a54ce7d740362e8bf3be5125634f22f7c"> 2588</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmContinuationObject&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmContinuationObject.html#a54ce7d740362e8bf3be5125634f22f7c">WasmContinuationObject::New</a>(</div>
<div class="line"><a id="l02589" name="l02589"></a><span class="lineno"> 2589</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1StackMemory.html">wasm::StackMemory</a>* stack,</div>
<div class="line"><a id="l02590" name="l02590"></a><span class="lineno"> 2590</span>    <a class="code hl_enumeration" href="structv8_1_1internal_1_1wasm_1_1JumpBuffer.html#ae01815403be2efcd294f92390cd01fc2">wasm::JumpBuffer::StackState</a> state, <a class="code hl_enumeration" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20a">AllocationType</a> allocation_type) {</div>
<div class="line"><a id="l02591" name="l02591"></a><span class="lineno"> 2591</span>  <span class="keyword">auto</span> parent = <a class="code hl_class" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(isolate).undefined_value();</div>
<div class="line"><a id="l02592" name="l02592"></a><span class="lineno"> 2592</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmContinuationObject.html#a54ce7d740362e8bf3be5125634f22f7c">New</a>(isolate, stack, state, <a class="code hl_function" href="namespacev8_1_1internal.html#a60f13a8c00d0433f9336368824ac21a1">direct_handle</a>(parent, isolate),</div>
<div class="line"><a id="l02593" name="l02593"></a><span class="lineno"> 2593</span>             allocation_type);</div>
<div class="line"><a id="l02594" name="l02594"></a><span class="lineno"> 2594</span>}</div>
</div>
<div class="line"><a id="l02595" name="l02595"></a><span class="lineno"> 2595</span><span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a id="l02596" name="l02596"></a><span class="lineno"> 2596</span> </div>
<div class="line"><a id="l02597" name="l02597"></a><span class="lineno"> 2597</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l02598" name="l02598"></a><span class="lineno"> 2598</span> </div>
<div class="line"><a id="l02599" name="l02599"></a><span class="lineno"> 2599</span><span class="keyword">constexpr</span> uint32_t kBytesPerExceptionValuesArrayElement = 2;</div>
<div class="line"><a id="l02600" name="l02600"></a><span class="lineno"> 2600</span> </div>
<div class="line"><a id="l02601" name="l02601"></a><span class="lineno"> 2601</span><span class="keywordtype">size_t</span> ComputeEncodedElementSize(<a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1ValueType.html">wasm::ValueType</a> type) {</div>
<div class="line"><a id="l02602" name="l02602"></a><span class="lineno"> 2602</span>  <span class="keywordtype">size_t</span> byte_size = type.value_kind_size();</div>
<div class="line"><a id="l02603" name="l02603"></a><span class="lineno"> 2603</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(byte_size % kBytesPerExceptionValuesArrayElement, 0);</div>
<div class="line"><a id="l02604" name="l02604"></a><span class="lineno"> 2604</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(1, byte_size / kBytesPerExceptionValuesArrayElement);</div>
<div class="line"><a id="l02605" name="l02605"></a><span class="lineno"> 2605</span>  <span class="keywordflow">return</span> byte_size / kBytesPerExceptionValuesArrayElement;</div>
<div class="line"><a id="l02606" name="l02606"></a><span class="lineno"> 2606</span>}</div>
<div class="line"><a id="l02607" name="l02607"></a><span class="lineno"> 2607</span> </div>
<div class="line"><a id="l02608" name="l02608"></a><span class="lineno"> 2608</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l02609" name="l02609"></a><span class="lineno"> 2609</span> </div>
<div class="line"><a id="l02610" name="l02610"></a><span class="lineno"> 2610</span><span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a id="l02611" name="l02611"></a><span class="lineno"> 2611</span> </div>
<div class="line"><a id="l02612" name="l02612"></a><span class="lineno"> 2612</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen02613" data-start="{" data-end="}">
<div class="line"><a id="l02613" name="l02613"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmExceptionPackage.html#ae6a213f410751f606e8abe6ac7183bbb"> 2613</a></span>uint32_t <a class="code hl_function" href="classv8_1_1internal_1_1WasmExceptionPackage.html#a932f3378b7a526a7233f8264f5faa3b3">WasmExceptionPackage::GetEncodedSize</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmTag.html">wasm::WasmTag</a>* tag) {</div>
<div class="line"><a id="l02614" name="l02614"></a><span class="lineno"> 2614</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmExceptionPackage.html#a932f3378b7a526a7233f8264f5faa3b3">GetEncodedSize</a>(tag-&gt;<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmTag.html#ab248923eacd85fe26d448e7647a9a142">sig</a>);</div>
<div class="line"><a id="l02615" name="l02615"></a><span class="lineno"> 2615</span>}</div>
</div>
<div class="line"><a id="l02616" name="l02616"></a><span class="lineno"> 2616</span> </div>
<div class="line"><a id="l02617" name="l02617"></a><span class="lineno"> 2617</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen02618" data-start="{" data-end="}">
<div class="line"><a id="l02618" name="l02618"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmExceptionPackage.html#a932f3378b7a526a7233f8264f5faa3b3"> 2618</a></span>uint32_t <a class="code hl_function" href="classv8_1_1internal_1_1WasmExceptionPackage.html#a932f3378b7a526a7233f8264f5faa3b3">WasmExceptionPackage::GetEncodedSize</a>(<span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1Signature.html">wasm::WasmTagSig</a>* <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>) {</div>
<div class="line"><a id="l02619" name="l02619"></a><span class="lineno"> 2619</span>  uint32_t encoded_size = 0;</div>
<div class="line"><a id="l02620" name="l02620"></a><span class="lineno"> 2620</span>  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;parameter_count(); ++<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>) {</div>
<div class="line"><a id="l02621" name="l02621"></a><span class="lineno"> 2621</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;GetParam(<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>).kind()) {</div>
<div class="line"><a id="l02622" name="l02622"></a><span class="lineno"> 2622</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952a0a0ecdb4eded286c722877578774a293">wasm::kI32</a>:</div>
<div class="line"><a id="l02623" name="l02623"></a><span class="lineno"> 2623</span>      <span class="keywordflow">case</span> wasm::kF32:</div>
<div class="line"><a id="l02624" name="l02624"></a><span class="lineno"> 2624</span>        <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(2, ComputeEncodedElementSize(<a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;GetParam(<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>)));</div>
<div class="line"><a id="l02625" name="l02625"></a><span class="lineno"> 2625</span>        encoded_size += 2;</div>
<div class="line"><a id="l02626" name="l02626"></a><span class="lineno"> 2626</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02627" name="l02627"></a><span class="lineno"> 2627</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952a6601e7b0f7c0f03d9ffa9f222c82e6a0">wasm::kI64</a>:</div>
<div class="line"><a id="l02628" name="l02628"></a><span class="lineno"> 2628</span>      <span class="keywordflow">case</span> wasm::kF64:</div>
<div class="line"><a id="l02629" name="l02629"></a><span class="lineno"> 2629</span>        <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(4, ComputeEncodedElementSize(<a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;GetParam(<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>)));</div>
<div class="line"><a id="l02630" name="l02630"></a><span class="lineno"> 2630</span>        encoded_size += 4;</div>
<div class="line"><a id="l02631" name="l02631"></a><span class="lineno"> 2631</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02632" name="l02632"></a><span class="lineno"> 2632</span>      <span class="keywordflow">case</span> wasm::kS128:</div>
<div class="line"><a id="l02633" name="l02633"></a><span class="lineno"> 2633</span>        <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(8, ComputeEncodedElementSize(<a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;GetParam(<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>)));</div>
<div class="line"><a id="l02634" name="l02634"></a><span class="lineno"> 2634</span>        encoded_size += 8;</div>
<div class="line"><a id="l02635" name="l02635"></a><span class="lineno"> 2635</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02636" name="l02636"></a><span class="lineno"> 2636</span>      <span class="keywordflow">case</span> wasm::kRef:</div>
<div class="line"><a id="l02637" name="l02637"></a><span class="lineno"> 2637</span>      <span class="keywordflow">case</span> wasm::kRefNull:</div>
<div class="line"><a id="l02638" name="l02638"></a><span class="lineno"> 2638</span>        encoded_size += 1;</div>
<div class="line"><a id="l02639" name="l02639"></a><span class="lineno"> 2639</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02640" name="l02640"></a><span class="lineno"> 2640</span>      <span class="keywordflow">case</span> wasm::kRtt:</div>
<div class="line"><a id="l02641" name="l02641"></a><span class="lineno"> 2641</span>      <span class="keywordflow">case</span> wasm::kVoid:</div>
<div class="line"><a id="l02642" name="l02642"></a><span class="lineno"> 2642</span>      <span class="keywordflow">case</span> wasm::kTop:</div>
<div class="line"><a id="l02643" name="l02643"></a><span class="lineno"> 2643</span>      <span class="keywordflow">case</span> wasm::kBottom:</div>
<div class="line"><a id="l02644" name="l02644"></a><span class="lineno"> 2644</span>      <span class="keywordflow">case</span> wasm::kI8:</div>
<div class="line"><a id="l02645" name="l02645"></a><span class="lineno"> 2645</span>      <span class="keywordflow">case</span> wasm::kI16:</div>
<div class="line"><a id="l02646" name="l02646"></a><span class="lineno"> 2646</span>      <span class="keywordflow">case</span> wasm::kF16:</div>
<div class="line"><a id="l02647" name="l02647"></a><span class="lineno"> 2647</span>        <a class="code hl_function" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a id="l02648" name="l02648"></a><span class="lineno"> 2648</span>    }</div>
<div class="line"><a id="l02649" name="l02649"></a><span class="lineno"> 2649</span>  }</div>
<div class="line"><a id="l02650" name="l02650"></a><span class="lineno"> 2650</span>  <span class="keywordflow">return</span> encoded_size;</div>
<div class="line"><a id="l02651" name="l02651"></a><span class="lineno"> 2651</span>}</div>
</div>
<div class="line"><a id="l02652" name="l02652"></a><span class="lineno"> 2652</span> </div>
<div class="foldopen" id="foldopen02653" data-start="{" data-end="}">
<div class="line"><a id="l02653" name="l02653"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmExportedFunction.html#a89d14615aeb9e6fdd2017315fe60d0ef"> 2653</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmExportedFunction.html#a89d14615aeb9e6fdd2017315fe60d0ef">WasmExportedFunction::IsWasmExportedFunction</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Object&gt;</a> <span class="keywordtype">object</span>) {</div>
<div class="line"><a id="l02654" name="l02654"></a><span class="lineno"> 2654</span>  <span class="keywordflow">if</span> (!IsJSFunction(<span class="keywordtype">object</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02655" name="l02655"></a><span class="lineno"> 2655</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;JSFunction&gt;</a> js_function = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;JSFunction&gt;</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><a id="l02656" name="l02656"></a><span class="lineno"> 2656</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Code&gt;</a> code = js_function-&gt;code(<a class="code hl_function" href="namespacev8_1_1internal.html#a288a2bc7dffae4e40a103ad0b2bd8a2b">GetIsolateForSandbox</a>(js_function));</div>
<div class="line"><a id="l02657" name="l02657"></a><span class="lineno"> 2657</span>  <span class="keywordflow">if</span> (CodeKind::JS_TO_WASM_FUNCTION != code-&gt;kind() &amp;&amp;</div>
<div class="line"><a id="l02658" name="l02658"></a><span class="lineno"> 2658</span>#<span class="keywordflow">if</span> V8_ENABLE_DRUMBRAKE</div>
<div class="line"><a id="l02659" name="l02659"></a><span class="lineno"> 2659</span>      code-&gt;builtin_id() != Builtin::kGenericJSToWasmInterpreterWrapper &amp;&amp;</div>
<div class="line"><a id="l02660" name="l02660"></a><span class="lineno"> 2660</span>#endif  <span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l02661" name="l02661"></a><span class="lineno"> 2661</span>      code-&gt;builtin_id() != Builtin::kJSToWasmWrapper &amp;&amp;</div>
<div class="line"><a id="l02662" name="l02662"></a><span class="lineno"> 2662</span>      code-&gt;builtin_id() != Builtin::kWasmPromising &amp;&amp;</div>
<div class="line"><a id="l02663" name="l02663"></a><span class="lineno"> 2663</span>      code-&gt;builtin_id() != Builtin::kWasmStressSwitch) {</div>
<div class="line"><a id="l02664" name="l02664"></a><span class="lineno"> 2664</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02665" name="l02665"></a><span class="lineno"> 2665</span>  }</div>
<div class="line"><a id="l02666" name="l02666"></a><span class="lineno"> 2666</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(js_function-&gt;shared()-&gt;HasWasmExportedFunctionData());</div>
<div class="line"><a id="l02667" name="l02667"></a><span class="lineno"> 2667</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02668" name="l02668"></a><span class="lineno"> 2668</span>}</div>
</div>
<div class="line"><a id="l02669" name="l02669"></a><span class="lineno"> 2669</span> </div>
<div class="foldopen" id="foldopen02670" data-start="{" data-end="}">
<div class="line"><a id="l02670" name="l02670"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmCapiFunction.html#a62930ad9bbbf2736e47ad0b607ee0c83"> 2670</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmCapiFunction.html#a62930ad9bbbf2736e47ad0b607ee0c83">WasmCapiFunction::IsWasmCapiFunction</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Object&gt;</a> <span class="keywordtype">object</span>) {</div>
<div class="line"><a id="l02671" name="l02671"></a><span class="lineno"> 2671</span>  <span class="keywordflow">if</span> (!IsJSFunction(<span class="keywordtype">object</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02672" name="l02672"></a><span class="lineno"> 2672</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;JSFunction&gt;</a> js_function = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;JSFunction&gt;</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><a id="l02673" name="l02673"></a><span class="lineno"> 2673</span>  <span class="comment">// TODO(jkummerow): Enable this when there is a JavaScript wrapper</span></div>
<div class="line"><a id="l02674" name="l02674"></a><span class="lineno"> 2674</span>  <span class="comment">// able to call this function.</span></div>
<div class="line"><a id="l02675" name="l02675"></a><span class="lineno"> 2675</span>  <span class="comment">// if (js_function-&gt;code()-&gt;kind() != CodeKind::WASM_TO_CAPI_FUNCTION) {</span></div>
<div class="line"><a id="l02676" name="l02676"></a><span class="lineno"> 2676</span>  <span class="comment">//   return false;</span></div>
<div class="line"><a id="l02677" name="l02677"></a><span class="lineno"> 2677</span>  <span class="comment">// }</span></div>
<div class="line"><a id="l02678" name="l02678"></a><span class="lineno"> 2678</span>  <span class="comment">// DCHECK(js_function-&gt;shared()-&gt;HasWasmCapiFunctionData());</span></div>
<div class="line"><a id="l02679" name="l02679"></a><span class="lineno"> 2679</span>  <span class="comment">// return true;</span></div>
<div class="line"><a id="l02680" name="l02680"></a><span class="lineno"> 2680</span>  <span class="keywordflow">return</span> js_function-&gt;shared()-&gt;HasWasmCapiFunctionData();</div>
<div class="line"><a id="l02681" name="l02681"></a><span class="lineno"> 2681</span>}</div>
</div>
<div class="line"><a id="l02682" name="l02682"></a><span class="lineno"> 2682</span> </div>
<div class="foldopen" id="foldopen02683" data-start="{" data-end="}">
<div class="line"><a id="l02683" name="l02683"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmCapiFunction.html#af321cd46291d32293eb5bb26264e0b7b"> 2683</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmCapiFunction&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmCapiFunction.html#af321cd46291d32293eb5bb26264e0b7b">WasmCapiFunction::New</a>(</div>
<div class="line"><a id="l02684" name="l02684"></a><span class="lineno"> 2684</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_variable" href="namespacev8_1_1internal.html#a92ab64d42404e439be3d6a7556e32380">Address</a> call_target, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Foreign&gt;</a> embedder_data,</div>
<div class="line"><a id="l02685" name="l02685"></a><span class="lineno"> 2685</span>    <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a> sig_index, <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html">wasm::CanonicalSig</a>* <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>) {</div>
<div class="line"><a id="l02686" name="l02686"></a><span class="lineno"> 2686</span>  <span class="comment">// TODO(jkummerow): Install a JavaScript wrapper. For now, calling</span></div>
<div class="line"><a id="l02687" name="l02687"></a><span class="lineno"> 2687</span>  <span class="comment">// these functions directly is unsupported; they can only be called</span></div>
<div class="line"><a id="l02688" name="l02688"></a><span class="lineno"> 2688</span>  <span class="comment">// from Wasm code.</span></div>
<div class="line"><a id="l02689" name="l02689"></a><span class="lineno"> 2689</span> </div>
<div class="line"><a id="l02690" name="l02690"></a><span class="lineno"> 2690</span>  <span class="comment">// To support simulator builds, we potentially have to redirect the</span></div>
<div class="line"><a id="l02691" name="l02691"></a><span class="lineno"> 2691</span>  <span class="comment">// call target (which is an address pointing into the C++ binary).</span></div>
<div class="line"><a id="l02692" name="l02692"></a><span class="lineno"> 2692</span>  call_target = <a class="code hl_function" href="classv8_1_1internal_1_1ExternalReference.html#af4f8bd08709c2b99f51c5dea884e63af">ExternalReference::Create</a>(call_target).<a class="code hl_function" href="classv8_1_1internal_1_1ExternalReference.html#aadf8c6aed72f2104bd107b194c7d86a8">address</a>();</div>
<div class="line"><a id="l02693" name="l02693"></a><span class="lineno"> 2693</span> </div>
<div class="line"><a id="l02694" name="l02694"></a><span class="lineno"> 2694</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> rtt = isolate-&gt;factory()-&gt;wasm_func_ref_map();</div>
<div class="line"><a id="l02695" name="l02695"></a><span class="lineno"> 2695</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmCapiFunctionData&gt;</a> fun_data =</div>
<div class="line"><a id="l02696" name="l02696"></a><span class="lineno"> 2696</span>      isolate-&gt;factory()-&gt;NewWasmCapiFunctionData(</div>
<div class="line"><a id="l02697" name="l02697"></a><span class="lineno"> 2697</span>          call_target, embedder_data, <a class="code hl_define" href="builtins_8h.html#af33bd0f259d8e6a511fd018115e0d62c">BUILTIN_CODE</a>(isolate, Illegal), rtt,</div>
<div class="line"><a id="l02698" name="l02698"></a><span class="lineno"> 2698</span>          sig_index, <a class="code hl_function" href="classv8_1_1internal_1_1WasmCapiFunction.html#a303283aba317fedb0d548295dd9f3a2d">sig</a>);</div>
<div class="line"><a id="l02699" name="l02699"></a><span class="lineno"> 2699</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;SharedFunctionInfo&gt;</a> shared =</div>
<div class="line"><a id="l02700" name="l02700"></a><span class="lineno"> 2700</span>      isolate-&gt;factory()-&gt;NewSharedFunctionInfoForWasmCapiFunction(fun_data);</div>
<div class="line"><a id="l02701" name="l02701"></a><span class="lineno"> 2701</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;JSFunction&gt;</a> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> =</div>
<div class="line"><a id="l02702" name="l02702"></a><span class="lineno"> 2702</span>      <a class="code hl_class" href="classv8_1_1internal_1_1Factory_1_1JSFunctionBuilder.html">Factory::JSFunctionBuilder</a>{<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>, <a class="code hl_variable" href="js-call-reducer_8cc.html#a9fa9548665fda8f7a8cfad92f3c8cedd">shared</a>, isolate-&gt;native_context()}</div>
<div class="line"><a id="l02703" name="l02703"></a><span class="lineno"> 2703</span>          .<a class="code hl_function" href="classv8_1_1internal_1_1Factory_1_1JSFunctionBuilder.html#af23afe8cf5030bccbdd8fbdbb4a22b2b">Build</a>();</div>
<div class="line"><a id="l02704" name="l02704"></a><span class="lineno"> 2704</span>  fun_data-&gt;internal()-&gt;set_external(*<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>);</div>
<div class="line"><a id="l02705" name="l02705"></a><span class="lineno"> 2705</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmCapiFunction&gt;</a>(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>);</div>
<div class="line"><a id="l02706" name="l02706"></a><span class="lineno"> 2706</span>}</div>
</div>
<div class="line"><a id="l02707" name="l02707"></a><span class="lineno"> 2707</span> </div>
<div class="foldopen" id="foldopen02708" data-start="{" data-end="}">
<div class="line"><a id="l02708" name="l02708"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmExportedFunction.html#aba073d48c8e2520f56b42b2b0621ee9b"> 2708</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmExportedFunction&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmExportedFunction.html#aba073d48c8e2520f56b42b2b0621ee9b">WasmExportedFunction::New</a>(</div>
<div class="line"><a id="l02709" name="l02709"></a><span class="lineno"> 2709</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a4bf21ee96580042a8262a8300dca514c">instance_data</a>,</div>
<div class="line"><a id="l02710" name="l02710"></a><span class="lineno"> 2710</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmFuncRef&gt;</a> func_ref,</div>
<div class="line"><a id="l02711" name="l02711"></a><span class="lineno"> 2711</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmInternalFunction&gt;</a> internal_function, <span class="keywordtype">int</span> arity,</div>
<div class="line"><a id="l02712" name="l02712"></a><span class="lineno"> 2712</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Code&gt;</a> export_wrapper) {</div>
<div class="line"><a id="l02713" name="l02713"></a><span class="lineno"> 2713</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(CodeKind::JS_TO_WASM_FUNCTION == export_wrapper-&gt;kind() ||</div>
<div class="line"><a id="l02714" name="l02714"></a><span class="lineno"> 2714</span>         (export_wrapper-&gt;is_builtin() &amp;&amp;</div>
<div class="line"><a id="l02715" name="l02715"></a><span class="lineno"> 2715</span>          (export_wrapper-&gt;builtin_id() == Builtin::kJSToWasmWrapper ||</div>
<div class="line"><a id="l02716" name="l02716"></a><span class="lineno"> 2716</span>#<span class="keywordflow">if</span> V8_ENABLE_DRUMBRAKE</div>
<div class="line"><a id="l02717" name="l02717"></a><span class="lineno"> 2717</span>           export_wrapper-&gt;builtin_id() ==</div>
<div class="line"><a id="l02718" name="l02718"></a><span class="lineno"> 2718</span>               Builtin::kGenericJSToWasmInterpreterWrapper ||</div>
<div class="line"><a id="l02719" name="l02719"></a><span class="lineno"> 2719</span>#endif  <span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l02720" name="l02720"></a><span class="lineno"> 2720</span>           export_wrapper-&gt;builtin_id() == Builtin::kWasmPromising ||</div>
<div class="line"><a id="l02721" name="l02721"></a><span class="lineno"> 2721</span>           export_wrapper-&gt;builtin_id() == Builtin::kWasmStressSwitch)));</div>
<div class="line"><a id="l02722" name="l02722"></a><span class="lineno"> 2722</span>  <span class="keywordtype">int</span> func_index = internal_function-&gt;function_index();</div>
<div class="line"><a id="l02723" name="l02723"></a><span class="lineno"> 2723</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Factory.html">Factory</a>* factory = isolate-&gt;factory();</div>
<div class="line"><a id="l02724" name="l02724"></a><span class="lineno"> 2724</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> rtt;</div>
<div class="line"><a id="l02725" name="l02725"></a><span class="lineno"> 2725</span>  <a class="code hl_enumeration" href="namespacev8_1_1internal_1_1wasm.html#ad97a36aa15ff4a0e71c9e8982a5cc460">wasm::Promise</a> promise =</div>
<div class="line"><a id="l02726" name="l02726"></a><span class="lineno"> 2726</span>      export_wrapper-&gt;builtin_id() == Builtin::kWasmPromising</div>
<div class="line"><a id="l02727" name="l02727"></a><span class="lineno"> 2727</span>          ? <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#ad97a36aa15ff4a0e71c9e8982a5cc460a6da34b562310c09460985d37264a7920">wasm::kPromise</a></div>
<div class="line"><a id="l02728" name="l02728"></a><span class="lineno"> 2728</span>          : <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#ad97a36aa15ff4a0e71c9e8982a5cc460a4db77348000919f64dc35a43c94c8121">wasm::kNoPromise</a>;</div>
<div class="line"><a id="l02729" name="l02729"></a><span class="lineno"> 2729</span>  <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">wasm::WasmModule</a>* module = <a class="code hl_variable" href="namespacev8_1_1internal.html#a4bf21ee96580042a8262a8300dca514c">instance_data</a>-&gt;module();</div>
<div class="line"><a id="l02730" name="l02730"></a><span class="lineno"> 2730</span>  <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a> sig_id =</div>
<div class="line"><a id="l02731" name="l02731"></a><span class="lineno"> 2731</span>      <span class="keyword">module</span>-&gt;canonical_sig_id(module-&gt;functions[func_index].sig_index);</div>
<div class="line"><a id="l02732" name="l02732"></a><span class="lineno"> 2732</span>  <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html">wasm::CanonicalSig</a>* <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a> =</div>
<div class="line"><a id="l02733" name="l02733"></a><span class="lineno"> 2733</span>      <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">wasm::GetTypeCanonicalizer</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa1f36fc3851ba2316d47223fa2b6e155">LookupFunctionSignature</a>(sig_id);</div>
<div class="line"><a id="l02734" name="l02734"></a><span class="lineno"> 2734</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmExportedFunctionData&gt;</a> function_data =</div>
<div class="line"><a id="l02735" name="l02735"></a><span class="lineno"> 2735</span>      factory-&gt;NewWasmExportedFunctionData(</div>
<div class="line"><a id="l02736" name="l02736"></a><span class="lineno"> 2736</span>          export_wrapper, <a class="code hl_variable" href="namespacev8_1_1internal.html#a4bf21ee96580042a8262a8300dca514c">instance_data</a>, func_ref, internal_function, <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>,</div>
<div class="line"><a id="l02737" name="l02737"></a><span class="lineno"> 2737</span>          sig_id, <a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_wrapper_tiering_budget, promise);</div>
<div class="line"><a id="l02738" name="l02738"></a><span class="lineno"> 2738</span> </div>
<div class="line"><a id="l02739" name="l02739"></a><span class="lineno"> 2739</span><span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l02740" name="l02740"></a><span class="lineno"> 2740</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) {</div>
<div class="line"><a id="l02741" name="l02741"></a><span class="lineno"> 2741</span>    <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1Signature.html">wasm::FunctionSig</a>* function_sig =</div>
<div class="line"><a id="l02742" name="l02742"></a><span class="lineno"> 2742</span>        <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classv8_1_1internal_1_1Signature.html">wasm::FunctionSig</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>);</div>
<div class="line"><a id="l02743" name="l02743"></a><span class="lineno"> 2743</span>    uint32_t aligned_size =</div>
<div class="line"><a id="l02744" name="l02744"></a><span class="lineno"> 2744</span>        <a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmBytecode.html#a26899f1489841558f19ee9d079c7a7ab">wasm::WasmBytecode::JSToWasmWrapperPackedArraySize</a>(function_sig);</div>
<div class="line"><a id="l02745" name="l02745"></a><span class="lineno"> 2745</span>    <span class="keywordtype">bool</span> hasRefArgs = <a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmBytecode.html#aedbf4c4975cb628b6a71f1f9daaa2ee0">wasm::WasmBytecode::RefArgsCount</a>(function_sig) &gt; 0;</div>
<div class="line"><a id="l02746" name="l02746"></a><span class="lineno"> 2746</span>    <span class="keywordtype">bool</span> hasRefRets = <a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmBytecode.html#af0d04f07fb83ec9836826b0ec50f1004">wasm::WasmBytecode::RefRetsCount</a>(function_sig) &gt; 0;</div>
<div class="line"><a id="l02747" name="l02747"></a><span class="lineno"> 2747</span>    function_data-&gt;set_packed_args_size(</div>
<div class="line"><a id="l02748" name="l02748"></a><span class="lineno"> 2748</span>        <a class="code hl_function" href="classv8_1_1base_1_1BitField.html#a70718344d8a4df6c20b3cf9c9b14d0d4">wasm::WasmInterpreterRuntime::PackedArgsSizeField::encode</a>(</div>
<div class="line"><a id="l02749" name="l02749"></a><span class="lineno"> 2749</span>            aligned_size) |</div>
<div class="line"><a id="l02750" name="l02750"></a><span class="lineno"> 2750</span>        <a class="code hl_function" href="classv8_1_1base_1_1BitField.html#a70718344d8a4df6c20b3cf9c9b14d0d4">wasm::WasmInterpreterRuntime::HasRefArgsField::encode</a>(hasRefArgs) |</div>
<div class="line"><a id="l02751" name="l02751"></a><span class="lineno"> 2751</span>        <a class="code hl_function" href="classv8_1_1base_1_1BitField.html#a70718344d8a4df6c20b3cf9c9b14d0d4">wasm::WasmInterpreterRuntime::HasRefRetsField::encode</a>(hasRefRets));</div>
<div class="line"><a id="l02752" name="l02752"></a><span class="lineno"> 2752</span>  }</div>
<div class="line"><a id="l02753" name="l02753"></a><span class="lineno"> 2753</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l02754" name="l02754"></a><span class="lineno"> 2754</span> </div>
<div class="line"><a id="l02755" name="l02755"></a><span class="lineno"> 2755</span>  <a class="code hl_class" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;String&gt;</a> maybe_name;</div>
<div class="line"><a id="l02756" name="l02756"></a><span class="lineno"> 2756</span>  <span class="keywordtype">bool</span> is_asm_js_module = is_asmjs_module(module);</div>
<div class="line"><a id="l02757" name="l02757"></a><span class="lineno"> 2757</span>  <span class="keywordflow">if</span> (is_asm_js_module) {</div>
<div class="line"><a id="l02758" name="l02758"></a><span class="lineno"> 2758</span>    <span class="comment">// We can use the function name only for asm.js. For WebAssembly, the</span></div>
<div class="line"><a id="l02759" name="l02759"></a><span class="lineno"> 2759</span>    <span class="comment">// function name is specified as the function_index.toString().</span></div>
<div class="line"><a id="l02760" name="l02760"></a><span class="lineno"> 2760</span>    maybe_name = <a class="code hl_function" href="classv8_1_1internal_1_1WasmModuleObject.html#a10c13f09c7692081e4b17d2080a3cd00">WasmModuleObject::GetFunctionNameOrNull</a>(</div>
<div class="line"><a id="l02761" name="l02761"></a><span class="lineno"> 2761</span>        isolate, <a class="code hl_function" href="namespacev8_1_1internal.html#a60f13a8c00d0433f9336368824ac21a1">direct_handle</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a4bf21ee96580042a8262a8300dca514c">instance_data</a>-&gt;module_object(), isolate),</div>
<div class="line"><a id="l02762" name="l02762"></a><span class="lineno"> 2762</span>        func_index);</div>
<div class="line"><a id="l02763" name="l02763"></a><span class="lineno"> 2763</span>  }</div>
<div class="line"><a id="l02764" name="l02764"></a><span class="lineno"> 2764</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>;</div>
<div class="line"><a id="l02765" name="l02765"></a><span class="lineno"> 2765</span>  <span class="keywordflow">if</span> (!maybe_name.<a class="code hl_function" href="classv8_1_1internal_1_1MaybeDirectHandle.html#a76857e813e1bdb19bbb3cbbfad729f1c">ToHandle</a>(&amp;name)) {</div>
<div class="line"><a id="l02766" name="l02766"></a><span class="lineno"> 2766</span>    <a class="code hl_class" href="classv8_1_1base_1_1EmbeddedVector.html">base::EmbeddedVector&lt;char, 16&gt;</a> buffer;</div>
<div class="line"><a id="l02767" name="l02767"></a><span class="lineno"> 2767</span>    <span class="keywordtype">int</span> length = SNPrintF(buffer, <span class="stringliteral">&quot;%d&quot;</span>, func_index);</div>
<div class="line"><a id="l02768" name="l02768"></a><span class="lineno"> 2768</span>    name = factory</div>
<div class="line"><a id="l02769" name="l02769"></a><span class="lineno"> 2769</span>               -&gt;<a class="code hl_function" href="classv8_1_1internal_1_1FactoryBase.html#a0373b86900852e5f348f638a98a235d1">NewStringFromOneByte</a>(</div>
<div class="line"><a id="l02770" name="l02770"></a><span class="lineno"> 2770</span>                   <a class="code hl_class" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;uint8_t&gt;::cast</a>(buffer.<a class="code hl_function" href="classv8_1_1base_1_1Vector.html#a2a7f93a33a4938bd73b628789f214d3d">SubVector</a>(0, length)))</div>
<div class="line"><a id="l02771" name="l02771"></a><span class="lineno"> 2771</span>               .ToHandleChecked();</div>
<div class="line"><a id="l02772" name="l02772"></a><span class="lineno"> 2772</span>  }</div>
<div class="line"><a id="l02773" name="l02773"></a><span class="lineno"> 2773</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> function_map;</div>
<div class="line"><a id="l02774" name="l02774"></a><span class="lineno"> 2774</span>  <span class="keywordflow">switch</span> (module-&gt;<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a7871ace0ad8518a7de0c52ac35e43eb2">origin</a>) {</div>
<div class="line"><a id="l02775" name="l02775"></a><span class="lineno"> 2775</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#a3adc957d22d860687fc2579215adeb80ad75c39b2587910e64fbca44ad513c9e0">wasm::kWasmOrigin</a>:</div>
<div class="line"><a id="l02776" name="l02776"></a><span class="lineno"> 2776</span>      function_map = isolate-&gt;wasm_exported_function_map();</div>
<div class="line"><a id="l02777" name="l02777"></a><span class="lineno"> 2777</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02778" name="l02778"></a><span class="lineno"> 2778</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#a3adc957d22d860687fc2579215adeb80ac6ac6a1c1201497a2ae73086bbc12902">wasm::kAsmJsSloppyOrigin</a>:</div>
<div class="line"><a id="l02779" name="l02779"></a><span class="lineno"> 2779</span>      function_map = isolate-&gt;sloppy_function_map();</div>
<div class="line"><a id="l02780" name="l02780"></a><span class="lineno"> 2780</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02781" name="l02781"></a><span class="lineno"> 2781</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#a3adc957d22d860687fc2579215adeb80a4fc50005a65ea45b8fc5bc0fd990d63a">wasm::kAsmJsStrictOrigin</a>:</div>
<div class="line"><a id="l02782" name="l02782"></a><span class="lineno"> 2782</span>      function_map = isolate-&gt;strict_function_map();</div>
<div class="line"><a id="l02783" name="l02783"></a><span class="lineno"> 2783</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02784" name="l02784"></a><span class="lineno"> 2784</span>  }</div>
<div class="line"><a id="l02785" name="l02785"></a><span class="lineno"> 2785</span> </div>
<div class="line"><a id="l02786" name="l02786"></a><span class="lineno"> 2786</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;NativeContext&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1JSFunction.html#a0daec6428bc67855b84ea6c6d4c33c15">context</a>(isolate-&gt;native_context());</div>
<div class="line"><a id="l02787" name="l02787"></a><span class="lineno"> 2787</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;SharedFunctionInfo&gt;</a> shared =</div>
<div class="line"><a id="l02788" name="l02788"></a><span class="lineno"> 2788</span>      factory-&gt;NewSharedFunctionInfoForWasmExportedFunction(name, function_data,</div>
<div class="line"><a id="l02789" name="l02789"></a><span class="lineno"> 2789</span>                                                            arity, <a class="code hl_variable" href="namespacev8_1_1internal.html#aa3d67860d4b49aab967b47ffb6631c1a">kAdapt</a>);</div>
<div class="line"><a id="l02790" name="l02790"></a><span class="lineno"> 2790</span> </div>
<div class="line"><a id="l02791" name="l02791"></a><span class="lineno"> 2791</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;JSFunction&gt;</a> js_function =</div>
<div class="line"><a id="l02792" name="l02792"></a><span class="lineno"> 2792</span>      <a class="code hl_class" href="classv8_1_1internal_1_1Factory_1_1JSFunctionBuilder.html">Factory::JSFunctionBuilder</a>{<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>, <a class="code hl_variable" href="js-call-reducer_8cc.html#a9fa9548665fda8f7a8cfad92f3c8cedd">shared</a>, <a class="code hl_function" href="classv8_1_1internal_1_1JSFunction.html#a0daec6428bc67855b84ea6c6d4c33c15">context</a>}</div>
<div class="line"><a id="l02793" name="l02793"></a><span class="lineno"> 2793</span>          .<a class="code hl_function" href="classv8_1_1internal_1_1Factory_1_1JSFunctionBuilder.html#a53ce4ec4edd1f63b0426f015493191ba">set_map</a>(function_map)</div>
<div class="line"><a id="l02794" name="l02794"></a><span class="lineno"> 2794</span>          .<a class="code hl_function" href="classv8_1_1internal_1_1Factory_1_1JSFunctionBuilder.html#af23afe8cf5030bccbdd8fbdbb4a22b2b">Build</a>();</div>
<div class="line"><a id="l02795" name="l02795"></a><span class="lineno"> 2795</span> </div>
<div class="line"><a id="l02796" name="l02796"></a><span class="lineno"> 2796</span>  <span class="comment">// According to the spec, exported functions should not have a [[Construct]]</span></div>
<div class="line"><a id="l02797" name="l02797"></a><span class="lineno"> 2797</span>  <span class="comment">// method. This does not apply to functions exported from asm.js however.</span></div>
<div class="line"><a id="l02798" name="l02798"></a><span class="lineno"> 2798</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(is_asm_js_module, IsConstructor(*js_function));</div>
<div class="line"><a id="l02799" name="l02799"></a><span class="lineno"> 2799</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#a4bf21ee96580042a8262a8300dca514c">instance_data</a>-&gt;has_instance_object()) {</div>
<div class="line"><a id="l02800" name="l02800"></a><span class="lineno"> 2800</span>    shared-&gt;set_script(<a class="code hl_variable" href="namespacev8_1_1internal.html#a4bf21ee96580042a8262a8300dca514c">instance_data</a>-&gt;module_object()-&gt;script(), <a class="code hl_variable" href="namespacev8.html#a13596ed4ca024abd4790ec46b62c2097">kReleaseStore</a>);</div>
<div class="line"><a id="l02801" name="l02801"></a><span class="lineno"> 2801</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02802" name="l02802"></a><span class="lineno"> 2802</span>    shared-&gt;set_script(*isolate-&gt;factory()-&gt;undefined_value(), <a class="code hl_variable" href="namespacev8.html#a13596ed4ca024abd4790ec46b62c2097">kReleaseStore</a>);</div>
<div class="line"><a id="l02803" name="l02803"></a><span class="lineno"> 2803</span>  }</div>
<div class="line"><a id="l02804" name="l02804"></a><span class="lineno"> 2804</span>  function_data-&gt;internal()-&gt;set_external(*js_function);</div>
<div class="line"><a id="l02805" name="l02805"></a><span class="lineno"> 2805</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmExportedFunction&gt;</a>(js_function);</div>
<div class="line"><a id="l02806" name="l02806"></a><span class="lineno"> 2806</span>}</div>
</div>
<div class="line"><a id="l02807" name="l02807"></a><span class="lineno"> 2807</span> </div>
<div class="foldopen" id="foldopen02808" data-start="{" data-end="}">
<div class="line"><a id="l02808" name="l02808"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmExportedFunctionData.html#aafe79a7d521f191a2e276e90ab8e92be"> 2808</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmExportedFunctionData.html#aafe79a7d521f191a2e276e90ab8e92be">WasmExportedFunctionData::MatchesSignature</a>(</div>
<div class="line"><a id="l02809" name="l02809"></a><span class="lineno"> 2809</span>    <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a> other_canonical_type_index) {</div>
<div class="line"><a id="l02810" name="l02810"></a><span class="lineno"> 2810</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">wasm::GetTypeCanonicalizer</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a09f520b3ab3e3fa22827a66c4eebcb59">IsCanonicalSubtype</a>(</div>
<div class="line"><a id="l02811" name="l02811"></a><span class="lineno"> 2811</span>      <a class="code hl_function" href="classv8_1_1internal_1_1WasmExportedFunctionData.html#a61d4218f4ec2d1c304c144d07011bfb3">sig_index</a>(), other_canonical_type_index);</div>
<div class="line"><a id="l02812" name="l02812"></a><span class="lineno"> 2812</span>}</div>
</div>
<div class="line"><a id="l02813" name="l02813"></a><span class="lineno"> 2813</span> </div>
<div class="line"><a id="l02814" name="l02814"></a><span class="lineno"> 2814</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen02815" data-start="{" data-end="}">
<div class="line"><a id="l02815" name="l02815"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmExportedFunction.html#a1185042522e2a2bf4f029417bb5dcf3c"> 2815</a></span>std::unique_ptr&lt;char[]&gt; <a class="code hl_function" href="classv8_1_1internal_1_1WasmExportedFunction.html#a1185042522e2a2bf4f029417bb5dcf3c">WasmExportedFunction::GetDebugName</a>(</div>
<div class="line"><a id="l02816" name="l02816"></a><span class="lineno"> 2816</span>    <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html">wasm::CanonicalSig</a>* <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>) {</div>
<div class="line"><a id="l02817" name="l02817"></a><span class="lineno"> 2817</span>  <span class="keyword">constexpr</span> <span class="keyword">const</span> <span class="keywordtype">char</span> kPrefix[] = <span class="stringliteral">&quot;js-to-wasm:&quot;</span>;</div>
<div class="line"><a id="l02818" name="l02818"></a><span class="lineno"> 2818</span>  <span class="comment">// prefix + parameters + delimiter + returns + zero byte</span></div>
<div class="line"><a id="l02819" name="l02819"></a><span class="lineno"> 2819</span>  <span class="keywordtype">size_t</span> len = strlen(kPrefix) + <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;all().size() + 2;</div>
<div class="line"><a id="l02820" name="l02820"></a><span class="lineno"> 2820</span>  <span class="keyword">auto</span> buffer = <a class="code hl_function" href="classv8_1_1base_1_1OwnedVector.html#a42ecef112e14110278466c7fa925ecbd">base::OwnedVector&lt;char&gt;::New</a>(len);</div>
<div class="line"><a id="l02821" name="l02821"></a><span class="lineno"> 2821</span>  memcpy(buffer.begin(), kPrefix, strlen(kPrefix));</div>
<div class="line"><a id="l02822" name="l02822"></a><span class="lineno"> 2822</span>  PrintSignature(buffer.as_vector() + strlen(kPrefix), <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>);</div>
<div class="line"><a id="l02823" name="l02823"></a><span class="lineno"> 2823</span>  <span class="keywordflow">return</span> buffer.ReleaseData();</div>
<div class="line"><a id="l02824" name="l02824"></a><span class="lineno"> 2824</span>}</div>
</div>
<div class="line"><a id="l02825" name="l02825"></a><span class="lineno"> 2825</span> </div>
<div class="line"><a id="l02826" name="l02826"></a><span class="lineno"> 2826</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen02827" data-start="{" data-end="}">
<div class="line"><a id="l02827" name="l02827"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmJSFunction.html#acd5f3569a442acea759fd951ca21567f"> 2827</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmJSFunction.html#acd5f3569a442acea759fd951ca21567f">WasmJSFunction::IsWasmJSFunction</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Object&gt;</a> <span class="keywordtype">object</span>) {</div>
<div class="line"><a id="l02828" name="l02828"></a><span class="lineno"> 2828</span>  <span class="keywordflow">if</span> (!IsJSFunction(<span class="keywordtype">object</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02829" name="l02829"></a><span class="lineno"> 2829</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;JSFunction&gt;</a> js_function = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;JSFunction&gt;</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><a id="l02830" name="l02830"></a><span class="lineno"> 2830</span>  <span class="keywordflow">return</span> js_function-&gt;shared()-&gt;HasWasmJSFunctionData();</div>
<div class="line"><a id="l02831" name="l02831"></a><span class="lineno"> 2831</span>}</div>
</div>
<div class="line"><a id="l02832" name="l02832"></a><span class="lineno"> 2832</span> </div>
<div class="foldopen" id="foldopen02833" data-start="{" data-end="}">
<div class="line"><a id="l02833" name="l02833"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a2471da09ee7282dc0ac34dda6cd0113d"> 2833</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Map&gt;</a> <a class="code hl_function" href="namespacev8_1_1internal.html#a2471da09ee7282dc0ac34dda6cd0113d">CreateFuncRefMap</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Map&gt;</a> opt_rtt_parent) {</div>
<div class="line"><a id="l02834" name="l02834"></a><span class="lineno"> 2834</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> inobject_properties = 0;</div>
<div class="line"><a id="l02835" name="l02835"></a><span class="lineno"> 2835</span>  <span class="keyword">const</span> <a class="code hl_enumeration" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">InstanceType</a> instance_type = WASM_FUNC_REF_TYPE;</div>
<div class="line"><a id="l02836" name="l02836"></a><span class="lineno"> 2836</span>  <span class="keyword">const</span> <a class="code hl_enumeration" href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149c">ElementsKind</a> elements_kind = <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149cabe08801c504e24eba74657d920a18f30">TERMINAL_FAST_ELEMENTS_KIND</a>;</div>
<div class="line"><a id="l02837" name="l02837"></a><span class="lineno"> 2837</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTypeInfo&gt;</a> type_info = isolate-&gt;factory()-&gt;NewWasmTypeInfo(</div>
<div class="line"><a id="l02838" name="l02838"></a><span class="lineno"> 2838</span>      <a class="code hl_variable" href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">kNullAddress</a>, opt_rtt_parent, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a>(),</div>
<div class="line"><a id="l02839" name="l02839"></a><span class="lineno"> 2839</span>      <a class="code hl_function" href="structv8_1_1internal_1_1wasm_1_1ModuleTypeIndex.html#a0f84ce35fd08770e768fa100ef0a2e3b">wasm::ModuleTypeIndex::Invalid</a>());</div>
<div class="line"><a id="l02840" name="l02840"></a><span class="lineno"> 2840</span>  <span class="keyword">constexpr</span> <span class="keywordtype">int</span> kInstanceSize = WasmFuncRef::kSize;</div>
<div class="line"><a id="l02841" name="l02841"></a><span class="lineno"> 2841</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(</div>
<div class="line"><a id="l02842" name="l02842"></a><span class="lineno"> 2842</span>      kInstanceSize,</div>
<div class="line"><a id="l02843" name="l02843"></a><span class="lineno"> 2843</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;Map&gt;</a>(isolate-&gt;root(RootIndex::kWasmFuncRefMap))-&gt;instance_size());</div>
<div class="line"><a id="l02844" name="l02844"></a><span class="lineno"> 2844</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Map&gt;</a> map = isolate-&gt;factory()-&gt;NewContextlessMap(</div>
<div class="line"><a id="l02845" name="l02845"></a><span class="lineno"> 2845</span>      instance_type, kInstanceSize, elements_kind, inobject_properties);</div>
<div class="line"><a id="l02846" name="l02846"></a><span class="lineno"> 2846</span>  map-&gt;set_wasm_type_info(*type_info);</div>
<div class="line"><a id="l02847" name="l02847"></a><span class="lineno"> 2847</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="js-date-time-format_8cc.html#a22ede25ca923109929a8dca3c225b2ad">map</a>;</div>
<div class="line"><a id="l02848" name="l02848"></a><span class="lineno"> 2848</span>}</div>
</div>
<div class="line"><a id="l02849" name="l02849"></a><span class="lineno"> 2849</span> </div>
<div class="foldopen" id="foldopen02850" data-start="{" data-end="}">
<div class="line"><a id="l02850" name="l02850"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmJSFunction.html#a0031c0236952f2e57d0035704fb46cc5"> 2850</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmJSFunction&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmJSFunction.html#a0031c0236952f2e57d0035704fb46cc5">WasmJSFunction::New</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l02851" name="l02851"></a><span class="lineno"> 2851</span>                                           <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1Signature.html">wasm::FunctionSig</a>* <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>,</div>
<div class="line"><a id="l02852" name="l02852"></a><span class="lineno"> 2852</span>                                           <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSReceiver&gt;</a> callable,</div>
<div class="line"><a id="l02853" name="l02853"></a><span class="lineno"> 2853</span>                                           <a class="code hl_enumeration" href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843a">wasm::Suspend</a> suspend) {</div>
<div class="line"><a id="l02854" name="l02854"></a><span class="lineno"> 2854</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;all().size(), <a class="code hl_variable" href="namespacev8_1_1internal.html#ad03e50e4d15ee0da6a722254f350e7eb">kMaxInt</a>);</div>
<div class="line"><a id="l02855" name="l02855"></a><span class="lineno"> 2855</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="builtins_8cc.html#a34a6b28885d79bbc20d4110313cb28be">parameter_count</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;parameter_count());</div>
<div class="line"><a id="l02856" name="l02856"></a><span class="lineno"> 2856</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Factory.html">Factory</a>* factory = isolate-&gt;factory();</div>
<div class="line"><a id="l02857" name="l02857"></a><span class="lineno"> 2857</span> </div>
<div class="line"><a id="l02858" name="l02858"></a><span class="lineno"> 2858</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> rtt;</div>
<div class="line"><a id="l02859" name="l02859"></a><span class="lineno"> 2859</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;NativeContext&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1JSFunction.html#a0daec6428bc67855b84ea6c6d4c33c15">context</a>(isolate-&gt;native_context());</div>
<div class="line"><a id="l02860" name="l02860"></a><span class="lineno"> 2860</span> </div>
<div class="line"><a id="l02861" name="l02861"></a><span class="lineno"> 2861</span>  <span class="keyword">static_assert</span>(<a class="code hl_variable" href="namespacev8_1_1internal_1_1wasm.html#a2e079999502e577b181583a71bb096ef">wasm::kMaxCanonicalTypes</a> &lt;= <a class="code hl_variable" href="namespacev8_1_1internal.html#ad03e50e4d15ee0da6a722254f350e7eb">kMaxInt</a>);</div>
<div class="line"><a id="l02862" name="l02862"></a><span class="lineno"> 2862</span>  <span class="comment">// TODO(clemensb): Merge the next two lines into a single call.</span></div>
<div class="line"><a id="l02863" name="l02863"></a><span class="lineno"> 2863</span>  <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a> sig_id =</div>
<div class="line"><a id="l02864" name="l02864"></a><span class="lineno"> 2864</span>      <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">wasm::GetTypeCanonicalizer</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa7d63877150be29e04f49d189ea88c99">AddRecursiveGroup</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>);</div>
<div class="line"><a id="l02865" name="l02865"></a><span class="lineno"> 2865</span>  <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html">wasm::CanonicalSig</a>* canonical_sig =</div>
<div class="line"><a id="l02866" name="l02866"></a><span class="lineno"> 2866</span>      <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">wasm::GetTypeCanonicalizer</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa1f36fc3851ba2316d47223fa2b6e155">LookupFunctionSignature</a>(sig_id);</div>
<div class="line"><a id="l02867" name="l02867"></a><span class="lineno"> 2867</span> </div>
<div class="line"><a id="l02868" name="l02868"></a><span class="lineno"> 2868</span>  <a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aac1117f1918f3c8580be0e192a1c7307">wasm::TypeCanonicalizer::PrepareForCanonicalTypeId</a>(isolate, sig_id);</div>
<div class="line"><a id="l02869" name="l02869"></a><span class="lineno"> 2869</span> </div>
<div class="line"><a id="l02870" name="l02870"></a><span class="lineno"> 2870</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WeakFixedArray&gt;</a> canonical_rtts(</div>
<div class="line"><a id="l02871" name="l02871"></a><span class="lineno"> 2871</span>      isolate-&gt;heap()-&gt;wasm_canonical_rtts(), isolate);</div>
<div class="line"><a id="l02872" name="l02872"></a><span class="lineno"> 2872</span> </div>
<div class="line"><a id="l02873" name="l02873"></a><span class="lineno"> 2873</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;MaybeObject&gt;</a> maybe_canonical_map = canonical_rtts-&gt;get(sig_id.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#ad0355b4f2bc1bc8a489e4d01da40067b">index</a>);</div>
<div class="line"><a id="l02874" name="l02874"></a><span class="lineno"> 2874</span> </div>
<div class="line"><a id="l02875" name="l02875"></a><span class="lineno"> 2875</span>  <span class="keywordflow">if</span> (!maybe_canonical_map.<a class="code hl_function" href="classv8_1_1internal_1_1TaggedImpl.html#a5d84dde6d0c8149b4560d7c79cf8f1a3">IsCleared</a>()) {</div>
<div class="line"><a id="l02876" name="l02876"></a><span class="lineno"> 2876</span>    rtt = <a class="code hl_function" href="namespacev8_1_1internal.html#a60f13a8c00d0433f9336368824ac21a1">direct_handle</a>(</div>
<div class="line"><a id="l02877" name="l02877"></a><span class="lineno"> 2877</span>        <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;Map&gt;</a>(maybe_canonical_map.<a class="code hl_function" href="classv8_1_1internal_1_1TaggedImpl.html#af954049cb1526fdcdff6faad97f5fbac">GetHeapObjectAssumeWeak</a>()), isolate);</div>
<div class="line"><a id="l02878" name="l02878"></a><span class="lineno"> 2878</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02879" name="l02879"></a><span class="lineno"> 2879</span>    rtt = <a class="code hl_function" href="namespacev8_1_1internal.html#a2471da09ee7282dc0ac34dda6cd0113d">CreateFuncRefMap</a>(isolate, <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Map&gt;</a>());</div>
<div class="line"><a id="l02880" name="l02880"></a><span class="lineno"> 2880</span>    canonical_rtts-&gt;set(sig_id.<a class="code hl_variable" href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#ad0355b4f2bc1bc8a489e4d01da40067b">index</a>, <a class="code hl_function" href="namespacev8_1_1internal.html#a96a98d1219c08bac1c5c91ba9dacd1d4">MakeWeak</a>(*rtt));</div>
<div class="line"><a id="l02881" name="l02881"></a><span class="lineno"> 2881</span>  }</div>
<div class="line"><a id="l02882" name="l02882"></a><span class="lineno"> 2882</span> </div>
<div class="line"><a id="l02883" name="l02883"></a><span class="lineno"> 2883</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Code&gt;</a> js_to_js_wrapper_code =</div>
<div class="line"><a id="l02884" name="l02884"></a><span class="lineno"> 2884</span>      <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a769350a0bf794ab0ebf3c8fc1c8fc450">wasm::IsJSCompatibleSignature</a>(canonical_sig)</div>
<div class="line"><a id="l02885" name="l02885"></a><span class="lineno"> 2885</span>          ? isolate-&gt;builtins()-&gt;code_handle(Builtin::kJSToJSWrapper)</div>
<div class="line"><a id="l02886" name="l02886"></a><span class="lineno"> 2886</span>          : isolate-&gt;builtins()-&gt;code_handle(Builtin::kJSToJSWrapperInvalidSig);</div>
<div class="line"><a id="l02887" name="l02887"></a><span class="lineno"> 2887</span> </div>
<div class="line"><a id="l02888" name="l02888"></a><span class="lineno"> 2888</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmJSFunctionData&gt;</a> function_data =</div>
<div class="line"><a id="l02889" name="l02889"></a><span class="lineno"> 2889</span>      factory-&gt;NewWasmJSFunctionData(sig_id, callable, js_to_js_wrapper_code,</div>
<div class="line"><a id="l02890" name="l02890"></a><span class="lineno"> 2890</span>                                     rtt, suspend, <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#ad97a36aa15ff4a0e71c9e8982a5cc460a4db77348000919f64dc35a43c94c8121">wasm::kNoPromise</a>);</div>
<div class="line"><a id="l02891" name="l02891"></a><span class="lineno"> 2891</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmInternalFunction&gt;</a> internal_function{</div>
<div class="line"><a id="l02892" name="l02892"></a><span class="lineno"> 2892</span>      function_data-&gt;internal(), isolate};</div>
<div class="line"><a id="l02893" name="l02893"></a><span class="lineno"> 2893</span> </div>
<div class="line"><a id="l02894" name="l02894"></a><span class="lineno"> 2894</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a769350a0bf794ab0ebf3c8fc1c8fc450">wasm::IsJSCompatibleSignature</a>(canonical_sig)) {</div>
<div class="line"><a id="l02895" name="l02895"></a><span class="lineno"> 2895</span>    <a class="code hl_variable" href="namespacev8_1_1internal.html#a92ab64d42404e439be3d6a7556e32380">Address</a> builtin_entry =</div>
<div class="line"><a id="l02896" name="l02896"></a><span class="lineno"> 2896</span>        <a class="code hl_function" href="classv8_1_1internal_1_1Builtins.html#acebcaee6cb63c76d9b36678a3a375187">Builtins::EntryOf</a>(Builtin::kWasmToJsWrapperInvalidSig, isolate);</div>
<div class="line"><a id="l02897" name="l02897"></a><span class="lineno"> 2897</span>    <a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> wrapper_code_pointer =</div>
<div class="line"><a id="l02898" name="l02898"></a><span class="lineno"> 2898</span>        function_data-&gt;offheap_data()-&gt;set_generic_wrapper(builtin_entry);</div>
<div class="line"><a id="l02899" name="l02899"></a><span class="lineno"> 2899</span>    internal_function-&gt;set_call_target(wrapper_code_pointer);</div>
<div class="line"><a id="l02900" name="l02900"></a><span class="lineno"> 2900</span><span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l02901" name="l02901"></a><span class="lineno"> 2901</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) {</div>
<div class="line"><a id="l02902" name="l02902"></a><span class="lineno"> 2902</span>    <a class="code hl_variable" href="namespacev8_1_1internal.html#a92ab64d42404e439be3d6a7556e32380">Address</a> builtin_entry =</div>
<div class="line"><a id="l02903" name="l02903"></a><span class="lineno"> 2903</span>        <a class="code hl_function" href="classv8_1_1internal_1_1Builtins.html#acebcaee6cb63c76d9b36678a3a375187">Builtins::EntryOf</a>(Builtin::kGenericWasmToJSInterpreterWrapper, isolate);</div>
<div class="line"><a id="l02904" name="l02904"></a><span class="lineno"> 2904</span>    <a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> wrapper_code_pointer =</div>
<div class="line"><a id="l02905" name="l02905"></a><span class="lineno"> 2905</span>        function_data-&gt;offheap_data()-&gt;set_generic_wrapper(builtin_entry);</div>
<div class="line"><a id="l02906" name="l02906"></a><span class="lineno"> 2906</span>    internal_function-&gt;set_call_target(wrapper_code_pointer);</div>
<div class="line"><a id="l02907" name="l02907"></a><span class="lineno"> 2907</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a id="l02908" name="l02908"></a><span class="lineno"> 2908</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02909" name="l02909"></a><span class="lineno"> 2909</span>    <span class="keywordtype">int</span> expected_arity = <a class="code hl_variable" href="builtins_8cc.html#a34a6b28885d79bbc20d4110313cb28be">parameter_count</a>;</div>
<div class="line"><a id="l02910" name="l02910"></a><span class="lineno"> 2910</span>    <a class="code hl_enumeration" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63a">wasm::ImportCallKind</a> <a class="code hl_variable" href="builtins_8cc.html#adc156a864d6037c4df1b276073ae7277">kind</a>;</div>
<div class="line"><a id="l02911" name="l02911"></a><span class="lineno"> 2911</span>    <span class="keywordflow">if</span> (IsJSFunction(*callable)) {</div>
<div class="line"><a id="l02912" name="l02912"></a><span class="lineno"> 2912</span>      <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;SharedFunctionInfo&gt;</a> shared = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;JSFunction&gt;</a>(callable)-&gt;shared();</div>
<div class="line"><a id="l02913" name="l02913"></a><span class="lineno"> 2913</span>      expected_arity =</div>
<div class="line"><a id="l02914" name="l02914"></a><span class="lineno"> 2914</span>          shared-&gt;internal_formal_parameter_count_without_receiver();</div>
<div class="line"><a id="l02915" name="l02915"></a><span class="lineno"> 2915</span>      <span class="keywordflow">if</span> (expected_arity == <a class="code hl_variable" href="builtins_8cc.html#a34a6b28885d79bbc20d4110313cb28be">parameter_count</a>) {</div>
<div class="line"><a id="l02916" name="l02916"></a><span class="lineno"> 2916</span>        kind = <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aaadced019e879f8edd1912b4026677f47">wasm::ImportCallKind::kJSFunctionArityMatch</a>;</div>
<div class="line"><a id="l02917" name="l02917"></a><span class="lineno"> 2917</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02918" name="l02918"></a><span class="lineno"> 2918</span>        kind = <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aada29bf8bad277f522fdb79d15a06c6a7">wasm::ImportCallKind::kJSFunctionArityMismatch</a>;</div>
<div class="line"><a id="l02919" name="l02919"></a><span class="lineno"> 2919</span>      }</div>
<div class="line"><a id="l02920" name="l02920"></a><span class="lineno"> 2920</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02921" name="l02921"></a><span class="lineno"> 2921</span>      kind = <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa5427d5490900477a371648688dfbb95b">wasm::ImportCallKind::kUseCallBuiltin</a>;</div>
<div class="line"><a id="l02922" name="l02922"></a><span class="lineno"> 2922</span>    }</div>
<div class="line"><a id="l02923" name="l02923"></a><span class="lineno"> 2923</span>    <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html">wasm::WasmCodeRefScope</a> code_ref_scope;</div>
<div class="line"><a id="l02924" name="l02924"></a><span class="lineno"> 2924</span>    <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache.html">wasm::WasmImportWrapperCache</a>* cache = <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a36345041662f17bb39d27709c1cb78ac">wasm::GetWasmImportWrapperCache</a>();</div>
<div class="line"><a id="l02925" name="l02925"></a><span class="lineno"> 2925</span>    <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">wasm::WasmCode</a>* wrapper =</div>
<div class="line"><a id="l02926" name="l02926"></a><span class="lineno"> 2926</span>        cache-&gt;MaybeGet(kind, sig_id, expected_arity, suspend);</div>
<div class="line"><a id="l02927" name="l02927"></a><span class="lineno"> 2927</span>    <a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> code_pointer;</div>
<div class="line"><a id="l02928" name="l02928"></a><span class="lineno"> 2928</span>    <span class="keywordflow">if</span> (wrapper) {</div>
<div class="line"><a id="l02929" name="l02929"></a><span class="lineno"> 2929</span>      code_pointer =</div>
<div class="line"><a id="l02930" name="l02930"></a><span class="lineno"> 2930</span>          function_data-&gt;offheap_data()-&gt;set_compiled_wrapper(wrapper);</div>
<div class="line"><a id="l02931" name="l02931"></a><span class="lineno"> 2931</span>      <span class="comment">// Some later DCHECKs assume that we don&#39;t have a {call_origin} when</span></div>
<div class="line"><a id="l02932" name="l02932"></a><span class="lineno"> 2932</span>      <span class="comment">// the function already uses a compiled wrapper.</span></div>
<div class="line"><a id="l02933" name="l02933"></a><span class="lineno"> 2933</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmImportData&gt;</a>(internal_function-&gt;implicit_arg())</div>
<div class="line"><a id="l02934" name="l02934"></a><span class="lineno"> 2934</span>          -&gt;clear_call_origin();</div>
<div class="line"><a id="l02935" name="l02935"></a><span class="lineno"> 2935</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacev8_1_1internal.html#a667827abe3e3649a272fe634ee5b2612">UseGenericWasmToJSWrapper</a>(kind, canonical_sig, suspend)) {</div>
<div class="line"><a id="l02936" name="l02936"></a><span class="lineno"> 2936</span>      <a class="code hl_variable" href="namespacev8_1_1internal.html#a92ab64d42404e439be3d6a7556e32380">Address</a> code_entry =</div>
<div class="line"><a id="l02937" name="l02937"></a><span class="lineno"> 2937</span>          <a class="code hl_function" href="classv8_1_1internal_1_1Builtins.html#acebcaee6cb63c76d9b36678a3a375187">Builtins::EntryOf</a>(Builtin::kWasmToJsWrapperAsm, isolate);</div>
<div class="line"><a id="l02938" name="l02938"></a><span class="lineno"> 2938</span>      code_pointer =</div>
<div class="line"><a id="l02939" name="l02939"></a><span class="lineno"> 2939</span>          function_data-&gt;offheap_data()-&gt;set_generic_wrapper(code_entry);</div>
<div class="line"><a id="l02940" name="l02940"></a><span class="lineno"> 2940</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02941" name="l02941"></a><span class="lineno"> 2941</span>      <span class="comment">// Initialize the import wrapper cache if that hasn&#39;t happened yet.</span></div>
<div class="line"><a id="l02942" name="l02942"></a><span class="lineno"> 2942</span>      cache-&gt;LazyInitialize(isolate);</div>
<div class="line"><a id="l02943" name="l02943"></a><span class="lineno"> 2943</span>      <span class="keyword">constexpr</span> <span class="keywordtype">bool</span> kNoSourcePositions = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02944" name="l02944"></a><span class="lineno"> 2944</span>      wrapper = cache-&gt;CompileWasmImportCallWrapper(</div>
<div class="line"><a id="l02945" name="l02945"></a><span class="lineno"> 2945</span>          isolate, kind, canonical_sig, sig_id, kNoSourcePositions,</div>
<div class="line"><a id="l02946" name="l02946"></a><span class="lineno"> 2946</span>          expected_arity, suspend);</div>
<div class="line"><a id="l02947" name="l02947"></a><span class="lineno"> 2947</span>      code_pointer =</div>
<div class="line"><a id="l02948" name="l02948"></a><span class="lineno"> 2948</span>          function_data-&gt;offheap_data()-&gt;set_compiled_wrapper(wrapper);</div>
<div class="line"><a id="l02949" name="l02949"></a><span class="lineno"> 2949</span>      <span class="comment">// Some later DCHECKs assume that we don&#39;t have a {call_origin} when</span></div>
<div class="line"><a id="l02950" name="l02950"></a><span class="lineno"> 2950</span>      <span class="comment">// the function already uses a compiled wrapper.</span></div>
<div class="line"><a id="l02951" name="l02951"></a><span class="lineno"> 2951</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmImportData&gt;</a>(internal_function-&gt;implicit_arg())</div>
<div class="line"><a id="l02952" name="l02952"></a><span class="lineno"> 2952</span>          -&gt;clear_call_origin();</div>
<div class="line"><a id="l02953" name="l02953"></a><span class="lineno"> 2953</span>    }</div>
<div class="line"><a id="l02954" name="l02954"></a><span class="lineno"> 2954</span>    internal_function-&gt;set_call_target(code_pointer);</div>
<div class="line"><a id="l02955" name="l02955"></a><span class="lineno"> 2955</span>  }</div>
<div class="line"><a id="l02956" name="l02956"></a><span class="lineno"> 2956</span> </div>
<div class="line"><a id="l02957" name="l02957"></a><span class="lineno"> 2957</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;String&gt;</a> name = factory-&gt;Function_string();</div>
<div class="line"><a id="l02958" name="l02958"></a><span class="lineno"> 2958</span>  <span class="keywordflow">if</span> (IsJSFunction(*callable)) {</div>
<div class="line"><a id="l02959" name="l02959"></a><span class="lineno"> 2959</span>    name = <a class="code hl_function" href="classv8_1_1internal_1_1JSFunction.html#a3b988f501486ef2d8d553bcbff31b6ca">JSFunction::GetDebugName</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;JSFunction&gt;</a>(callable));</div>
<div class="line"><a id="l02960" name="l02960"></a><span class="lineno"> 2960</span>    name = <a class="code hl_function" href="classv8_1_1internal_1_1String.html#a21049fc49218b6cf593fc03fabf42656">String::Flatten</a>(isolate, name);</div>
<div class="line"><a id="l02961" name="l02961"></a><span class="lineno"> 2961</span>  }</div>
<div class="line"><a id="l02962" name="l02962"></a><span class="lineno"> 2962</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;SharedFunctionInfo&gt;</a> shared =</div>
<div class="line"><a id="l02963" name="l02963"></a><span class="lineno"> 2963</span>      factory-&gt;NewSharedFunctionInfoForWasmJSFunction(name, function_data);</div>
<div class="line"><a id="l02964" name="l02964"></a><span class="lineno"> 2964</span>  shared-&gt;set_internal_formal_parameter_count(</div>
<div class="line"><a id="l02965" name="l02965"></a><span class="lineno"> 2965</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#aad3893fccd0a1a6e0ddcdf0a940428c7">JSParameterCount</a>(<a class="code hl_variable" href="builtins_8cc.html#a34a6b28885d79bbc20d4110313cb28be">parameter_count</a>));</div>
<div class="line"><a id="l02966" name="l02966"></a><span class="lineno"> 2966</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;JSFunction&gt;</a> js_function =</div>
<div class="line"><a id="l02967" name="l02967"></a><span class="lineno"> 2967</span>      <a class="code hl_class" href="classv8_1_1internal_1_1Factory_1_1JSFunctionBuilder.html">Factory::JSFunctionBuilder</a>{<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>, <a class="code hl_variable" href="js-call-reducer_8cc.html#a9fa9548665fda8f7a8cfad92f3c8cedd">shared</a>, <a class="code hl_function" href="classv8_1_1internal_1_1JSFunction.html#a0daec6428bc67855b84ea6c6d4c33c15">context</a>}</div>
<div class="line"><a id="l02968" name="l02968"></a><span class="lineno"> 2968</span>          .<a class="code hl_function" href="classv8_1_1internal_1_1Factory_1_1JSFunctionBuilder.html#a53ce4ec4edd1f63b0426f015493191ba">set_map</a>(isolate-&gt;wasm_exported_function_map())</div>
<div class="line"><a id="l02969" name="l02969"></a><span class="lineno"> 2969</span>          .<a class="code hl_function" href="classv8_1_1internal_1_1Factory_1_1JSFunctionBuilder.html#af23afe8cf5030bccbdd8fbdbb4a22b2b">Build</a>();</div>
<div class="line"><a id="l02970" name="l02970"></a><span class="lineno"> 2970</span>  internal_function-&gt;set_external(*js_function);</div>
<div class="line"><a id="l02971" name="l02971"></a><span class="lineno"> 2971</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmJSFunction&gt;</a>(js_function);</div>
<div class="line"><a id="l02972" name="l02972"></a><span class="lineno"> 2972</span>}</div>
</div>
<div class="line"><a id="l02973" name="l02973"></a><span class="lineno"> 2973</span> </div>
<div class="foldopen" id="foldopen02974" data-start="{" data-end="}">
<div class="line"><a id="l02974" name="l02974"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData.html#a6e5168e9ec0b75089ceb9a4d1ee7c99f"> 2974</a></span><a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData.html#a6e5168e9ec0b75089ceb9a4d1ee7c99f">WasmJSFunctionData::OffheapData::set_compiled_wrapper</a>(</div>
<div class="line"><a id="l02975" name="l02975"></a><span class="lineno"> 2975</span>    <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">wasm::WasmCode</a>* wrapper) {</div>
<div class="line"><a id="l02976" name="l02976"></a><span class="lineno"> 2976</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(<a class="code hl_variable" href="classv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData.html#a710025b23e37178999c5a00cd7a752d9">wrapper_</a>);  <span class="comment">// We shouldn&#39;t overwrite existing wrappers.</span></div>
<div class="line"><a id="l02977" name="l02977"></a><span class="lineno"> 2977</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData.html#a710025b23e37178999c5a00cd7a752d9">wrapper_</a> = wrapper;</div>
<div class="line"><a id="l02978" name="l02978"></a><span class="lineno"> 2978</span>  wrapper-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ad60a6ef9ac5fe39bc7c33b3ef12acced">IncRef</a>();</div>
<div class="line"><a id="l02979" name="l02979"></a><span class="lineno"> 2979</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(wrapper-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0c7c3734a1ad0fe3202e49fc5806947c">signature_hash</a>(), <a class="code hl_variable" href="classv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData.html#a14bbc335c7192df1230a28f2fe84646c">signature_hash_</a>);</div>
<div class="line"><a id="l02980" name="l02980"></a><span class="lineno"> 2980</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData.html#adce04c0d1f8f29922dc93c3431fa8415">wrapper_code_pointer_</a> == <a class="code hl_variable" href="namespacev8_1_1internal_1_1wasm.html#a7d41c6d12091165e18a14f58ae8b1b91">wasm::kInvalidWasmCodePointer</a>) {</div>
<div class="line"><a id="l02981" name="l02981"></a><span class="lineno"> 2981</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData.html#adce04c0d1f8f29922dc93c3431fa8415">wrapper_code_pointer_</a> =</div>
<div class="line"><a id="l02982" name="l02982"></a><span class="lineno"> 2982</span>        <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a0a36931b3d2bbcdfcbb253b229838952">wasm::GetProcessWideWasmCodePointerTable</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#af436bb2d545345a376c8cb9c691ed22e">AllocateAndInitializeEntry</a>(</div>
<div class="line"><a id="l02983" name="l02983"></a><span class="lineno"> 2983</span>            wrapper-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>(), wrapper-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0c7c3734a1ad0fe3202e49fc5806947c">signature_hash</a>());</div>
<div class="line"><a id="l02984" name="l02984"></a><span class="lineno"> 2984</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02985" name="l02985"></a><span class="lineno"> 2985</span>    <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a0a36931b3d2bbcdfcbb253b229838952">wasm::GetProcessWideWasmCodePointerTable</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#a2fd4a03eb9cfc1412bc02dc30638e640">UpdateEntrypoint</a>(</div>
<div class="line"><a id="l02986" name="l02986"></a><span class="lineno"> 2986</span>        <a class="code hl_variable" href="classv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData.html#adce04c0d1f8f29922dc93c3431fa8415">wrapper_code_pointer_</a>, wrapper-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>(),</div>
<div class="line"><a id="l02987" name="l02987"></a><span class="lineno"> 2987</span>        wrapper-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0c7c3734a1ad0fe3202e49fc5806947c">signature_hash</a>());</div>
<div class="line"><a id="l02988" name="l02988"></a><span class="lineno"> 2988</span>  }</div>
<div class="line"><a id="l02989" name="l02989"></a><span class="lineno"> 2989</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData.html#adce04c0d1f8f29922dc93c3431fa8415">wrapper_code_pointer_</a>;</div>
<div class="line"><a id="l02990" name="l02990"></a><span class="lineno"> 2990</span>}</div>
</div>
<div class="line"><a id="l02991" name="l02991"></a><span class="lineno"> 2991</span> </div>
<div class="foldopen" id="foldopen02992" data-start="{" data-end="}">
<div class="line"><a id="l02992" name="l02992"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData.html#a95542e6ddb4a12067caf0c16add2d01e"> 2992</a></span><a class="code hl_class" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData.html#a95542e6ddb4a12067caf0c16add2d01e">WasmJSFunctionData::OffheapData::set_generic_wrapper</a>(</div>
<div class="line"><a id="l02993" name="l02993"></a><span class="lineno"> 2993</span>    <a class="code hl_variable" href="namespacev8_1_1internal.html#a92ab64d42404e439be3d6a7556e32380">Address</a> code_entry) {</div>
<div class="line"><a id="l02994" name="l02994"></a><span class="lineno"> 2994</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(wrapper_code_pointer_, <a class="code hl_variable" href="namespacev8_1_1internal_1_1wasm.html#a7d41c6d12091165e18a14f58ae8b1b91">wasm::kInvalidWasmCodePointer</a>);</div>
<div class="line"><a id="l02995" name="l02995"></a><span class="lineno"> 2995</span>  wrapper_code_pointer_ =</div>
<div class="line"><a id="l02996" name="l02996"></a><span class="lineno"> 2996</span>      <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a0a36931b3d2bbcdfcbb253b229838952">wasm::GetProcessWideWasmCodePointerTable</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#af436bb2d545345a376c8cb9c691ed22e">AllocateAndInitializeEntry</a>(</div>
<div class="line"><a id="l02997" name="l02997"></a><span class="lineno"> 2997</span>          code_entry, signature_hash_);</div>
<div class="line"><a id="l02998" name="l02998"></a><span class="lineno"> 2998</span>  <span class="keywordflow">return</span> wrapper_code_pointer_;</div>
<div class="line"><a id="l02999" name="l02999"></a><span class="lineno"> 2999</span>}</div>
</div>
<div class="line"><a id="l03000" name="l03000"></a><span class="lineno"> 3000</span> </div>
<div class="foldopen" id="foldopen03001" data-start="{" data-end="}">
<div class="line"><a id="l03001" name="l03001"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData.html#a2c10ce88013a1fc485f76558ca487a86"> 3001</a></span><a class="code hl_function" href="classv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData.html#a2c10ce88013a1fc485f76558ca487a86">WasmJSFunctionData::OffheapData::~OffheapData</a>() {</div>
<div class="line"><a id="l03002" name="l03002"></a><span class="lineno"> 3002</span>  <span class="keywordflow">if</span> (wrapper_) {</div>
<div class="line"><a id="l03003" name="l03003"></a><span class="lineno"> 3003</span>    <a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#aabc336382e10df3a5f7c37ba95d15799">wasm::WasmCode::DecrementRefCount</a>({&amp;wrapper_, 1});</div>
<div class="line"><a id="l03004" name="l03004"></a><span class="lineno"> 3004</span>  }</div>
<div class="line"><a id="l03005" name="l03005"></a><span class="lineno"> 3005</span>  <span class="keywordflow">if</span> (wrapper_code_pointer_ != <a class="code hl_variable" href="namespacev8_1_1internal_1_1wasm.html#a7d41c6d12091165e18a14f58ae8b1b91">wasm::kInvalidWasmCodePointer</a>) {</div>
<div class="line"><a id="l03006" name="l03006"></a><span class="lineno"> 3006</span>    <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a0a36931b3d2bbcdfcbb253b229838952">wasm::GetProcessWideWasmCodePointerTable</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#a65f15597b54747d33d9d892912b1c5f4">FreeEntry</a>(</div>
<div class="line"><a id="l03007" name="l03007"></a><span class="lineno"> 3007</span>        wrapper_code_pointer_);</div>
<div class="line"><a id="l03008" name="l03008"></a><span class="lineno"> 3008</span>  }</div>
<div class="line"><a id="l03009" name="l03009"></a><span class="lineno"> 3009</span>}</div>
</div>
<div class="line"><a id="l03010" name="l03010"></a><span class="lineno"> 3010</span> </div>
<div class="foldopen" id="foldopen03011" data-start="{" data-end="}">
<div class="line"><a id="l03011" name="l03011"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmJSFunctionData.html#af782694f73663f80aab12fcc5ec2787a"> 3011</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;JSReceiver&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmJSFunctionData.html#af782694f73663f80aab12fcc5ec2787a">WasmJSFunctionData::GetCallable</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l03012" name="l03012"></a><span class="lineno"> 3012</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;JSReceiver&gt;</a>(</div>
<div class="line"><a id="l03013" name="l03013"></a><span class="lineno"> 3013</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmImportData&gt;</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a>()-&gt;implicit_arg())-&gt;callable());</div>
<div class="line"><a id="l03014" name="l03014"></a><span class="lineno"> 3014</span>}</div>
</div>
<div class="line"><a id="l03015" name="l03015"></a><span class="lineno"> 3015</span> </div>
<div class="foldopen" id="foldopen03016" data-start="{" data-end="}">
<div class="line"><a id="l03016" name="l03016"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmJSFunctionData.html#a9e186bca027fc2dd4d39d21c4508fd65"> 3016</a></span><a class="code hl_enumeration" href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843a">wasm::Suspend</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmJSFunctionData.html#a9e186bca027fc2dd4d39d21c4508fd65">WasmJSFunctionData::GetSuspend</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l03017" name="l03017"></a><span class="lineno"> 3017</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmImportData&gt;</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a>()-&gt;implicit_arg())-&gt;suspend();</div>
<div class="line"><a id="l03018" name="l03018"></a><span class="lineno"> 3018</span>}</div>
</div>
<div class="line"><a id="l03019" name="l03019"></a><span class="lineno"> 3019</span> </div>
<div class="foldopen" id="foldopen03020" data-start="{" data-end="}">
<div class="line"><a id="l03020" name="l03020"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmJSFunctionData.html#a1077c937f7fbff28184a2a9146fb87dc"> 3020</a></span><span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html">wasm::CanonicalSig</a>* <a class="code hl_function" href="classv8_1_1internal_1_1WasmJSFunctionData.html#a1077c937f7fbff28184a2a9146fb87dc">WasmJSFunctionData::GetSignature</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l03021" name="l03021"></a><span class="lineno"> 3021</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">wasm::GetWasmEngine</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a2bd8d1062109983456ee727ddc7141d7">type_canonicalizer</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa1f36fc3851ba2316d47223fa2b6e155">LookupFunctionSignature</a>(</div>
<div class="line"><a id="l03022" name="l03022"></a><span class="lineno"> 3022</span>      <a class="code hl_function" href="classv8_1_1internal_1_1WasmJSFunctionData.html#ad273501a0b5fb4cbba3dcdd43c763995">sig_index</a>());</div>
<div class="line"><a id="l03023" name="l03023"></a><span class="lineno"> 3023</span>}</div>
</div>
<div class="line"><a id="l03024" name="l03024"></a><span class="lineno"> 3024</span> </div>
<div class="foldopen" id="foldopen03025" data-start="{" data-end="}">
<div class="line"><a id="l03025" name="l03025"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmJSFunctionData.html#a0b2e66ac19774c9fed00276e33a7a43d"> 3025</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmJSFunctionData.html#a0b2e66ac19774c9fed00276e33a7a43d">WasmJSFunctionData::MatchesSignature</a>(</div>
<div class="line"><a id="l03026" name="l03026"></a><span class="lineno"> 3026</span>    <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a> other_canonical_sig_index)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l03027" name="l03027"></a><span class="lineno"> 3027</span><span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a id="l03028" name="l03028"></a><span class="lineno"> 3028</span>  <span class="comment">// TODO(14034): Change this if indexed types are allowed.</span></div>
<div class="line"><a id="l03029" name="l03029"></a><span class="lineno"> 3029</span>  <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html">wasm::CanonicalSig</a>* <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a> = <a class="code hl_function" href="classv8_1_1internal_1_1WasmJSFunctionData.html#a1077c937f7fbff28184a2a9146fb87dc">GetSignature</a>();</div>
<div class="line"><a id="l03030" name="l03030"></a><span class="lineno"> 3030</span>  <span class="keywordflow">for</span> (<a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html">wasm::CanonicalValueType</a> type : <a class="code hl_variable" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;all()) <a class="code hl_define" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!type.has_index());</div>
<div class="line"><a id="l03031" name="l03031"></a><span class="lineno"> 3031</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l03032" name="l03032"></a><span class="lineno"> 3032</span>  <span class="comment">// TODO(14034): Check for subtyping instead if WebAssembly.Function can define</span></div>
<div class="line"><a id="l03033" name="l03033"></a><span class="lineno"> 3033</span>  <span class="comment">// signature supertype.</span></div>
<div class="line"><a id="l03034" name="l03034"></a><span class="lineno"> 3034</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmJSFunctionData.html#ad273501a0b5fb4cbba3dcdd43c763995">sig_index</a>() == other_canonical_sig_index;</div>
<div class="line"><a id="l03035" name="l03035"></a><span class="lineno"> 3035</span>}</div>
</div>
<div class="line"><a id="l03036" name="l03036"></a><span class="lineno"> 3036</span> </div>
<div class="foldopen" id="foldopen03037" data-start="{" data-end="}">
<div class="line"><a id="l03037" name="l03037"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmExternalFunction.html#ac2a96212bef554982c768f1c04f72d20"> 3037</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmExternalFunction.html#ac2a96212bef554982c768f1c04f72d20">WasmExternalFunction::IsWasmExternalFunction</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Object&gt;</a> <span class="keywordtype">object</span>) {</div>
<div class="line"><a id="l03038" name="l03038"></a><span class="lineno"> 3038</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1WasmExportedFunction.html#a89d14615aeb9e6fdd2017315fe60d0ef">WasmExportedFunction::IsWasmExportedFunction</a>(<span class="keywordtype">object</span>) ||</div>
<div class="line"><a id="l03039" name="l03039"></a><span class="lineno"> 3039</span>         <a class="code hl_function" href="classv8_1_1internal_1_1WasmJSFunction.html#acd5f3569a442acea759fd951ca21567f">WasmJSFunction::IsWasmJSFunction</a>(<span class="keywordtype">object</span>) ||</div>
<div class="line"><a id="l03040" name="l03040"></a><span class="lineno"> 3040</span>         <a class="code hl_function" href="classv8_1_1internal_1_1WasmCapiFunction.html#a62930ad9bbbf2736e47ad0b607ee0c83">WasmCapiFunction::IsWasmCapiFunction</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><a id="l03041" name="l03041"></a><span class="lineno"> 3041</span>}</div>
</div>
<div class="line"><a id="l03042" name="l03042"></a><span class="lineno"> 3042</span> </div>
<div class="foldopen" id="foldopen03043" data-start="{" data-end="}">
<div class="line"><a id="l03043" name="l03043"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmExceptionTag.html#a74526904eef4614a890d80f1f43119e4"> 3043</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;WasmExceptionTag&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1WasmExceptionTag.html#a74526904eef4614a890d80f1f43119e4">WasmExceptionTag::New</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a id="l03044" name="l03044"></a><span class="lineno"> 3044</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;WasmExceptionTag&gt;</a>(isolate-&gt;factory()-&gt;NewStruct(</div>
<div class="line"><a id="l03045" name="l03045"></a><span class="lineno"> 3045</span>      WASM_EXCEPTION_TAG_TYPE, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">AllocationType::kOld</a>));</div>
<div class="line"><a id="l03046" name="l03046"></a><span class="lineno"> 3046</span>  <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>-&gt;set_index(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l03047" name="l03047"></a><span class="lineno"> 3047</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>;</div>
<div class="line"><a id="l03048" name="l03048"></a><span class="lineno"> 3048</span>}</div>
</div>
<div class="line"><a id="l03049" name="l03049"></a><span class="lineno"> 3049</span> </div>
<div class="foldopen" id="foldopen03050" data-start="{" data-end="}">
<div class="line"><a id="l03050" name="l03050"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1AsmWasmData.html#acc0ab9f86a21e107f090ac2725be47ce"> 3050</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;AsmWasmData&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1AsmWasmData.html#acc0ab9f86a21e107f090ac2725be47ce">AsmWasmData::New</a>(</div>
<div class="line"><a id="l03051" name="l03051"></a><span class="lineno"> 3051</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, std::shared_ptr&lt;wasm::NativeModule&gt; native_module,</div>
<div class="line"><a id="l03052" name="l03052"></a><span class="lineno"> 3052</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;HeapNumber&gt;</a> uses_bitset) {</div>
<div class="line"><a id="l03053" name="l03053"></a><span class="lineno"> 3053</span>  <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* module = native_module-&gt;module();</div>
<div class="line"><a id="l03054" name="l03054"></a><span class="lineno"> 3054</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> kUsesLiftoff = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03055" name="l03055"></a><span class="lineno"> 3055</span>  <span class="keywordtype">size_t</span> memory_estimate =</div>
<div class="line"><a id="l03056" name="l03056"></a><span class="lineno"> 3056</span>      <a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#ab90b2371ac3c63fcc039e3189203dbb3">wasm::WasmCodeManager::EstimateNativeModuleCodeSize</a>(</div>
<div class="line"><a id="l03057" name="l03057"></a><span class="lineno"> 3057</span>          module, kUsesLiftoff, <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1wasm.html#ae73da17de18352a106bb4e622f610d85a0ec54a3c977c8265d2980c3ecd2ac058">wasm::kNoDynamicTiering</a>) +</div>
<div class="line"><a id="l03058" name="l03058"></a><span class="lineno"> 3058</span>      <a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a791a00c5dc50aed58b0d0a5908753675">wasm::WasmCodeManager::EstimateNativeModuleMetaDataSize</a>(module);</div>
<div class="line"><a id="l03059" name="l03059"></a><span class="lineno"> 3059</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Managed&lt;wasm::NativeModule&gt;</a>&gt; managed_native_module =</div>
<div class="line"><a id="l03060" name="l03060"></a><span class="lineno"> 3060</span>      <a class="code hl_function" href="classv8_1_1internal_1_1Managed.html#a1c10cb948281b864db32d8af25a7b7d9">Managed&lt;wasm::NativeModule&gt;::From</a>(isolate, memory_estimate,</div>
<div class="line"><a id="l03061" name="l03061"></a><span class="lineno"> 3061</span>                                        std::move(native_module));</div>
<div class="line"><a id="l03062" name="l03062"></a><span class="lineno"> 3062</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;AsmWasmData&gt;</a>(</div>
<div class="line"><a id="l03063" name="l03063"></a><span class="lineno"> 3063</span>      isolate-&gt;factory()-&gt;NewStruct(ASM_WASM_DATA_TYPE, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">AllocationType::kOld</a>));</div>
<div class="line"><a id="l03064" name="l03064"></a><span class="lineno"> 3064</span>  <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>-&gt;set_managed_native_module(*managed_native_module);</div>
<div class="line"><a id="l03065" name="l03065"></a><span class="lineno"> 3065</span>  <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>-&gt;set_uses_bitset(*uses_bitset);</div>
<div class="line"><a id="l03066" name="l03066"></a><span class="lineno"> 3066</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>;</div>
<div class="line"><a id="l03067" name="l03067"></a><span class="lineno"> 3067</span>}</div>
</div>
<div class="line"><a id="l03068" name="l03068"></a><span class="lineno"> 3068</span> </div>
<div class="line"><a id="l03069" name="l03069"></a><span class="lineno"> 3069</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l03070" name="l03070"></a><span class="lineno"> 3070</span><span class="keyword">constexpr</span> int32_t kInt31MaxValue = 0x3fffffff;</div>
<div class="line"><a id="l03071" name="l03071"></a><span class="lineno"> 3071</span><span class="keyword">constexpr</span> int32_t kInt31MinValue = -kInt31MaxValue - 1;</div>
<div class="line"><a id="l03072" name="l03072"></a><span class="lineno"> 3072</span> </div>
<div class="line"><a id="l03073" name="l03073"></a><span class="lineno"> 3073</span><span class="comment">// Tries to canonicalize a HeapNumber to an i31ref Smi. Returns the original</span></div>
<div class="line"><a id="l03074" name="l03074"></a><span class="lineno"> 3074</span><span class="comment">// HeapNumber if it fails.</span></div>
<div class="line"><a id="l03075" name="l03075"></a><span class="lineno"> 3075</span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> CanonicalizeHeapNumber(<a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> number, <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a id="l03076" name="l03076"></a><span class="lineno"> 3076</span>  <span class="keywordtype">double</span> double_value = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;HeapNumber&gt;</a>(number)-&gt;value();</div>
<div class="line"><a id="l03077" name="l03077"></a><span class="lineno"> 3077</span>  <span class="keywordflow">if</span> (double_value &gt;= kInt31MinValue &amp;&amp; double_value &lt;= kInt31MaxValue &amp;&amp;</div>
<div class="line"><a id="l03078" name="l03078"></a><span class="lineno"> 3078</span>      !<a class="code hl_function" href="namespacev8_1_1internal.html#ac2e67965c23f31e787267da33347b3d7">IsMinusZero</a>(double_value) &amp;&amp;</div>
<div class="line"><a id="l03079" name="l03079"></a><span class="lineno"> 3079</span>      double_value == <a class="code hl_function" href="namespacev8_1_1internal.html#a61075b05a94d1b5188fa013f53b22606">FastI2D</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#aa4cc6fe7d4a1473292e27590723c7543">FastD2I</a>(double_value))) {</div>
<div class="line"><a id="l03080" name="l03080"></a><span class="lineno"> 3080</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(<a class="code hl_function" href="classv8_1_1internal_1_1Smi.html#a755464f4d2c3a71ffd82cd474bbc50f3">Smi::FromInt</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#aa4cc6fe7d4a1473292e27590723c7543">FastD2I</a>(double_value)), isolate);</div>
<div class="line"><a id="l03081" name="l03081"></a><span class="lineno"> 3081</span>  }</div>
<div class="line"><a id="l03082" name="l03082"></a><span class="lineno"> 3082</span>  <span class="keywordflow">return</span> number;</div>
<div class="line"><a id="l03083" name="l03083"></a><span class="lineno"> 3083</span>}</div>
<div class="line"><a id="l03084" name="l03084"></a><span class="lineno"> 3084</span> </div>
<div class="line"><a id="l03085" name="l03085"></a><span class="lineno"> 3085</span><span class="comment">// Tries to canonicalize a Smi into an i31 Smi. Returns a HeapNumber if it</span></div>
<div class="line"><a id="l03086" name="l03086"></a><span class="lineno"> 3086</span><span class="comment">// fails.</span></div>
<div class="line"><a id="l03087" name="l03087"></a><span class="lineno"> 3087</span><a class="code hl_typedef" href="namespacev8.html#a25d2bd830a15c10ed892862df4c7f2eb">Handle&lt;Object&gt;</a> CanonicalizeSmi(<a class="code hl_typedef" href="namespacev8.html#a25d2bd830a15c10ed892862df4c7f2eb">Handle&lt;Object&gt;</a> smi, Isolate* isolate) {</div>
<div class="line"><a id="l03088" name="l03088"></a><span class="lineno"> 3088</span>  <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (<a class="code hl_function" href="namespacev8_1_1internal.html#a86aed8f961b5086cb7d5ae530a8770f5">SmiValuesAre31Bits</a>()) <span class="keywordflow">return</span> smi;</div>
<div class="line"><a id="l03089" name="l03089"></a><span class="lineno"> 3089</span> </div>
<div class="line"><a id="l03090" name="l03090"></a><span class="lineno"> 3090</span>  int32_t value = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;Smi&gt;</a>(*smi).value();</div>
<div class="line"><a id="l03091" name="l03091"></a><span class="lineno"> 3091</span> </div>
<div class="line"><a id="l03092" name="l03092"></a><span class="lineno"> 3092</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value &lt;= kInt31MaxValue &amp;&amp; value &gt;</a>= kInt31MinValue) {</div>
<div class="line"><a id="l03093" name="l03093"></a><span class="lineno"> 3093</span>    <span class="keywordflow">return</span> smi;</div>
<div class="line"><a id="l03094" name="l03094"></a><span class="lineno"> 3094</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03095" name="l03095"></a><span class="lineno"> 3095</span>    <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;NewHeapNumber(value);</div>
<div class="line"><a id="l03096" name="l03096"></a><span class="lineno"> 3096</span>  }</div>
<div class="line"><a id="l03097" name="l03097"></a><span class="lineno"> 3097</span>}</div>
<div class="line"><a id="l03098" name="l03098"></a><span class="lineno"> 3098</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l03099" name="l03099"></a><span class="lineno"> 3099</span> </div>
<div class="line"><a id="l03100" name="l03100"></a><span class="lineno"> 3100</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacewasm.html">wasm</a> {</div>
<div class="foldopen" id="foldopen03101" data-start="{" data-end="}">
<div class="line"><a id="l03101" name="l03101"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1wasm.html#a4028018fc306f5bf21254dcaeb81b9e8"> 3101</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;Object&gt;</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a4028018fc306f5bf21254dcaeb81b9e8">JSToWasmObject</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> value,</div>
<div class="line"><a id="l03102" name="l03102"></a><span class="lineno"> 3102</span>                                   <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html">CanonicalValueType</a> expected,</div>
<div class="line"><a id="l03103" name="l03103"></a><span class="lineno"> 3103</span>                                   <span class="keyword">const</span> <span class="keywordtype">char</span>** error_message) {</div>
<div class="line"><a id="l03104" name="l03104"></a><span class="lineno"> 3104</span>  <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(expected.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#aa459140e8766cc7f6bdf67dcd174ad1e">is_object_reference</a>());</div>
<div class="line"><a id="l03105" name="l03105"></a><span class="lineno"> 3105</span>  <span class="keywordflow">if</span> (expected.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a777139722a5dbb1f696aa90375aab584">kind</a>() == <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210aafd4fc7d3d7d9d9bc84ef9f0fd3d09c3">kRefNull</a> &amp;&amp; <a class="code hl_function" href="namespacev8_1_1internal.html#aea9d736830d86242c4e1cb59a371d3a6">IsNull</a>(*value, isolate)) {</div>
<div class="line"><a id="l03106" name="l03106"></a><span class="lineno"> 3106</span>    <span class="keywordflow">switch</span> (expected.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a5136976f64d8107bcc6dc4769ace851f">heap_representation</a>()) {</div>
<div class="line"><a id="l03107" name="l03107"></a><span class="lineno"> 3107</span>      <span class="keywordflow">case</span> HeapType::kStringViewWtf8:</div>
<div class="line"><a id="l03108" name="l03108"></a><span class="lineno"> 3108</span>        *error_message = <span class="stringliteral">&quot;stringview_wtf8 has no JS representation&quot;</span>;</div>
<div class="line"><a id="l03109" name="l03109"></a><span class="lineno"> 3109</span>        <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l03110" name="l03110"></a><span class="lineno"> 3110</span>      <span class="keywordflow">case</span> HeapType::kStringViewWtf16:</div>
<div class="line"><a id="l03111" name="l03111"></a><span class="lineno"> 3111</span>        *error_message = <span class="stringliteral">&quot;stringview_wtf16 has no JS representation&quot;</span>;</div>
<div class="line"><a id="l03112" name="l03112"></a><span class="lineno"> 3112</span>        <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l03113" name="l03113"></a><span class="lineno"> 3113</span>      <span class="keywordflow">case</span> HeapType::kStringViewIter:</div>
<div class="line"><a id="l03114" name="l03114"></a><span class="lineno"> 3114</span>        *error_message = <span class="stringliteral">&quot;stringview_iter has no JS representation&quot;</span>;</div>
<div class="line"><a id="l03115" name="l03115"></a><span class="lineno"> 3115</span>        <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l03116" name="l03116"></a><span class="lineno"> 3116</span>      <span class="keywordflow">case</span> HeapType::kExn:</div>
<div class="line"><a id="l03117" name="l03117"></a><span class="lineno"> 3117</span>        *error_message = <span class="stringliteral">&quot;invalid type (ref null exn)&quot;</span>;</div>
<div class="line"><a id="l03118" name="l03118"></a><span class="lineno"> 3118</span>        <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l03119" name="l03119"></a><span class="lineno"> 3119</span>      <span class="keywordflow">case</span> HeapType::kNoExn:</div>
<div class="line"><a id="l03120" name="l03120"></a><span class="lineno"> 3120</span>        *error_message = <span class="stringliteral">&quot;invalid type (ref null noexn)&quot;</span>;</div>
<div class="line"><a id="l03121" name="l03121"></a><span class="lineno"> 3121</span>        <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l03122" name="l03122"></a><span class="lineno"> 3122</span>      <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l03123" name="l03123"></a><span class="lineno"> 3123</span>        <span class="keywordflow">return</span> expected.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#ad4ba8a380246eb2e204befd51ae7b94a">use_wasm_null</a>() ? isolate-&gt;factory()-&gt;wasm_null()</div>
<div class="line"><a id="l03124" name="l03124"></a><span class="lineno"> 3124</span>                                        : <a class="code hl_variable" href="value-mirror_8cc.html#a1ca88ee8dc0e8e51d60cf01ab8e8702a">value</a>;</div>
<div class="line"><a id="l03125" name="l03125"></a><span class="lineno"> 3125</span>    }</div>
<div class="line"><a id="l03126" name="l03126"></a><span class="lineno"> 3126</span>  }</div>
<div class="line"><a id="l03127" name="l03127"></a><span class="lineno"> 3127</span> </div>
<div class="line"><a id="l03128" name="l03128"></a><span class="lineno"> 3128</span>  <span class="keywordflow">switch</span> (expected.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a0c9d01db0d2ee104368cd4de098257b2">heap_representation_non_shared</a>()) {</div>
<div class="line"><a id="l03129" name="l03129"></a><span class="lineno"> 3129</span>    <span class="keywordflow">case</span> HeapType::kFunc: {</div>
<div class="line"><a id="l03130" name="l03130"></a><span class="lineno"> 3130</span>      <span class="keywordflow">if</span> (!(WasmExternalFunction::IsWasmExternalFunction(*value) ||</div>
<div class="line"><a id="l03131" name="l03131"></a><span class="lineno"> 3131</span>            WasmCapiFunction::IsWasmCapiFunction(*value))) {</div>
<div class="line"><a id="l03132" name="l03132"></a><span class="lineno"> 3132</span>        *error_message =</div>
<div class="line"><a id="l03133" name="l03133"></a><span class="lineno"> 3133</span>            <span class="stringliteral">&quot;function-typed object must be null (if nullable) or a Wasm &quot;</span></div>
<div class="line"><a id="l03134" name="l03134"></a><span class="lineno"> 3134</span>            <span class="stringliteral">&quot;function object&quot;</span>;</div>
<div class="line"><a id="l03135" name="l03135"></a><span class="lineno"> 3135</span>        <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l03136" name="l03136"></a><span class="lineno"> 3136</span>      }</div>
<div class="line"><a id="l03137" name="l03137"></a><span class="lineno"> 3137</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(</div>
<div class="line"><a id="l03138" name="l03138"></a><span class="lineno"> 3138</span>          Cast&lt;JSFunction&gt;(*value)-&gt;shared()-&gt;wasm_function_data()-&gt;func_ref(),</div>
<div class="line"><a id="l03139" name="l03139"></a><span class="lineno"> 3139</span>          isolate);</div>
<div class="line"><a id="l03140" name="l03140"></a><span class="lineno"> 3140</span>    }</div>
<div class="line"><a id="l03141" name="l03141"></a><span class="lineno"> 3141</span>    <span class="keywordflow">case</span> HeapType::kExtern: {</div>
<div class="line"><a id="l03142" name="l03142"></a><span class="lineno"> 3142</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespacev8_1_1internal.html#aea9d736830d86242c4e1cb59a371d3a6">IsNull</a>(*value, isolate)) <span class="keywordflow">return</span> <a class="code hl_variable" href="value-mirror_8cc.html#a1ca88ee8dc0e8e51d60cf01ab8e8702a">value</a>;</div>
<div class="line"><a id="l03143" name="l03143"></a><span class="lineno"> 3143</span>      *error_message = <span class="stringliteral">&quot;null is not allowed for (ref extern)&quot;</span>;</div>
<div class="line"><a id="l03144" name="l03144"></a><span class="lineno"> 3144</span>      <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l03145" name="l03145"></a><span class="lineno"> 3145</span>    }</div>
<div class="line"><a id="l03146" name="l03146"></a><span class="lineno"> 3146</span>    <span class="keywordflow">case</span> HeapType::kAny: {</div>
<div class="line"><a id="l03147" name="l03147"></a><span class="lineno"> 3147</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacev8_1_1internal.html#a511c3dd03bb4fc2b91ed9ef5535e202e">IsSmi</a>(*value)) <span class="keywordflow">return</span> CanonicalizeSmi(value, isolate);</div>
<div class="line"><a id="l03148" name="l03148"></a><span class="lineno"> 3148</span>      <span class="keywordflow">if</span> (IsHeapNumber(*value)) {</div>
<div class="line"><a id="l03149" name="l03149"></a><span class="lineno"> 3149</span>        <span class="keywordflow">return</span> CanonicalizeHeapNumber(value, isolate);</div>
<div class="line"><a id="l03150" name="l03150"></a><span class="lineno"> 3150</span>      }</div>
<div class="line"><a id="l03151" name="l03151"></a><span class="lineno"> 3151</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespacev8_1_1internal.html#aea9d736830d86242c4e1cb59a371d3a6">IsNull</a>(*value, isolate)) <span class="keywordflow">return</span> <a class="code hl_variable" href="value-mirror_8cc.html#a1ca88ee8dc0e8e51d60cf01ab8e8702a">value</a>;</div>
<div class="line"><a id="l03152" name="l03152"></a><span class="lineno"> 3152</span>      *error_message = <span class="stringliteral">&quot;null is not allowed for (ref any)&quot;</span>;</div>
<div class="line"><a id="l03153" name="l03153"></a><span class="lineno"> 3153</span>      <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l03154" name="l03154"></a><span class="lineno"> 3154</span>    }</div>
<div class="line"><a id="l03155" name="l03155"></a><span class="lineno"> 3155</span>    <span class="keywordflow">case</span> HeapType::kExn:</div>
<div class="line"><a id="l03156" name="l03156"></a><span class="lineno"> 3156</span>      *error_message = <span class="stringliteral">&quot;invalid type (ref exn)&quot;</span>;</div>
<div class="line"><a id="l03157" name="l03157"></a><span class="lineno"> 3157</span>      <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l03158" name="l03158"></a><span class="lineno"> 3158</span>    <span class="keywordflow">case</span> HeapType::kStruct: {</div>
<div class="line"><a id="l03159" name="l03159"></a><span class="lineno"> 3159</span>      <span class="keywordflow">if</span> (IsWasmStruct(*value)) {</div>
<div class="line"><a id="l03160" name="l03160"></a><span class="lineno"> 3160</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="value-mirror_8cc.html#a1ca88ee8dc0e8e51d60cf01ab8e8702a">value</a>;</div>
<div class="line"><a id="l03161" name="l03161"></a><span class="lineno"> 3161</span>      }</div>
<div class="line"><a id="l03162" name="l03162"></a><span class="lineno"> 3162</span>      *error_message =</div>
<div class="line"><a id="l03163" name="l03163"></a><span class="lineno"> 3163</span>          <span class="stringliteral">&quot;structref object must be null (if nullable) or a wasm struct&quot;</span>;</div>
<div class="line"><a id="l03164" name="l03164"></a><span class="lineno"> 3164</span>      <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l03165" name="l03165"></a><span class="lineno"> 3165</span>    }</div>
<div class="line"><a id="l03166" name="l03166"></a><span class="lineno"> 3166</span>    <span class="keywordflow">case</span> HeapType::kArray: {</div>
<div class="line"><a id="l03167" name="l03167"></a><span class="lineno"> 3167</span>      <span class="keywordflow">if</span> (IsWasmArray(*value)) {</div>
<div class="line"><a id="l03168" name="l03168"></a><span class="lineno"> 3168</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="value-mirror_8cc.html#a1ca88ee8dc0e8e51d60cf01ab8e8702a">value</a>;</div>
<div class="line"><a id="l03169" name="l03169"></a><span class="lineno"> 3169</span>      }</div>
<div class="line"><a id="l03170" name="l03170"></a><span class="lineno"> 3170</span>      *error_message =</div>
<div class="line"><a id="l03171" name="l03171"></a><span class="lineno"> 3171</span>          <span class="stringliteral">&quot;arrayref object must be null (if nullable) or a wasm array&quot;</span>;</div>
<div class="line"><a id="l03172" name="l03172"></a><span class="lineno"> 3172</span>      <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l03173" name="l03173"></a><span class="lineno"> 3173</span>    }</div>
<div class="line"><a id="l03174" name="l03174"></a><span class="lineno"> 3174</span>    <span class="keywordflow">case</span> HeapType::kEq: {</div>
<div class="line"><a id="l03175" name="l03175"></a><span class="lineno"> 3175</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacev8_1_1internal.html#a511c3dd03bb4fc2b91ed9ef5535e202e">IsSmi</a>(*value)) {</div>
<div class="line"><a id="l03176" name="l03176"></a><span class="lineno"> 3176</span>        <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> truncated = CanonicalizeSmi(value, isolate);</div>
<div class="line"><a id="l03177" name="l03177"></a><span class="lineno"> 3177</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacev8_1_1internal.html#a511c3dd03bb4fc2b91ed9ef5535e202e">IsSmi</a>(*truncated)) <span class="keywordflow">return</span> truncated;</div>
<div class="line"><a id="l03178" name="l03178"></a><span class="lineno"> 3178</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsHeapNumber(*value)) {</div>
<div class="line"><a id="l03179" name="l03179"></a><span class="lineno"> 3179</span>        <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> truncated = CanonicalizeHeapNumber(value, isolate);</div>
<div class="line"><a id="l03180" name="l03180"></a><span class="lineno"> 3180</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacev8_1_1internal.html#a511c3dd03bb4fc2b91ed9ef5535e202e">IsSmi</a>(*truncated)) <span class="keywordflow">return</span> truncated;</div>
<div class="line"><a id="l03181" name="l03181"></a><span class="lineno"> 3181</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsWasmStruct(*value) || IsWasmArray(*value)) {</div>
<div class="line"><a id="l03182" name="l03182"></a><span class="lineno"> 3182</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="value-mirror_8cc.html#a1ca88ee8dc0e8e51d60cf01ab8e8702a">value</a>;</div>
<div class="line"><a id="l03183" name="l03183"></a><span class="lineno"> 3183</span>      }</div>
<div class="line"><a id="l03184" name="l03184"></a><span class="lineno"> 3184</span>      *error_message =</div>
<div class="line"><a id="l03185" name="l03185"></a><span class="lineno"> 3185</span>          <span class="stringliteral">&quot;eqref object must be null (if nullable), or a wasm &quot;</span></div>
<div class="line"><a id="l03186" name="l03186"></a><span class="lineno"> 3186</span>          <span class="stringliteral">&quot;struct/array, or a Number that fits in i31ref range&quot;</span>;</div>
<div class="line"><a id="l03187" name="l03187"></a><span class="lineno"> 3187</span>      <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l03188" name="l03188"></a><span class="lineno"> 3188</span>    }</div>
<div class="line"><a id="l03189" name="l03189"></a><span class="lineno"> 3189</span>    <span class="keywordflow">case</span> HeapType::kI31: {</div>
<div class="line"><a id="l03190" name="l03190"></a><span class="lineno"> 3190</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacev8_1_1internal.html#a511c3dd03bb4fc2b91ed9ef5535e202e">IsSmi</a>(*value)) {</div>
<div class="line"><a id="l03191" name="l03191"></a><span class="lineno"> 3191</span>        <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> truncated = CanonicalizeSmi(value, isolate);</div>
<div class="line"><a id="l03192" name="l03192"></a><span class="lineno"> 3192</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacev8_1_1internal.html#a511c3dd03bb4fc2b91ed9ef5535e202e">IsSmi</a>(*truncated)) <span class="keywordflow">return</span> truncated;</div>
<div class="line"><a id="l03193" name="l03193"></a><span class="lineno"> 3193</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsHeapNumber(*value)) {</div>
<div class="line"><a id="l03194" name="l03194"></a><span class="lineno"> 3194</span>        <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> truncated = CanonicalizeHeapNumber(value, isolate);</div>
<div class="line"><a id="l03195" name="l03195"></a><span class="lineno"> 3195</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacev8_1_1internal.html#a511c3dd03bb4fc2b91ed9ef5535e202e">IsSmi</a>(*truncated)) <span class="keywordflow">return</span> truncated;</div>
<div class="line"><a id="l03196" name="l03196"></a><span class="lineno"> 3196</span>      }</div>
<div class="line"><a id="l03197" name="l03197"></a><span class="lineno"> 3197</span>      *error_message =</div>
<div class="line"><a id="l03198" name="l03198"></a><span class="lineno"> 3198</span>          <span class="stringliteral">&quot;i31ref object must be null (if nullable) or a Number that fits &quot;</span></div>
<div class="line"><a id="l03199" name="l03199"></a><span class="lineno"> 3199</span>          <span class="stringliteral">&quot;in i31ref range&quot;</span>;</div>
<div class="line"><a id="l03200" name="l03200"></a><span class="lineno"> 3200</span>      <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l03201" name="l03201"></a><span class="lineno"> 3201</span>    }</div>
<div class="line"><a id="l03202" name="l03202"></a><span class="lineno"> 3202</span>    <span class="keywordflow">case</span> HeapType::kString:</div>
<div class="line"><a id="l03203" name="l03203"></a><span class="lineno"> 3203</span>      <span class="keywordflow">if</span> (IsString(*value)) <span class="keywordflow">return</span> <a class="code hl_variable" href="value-mirror_8cc.html#a1ca88ee8dc0e8e51d60cf01ab8e8702a">value</a>;</div>
<div class="line"><a id="l03204" name="l03204"></a><span class="lineno"> 3204</span>      *error_message = <span class="stringliteral">&quot;wrong type (expected a string)&quot;</span>;</div>
<div class="line"><a id="l03205" name="l03205"></a><span class="lineno"> 3205</span>      <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l03206" name="l03206"></a><span class="lineno"> 3206</span>    <span class="keywordflow">case</span> HeapType::kStringViewWtf8:</div>
<div class="line"><a id="l03207" name="l03207"></a><span class="lineno"> 3207</span>      *error_message = <span class="stringliteral">&quot;stringview_wtf8 has no JS representation&quot;</span>;</div>
<div class="line"><a id="l03208" name="l03208"></a><span class="lineno"> 3208</span>      <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l03209" name="l03209"></a><span class="lineno"> 3209</span>    <span class="keywordflow">case</span> HeapType::kStringViewWtf16:</div>
<div class="line"><a id="l03210" name="l03210"></a><span class="lineno"> 3210</span>      *error_message = <span class="stringliteral">&quot;stringview_wtf16 has no JS representation&quot;</span>;</div>
<div class="line"><a id="l03211" name="l03211"></a><span class="lineno"> 3211</span>      <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l03212" name="l03212"></a><span class="lineno"> 3212</span>    <span class="keywordflow">case</span> HeapType::kStringViewIter:</div>
<div class="line"><a id="l03213" name="l03213"></a><span class="lineno"> 3213</span>      *error_message = <span class="stringliteral">&quot;stringview_iter has no JS representation&quot;</span>;</div>
<div class="line"><a id="l03214" name="l03214"></a><span class="lineno"> 3214</span>      <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l03215" name="l03215"></a><span class="lineno"> 3215</span>    <span class="keywordflow">case</span> HeapType::kNoFunc:</div>
<div class="line"><a id="l03216" name="l03216"></a><span class="lineno"> 3216</span>    <span class="keywordflow">case</span> HeapType::kNoExtern:</div>
<div class="line"><a id="l03217" name="l03217"></a><span class="lineno"> 3217</span>    <span class="keywordflow">case</span> HeapType::kNoExn:</div>
<div class="line"><a id="l03218" name="l03218"></a><span class="lineno"> 3218</span>    <span class="keywordflow">case</span> HeapType::kNone: {</div>
<div class="line"><a id="l03219" name="l03219"></a><span class="lineno"> 3219</span>      *error_message = <span class="stringliteral">&quot;only null allowed for null types&quot;</span>;</div>
<div class="line"><a id="l03220" name="l03220"></a><span class="lineno"> 3220</span>      <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l03221" name="l03221"></a><span class="lineno"> 3221</span>    }</div>
<div class="line"><a id="l03222" name="l03222"></a><span class="lineno"> 3222</span>    <span class="keywordflow">default</span>: {</div>
<div class="line"><a id="l03223" name="l03223"></a><span class="lineno"> 3223</span>      <a class="code hl_define" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(expected.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a97e374db0b2e830d34c73ad6d6bc9afb">has_index</a>());</div>
<div class="line"><a id="l03224" name="l03224"></a><span class="lineno"> 3224</span>      <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> canonical_index = expected.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html#ab58fc78ee1cd5b17394acbc1a9fb7225">ref_index</a>();</div>
<div class="line"><a id="l03225" name="l03225"></a><span class="lineno"> 3225</span>      <span class="keyword">auto</span> type_canonicalizer = <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">GetWasmEngine</a>()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a2bd8d1062109983456ee727ddc7141d7">type_canonicalizer</a>();</div>
<div class="line"><a id="l03226" name="l03226"></a><span class="lineno"> 3226</span> </div>
<div class="line"><a id="l03227" name="l03227"></a><span class="lineno"> 3227</span>      <span class="keywordflow">if</span> (WasmExportedFunction::IsWasmExportedFunction(*value)) {</div>
<div class="line"><a id="l03228" name="l03228"></a><span class="lineno"> 3228</span>        <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmExportedFunction&gt;</a> function =</div>
<div class="line"><a id="l03229" name="l03229"></a><span class="lineno"> 3229</span>            Cast&lt;WasmExportedFunction&gt;(*value);</div>
<div class="line"><a id="l03230" name="l03230"></a><span class="lineno"> 3230</span>        <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> real_type_index =</div>
<div class="line"><a id="l03231" name="l03231"></a><span class="lineno"> 3231</span>            function-&gt;shared()-&gt;wasm_exported_function_data()-&gt;sig_index();</div>
<div class="line"><a id="l03232" name="l03232"></a><span class="lineno"> 3232</span>        <span class="keywordflow">if</span> (!type_canonicalizer-&gt;IsCanonicalSubtype(real_type_index,</div>
<div class="line"><a id="l03233" name="l03233"></a><span class="lineno"> 3233</span>                                                    canonical_index)) {</div>
<div class="line"><a id="l03234" name="l03234"></a><span class="lineno"> 3234</span>          *error_message =</div>
<div class="line"><a id="l03235" name="l03235"></a><span class="lineno"> 3235</span>              <span class="stringliteral">&quot;assigned exported function has to be a subtype of the &quot;</span></div>
<div class="line"><a id="l03236" name="l03236"></a><span class="lineno"> 3236</span>              <span class="stringliteral">&quot;expected type&quot;</span>;</div>
<div class="line"><a id="l03237" name="l03237"></a><span class="lineno"> 3237</span>          <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l03238" name="l03238"></a><span class="lineno"> 3238</span>        }</div>
<div class="line"><a id="l03239" name="l03239"></a><span class="lineno"> 3239</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(Cast&lt;WasmExternalFunction&gt;(*value)-&gt;func_ref(), isolate);</div>
<div class="line"><a id="l03240" name="l03240"></a><span class="lineno"> 3240</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (WasmJSFunction::IsWasmJSFunction(*value)) {</div>
<div class="line"><a id="l03241" name="l03241"></a><span class="lineno"> 3241</span>        <span class="keywordflow">if</span> (!Cast&lt;WasmJSFunction&gt;(*value)</div>
<div class="line"><a id="l03242" name="l03242"></a><span class="lineno"> 3242</span>                 -&gt;<a class="code hl_variable" href="js-call-reducer_8cc.html#a9fa9548665fda8f7a8cfad92f3c8cedd">shared</a>()</div>
<div class="line"><a id="l03243" name="l03243"></a><span class="lineno"> 3243</span>                 -&gt;wasm_js_function_data()</div>
<div class="line"><a id="l03244" name="l03244"></a><span class="lineno"> 3244</span>                 -&gt;MatchesSignature(canonical_index)) {</div>
<div class="line"><a id="l03245" name="l03245"></a><span class="lineno"> 3245</span>          *error_message =</div>
<div class="line"><a id="l03246" name="l03246"></a><span class="lineno"> 3246</span>              <span class="stringliteral">&quot;assigned WebAssembly.Function has to be a subtype of the &quot;</span></div>
<div class="line"><a id="l03247" name="l03247"></a><span class="lineno"> 3247</span>              <span class="stringliteral">&quot;expected type&quot;</span>;</div>
<div class="line"><a id="l03248" name="l03248"></a><span class="lineno"> 3248</span>          <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l03249" name="l03249"></a><span class="lineno"> 3249</span>        }</div>
<div class="line"><a id="l03250" name="l03250"></a><span class="lineno"> 3250</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(Cast&lt;WasmExternalFunction&gt;(*value)-&gt;func_ref(), isolate);</div>
<div class="line"><a id="l03251" name="l03251"></a><span class="lineno"> 3251</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (WasmCapiFunction::IsWasmCapiFunction(*value)) {</div>
<div class="line"><a id="l03252" name="l03252"></a><span class="lineno"> 3252</span>        <span class="keywordflow">if</span> (!Cast&lt;WasmCapiFunction&gt;(*value)-&gt;MatchesSignature(</div>
<div class="line"><a id="l03253" name="l03253"></a><span class="lineno"> 3253</span>                canonical_index)) {</div>
<div class="line"><a id="l03254" name="l03254"></a><span class="lineno"> 3254</span>          *error_message =</div>
<div class="line"><a id="l03255" name="l03255"></a><span class="lineno"> 3255</span>              <span class="stringliteral">&quot;assigned C API function has to be a subtype of the expected &quot;</span></div>
<div class="line"><a id="l03256" name="l03256"></a><span class="lineno"> 3256</span>              <span class="stringliteral">&quot;type&quot;</span>;</div>
<div class="line"><a id="l03257" name="l03257"></a><span class="lineno"> 3257</span>          <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l03258" name="l03258"></a><span class="lineno"> 3258</span>        }</div>
<div class="line"><a id="l03259" name="l03259"></a><span class="lineno"> 3259</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(Cast&lt;WasmExternalFunction&gt;(*value)-&gt;func_ref(), isolate);</div>
<div class="line"><a id="l03260" name="l03260"></a><span class="lineno"> 3260</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsWasmStruct(*value) || IsWasmArray(*value)) {</div>
<div class="line"><a id="l03261" name="l03261"></a><span class="lineno"> 3261</span>        <span class="keyword">auto</span> wasm_obj = Cast&lt;WasmObject&gt;(value);</div>
<div class="line"><a id="l03262" name="l03262"></a><span class="lineno"> 3262</span>        <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WasmTypeInfo&gt;</a> type_info = wasm_obj-&gt;map()-&gt;wasm_type_info();</div>
<div class="line"><a id="l03263" name="l03263"></a><span class="lineno"> 3263</span>        <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1ModuleTypeIndex.html">ModuleTypeIndex</a> real_idx = type_info-&gt;type_index();</div>
<div class="line"><a id="l03264" name="l03264"></a><span class="lineno"> 3264</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* real_module =</div>
<div class="line"><a id="l03265" name="l03265"></a><span class="lineno"> 3265</span>            type_info-&gt;trusted_data(isolate)-&gt;module();</div>
<div class="line"><a id="l03266" name="l03266"></a><span class="lineno"> 3266</span>        <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> real_canonical_index =</div>
<div class="line"><a id="l03267" name="l03267"></a><span class="lineno"> 3267</span>            real_module-&gt;<a class="code hl_function" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a203c3dead384ed9378fabac21ef51c52">canonical_type_id</a>(real_idx);</div>
<div class="line"><a id="l03268" name="l03268"></a><span class="lineno"> 3268</span>        <span class="keywordflow">if</span> (!type_canonicalizer-&gt;IsCanonicalSubtype(real_canonical_index,</div>
<div class="line"><a id="l03269" name="l03269"></a><span class="lineno"> 3269</span>                                                    canonical_index)) {</div>
<div class="line"><a id="l03270" name="l03270"></a><span class="lineno"> 3270</span>          *error_message = <span class="stringliteral">&quot;object is not a subtype of expected type&quot;</span>;</div>
<div class="line"><a id="l03271" name="l03271"></a><span class="lineno"> 3271</span>          <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l03272" name="l03272"></a><span class="lineno"> 3272</span>        }</div>
<div class="line"><a id="l03273" name="l03273"></a><span class="lineno"> 3273</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="value-mirror_8cc.html#a1ca88ee8dc0e8e51d60cf01ab8e8702a">value</a>;</div>
<div class="line"><a id="l03274" name="l03274"></a><span class="lineno"> 3274</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03275" name="l03275"></a><span class="lineno"> 3275</span>        *error_message = <span class="stringliteral">&quot;JS object does not match expected wasm type&quot;</span>;</div>
<div class="line"><a id="l03276" name="l03276"></a><span class="lineno"> 3276</span>        <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l03277" name="l03277"></a><span class="lineno"> 3277</span>      }</div>
<div class="line"><a id="l03278" name="l03278"></a><span class="lineno"> 3278</span>    }</div>
<div class="line"><a id="l03279" name="l03279"></a><span class="lineno"> 3279</span>  }</div>
<div class="line"><a id="l03280" name="l03280"></a><span class="lineno"> 3280</span>}</div>
</div>
<div class="line"><a id="l03281" name="l03281"></a><span class="lineno"> 3281</span> </div>
<div class="line"><a id="l03282" name="l03282"></a><span class="lineno"> 3282</span><span class="comment">// Utility which canonicalizes {expected} in addition.</span></div>
<div class="foldopen" id="foldopen03283" data-start="{" data-end="}">
<div class="line"><a id="l03283" name="l03283"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1wasm.html#a0104f776de78bd3ab480b7e90e3cf1ca"> 3283</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;Object&gt;</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a4028018fc306f5bf21254dcaeb81b9e8">JSToWasmObject</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* module,</div>
<div class="line"><a id="l03284" name="l03284"></a><span class="lineno"> 3284</span>                                   <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> value, <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1ValueType.html">ValueType</a> expected,</div>
<div class="line"><a id="l03285" name="l03285"></a><span class="lineno"> 3285</span>                                   <span class="keyword">const</span> <span class="keywordtype">char</span>** error_message) {</div>
<div class="line"><a id="l03286" name="l03286"></a><span class="lineno"> 3286</span>  <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html">CanonicalValueType</a> canonical;</div>
<div class="line"><a id="l03287" name="l03287"></a><span class="lineno"> 3287</span>  <span class="keywordflow">if</span> (expected.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a97e374db0b2e830d34c73ad6d6bc9afb">has_index</a>()) {</div>
<div class="line"><a id="l03288" name="l03288"></a><span class="lineno"> 3288</span>    <a class="code hl_struct" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">CanonicalTypeIndex</a> <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#ae55190dbead0a94298bdfa37911694e3">index</a> = <span class="keyword">module</span>-&gt;canonical_type_id(expected.ref_index());</div>
<div class="line"><a id="l03289" name="l03289"></a><span class="lineno"> 3289</span>    canonical = CanonicalValueType::FromIndex(expected.<a class="code hl_function" href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a777139722a5dbb1f696aa90375aab584">kind</a>(), <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#ae55190dbead0a94298bdfa37911694e3">index</a>);</div>
<div class="line"><a id="l03290" name="l03290"></a><span class="lineno"> 3290</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03291" name="l03291"></a><span class="lineno"> 3291</span>    canonical = <a class="code hl_class" href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html">CanonicalValueType</a>{expected};</div>
<div class="line"><a id="l03292" name="l03292"></a><span class="lineno"> 3292</span>  }</div>
<div class="line"><a id="l03293" name="l03293"></a><span class="lineno"> 3293</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a4028018fc306f5bf21254dcaeb81b9e8">JSToWasmObject</a>(isolate, value, canonical, error_message);</div>
<div class="line"><a id="l03294" name="l03294"></a><span class="lineno"> 3294</span>}</div>
</div>
<div class="line"><a id="l03295" name="l03295"></a><span class="lineno"> 3295</span> </div>
<div class="foldopen" id="foldopen03296" data-start="{" data-end="}">
<div class="line"><a id="l03296" name="l03296"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1wasm.html#a7cf9a93aa28382c93537bcf6db6acc2b"> 3296</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> <a class="code hl_function" href="namespacev8_1_1internal_1_1wasm.html#a7cf9a93aa28382c93537bcf6db6acc2b">WasmToJSObject</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> value) {</div>
<div class="line"><a id="l03297" name="l03297"></a><span class="lineno"> 3297</span>  <span class="keywordflow">if</span> (IsWasmNull(*value)) {</div>
<div class="line"><a id="l03298" name="l03298"></a><span class="lineno"> 3298</span>    <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;null_value();</div>
<div class="line"><a id="l03299" name="l03299"></a><span class="lineno"> 3299</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsWasmFuncRef(*value)) {</div>
<div class="line"><a id="l03300" name="l03300"></a><span class="lineno"> 3300</span>    <span class="keywordflow">return</span> i::WasmInternalFunction::GetOrCreateExternal(<a class="code hl_function" href="namespacev8_1_1internal.html#a60f13a8c00d0433f9336368824ac21a1">i::direct_handle</a>(</div>
<div class="line"><a id="l03301" name="l03301"></a><span class="lineno"> 3301</span>        <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">i::Cast&lt;i::WasmFuncRef&gt;</a>(*value)-&gt;internal(isolate), isolate));</div>
<div class="line"><a id="l03302" name="l03302"></a><span class="lineno"> 3302</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03303" name="l03303"></a><span class="lineno"> 3303</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="value-mirror_8cc.html#a1ca88ee8dc0e8e51d60cf01ab8e8702a">value</a>;</div>
<div class="line"><a id="l03304" name="l03304"></a><span class="lineno"> 3304</span>  }</div>
<div class="line"><a id="l03305" name="l03305"></a><span class="lineno"> 3305</span>}</div>
</div>
<div class="line"><a id="l03306" name="l03306"></a><span class="lineno"> 3306</span> </div>
<div class="line"><a id="l03307" name="l03307"></a><span class="lineno"> 3307</span>}  <span class="comment">// namespace wasm</span></div>
<div class="line"><a id="l03308" name="l03308"></a><span class="lineno"> 3308</span> </div>
<div class="line"><a id="l03309" name="l03309"></a><span class="lineno"> 3309</span>}  <span class="comment">// namespace internal</span></div>
<div class="line"><a id="l03310" name="l03310"></a><span class="lineno"> 3310</span>}  <span class="comment">// namespace v8</span></div>
<div class="line"><a id="l03311" name="l03311"></a><span class="lineno"> 3311</span> </div>
<div class="line"><a id="l03312" name="l03312"></a><span class="lineno"> 3312</span><span class="preprocessor">#include &quot;<a class="code" href="object-macros-undef_8h.html">src/objects/object-macros-undef.h</a>&quot;</span></div>
<div class="line"><a id="l03313" name="l03313"></a><span class="lineno"> 3313</span><span class="preprocessor">#undef TRACE_IFT</span></div>
<div class="ttc" id="abuiltins-inl_8h_html"><div class="ttname"><a href="builtins-inl_8h.html">builtins-inl.h</a></div></div>
<div class="ttc" id="abuiltins_8cc_html_a34a6b28885d79bbc20d4110313cb28be"><div class="ttname"><a href="builtins_8cc.html#a34a6b28885d79bbc20d4110313cb28be">parameter_count</a></div><div class="ttdeci">int16_t parameter_count</div><div class="ttdef"><b>Definition</b> <a href="builtins_8cc_source.html#l00067">builtins.cc:67</a></div></div>
<div class="ttc" id="abuiltins_8cc_html_adc156a864d6037c4df1b276073ae7277"><div class="ttname"><a href="builtins_8cc.html#adc156a864d6037c4df1b276073ae7277">kind</a></div><div class="ttdeci">Builtins::Kind kind</div><div class="ttdef"><b>Definition</b> <a href="builtins_8cc_source.html#l00040">builtins.cc:40</a></div></div>
<div class="ttc" id="abuiltins_8h_html_af33bd0f259d8e6a511fd018115e0d62c"><div class="ttname"><a href="builtins_8h.html#af33bd0f259d8e6a511fd018115e0d62c">BUILTIN_CODE</a></div><div class="ttdeci">#define BUILTIN_CODE(isolate, name)</div><div class="ttdef"><b>Definition</b> <a href="builtins_8h_source.html#l00045">builtins.h:45</a></div></div>
<div class="ttc" id="acanonical-types_8h_html"><div class="ttname"><a href="canonical-types_8h.html">canonical-types.h</a></div></div>
<div class="ttc" id="acheck_8h_html_a0331d7a4dc5d6372d25e946af1f96588"><div class="ttname"><a href="check_8h.html#a0331d7a4dc5d6372d25e946af1f96588">SBXCHECK_LE</a></div><div class="ttdeci">#define SBXCHECK_LE(lhs, rhs)</div><div class="ttdef"><b>Definition</b> <a href="check_8h_source.html#l00066">check.h:66</a></div></div>
<div class="ttc" id="acheck_8h_html_a27bd9aa8e613a2123a446cd6bc973fdf"><div class="ttname"><a href="check_8h.html#a27bd9aa8e613a2123a446cd6bc973fdf">SBXCHECK_LT</a></div><div class="ttdeci">#define SBXCHECK_LT(lhs, rhs)</div><div class="ttdef"><b>Definition</b> <a href="check_8h_source.html#l00065">check.h:65</a></div></div>
<div class="ttc" id="acheck_8h_html_aa48820509053e4a2ad5061bae4fb9c40"><div class="ttname"><a href="check_8h.html#aa48820509053e4a2ad5061bae4fb9c40">SBXCHECK_BOUNDS</a></div><div class="ttdeci">#define SBXCHECK_BOUNDS(index, limit)</div><div class="ttdef"><b>Definition</b> <a href="check_8h_source.html#l00067">check.h:67</a></div></div>
<div class="ttc" id="acheck_8h_html_aec752d98ed7d655aa8ced64592c346d5"><div class="ttname"><a href="check_8h.html#aec752d98ed7d655aa8ced64592c346d5">SBXCHECK_GE</a></div><div class="ttdeci">#define SBXCHECK_GE(lhs, rhs)</div><div class="ttdef"><b>Definition</b> <a href="check_8h_source.html#l00064">check.h:64</a></div></div>
<div class="ttc" id="acheck_8h_html_aee78f6fbdf206be23e949191f9408e4b"><div class="ttname"><a href="check_8h.html#aee78f6fbdf206be23e949191f9408e4b">SBXCHECK</a></div><div class="ttdeci">#define SBXCHECK(condition)</div><div class="ttdef"><b>Definition</b> <a href="check_8h_source.html#l00060">check.h:60</a></div></div>
<div class="ttc" id="aclassunibrow_1_1Utf8_html_aa6e4ee521e61e597e3861e9cf77f73aa"><div class="ttname"><a href="classunibrow_1_1Utf8.html#aa6e4ee521e61e597e3861e9cf77f73aa">unibrow::Utf8::ValidateEncoding</a></div><div class="ttdeci">static bool ValidateEncoding(const uint8_t *str, size_t length)</div><div class="ttdef"><b>Definition</b> <a href="unicode_8cc_source.html#l00234">unicode.cc:234</a></div></div>
<div class="ttc" id="aclassv8_1_1Local_html"><div class="ttname"><a href="classv8_1_1Local.html">v8::Local</a></div><div class="ttdef"><b>Definition</b> <a href="v8-local-handle_8h_source.html#l00260">v8-local-handle.h:266</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmMemoryMapDescriptor_html_a063f4d747215f425345cb62da59469bc"><div class="ttname"><a href="classv8_1_1WasmMemoryMapDescriptor.html#a063f4d747215f425345cb62da59469bc">v8::WasmMemoryMapDescriptor::WasmFileDescriptor</a></div><div class="ttdeci">int32_t WasmFileDescriptor</div><div class="ttdef"><b>Definition</b> <a href="v8-wasm_8h_source.html#l00218">v8-wasm.h:218</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1BitField_html_a70718344d8a4df6c20b3cf9c9b14d0d4"><div class="ttname"><a href="classv8_1_1base_1_1BitField.html#a70718344d8a4df6c20b3cf9c9b14d0d4">v8::base::BitField::encode</a></div><div class="ttdeci">static constexpr U encode(T value)</div><div class="ttdef"><b>Definition</b> <a href="bit-field_8h_source.html#l00055">bit-field.h:55</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1EmbeddedVector_html"><div class="ttname"><a href="classv8_1_1base_1_1EmbeddedVector.html">v8::base::EmbeddedVector</a></div><div class="ttdef"><b>Definition</b> <a href="vector_8h_source.html#l00397">vector.h:397</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OwnedVector_html_a42ecef112e14110278466c7fa925ecbd"><div class="ttname"><a href="classv8_1_1base_1_1OwnedVector.html#a42ecef112e14110278466c7fa925ecbd">v8::base::OwnedVector::New</a></div><div class="ttdeci">static OwnedVector&lt; T &gt; New(size_t size)</div><div class="ttdef"><b>Definition</b> <a href="vector_8h_source.html#l00287">vector.h:287</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html">v8::base::Vector</a></div><div class="ttdef"><b>Definition</b> <a href="zone-list_8h_source.html#l00015">zone-list.h:15</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_a1eb4ed5d322a219428bdb9f9a2cb6708"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#a1eb4ed5d322a219428bdb9f9a2cb6708">v8::base::Vector::length</a></div><div class="ttdeci">int length() const</div><div class="ttdef"><b>Definition</b> <a href="vector_8h_source.html#l00064">vector.h:64</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_a2a7f93a33a4938bd73b628789f214d3d"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#a2a7f93a33a4938bd73b628789f214d3d">v8::base::Vector::SubVector</a></div><div class="ttdeci">Vector&lt; T &gt; SubVector(size_t from, size_t to) const</div><div class="ttdef"><b>Definition</b> <a href="vector_8h_source.html#l00041">vector.h:41</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_ad0021e2947c974d78adbbc1d543d43a5"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#ad0021e2947c974d78adbbc1d543d43a5">v8::base::Vector::begin</a></div><div class="ttdeci">constexpr T * begin() const</div><div class="ttdef"><b>Definition</b> <a href="vector_8h_source.html#l00096">vector.h:96</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_ae9beccd123505a6a33f09578a54ebe1d"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#ae9beccd123505a6a33f09578a54ebe1d">v8::base::Vector::cast</a></div><div class="ttdeci">static Vector&lt; T &gt; cast(Vector&lt; S &gt; input)</div><div class="ttdef"><b>Definition</b> <a href="vector_8h_source.html#l00157">vector.h:157</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1AccountingAllocator_html"><div class="ttname"><a href="classv8_1_1internal_1_1AccountingAllocator.html">v8::internal::AccountingAllocator</a></div><div class="ttdef"><b>Definition</b> <a href="accounting-allocator_8h_source.html#l00027">accounting-allocator.h:27</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1AsmWasmData_html_acc0ab9f86a21e107f090ac2725be47ce"><div class="ttname"><a href="classv8_1_1internal_1_1AsmWasmData.html#acc0ab9f86a21e107f090ac2725be47ce">v8::internal::AsmWasmData::New</a></div><div class="ttdeci">static Handle&lt; AsmWasmData &gt; New(Isolate *isolate, std::shared_ptr&lt; wasm::NativeModule &gt; native_module, DirectHandle&lt; HeapNumber &gt; uses_bitset)</div><div class="ttdef"><b>Definition</b> <a href="#l03050">wasm-objects.cc:3050</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1BigInt_html_a7df25eb1750797b26ce9588754f919c3"><div class="ttname"><a href="classv8_1_1internal_1_1BigInt.html#a7df25eb1750797b26ce9588754f919c3">v8::internal::BigInt::FromUint64</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Handle&lt; BigInt &gt; FromUint64(Isolate *isolate, uint64_t n)</div><div class="ttdef"><b>Definition</b> <a href="bigint_8cc_source.html#l01348">bigint.cc:1348</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Builtins_html_acebcaee6cb63c76d9b36678a3a375187"><div class="ttname"><a href="classv8_1_1internal_1_1Builtins.html#acebcaee6cb63c76d9b36678a3a375187">v8::internal::Builtins::EntryOf</a></div><div class="ttdeci">static Address EntryOf(Builtin builtin, Isolate *isolate)</div><div class="ttdef"><b>Definition</b> <a href="builtins-inl_8h_source.html#l00239">builtins-inl.h:239</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DirectHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1DirectHandle.html">v8::internal::DirectHandle</a></div><div class="ttdef"><b>Definition</b> <a href="handles_8h_source.html#l00643">handles.h:652</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DirectHandle_html_a06eb965863d4b0adb5aa7f70aba666e3"><div class="ttname"><a href="classv8_1_1internal_1_1DirectHandle.html#a06eb965863d4b0adb5aa7f70aba666e3">v8::internal::DirectHandle::is_null</a></div><div class="ttdeci">V8_INLINE bool is_null() const</div><div class="ttdef"><b>Definition</b> <a href="handles_8h_source.html#l00682">handles.h:682</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ExternalReference_html_aadf8c6aed72f2104bd107b194c7d86a8"><div class="ttname"><a href="classv8_1_1internal_1_1ExternalReference.html#aadf8c6aed72f2104bd107b194c7d86a8">v8::internal::ExternalReference::address</a></div><div class="ttdeci">V8_EXPORT_PRIVATE Address address() const</div><div class="ttdef"><b>Definition</b> <a href="external-reference_8cc_source.html#l00218">external-reference.cc:218</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ExternalReference_html_af4f8bd08709c2b99f51c5dea884e63af"><div class="ttname"><a href="classv8_1_1internal_1_1ExternalReference.html#af4f8bd08709c2b99f51c5dea884e63af">v8::internal::ExternalReference::Create</a></div><div class="ttdeci">static ExternalReference Create(const SCTableReference &amp;table_ref)</div><div class="ttdef"><b>Definition</b> <a href="external-reference_8cc_source.html#l00398">external-reference.cc:398</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FactoryBase_html_a0373b86900852e5f348f638a98a235d1"><div class="ttname"><a href="classv8_1_1internal_1_1FactoryBase.html#a0373b86900852e5f348f638a98a235d1">v8::internal::FactoryBase::NewStringFromOneByte</a></div><div class="ttdeci">MaybeHandle&lt; String &gt; NewStringFromOneByte(base::Vector&lt; const uint8_t &gt; string, AllocationType allocation=AllocationType::kYoung)</div><div class="ttdef"><b>Definition</b> <a href="factory-base_8cc_source.html#l00977">factory-base.cc:977</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_1_1JSFunctionBuilder_html"><div class="ttname"><a href="classv8_1_1internal_1_1Factory_1_1JSFunctionBuilder.html">v8::internal::Factory::JSFunctionBuilder</a></div><div class="ttdef"><b>Definition</b> <a href="factory_8h_source.html#l01090">factory.h:1090</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_1_1JSFunctionBuilder_html_a53ce4ec4edd1f63b0426f015493191ba"><div class="ttname"><a href="classv8_1_1internal_1_1Factory_1_1JSFunctionBuilder.html#a53ce4ec4edd1f63b0426f015493191ba">v8::internal::Factory::JSFunctionBuilder::set_map</a></div><div class="ttdeci">JSFunctionBuilder &amp; set_map(DirectHandle&lt; Map &gt; v)</div><div class="ttdef"><b>Definition</b> <a href="factory_8h_source.html#l01097">factory.h:1097</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_1_1JSFunctionBuilder_html_af23afe8cf5030bccbdd8fbdbb4a22b2b"><div class="ttname"><a href="classv8_1_1internal_1_1Factory_1_1JSFunctionBuilder.html#af23afe8cf5030bccbdd8fbdbb4a22b2b">v8::internal::Factory::JSFunctionBuilder::Build</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT Handle&lt; JSFunction &gt; Build()</div><div class="ttdef"><b>Definition</b> <a href="factory_8cc_source.html#l04692">factory.cc:4692</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_html"><div class="ttname"><a href="classv8_1_1internal_1_1Factory.html">v8::internal::Factory</a></div><div class="ttdef"><b>Definition</b> <a href="factory_8h_source.html#l00139">factory.h:139</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FixedAddressArrayBase_html_adf24e1e87fe52fe43e12be1a89b0c87c"><div class="ttname"><a href="classv8_1_1internal_1_1FixedAddressArrayBase.html#adf24e1e87fe52fe43e12be1a89b0c87c">v8::internal::FixedAddressArrayBase::New</a></div><div class="ttdeci">static Handle&lt; FixedAddressArrayBase &gt; New(Isolate *isolate, int length, MoreArgs &amp;&amp;... more_args)</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FixedIntegerArrayBase_html_ab977d693c069b16770327672f8a9ae8e"><div class="ttname"><a href="classv8_1_1internal_1_1FixedIntegerArrayBase.html#ab977d693c069b16770327672f8a9ae8e">v8::internal::FixedIntegerArrayBase::New</a></div><div class="ttdeci">static Handle&lt; FixedIntegerArrayBase&lt; T, Base &gt; &gt; New(Isolate *isolate, int length, MoreArgs &amp;&amp;... more_args)</div><div class="ttdef"><b>Definition</b> <a href="fixed-array-inl_8h_source.html#l00802">fixed-array-inl.h:802</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FunctionTargetAndImplicitArg_html_a1eb01dce7d0b92cf1d1a044289d9ab4b"><div class="ttname"><a href="classv8_1_1internal_1_1FunctionTargetAndImplicitArg.html#a1eb01dce7d0b92cf1d1a044289d9ab4b">v8::internal::FunctionTargetAndImplicitArg::implicit_arg_</a></div><div class="ttdeci">Handle&lt; TrustedObject &gt; implicit_arg_</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00091">wasm-objects.h:91</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FunctionTargetAndImplicitArg_html_ad0a026e552f339130d8ae3a8c9877c9b"><div class="ttname"><a href="classv8_1_1internal_1_1FunctionTargetAndImplicitArg.html#ad0a026e552f339130d8ae3a8c9877c9b">v8::internal::FunctionTargetAndImplicitArg::FunctionTargetAndImplicitArg</a></div><div class="ttdeci">FunctionTargetAndImplicitArg(Isolate *isolate, Handle&lt; WasmTrustedInstanceData &gt; target_instance_data, int target_func_index)</div><div class="ttdef"><b>Definition</b> <a href="#l01297">wasm-objects.cc:1297</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FunctionTargetAndImplicitArg_html_adabbd38fc203bd4d656ec7d18e175023"><div class="ttname"><a href="classv8_1_1internal_1_1FunctionTargetAndImplicitArg.html#adabbd38fc203bd4d656ec7d18e175023">v8::internal::FunctionTargetAndImplicitArg::call_target_</a></div><div class="ttdeci">WasmCodePointer call_target_</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00092">wasm-objects.h:92</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HandleBase_html_a5411bed6067b977537609842dbbefd16"><div class="ttname"><a href="classv8_1_1internal_1_1HandleBase.html#a5411bed6067b977537609842dbbefd16">v8::internal::HandleBase::is_identical_to</a></div><div class="ttdeci">V8_INLINE bool is_identical_to(const HandleBase &amp;that) const</div><div class="ttdef"><b>Definition</b> <a href="handles-inl_8h_source.html#l00034">handles-inl.h:34</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HandleScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1HandleScope.html">v8::internal::HandleScope</a></div><div class="ttdef"><b>Definition</b> <a href="handles_8h_source.html#l00258">handles.h:258</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Handle_html"><div class="ttname"><a href="classv8_1_1internal_1_1Handle.html">v8::internal::Handle</a></div><div class="ttdef"><b>Definition</b> <a href="handles_8h_source.html#l00145">handles.h:145</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapObject_html_a9c437b0e65275ce4ef93b51062e66cff"><div class="ttname"><a href="classv8_1_1internal_1_1HeapObject.html#a9c437b0e65275ce4ef93b51062e66cff">v8::internal::HeapObject::ReadField</a></div><div class="ttdeci">T ReadField(size_t offset) const</div><div class="ttdef"><b>Definition</b> <a href="heap-object_8h_source.html#l00237">heap-object.h:237</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapObject_html_ad440840079c8a6579ae7416dde0d8077"><div class="ttname"><a href="classv8_1_1internal_1_1HeapObject.html#ad440840079c8a6579ae7416dde0d8077">v8::internal::HeapObject::address</a></div><div class="ttdeci">Address address() const</div><div class="ttdef"><b>Definition</b> <a href="heap-object_8h_source.html#l00226">heap-object.h:226</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapObject_html_af03c1bedf6b6a77ceb3fefeb0957dbd7"><div class="ttname"><a href="classv8_1_1internal_1_1HeapObject.html#af03c1bedf6b6a77ceb3fefeb0957dbd7">v8::internal::HeapObject::WriteField</a></div><div class="ttdeci">void WriteField(size_t offset, T value) const</div><div class="ttdef"><b>Definition</b> <a href="heap-object_8h_source.html#l00245">heap-object.h:245</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ImportedFunctionEntry_html_a0dc369c8fad0c9c8e98af59d7165ddbc"><div class="ttname"><a href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a0dc369c8fad0c9c8e98af59d7165ddbc">v8::internal::ImportedFunctionEntry::callable</a></div><div class="ttdeci">Tagged&lt; JSReceiver &gt; callable()</div><div class="ttdef"><b>Definition</b> <a href="#l01431">wasm-objects.cc:1431</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ImportedFunctionEntry_html_a0e747f460892159f4f39aa81962d615a"><div class="ttname"><a href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a0e747f460892159f4f39aa81962d615a">v8::internal::ImportedFunctionEntry::target</a></div><div class="ttdeci">WasmCodePointer target()</div><div class="ttdef"><b>Definition</b> <a href="#l01439">wasm-objects.cc:1439</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ImportedFunctionEntry_html_a1c23f1b43dd3aaf0b10ed4a9eb758326"><div class="ttname"><a href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a1c23f1b43dd3aaf0b10ed4a9eb758326">v8::internal::ImportedFunctionEntry::index_</a></div><div class="ttdeci">int const index_</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00150">wasm-objects.h:150</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ImportedFunctionEntry_html_a3ecb46f6c98a2b4165b12fe0410cf1bc"><div class="ttname"><a href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a3ecb46f6c98a2b4165b12fe0410cf1bc">v8::internal::ImportedFunctionEntry::instance_data_</a></div><div class="ttdeci">Handle&lt; WasmTrustedInstanceData &gt; const instance_data_</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00149">wasm-objects.h:149</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ImportedFunctionEntry_html_a610c4666b44a3e3a5b45ed43b0e0baf2"><div class="ttname"><a href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a610c4666b44a3e3a5b45ed43b0e0baf2">v8::internal::ImportedFunctionEntry::implicit_arg</a></div><div class="ttdeci">Tagged&lt; Object &gt; implicit_arg()</div><div class="ttdef"><b>Definition</b> <a href="#l01435">wasm-objects.cc:1435</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ImportedFunctionEntry_html_a63021958628904891284066b5e414b8d"><div class="ttname"><a href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a63021958628904891284066b5e414b8d">v8::internal::ImportedFunctionEntry::maybe_callable</a></div><div class="ttdeci">Tagged&lt; Object &gt; maybe_callable()</div><div class="ttdef"><b>Definition</b> <a href="#l01425">wasm-objects.cc:1425</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ImportedFunctionEntry_html_a659986d11de2e64f193f2134a567a10e"><div class="ttname"><a href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a659986d11de2e64f193f2134a567a10e">v8::internal::ImportedFunctionEntry::SetCompiledWasmToJs</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void SetCompiledWasmToJs(Isolate *, DirectHandle&lt; JSReceiver &gt; callable, wasm::WasmCode *wasm_to_js_wrapper, wasm::Suspend suspend, const wasm::CanonicalSig *sig, wasm::CanonicalTypeIndex sig_id)</div><div class="ttdef"><b>Definition</b> <a href="#l01357">wasm-objects.cc:1357</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ImportedFunctionEntry_html_a6b3561e058d2843d33a3b8c297fbd50c"><div class="ttname"><a href="classv8_1_1internal_1_1ImportedFunctionEntry.html#a6b3561e058d2843d33a3b8c297fbd50c">v8::internal::ImportedFunctionEntry::SetGenericWasmToJs</a></div><div class="ttdeci">void SetGenericWasmToJs(Isolate *, DirectHandle&lt; JSReceiver &gt; callable, wasm::Suspend suspend, const wasm::CanonicalSig *sig, wasm::CanonicalTypeIndex sig_id)</div><div class="ttdef"><b>Definition</b> <a href="#l01324">wasm-objects.cc:1324</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ImportedFunctionEntry_html_aff58f12e21d41c7343027b995211e629"><div class="ttname"><a href="classv8_1_1internal_1_1ImportedFunctionEntry.html#aff58f12e21d41c7343027b995211e629">v8::internal::ImportedFunctionEntry::SetWasmToWasm</a></div><div class="ttdeci">void SetWasmToWasm(Tagged&lt; WasmTrustedInstanceData &gt; target_instance_object, WasmCodePointer call_target, wasm::CanonicalTypeIndex sig_id)</div><div class="ttdef"><b>Definition</b> <a href="#l01394">wasm-objects.cc:1394</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html">v8::internal::Isolate</a></div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l00575">isolate.h:575</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSArrayBuffer_html_a98d48c4b2a6e4e7d80037a26ed2de8ff"><div class="ttname"><a href="classv8_1_1internal_1_1JSArrayBuffer.html#a98d48c4b2a6e4e7d80037a26ed2de8ff">v8::internal::JSArrayBuffer::Detach</a></div><div class="ttdeci">V8_EXPORT_PRIVATE static V8_WARN_UNUSED_RESULT Maybe&lt; bool &gt; Detach(DirectHandle&lt; JSArrayBuffer &gt; buffer, bool force_for_wasm_memory=false, DirectHandle&lt; Object &gt; key={})</div><div class="ttdef"><b>Definition</b> <a href="js-array-buffer_8cc_source.html#l00115">js-array-buffer.cc:115</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSFunction_html_a0daec6428bc67855b84ea6c6d4c33c15"><div class="ttname"><a href="classv8_1_1internal_1_1JSFunction.html#a0daec6428bc67855b84ea6c6d4c33c15">v8::internal::JSFunction::context</a></div><div class="ttdeci">Tagged&lt; Context &gt; context()</div><div class="ttdef"><b>Definition</b> <a href="js-function-inl_8h_source.html#l00427">js-function-inl.h:427</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSFunction_html_a3b988f501486ef2d8d553bcbff31b6ca"><div class="ttname"><a href="classv8_1_1internal_1_1JSFunction.html#a3b988f501486ef2d8d553bcbff31b6ca">v8::internal::JSFunction::GetDebugName</a></div><div class="ttdeci">static Handle&lt; String &gt; GetDebugName(DirectHandle&lt; JSFunction &gt; function)</div><div class="ttdef"><b>Definition</b> <a href="js-function_8cc_source.html#l01325">js-function.cc:1325</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSReceiver_html_aba4a2cfb4946da1635ae2730b710ff00"><div class="ttname"><a href="classv8_1_1internal_1_1JSReceiver.html#aba4a2cfb4946da1635ae2730b710ff00">v8::internal::JSReceiver::GetProperty</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; Object &gt; GetProperty(Isolate *isolate, DirectHandle&lt; JSReceiver &gt; receiver, const char *key)</div><div class="ttdef"><b>Definition</b> <a href="js-objects-inl_8h_source.html#l00121">js-objects-inl.h:121</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Managed_html"><div class="ttname"><a href="classv8_1_1internal_1_1Managed.html">v8::internal::Managed</a></div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00067">wasm-objects.h:67</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Managed_html_a1c10cb948281b864db32d8af25a7b7d9"><div class="ttname"><a href="classv8_1_1internal_1_1Managed.html#a1c10cb948281b864db32d8af25a7b7d9">v8::internal::Managed::From</a></div><div class="ttdeci">static DirectHandle&lt; Managed&lt; CppType &gt; &gt; From(Isolate *isolate, size_t estimated_size, std::shared_ptr&lt; CppType &gt; shared_ptr, AllocationType allocation_type=AllocationType::kYoung)</div><div class="ttdef"><b>Definition</b> <a href="managed-inl_8h_source.html#l00025">managed-inl.h:25</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeDirectHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeDirectHandle.html">v8::internal::MaybeDirectHandle</a></div><div class="ttdef"><b>Definition</b> <a href="maybe-handles_8h_source.html#l00239">maybe-handles.h:239</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeDirectHandle_html_a76857e813e1bdb19bbb3cbbfad729f1c"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeDirectHandle.html#a76857e813e1bdb19bbb3cbbfad729f1c">v8::internal::MaybeDirectHandle::ToHandle</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT V8_INLINE bool ToHandle(DirectHandle&lt; S &gt; *out) const</div><div class="ttdef"><b>Definition</b> <a href="maybe-handles_8h_source.html#l00275">maybe-handles.h:275</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeDirectHandle_html_afa6049503b1adca49361abb0c6f2b46d"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeDirectHandle.html#afa6049503b1adca49361abb0c6f2b46d">v8::internal::MaybeDirectHandle::is_null</a></div><div class="ttdeci">V8_INLINE bool is_null() const</div><div class="ttdef"><b>Definition</b> <a href="maybe-handles_8h_source.html#l00279">maybe-handles.h:279</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeHandle.html">v8::internal::MaybeHandle</a></div><div class="ttdef"><b>Definition</b> <a href="maybe-handles_8h_source.html#l00028">maybe-handles.h:28</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeObjectDirectHandle_html_af39f668bdaaf25432eb7cdbc4066f4d6"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeObjectDirectHandle.html#af39f668bdaaf25432eb7cdbc4066f4d6">v8::internal::MaybeObjectDirectHandle::Weak</a></div><div class="ttdeci">static MaybeObjectDirectHandle Weak(Tagged&lt; Object &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition</b> <a href="maybe-handles-inl_8h_source.html#l00263">maybe-handles-inl.h:263</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Object_html_a2e8108d7b7d2b826ab90a71b20be7a9d"><div class="ttname"><a href="classv8_1_1internal_1_1Object.html#a2e8108d7b7d2b826ab90a71b20be7a9d">v8::internal::Object::SetProperty</a></div><div class="ttdeci">V8_EXPORT_PRIVATE static V8_WARN_UNUSED_RESULT Maybe&lt; bool &gt; SetProperty(LookupIterator *it, DirectHandle&lt; Object &gt; value, StoreOrigin store_origin, Maybe&lt; ShouldThrow &gt; should_throw=Nothing&lt; ShouldThrow &gt;())</div><div class="ttdef"><b>Definition</b> <a href="objects_8cc_source.html#l02436">objects.cc:2436</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PerThreadAssertScopeEmpty_html"><div class="ttname"><a href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">v8::internal::PerThreadAssertScopeEmpty&lt; kAllow, kTypes... &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PodArray_html_a3f28a70fe5af7c7d45ec1d89d2afe748"><div class="ttname"><a href="classv8_1_1internal_1_1PodArray.html#a3f28a70fe5af7c7d45ec1d89d2afe748">v8::internal::PodArray::New</a></div><div class="ttdeci">static Handle&lt; PodArray&lt; T &gt; &gt; New(Isolate *isolate, int length, AllocationType allocation=AllocationType::kYoung)</div><div class="ttdef"><b>Definition</b> <a href="fixed-array-inl_8h_source.html#l00857">fixed-array-inl.h:857</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ReadOnlyRoots_html"><div class="ttname"><a href="classv8_1_1internal_1_1ReadOnlyRoots.html">v8::internal::ReadOnlyRoots</a></div><div class="ttdef"><b>Definition</b> <a href="roots_8h_source.html#l00699">roots.h:699</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Signature_html"><div class="ttname"><a href="classv8_1_1internal_1_1Signature.html">v8::internal::Signature&lt; ValueType &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Smi_html_a755464f4d2c3a71ffd82cd474bbc50f3"><div class="ttname"><a href="classv8_1_1internal_1_1Smi.html#a755464f4d2c3a71ffd82cd474bbc50f3">v8::internal::Smi::FromInt</a></div><div class="ttdeci">static constexpr Tagged&lt; Smi &gt; FromInt(int value)</div><div class="ttdef"><b>Definition</b> <a href="smi_8h_source.html#l00038">smi.h:38</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Smi_html_ae2be3083c9562dbe7c4bc39337bbe831"><div class="ttname"><a href="classv8_1_1internal_1_1Smi.html#ae2be3083c9562dbe7c4bc39337bbe831">v8::internal::Smi::zero</a></div><div class="ttdeci">static constexpr Tagged&lt; Smi &gt; zero()</div><div class="ttdef"><b>Definition</b> <a href="smi_8h_source.html#l00099">smi.h:99</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_a21049fc49218b6cf593fc03fabf42656"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#a21049fc49218b6cf593fc03fabf42656">v8::internal::String::Flatten</a></div><div class="ttdeci">static V8_INLINE HandleType&lt; String &gt; Flatten(Isolate *isolate, HandleType&lt; T &gt; string, AllocationType allocation=AllocationType::kYoung)</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TaggedField_html"><div class="ttname"><a href="classv8_1_1internal_1_1TaggedField.html">v8::internal::TaggedField</a></div><div class="ttdef"><b>Definition</b> <a href="tagged-field_8h_source.html#l00175">tagged-field.h:175</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TaggedField_html_a8d902c25d47df2b4fa0e50d189bbc705"><div class="ttname"><a href="classv8_1_1internal_1_1TaggedField.html#a8d902c25d47df2b4fa0e50d189bbc705">v8::internal::TaggedField::store</a></div><div class="ttdeci">static void store(Tagged&lt; HeapObject &gt; host, PtrType value)</div><div class="ttdef"><b>Definition</b> <a href="tagged-field-inl_8h_source.html#l00231">tagged-field-inl.h:231</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TaggedImpl_html_a04c1b715ba67f397a5a6607d054d9c4c"><div class="ttname"><a href="classv8_1_1internal_1_1TaggedImpl.html#a04c1b715ba67f397a5a6607d054d9c4c">v8::internal::TaggedImpl::ptr</a></div><div class="ttdeci">V8_INLINE constexpr StorageType ptr() const</div><div class="ttdef"><b>Definition</b> <a href="tagged-impl_8h_source.html#l00114">tagged-impl.h:114</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TaggedImpl_html_a5d84dde6d0c8149b4560d7c79cf8f1a3"><div class="ttname"><a href="classv8_1_1internal_1_1TaggedImpl.html#a5d84dde6d0c8149b4560d7c79cf8f1a3">v8::internal::TaggedImpl::IsCleared</a></div><div class="ttdeci">constexpr bool IsCleared() const</div><div class="ttdef"><b>Definition</b> <a href="tagged-impl_8h_source.html#l00129">tagged-impl.h:129</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TaggedImpl_html_ac581f955a852851b751735177af20efa"><div class="ttname"><a href="classv8_1_1internal_1_1TaggedImpl.html#ac581f955a852851b751735177af20efa">v8::internal::TaggedImpl&lt; HeapObjectReferenceType::STRONG, Address &gt;::IsSmi</a></div><div class="ttdeci">constexpr bool IsSmi() const</div><div class="ttdef"><b>Definition</b> <a href="tagged-impl_8h_source.html#l00121">tagged-impl.h:121</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TaggedImpl_html_ad30270db72c80341abd40ca560eb3632"><div class="ttname"><a href="classv8_1_1internal_1_1TaggedImpl.html#ad30270db72c80341abd40ca560eb3632">v8::internal::TaggedImpl::IsWeakOrCleared</a></div><div class="ttdeci">constexpr bool IsWeakOrCleared() const</div><div class="ttdef"><b>Definition</b> <a href="tagged-impl_8h_source.html#l00159">tagged-impl.h:159</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TaggedImpl_html_af954049cb1526fdcdff6faad97f5fbac"><div class="ttname"><a href="classv8_1_1internal_1_1TaggedImpl.html#af954049cb1526fdcdff6faad97f5fbac">v8::internal::TaggedImpl::GetHeapObjectAssumeWeak</a></div><div class="ttdeci">Tagged&lt; HeapObject &gt; GetHeapObjectAssumeWeak() const</div><div class="ttdef"><b>Definition</b> <a href="tagged-impl-inl_8h_source.html#l00188">tagged-impl-inl.h:188</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_html"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged.html">v8::internal::Tagged</a></div><div class="ttdef"><b>Definition</b> <a href="waiter-queue-node_8h_source.html#l00022">waiter-queue-node.h:22</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TrustedManaged_html_a31607218c064dc615cd88ad1ec00f0f5"><div class="ttname"><a href="classv8_1_1internal_1_1TrustedManaged.html#a31607218c064dc615cd88ad1ec00f0f5">v8::internal::TrustedManaged::From</a></div><div class="ttdeci">static DirectHandle&lt; TrustedManaged&lt; CppType &gt; &gt; From(Isolate *isolate, size_t estimated_size, std::shared_ptr&lt; CppType &gt; shared_ptr)</div><div class="ttdef"><b>Definition</b> <a href="managed-inl_8h_source.html#l00050">managed-inl.h:50</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TrustedObject_html_a3e0789f0ae71c63b4b841bc64154093d"><div class="ttname"><a href="classv8_1_1internal_1_1TrustedObject.html#a3e0789f0ae71c63b4b841bc64154093d">v8::internal::TrustedObject::ClearProtectedPointerField</a></div><div class="ttdeci">void ClearProtectedPointerField(int offset)</div><div class="ttdef"><b>Definition</b> <a href="trusted-object-inl_8h_source.html#l00058">trusted-object-inl.h:58</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TrustedObject_html_a839a65b36476a066b6053d45f18c2ecb"><div class="ttname"><a href="classv8_1_1internal_1_1TrustedObject.html#a839a65b36476a066b6053d45f18c2ecb">v8::internal::TrustedObject::WriteProtectedPointerField</a></div><div class="ttdeci">void WriteProtectedPointerField(int offset, Tagged&lt; TrustedObject &gt; value)</div><div class="ttdef"><b>Definition</b> <a href="trusted-object-inl_8h_source.html#l00034">trusted-object-inl.h:34</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmArray_html_a083bf7dcc3db8f7422ff53b33261af95"><div class="ttname"><a href="classv8_1_1internal_1_1WasmArray.html#a083bf7dcc3db8f7422ff53b33261af95">v8::internal::WasmArray::GetElement</a></div><div class="ttdeci">V8_EXPORT_PRIVATE wasm::WasmValue GetElement(uint32_t index)</div><div class="ttdef"><b>Definition</b> <a href="#l02019">wasm-objects.cc:2019</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmArray_html_a3cb945dc26102a0b75d0f7fe0d33f5f7"><div class="ttname"><a href="classv8_1_1internal_1_1WasmArray.html#a3cb945dc26102a0b75d0f7fe0d33f5f7">v8::internal::WasmArray::element_offset</a></div><div class="ttdeci">uint32_t element_offset(uint32_t index)</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00797">wasm-objects-inl.h:797</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmArray_html_a40b023f6ad782775f32009f324a26217"><div class="ttname"><a href="classv8_1_1internal_1_1WasmArray.html#a40b023f6ad782775f32009f324a26217">v8::internal::WasmArray::SetTaggedElement</a></div><div class="ttdeci">void SetTaggedElement(uint32_t index, DirectHandle&lt; Object &gt; value, WriteBarrierMode mode=UPDATE_WRITE_BARRIER)</div><div class="ttdef"><b>Definition</b> <a href="#l02049">wasm-objects.cc:2049</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmArray_html_ad2d8ac966ea5c9b1eb0ca49766c0457c"><div class="ttname"><a href="classv8_1_1internal_1_1WasmArray.html#ad2d8ac966ea5c9b1eb0ca49766c0457c">v8::internal::WasmArray::module</a></div><div class="ttdeci">const wasm::WasmModule * module()</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00787">wasm-objects-inl.h:787</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmArray_html_aee007fc9f1f96a0f2f2029f8ef0842a3"><div class="ttname"><a href="classv8_1_1internal_1_1WasmArray.html#aee007fc9f1f96a0f2f2029f8ef0842a3">v8::internal::WasmArray::type</a></div><div class="ttdeci">wasm::ArrayType * type() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00785">wasm-objects-inl.h:785</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmCapiFunction_html_a303283aba317fedb0d548295dd9f3a2d"><div class="ttname"><a href="classv8_1_1internal_1_1WasmCapiFunction.html#a303283aba317fedb0d548295dd9f3a2d">v8::internal::WasmCapiFunction::sig</a></div><div class="ttdeci">const wasm::CanonicalSig * sig() const</div><div class="ttdef"><b>Definition</b> <a href="#l02095">wasm-objects.cc:2095</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmCapiFunction_html_a62930ad9bbbf2736e47ad0b607ee0c83"><div class="ttname"><a href="classv8_1_1internal_1_1WasmCapiFunction.html#a62930ad9bbbf2736e47ad0b607ee0c83">v8::internal::WasmCapiFunction::IsWasmCapiFunction</a></div><div class="ttdeci">static bool IsWasmCapiFunction(Tagged&lt; Object &gt; object)</div><div class="ttdef"><b>Definition</b> <a href="#l02670">wasm-objects.cc:2670</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmCapiFunction_html_aa65370f2fd8cec8f4042ab5b2fa79b7a"><div class="ttname"><a href="classv8_1_1internal_1_1WasmCapiFunction.html#aa65370f2fd8cec8f4042ab5b2fa79b7a">v8::internal::WasmCapiFunction::MatchesSignature</a></div><div class="ttdeci">bool MatchesSignature(wasm::CanonicalTypeIndex other_canonical_sig_index) const</div><div class="ttdef"><b>Definition</b> <a href="#l02464">wasm-objects.cc:2464</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmCapiFunction_html_af321cd46291d32293eb5bb26264e0b7b"><div class="ttname"><a href="classv8_1_1internal_1_1WasmCapiFunction.html#af321cd46291d32293eb5bb26264e0b7b">v8::internal::WasmCapiFunction::New</a></div><div class="ttdeci">static Handle&lt; WasmCapiFunction &gt; New(Isolate *isolate, Address call_target, DirectHandle&lt; Foreign &gt; embedder_data, wasm::CanonicalTypeIndex sig_index, const wasm::CanonicalSig *sig)</div><div class="ttdef"><b>Definition</b> <a href="#l02683">wasm-objects.cc:2683</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmCodePointer_html"><div class="ttname"><a href="classv8_1_1internal_1_1WasmCodePointer.html">v8::internal::WasmCodePointer</a></div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l02798">globals.h:2798</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmCodePointer_html_aa08af187eb29ca018162901c0d47183b"><div class="ttname"><a href="classv8_1_1internal_1_1WasmCodePointer.html#aa08af187eb29ca018162901c0d47183b">v8::internal::WasmCodePointer::value</a></div><div class="ttdeci">uint32_t value() const</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l02803">globals.h:2803</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmContinuationObject_html_a54ce7d740362e8bf3be5125634f22f7c"><div class="ttname"><a href="classv8_1_1internal_1_1WasmContinuationObject.html#a54ce7d740362e8bf3be5125634f22f7c">v8::internal::WasmContinuationObject::New</a></div><div class="ttdeci">static Handle&lt; WasmContinuationObject &gt; New(Isolate *isolate, wasm::StackMemory *stack, wasm::JumpBuffer::StackState state, AllocationType allocation_type=AllocationType::kYoung)</div><div class="ttdef"><b>Definition</b> <a href="#l02588">wasm-objects.cc:2588</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTableData_html_a137a2ae43ed2633fad5b10003c95771f"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTableData.html#a137a2ae43ed2633fad5b10003c95771f">v8::internal::WasmDispatchTableData::wrappers_</a></div><div class="ttdeci">std::unordered_map&lt; int, WrapperEntry &gt; wrappers_</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00757">wasm-objects.h:757</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTableData_html_a45a43707acc5751fdf77a35b570d5ce8"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTableData.html#a45a43707acc5751fdf77a35b570d5ce8">v8::internal::WasmDispatchTableData::~WasmDispatchTableData</a></div><div class="ttdeci">~WasmDispatchTableData()</div><div class="ttdef"><b>Definition</b> <a href="#l02112">wasm-objects.cc:2112</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTableData_html_a975fcfc54044aa2aabae5312ee395780"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTableData.html#a975fcfc54044aa2aabae5312ee395780">v8::internal::WasmDispatchTableData::Remove</a></div><div class="ttdeci">void Remove(int index, WasmCodePointer call_target)</div><div class="ttdef"><b>Definition</b> <a href="#l02153">wasm-objects.cc:2153</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTableData_html_ac3ad720c689f7db24f6edfc50a834639"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTableData.html#ac3ad720c689f7db24f6edfc50a834639">v8::internal::WasmDispatchTableData::IsAWrapper</a></div><div class="ttdeci">V8_EXPORT_PRIVATE bool IsAWrapper(int index) const</div><div class="ttdef"><b>Definition</b> <a href="#l02108">wasm-objects.cc:2108</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTableData_html_ad69f84a898f2ff0d90c17146f0db66f0"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTableData.html#ad69f84a898f2ff0d90c17146f0db66f0">v8::internal::WasmDispatchTableData::Add</a></div><div class="ttdeci">WasmCodePointer Add(int index, Address call_target, wasm::WasmCode *compiled_wrapper, uint64_t signature_hash)</div><div class="ttdef"><b>Definition</b> <a href="#l02122">wasm-objects.cc:2122</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTable_html_a077547a040fefbe67a9a443a4c4431bb"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTable.html#a077547a040fefbe67a9a443a4c4431bb">v8::internal::WasmDispatchTable::Clear</a></div><div class="ttdeci">void Clear(int index, NewOrExistingEntry new_or_existing)</div><div class="ttdef"><b>Definition</b> <a href="#l02256">wasm-objects.cc:2256</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTable_html_a101af281a2591cf1af90baa9491805b8"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTable.html#a101af281a2591cf1af90baa9491805b8">v8::internal::WasmDispatchTable::capacity</a></div><div class="ttdeci">int capacity() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00374">wasm-objects-inl.h:374</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTable_html_a1b90f33e89bf3bcee0fb69f1dd86f461"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTable.html#a1b90f33e89bf3bcee0fb69f1dd86f461">v8::internal::WasmDispatchTable::kMaxLength</a></div><div class="ttdeci">static constexpr int kMaxLength</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00816">wasm-objects.h:816</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTable_html_a21e6f366c276cd435de54841571be9d8"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTable.html#a21e6f366c276cd435de54841571be9d8">v8::internal::WasmDispatchTable::length</a></div><div class="ttdeci">int length() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00372">wasm-objects-inl.h:372</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTable_html_a314022f946807455f717c44b258d5f33"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTable.html#a314022f946807455f717c44b258d5f33">v8::internal::WasmDispatchTable::IsAWrapper</a></div><div class="ttdeci">bool V8_EXPORT_PRIVATE IsAWrapper(int index) const</div><div class="ttdef"><b>Definition</b> <a href="#l02287">wasm-objects.cc:2287</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTable_html_a3e4e2907cbc69176e0725dd18f3dca97"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTable.html#a3e4e2907cbc69176e0725dd18f3dca97">v8::internal::WasmDispatchTable::kTargetBias</a></div><div class="ttdeci">static constexpr size_t kTargetBias</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00791">wasm-objects.h:791</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTable_html_a606951caaeebcb52a1e259321938672a"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTable.html#a606951caaeebcb52a1e259321938672a">v8::internal::WasmDispatchTable::SetForNonWrapper</a></div><div class="ttdeci">void V8_EXPORT_PRIVATE SetForNonWrapper(int index, Tagged&lt; Object &gt; implicit_arg, WasmCodePointer call_target, wasm::CanonicalTypeIndex sig_id, NewOrExistingEntry new_or_existing)</div><div class="ttdef"><b>Definition</b> <a href="#l02173">wasm-objects.cc:2173</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTable_html_a7dc6e7ebbb76782d6d3232ffea5edaf7"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTable.html#a7dc6e7ebbb76782d6d3232ffea5edaf7">v8::internal::WasmDispatchTable::kSigBias</a></div><div class="ttdeci">static constexpr size_t kSigBias</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00798">wasm-objects.h:798</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTable_html_a865e5bfc2f812c54e4b6d38c64ad6ac8"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTable.html#a865e5bfc2f812c54e4b6d38c64ad6ac8">v8::internal::WasmDispatchTable::AddUse</a></div><div class="ttdeci">static void V8_EXPORT_PRIVATE AddUse(Isolate *isolate, DirectHandle&lt; WasmDispatchTable &gt; dispatch_table, DirectHandle&lt; WasmTrustedInstanceData &gt; instance, int table_index)</div><div class="ttdef"><b>Definition</b> <a href="#l02292">wasm-objects.cc:2292</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTable_html_aac23a57676a6c819173dd81a2ecc7eaa"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTable.html#aac23a57676a6c819173dd81a2ecc7eaa">v8::internal::WasmDispatchTable::kImplicitArgBias</a></div><div class="ttdeci">static constexpr size_t kImplicitArgBias</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00797">wasm-objects.h:797</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTable_html_ac4957a8eba2e99f7ecffdb2d4d15ceee"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTable.html#ac4957a8eba2e99f7ecffdb2d4d15ceee">v8::internal::WasmDispatchTable::Grow</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT Handle&lt; WasmDispatchTable &gt; Grow(Isolate *, Handle&lt; WasmDispatchTable &gt;, uint32_t new_length)</div><div class="ttdef"><b>Definition</b> <a href="#l02364">wasm-objects.cc:2364</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTable_html_ad1ad1647c93a971226e24d85ed741da5"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTable.html#ad1ad1647c93a971226e24d85ed741da5">v8::internal::WasmDispatchTable::NewOrExistingEntry</a></div><div class="ttdeci">NewOrExistingEntry</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00769">wasm-objects.h:769</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTable_html_ad1ad1647c93a971226e24d85ed741da5a9f2f50b3fefb9ec17a7654a289287866"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTable.html#ad1ad1647c93a971226e24d85ed741da5a9f2f50b3fefb9ec17a7654a289287866">v8::internal::WasmDispatchTable::kNewEntry</a></div><div class="ttdeci">@ kNewEntry</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00769">wasm-objects.h:769</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTable_html_ad1ad1647c93a971226e24d85ed741da5ae94e8b46dc9495b2683216119d41f6be"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTable.html#ad1ad1647c93a971226e24d85ed741da5ae94e8b46dc9495b2683216119d41f6be">v8::internal::WasmDispatchTable::kExistingEntry</a></div><div class="ttdeci">@ kExistingEntry</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00769">wasm-objects.h:769</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTable_html_ad5b945965b06922104d72a6208c14c11"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTable.html#ad5b945965b06922104d72a6208c14c11">v8::internal::WasmDispatchTable::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE V8_WARN_UNUSED_RESULT Handle&lt; WasmDispatchTable &gt; New(Isolate *isolate, int length, wasm::CanonicalValueType table_type)</div><div class="ttdef"><b>Definition</b> <a href="#l02358">wasm-objects.cc:2358</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTable_html_adb64eac40ae89f9acaae1409ca56e65a"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTable.html#adb64eac40ae89f9acaae1409ca56e65a">v8::internal::WasmDispatchTable::kLengthOffset</a></div><div class="ttdeci">static constexpr size_t kLengthOffset</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00773">wasm-objects.h:773</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTable_html_af437b7b8769bf876b5e14f8180933177"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTable.html#af437b7b8769bf876b5e14f8180933177">v8::internal::WasmDispatchTable::SetForWrapper</a></div><div class="ttdeci">void V8_EXPORT_PRIVATE SetForWrapper(int index, Tagged&lt; Object &gt; implicit_arg, Address call_target, wasm::CanonicalTypeIndex sig_id, uint64_t signature_hash, wasm::WasmCode *compiled_wrapper, NewOrExistingEntry new_or_existing)</div><div class="ttdef"><b>Definition</b> <a href="#l02214">wasm-objects.cc:2214</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTable_html_af57144d54ea98150a598940d4a4729bb"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTable.html#af57144d54ea98150a598940d4a4729bb">v8::internal::WasmDispatchTable::implicit_arg</a></div><div class="ttdeci">Tagged&lt; Object &gt; implicit_arg(int index) const</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00378">wasm-objects-inl.h:378</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTable_html_af7dac59bb8e83c542a078d6a63e33979"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTable.html#af7dac59bb8e83c542a078d6a63e33979">v8::internal::WasmDispatchTable::MaybeGrowUsesList</a></div><div class="ttdeci">static Tagged&lt; ProtectedWeakFixedArray &gt; MaybeGrowUsesList(Isolate *isolate, DirectHandle&lt; WasmDispatchTable &gt; dispatch_table)</div><div class="ttdef"><b>Definition</b> <a href="#l02305">wasm-objects.cc:2305</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTable_html_af8d5186e08cba71e65fffc73ae894933"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTable.html#af8d5186e08cba71e65fffc73ae894933">v8::internal::WasmDispatchTable::InstallCompiledWrapper</a></div><div class="ttdeci">void InstallCompiledWrapper(int index, wasm::WasmCode *wrapper)</div><div class="ttdef"><b>Definition</b> <a href="#l02273">wasm-objects.cc:2273</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDispatchTable_html_afe90b842432164928401d05f5fff3a8a"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDispatchTable.html#afe90b842432164928401d05f5fff3a8a">v8::internal::WasmDispatchTable::OffsetOf</a></div><div class="ttdeci">static constexpr int OffsetOf(int index)</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00823">wasm-objects.h:823</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExceptionPackage_html_a61f7d7bb1cb3190ec15d32d5873f7204"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExceptionPackage.html#a61f7d7bb1cb3190ec15d32d5873f7204">v8::internal::WasmExceptionPackage::GetExceptionValues</a></div><div class="ttdeci">static Handle&lt; Object &gt; GetExceptionValues(Isolate *isolate, DirectHandle&lt; WasmExceptionPackage &gt; exception_package)</div><div class="ttdef"><b>Definition</b> <a href="#l02509">wasm-objects.cc:2509</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExceptionPackage_html_a833f9e80776b90dc91b14074accc7588"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExceptionPackage.html#a833f9e80776b90dc91b14074accc7588">v8::internal::WasmExceptionPackage::GetExceptionTag</a></div><div class="ttdeci">static Handle&lt; Object &gt; GetExceptionTag(Isolate *isolate, DirectHandle&lt; WasmExceptionPackage &gt; exception_package)</div><div class="ttdef"><b>Definition</b> <a href="#l02497">wasm-objects.cc:2497</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExceptionPackage_html_a901140e9a9c45a88becc726525c5e51fadfaf00fe3bca39744c0eaf6637917b71"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExceptionPackage.html#a901140e9a9c45a88becc726525c5e51fadfaf00fe3bca39744c0eaf6637917b71">v8::internal::WasmExceptionPackage::kValuesIndex</a></div><div class="ttdeci">@ kValuesIndex</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00936">wasm-objects.h:936</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExceptionPackage_html_a901140e9a9c45a88becc726525c5e51faed5075d6670bcb3fbea0070f8a69fb27"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExceptionPackage.html#a901140e9a9c45a88becc726525c5e51faed5075d6670bcb3fbea0070f8a69fb27">v8::internal::WasmExceptionPackage::kTagIndex</a></div><div class="ttdeci">@ kTagIndex</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00936">wasm-objects.h:936</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExceptionPackage_html_a932f3378b7a526a7233f8264f5faa3b3"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExceptionPackage.html#a932f3378b7a526a7233f8264f5faa3b3">v8::internal::WasmExceptionPackage::GetEncodedSize</a></div><div class="ttdeci">static uint32_t GetEncodedSize(const wasm::WasmTagSig *tag)</div><div class="ttdef"><b>Definition</b> <a href="#l02618">wasm-objects.cc:2618</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExceptionPackage_html_aa07b9bf8e6d69fd27a9158f8dbb5b83d"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExceptionPackage.html#aa07b9bf8e6d69fd27a9158f8dbb5b83d">v8::internal::WasmExceptionPackage::New</a></div><div class="ttdeci">static Handle&lt; WasmExceptionPackage &gt; New(Isolate *isolate, DirectHandle&lt; WasmExceptionTag &gt; exception_tag, int encoded_size)</div><div class="ttdef"><b>Definition</b> <a href="#l02479">wasm-objects.cc:2479</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExceptionTag_html_a74526904eef4614a890d80f1f43119e4"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExceptionTag.html#a74526904eef4614a890d80f1f43119e4">v8::internal::WasmExceptionTag::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Handle&lt; WasmExceptionTag &gt; New(Isolate *isolate, int index)</div><div class="ttdef"><b>Definition</b> <a href="#l03043">wasm-objects.cc:3043</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExportedFunctionData_html_a61d4218f4ec2d1c304c144d07011bfb3"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExportedFunctionData.html#a61d4218f4ec2d1c304c144d07011bfb3">v8::internal::WasmExportedFunctionData::sig_index</a></div><div class="ttdeci">wasm::CanonicalTypeIndex sig_index() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00478">wasm-objects-inl.h:478</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExportedFunctionData_html_aafe79a7d521f191a2e276e90ab8e92be"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExportedFunctionData.html#aafe79a7d521f191a2e276e90ab8e92be">v8::internal::WasmExportedFunctionData::MatchesSignature</a></div><div class="ttdeci">bool MatchesSignature(wasm::CanonicalTypeIndex other_canonical_sig_index)</div><div class="ttdef"><b>Definition</b> <a href="#l02808">wasm-objects.cc:2808</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExportedFunction_html_a1185042522e2a2bf4f029417bb5dcf3c"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExportedFunction.html#a1185042522e2a2bf4f029417bb5dcf3c">v8::internal::WasmExportedFunction::GetDebugName</a></div><div class="ttdeci">static std::unique_ptr&lt; char[]&gt; GetDebugName(const wasm::CanonicalSig *sig)</div><div class="ttdef"><b>Definition</b> <a href="#l02815">wasm-objects.cc:2815</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExportedFunction_html_a89d14615aeb9e6fdd2017315fe60d0ef"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExportedFunction.html#a89d14615aeb9e6fdd2017315fe60d0ef">v8::internal::WasmExportedFunction::IsWasmExportedFunction</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE bool IsWasmExportedFunction(Tagged&lt; Object &gt; object)</div><div class="ttdef"><b>Definition</b> <a href="#l02653">wasm-objects.cc:2653</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExportedFunction_html_aba073d48c8e2520f56b42b2b0621ee9b"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExportedFunction.html#aba073d48c8e2520f56b42b2b0621ee9b">v8::internal::WasmExportedFunction::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Handle&lt; WasmExportedFunction &gt; New(Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; instance_data, DirectHandle&lt; WasmFuncRef &gt; func_ref, DirectHandle&lt; WasmInternalFunction &gt; internal_function, int arity, DirectHandle&lt; Code &gt; export_wrapper)</div><div class="ttdef"><b>Definition</b> <a href="#l02708">wasm-objects.cc:2708</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExternalFunction_html_ac2a96212bef554982c768f1c04f72d20"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExternalFunction.html#ac2a96212bef554982c768f1c04f72d20">v8::internal::WasmExternalFunction::IsWasmExternalFunction</a></div><div class="ttdeci">static bool IsWasmExternalFunction(Tagged&lt; Object &gt; object)</div><div class="ttdef"><b>Definition</b> <a href="#l03037">wasm-objects.cc:3037</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmGlobalObject_html_a9edfe9ec8d5743bb3ca664cfdb54dad8"><div class="ttname"><a href="classv8_1_1internal_1_1WasmGlobalObject.html#a9edfe9ec8d5743bb3ca664cfdb54dad8">v8::internal::WasmGlobalObject::type_size</a></div><div class="ttdeci">int type_size() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00130">wasm-objects-inl.h:130</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmGlobalObject_html_aef33c1c2cc823fda9541eb8843e35171"><div class="ttname"><a href="classv8_1_1internal_1_1WasmGlobalObject.html#aef33c1c2cc823fda9541eb8843e35171">v8::internal::WasmGlobalObject::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE MaybeHandle&lt; WasmGlobalObject &gt; New(Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; instance_object, MaybeDirectHandle&lt; JSArrayBuffer &gt; maybe_untagged_buffer, MaybeDirectHandle&lt; FixedArray &gt; maybe_tagged_buffer, wasm::ValueType type, int32_t offset, bool is_mutable)</div><div class="ttdef"><b>Definition</b> <a href="#l01243">wasm-objects.cc:1243</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmImportData_html_a5e5fe028402ec8919bc6fa46e6057d08"><div class="ttname"><a href="classv8_1_1internal_1_1WasmImportData.html#a5e5fe028402ec8919bc6fa46e6057d08">v8::internal::WasmImportData::SetFuncRefAsCallOrigin</a></div><div class="ttdeci">void SetFuncRefAsCallOrigin(Tagged&lt; WasmInternalFunction &gt; func)</div><div class="ttdef"><b>Definition</b> <a href="#l01939">wasm-objects.cc:1939</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmImportData_html_aa4e2be8693dfea569a0e6264c7d7fae7"><div class="ttname"><a href="classv8_1_1internal_1_1WasmImportData.html#aa4e2be8693dfea569a0e6264c7d7fae7">v8::internal::WasmImportData::SetIndexInTableAsCallOrigin</a></div><div class="ttdeci">void SetIndexInTableAsCallOrigin(Tagged&lt; WasmDispatchTable &gt; table, int entry_index)</div><div class="ttdef"><b>Definition</b> <a href="#l01933">wasm-objects.cc:1933</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmInternalFunction_html_aa73c203e0df09290a7561ab7382403e1"><div class="ttname"><a href="classv8_1_1internal_1_1WasmInternalFunction.html#aa73c203e0df09290a7561ab7382403e1">v8::internal::WasmInternalFunction::GetOrCreateExternal</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Handle&lt; JSFunction &gt; GetOrCreateExternal(DirectHandle&lt; WasmInternalFunction &gt; internal)</div><div class="ttdef"><b>Definition</b> <a href="#l01859">wasm-objects.cc:1859</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmInternalFunction_html_afc61f955fff63212f4ae19ee110cf978"><div class="ttname"><a href="classv8_1_1internal_1_1WasmInternalFunction.html#afc61f955fff63212f4ae19ee110cf978">v8::internal::WasmInternalFunction::try_get_external</a></div><div class="ttdeci">bool try_get_external(Tagged&lt; JSFunction &gt; *result)</div><div class="ttdef"><b>Definition</b> <a href="#l01852">wasm-objects.cc:1852</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmInterpreterObject_html_ac1c542eb1645a1d233ff851181fea8ec"><div class="ttname"><a href="classv8_1_1internal_1_1WasmInterpreterObject.html#ac1c542eb1645a1d233ff851181fea8ec">v8::internal::WasmInterpreterObject::New</a></div><div class="ttdeci">static Handle&lt; Tuple2 &gt; New(Handle&lt; WasmInstanceObject &gt;)</div><div class="ttdef"><b>Definition</b> <a href="wasm-interpreter-objects_8cc_source.html#l00017">wasm-interpreter-objects.cc:17</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData_html_a14bbc335c7192df1230a28f2fe84646c"><div class="ttname"><a href="classv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData.html#a14bbc335c7192df1230a28f2fe84646c">v8::internal::WasmJSFunctionData::OffheapData::signature_hash_</a></div><div class="ttdeci">const uint64_t signature_hash_</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l01186">wasm-objects.h:1186</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData_html_a2c10ce88013a1fc485f76558ca487a86"><div class="ttname"><a href="classv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData.html#a2c10ce88013a1fc485f76558ca487a86">v8::internal::WasmJSFunctionData::OffheapData::~OffheapData</a></div><div class="ttdeci">~OffheapData()</div><div class="ttdef"><b>Definition</b> <a href="#l03001">wasm-objects.cc:3001</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData_html_a6e5168e9ec0b75089ceb9a4d1ee7c99f"><div class="ttname"><a href="classv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData.html#a6e5168e9ec0b75089ceb9a4d1ee7c99f">v8::internal::WasmJSFunctionData::OffheapData::set_compiled_wrapper</a></div><div class="ttdeci">WasmCodePointer set_compiled_wrapper(wasm::WasmCode *wrapper)</div><div class="ttdef"><b>Definition</b> <a href="#l02974">wasm-objects.cc:2974</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData_html_a710025b23e37178999c5a00cd7a752d9"><div class="ttname"><a href="classv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData.html#a710025b23e37178999c5a00cd7a752d9">v8::internal::WasmJSFunctionData::OffheapData::wrapper_</a></div><div class="ttdeci">wasm::WasmCode * wrapper_</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l01185">wasm-objects.h:1185</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData_html_a95542e6ddb4a12067caf0c16add2d01e"><div class="ttname"><a href="classv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData.html#a95542e6ddb4a12067caf0c16add2d01e">v8::internal::WasmJSFunctionData::OffheapData::set_generic_wrapper</a></div><div class="ttdeci">WasmCodePointer set_generic_wrapper(Address call_target)</div><div class="ttdef"><b>Definition</b> <a href="#l02992">wasm-objects.cc:2992</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData_html_adce04c0d1f8f29922dc93c3431fa8415"><div class="ttname"><a href="classv8_1_1internal_1_1WasmJSFunctionData_1_1OffheapData.html#adce04c0d1f8f29922dc93c3431fa8415">v8::internal::WasmJSFunctionData::OffheapData::wrapper_code_pointer_</a></div><div class="ttdeci">WasmCodePointer wrapper_code_pointer_</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l01184">wasm-objects.h:1184</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmJSFunctionData_html_a0b2e66ac19774c9fed00276e33a7a43d"><div class="ttname"><a href="classv8_1_1internal_1_1WasmJSFunctionData.html#a0b2e66ac19774c9fed00276e33a7a43d">v8::internal::WasmJSFunctionData::MatchesSignature</a></div><div class="ttdeci">bool MatchesSignature(wasm::CanonicalTypeIndex other_canonical_sig_index) const</div><div class="ttdef"><b>Definition</b> <a href="#l03025">wasm-objects.cc:3025</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmJSFunctionData_html_a1077c937f7fbff28184a2a9146fb87dc"><div class="ttname"><a href="classv8_1_1internal_1_1WasmJSFunctionData.html#a1077c937f7fbff28184a2a9146fb87dc">v8::internal::WasmJSFunctionData::GetSignature</a></div><div class="ttdeci">const wasm::CanonicalSig * GetSignature() const</div><div class="ttdef"><b>Definition</b> <a href="#l03020">wasm-objects.cc:3020</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmJSFunctionData_html_a9e186bca027fc2dd4d39d21c4508fd65"><div class="ttname"><a href="classv8_1_1internal_1_1WasmJSFunctionData.html#a9e186bca027fc2dd4d39d21c4508fd65">v8::internal::WasmJSFunctionData::GetSuspend</a></div><div class="ttdeci">wasm::Suspend GetSuspend() const</div><div class="ttdef"><b>Definition</b> <a href="#l03016">wasm-objects.cc:3016</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmJSFunctionData_html_ad273501a0b5fb4cbba3dcdd43c763995"><div class="ttname"><a href="classv8_1_1internal_1_1WasmJSFunctionData.html#ad273501a0b5fb4cbba3dcdd43c763995">v8::internal::WasmJSFunctionData::sig_index</a></div><div class="ttdeci">wasm::CanonicalTypeIndex sig_index() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00496">wasm-objects-inl.h:496</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmJSFunctionData_html_af782694f73663f80aab12fcc5ec2787a"><div class="ttname"><a href="classv8_1_1internal_1_1WasmJSFunctionData.html#af782694f73663f80aab12fcc5ec2787a">v8::internal::WasmJSFunctionData::GetCallable</a></div><div class="ttdeci">Tagged&lt; JSReceiver &gt; GetCallable() const</div><div class="ttdef"><b>Definition</b> <a href="#l03011">wasm-objects.cc:3011</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmJSFunction_html_a0031c0236952f2e57d0035704fb46cc5"><div class="ttname"><a href="classv8_1_1internal_1_1WasmJSFunction.html#a0031c0236952f2e57d0035704fb46cc5">v8::internal::WasmJSFunction::New</a></div><div class="ttdeci">static Handle&lt; WasmJSFunction &gt; New(Isolate *isolate, const wasm::FunctionSig *sig, DirectHandle&lt; JSReceiver &gt; callable, wasm::Suspend suspend)</div><div class="ttdef"><b>Definition</b> <a href="#l02850">wasm-objects.cc:2850</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmJSFunction_html_acd5f3569a442acea759fd951ca21567f"><div class="ttname"><a href="classv8_1_1internal_1_1WasmJSFunction.html#acd5f3569a442acea759fd951ca21567f">v8::internal::WasmJSFunction::IsWasmJSFunction</a></div><div class="ttdeci">static bool IsWasmJSFunction(Tagged&lt; Object &gt; object)</div><div class="ttdef"><b>Definition</b> <a href="#l02827">wasm-objects.cc:2827</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryMapDescriptor_html_a19cefcb190b1174d8c3253a8ae3bc6aa"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryMapDescriptor.html#a19cefcb190b1174d8c3253a8ae3bc6aa">v8::internal::WasmMemoryMapDescriptor::NewFromFileDescriptor</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Handle&lt; WasmMemoryMapDescriptor &gt; NewFromFileDescriptor(Isolate *isolate, v8::WasmMemoryMapDescriptor::WasmFileDescriptor file_descriptor)</div><div class="ttdef"><b>Definition</b> <a href="#l01182">wasm-objects.cc:1182</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryMapDescriptor_html_a2d0a4da3b456a3bd9e24da39e34b506c"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryMapDescriptor.html#a2d0a4da3b456a3bd9e24da39e34b506c">v8::internal::WasmMemoryMapDescriptor::NewFromAnonymous</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE MaybeHandle&lt; WasmMemoryMapDescriptor &gt; NewFromAnonymous(Isolate *isolate, size_t length)</div><div class="ttdef"><b>Definition</b> <a href="#l01151">wasm-objects.cc:1151</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryObject_html_a01bb1c85e9c6bdeea02bd4fe6f2e7bab"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryObject.html#a01bb1c85e9c6bdeea02bd4fe6f2e7bab">v8::internal::WasmMemoryObject::MapDescriptor</a></div><div class="ttdeci">V8_EXPORT_PRIVATE size_t MapDescriptor(Handle&lt; WasmMemoryMapDescriptor &gt; descriptor, size_t offset)</div><div class="ttdef"><b>Definition</b> <a href="#l01197">wasm-objects.cc:1197</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryObject_html_a31ddf60b7ad075d9a5459341d7d5051e"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryObject.html#a31ddf60b7ad075d9a5459341d7d5051e">v8::internal::WasmMemoryObject::SetNewBuffer</a></div><div class="ttdeci">void SetNewBuffer(Tagged&lt; JSArrayBuffer &gt; new_buffer)</div><div class="ttdef"><b>Definition</b> <a href="#l01000">wasm-objects.cc:1000</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryObject_html_a65b8addcf2135f693f3f83a8acf74aa7"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryObject.html#a65b8addcf2135f693f3f83a8acf74aa7">v8::internal::WasmMemoryObject::kNoMaximum</a></div><div class="ttdeci">static constexpr int kNoMaximum</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00370">wasm-objects.h:370</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryObject_html_a83af2a10e27026f8c76e91833243e5f5"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryObject.html#a83af2a10e27026f8c76e91833243e5f5">v8::internal::WasmMemoryObject::UseInInstance</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void UseInInstance(Isolate *isolate, DirectHandle&lt; WasmMemoryObject &gt; memory, DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_instance_data, DirectHandle&lt; WasmTrustedInstanceData &gt; shared_trusted_instance_data, int memory_index_in_instance)</div><div class="ttdef"><b>Definition</b> <a href="#l00982">wasm-objects.cc:982</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryObject_html_ab04a12b70d33ad72a3442d2a21bbfff7"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryObject.html#ab04a12b70d33ad72a3442d2a21bbfff7">v8::internal::WasmMemoryObject::Grow</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE int32_t Grow(Isolate *, DirectHandle&lt; WasmMemoryObject &gt;, uint32_t pages)</div><div class="ttdef"><b>Definition</b> <a href="#l01025">wasm-objects.cc:1025</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryObject_html_adcea08bfa954c607292e483c82684f5a"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryObject.html#adcea08bfa954c607292e483c82684f5a">v8::internal::WasmMemoryObject::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Handle&lt; WasmMemoryObject &gt; New(Isolate *isolate, DirectHandle&lt; JSArrayBuffer &gt; buffer, int maximum, wasm::AddressType address_type)</div><div class="ttdef"><b>Definition</b> <a href="#l00886">wasm-objects.cc:886</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmModuleObject_html_a10c13f09c7692081e4b17d2080a3cd00"><div class="ttname"><a href="classv8_1_1internal_1_1WasmModuleObject.html#a10c13f09c7692081e4b17d2080a3cd00">v8::internal::WasmModuleObject::GetFunctionNameOrNull</a></div><div class="ttdeci">static MaybeHandle&lt; String &gt; GetFunctionNameOrNull(Isolate *, DirectHandle&lt; WasmModuleObject &gt;, uint32_t func_index)</div><div class="ttdef"><b>Definition</b> <a href="#l00168">wasm-objects.cc:168</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmModuleObject_html_a11f569095080536e4a32d07e7819ab78"><div class="ttname"><a href="classv8_1_1internal_1_1WasmModuleObject.html#a11f569095080536e4a32d07e7819ab78">v8::internal::WasmModuleObject::module</a></div><div class="ttdeci">const wasm::WasmModule * module() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00093">wasm-objects-inl.h:93</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmModuleObject_html_a2d0c6490148366c81d5ea7e05913f3f8"><div class="ttname"><a href="classv8_1_1internal_1_1WasmModuleObject.html#a2d0c6490148366c81d5ea7e05913f3f8">v8::internal::WasmModuleObject::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Handle&lt; WasmModuleObject &gt; New(Isolate *isolate, std::shared_ptr&lt; wasm::NativeModule &gt; native_module, DirectHandle&lt; Script &gt; script)</div><div class="ttdef"><b>Definition</b> <a href="#l00112">wasm-objects.cc:112</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmModuleObject_html_a5dc976735be8211ba60cbf55c0c1925b"><div class="ttname"><a href="classv8_1_1internal_1_1WasmModuleObject.html#a5dc976735be8211ba60cbf55c0c1925b">v8::internal::WasmModuleObject::ExtractUtf8StringFromModuleBytes</a></div><div class="ttdeci">static Handle&lt; String &gt; ExtractUtf8StringFromModuleBytes(Isolate *, DirectHandle&lt; WasmModuleObject &gt;, wasm::WireBytesRef, InternalizeString)</div><div class="ttdef"><b>Definition</b> <a href="#l00135">wasm-objects.cc:135</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmModuleObject_html_a8417975919cc6eb781c85c845650c4c4"><div class="ttname"><a href="classv8_1_1internal_1_1WasmModuleObject.html#a8417975919cc6eb781c85c845650c4c4">v8::internal::WasmModuleObject::GetModuleNameOrNull</a></div><div class="ttdeci">static MaybeHandle&lt; String &gt; GetModuleNameOrNull(Isolate *, DirectHandle&lt; WasmModuleObject &gt;)</div><div class="ttdef"><b>Definition</b> <a href="#l00160">wasm-objects.cc:160</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmModuleObject_html_a909423f11ae499833369d415e9a18212"><div class="ttname"><a href="classv8_1_1internal_1_1WasmModuleObject.html#a909423f11ae499833369d415e9a18212">v8::internal::WasmModuleObject::native_module</a></div><div class="ttdeci">wasm::NativeModule * native_module() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00086">wasm-objects-inl.h:86</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmModuleObject_html_a9c404ba0124692e0b3b5b7c58c582ac2"><div class="ttname"><a href="classv8_1_1internal_1_1WasmModuleObject.html#a9c404ba0124692e0b3b5b7c58c582ac2">v8::internal::WasmModuleObject::GetRawFunctionName</a></div><div class="ttdeci">base::Vector&lt; const uint8_t &gt; GetRawFunctionName(int func_index)</div><div class="ttdef"><b>Definition</b> <a href="#l00181">wasm-objects.cc:181</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmStruct_html_a9bfd362a1d1c2f9a5eaa51e5740c4d59"><div class="ttname"><a href="classv8_1_1internal_1_1WasmStruct.html#a9bfd362a1d1c2f9a5eaa51e5740c4d59">v8::internal::WasmStruct::GetFieldValue</a></div><div class="ttdeci">V8_EXPORT_PRIVATE wasm::WasmValue GetFieldValue(uint32_t field_index)</div><div class="ttdef"><b>Definition</b> <a href="#l01990">wasm-objects.cc:1990</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmStruct_html_acc32232d00fec68981dc707613f86111"><div class="ttname"><a href="classv8_1_1internal_1_1WasmStruct.html#acc32232d00fec68981dc707613f86111">v8::internal::WasmStruct::type</a></div><div class="ttdeci">wasm::StructType * type() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00758">wasm-objects-inl.h:758</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmStruct_html_aee520372ea70ac4274921ca216a937d2"><div class="ttname"><a href="classv8_1_1internal_1_1WasmStruct.html#aee520372ea70ac4274921ca216a937d2">v8::internal::WasmStruct::module</a></div><div class="ttdeci">const wasm::WasmModule * module()</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00719">wasm-objects-inl.h:719</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmSuspendingObject_html_aa57bfff6c45e5fa252a7dbbfef0af406"><div class="ttname"><a href="classv8_1_1internal_1_1WasmSuspendingObject.html#aa57bfff6c45e5fa252a7dbbfef0af406">v8::internal::WasmSuspendingObject::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Handle&lt; WasmSuspendingObject &gt; New(Isolate *isolate, DirectHandle&lt; JSReceiver &gt; callable)</div><div class="ttdef"><b>Definition</b> <a href="#l00830">wasm-objects.cc:830</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_a0d4796d0039b7a60188d70af68ef3c0b"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#a0d4796d0039b7a60188d70af68ef3c0b">v8::internal::WasmTableObject::ClearDispatchTable</a></div><div class="ttdeci">void ClearDispatchTable(int index)</div><div class="ttdef"><b>Definition</b> <a href="#l00732">wasm-objects.cc:732</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_a16b9d149c61b70377845fc6b41761c19"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#a16b9d149c61b70377845fc6b41761c19">v8::internal::WasmTableObject::UpdateDispatchTable</a></div><div class="ttdeci">static void UpdateDispatchTable(Isolate *isolate, DirectHandle&lt; WasmTableObject &gt; table, int entry_index, const wasm::WasmFunction *func, DirectHandle&lt; WasmTrustedInstanceData &gt; target_instance)</div><div class="ttdef"><b>Definition</b> <a href="#l00521">wasm-objects.cc:521</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_a3c8470b664c71c54c8d71a851c4432ad"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#a3c8470b664c71c54c8d71a851c4432ad">v8::internal::WasmTableObject::Get</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Handle&lt; Object &gt; Get(Isolate *isolate, DirectHandle&lt; WasmTableObject &gt; table, uint32_t index)</div><div class="ttdef"><b>Definition</b> <a href="#l00420">wasm-objects.cc:420</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_a4d17c6f8f0a18a656e9037595396372f"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#a4d17c6f8f0a18a656e9037595396372f">v8::internal::WasmTableObject::SetFunctionTableEntry</a></div><div class="ttdeci">static void SetFunctionTableEntry(Isolate *isolate, DirectHandle&lt; WasmTableObject &gt; table, int entry_index, DirectHandle&lt; Object &gt; entry)</div><div class="ttdef"><b>Definition</b> <a href="#l00334">wasm-objects.cc:334</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_a6a815662eb3a0cec4809b203bb012a7a"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#a6a815662eb3a0cec4809b203bb012a7a">v8::internal::WasmTableObject::GetFunctionTableEntry</a></div><div class="ttdeci">static void GetFunctionTableEntry(Isolate *isolate, DirectHandle&lt; WasmTableObject &gt; table, int entry_index, bool *is_valid, bool *is_null, MaybeHandle&lt; WasmTrustedInstanceData &gt; *instance_data, int *function_index, MaybeDirectHandle&lt; WasmJSFunction &gt; *maybe_js_function)</div><div class="ttdef"><b>Definition</b> <a href="#l00776">wasm-objects.cc:776</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_ab5e638488798736d11b1ff0c35daa2d2"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#ab5e638488798736d11b1ff0c35daa2d2">v8::internal::WasmTableObject::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Handle&lt; WasmTableObject &gt; New(Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_data, wasm::ValueType type, wasm::CanonicalValueType canonical_type, uint32_t initial, bool has_maximum, uint64_t maximum, DirectHandle&lt; Object &gt; initial_value, wasm::AddressType address_type)</div><div class="ttdef"><b>Definition</b> <a href="#l00195">wasm-objects.cc:195</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_abd200bd6702d0b1d288516cb0f7173fc"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#abd200bd6702d0b1d288516cb0f7173fc">v8::internal::WasmTableObject::Fill</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void Fill(Isolate *isolate, DirectHandle&lt; WasmTableObject &gt; table, uint32_t start, DirectHandle&lt; Object &gt; entry, uint32_t count)</div><div class="ttdef"><b>Definition</b> <a href="#l00485">wasm-objects.cc:485</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_acfdec070b48fe34a36f7aa7fed63a969"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#acfdec070b48fe34a36f7aa7fed63a969">v8::internal::WasmTableObject::Set</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void Set(Isolate *isolate, DirectHandle&lt; WasmTableObject &gt; table, uint32_t index, DirectHandle&lt; Object &gt; entry)</div><div class="ttdef"><b>Definition</b> <a href="#l00375">wasm-objects.cc:375</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_ad51363b96ea8a38d2957f46f2767b4de"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#ad51363b96ea8a38d2957f46f2767b4de">v8::internal::WasmTableObject::Grow</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE int Grow(Isolate *isolate, DirectHandle&lt; WasmTableObject &gt; table, uint32_t count, DirectHandle&lt; Object &gt; init_value)</div><div class="ttdef"><b>Definition</b> <a href="#l00255">wasm-objects.cc:255</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_ada0ac8e1ab7d1e365edd372d6b02c53d"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#ada0ac8e1ab7d1e365edd372d6b02c53d">v8::internal::WasmTableObject::SetFunctionTablePlaceholder</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void SetFunctionTablePlaceholder(Isolate *isolate, DirectHandle&lt; WasmTableObject &gt; table, int entry_index, DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_instance_data, int func_index)</div><div class="ttdef"><b>Definition</b> <a href="#l00758">wasm-objects.cc:758</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_ae0b3435dd99e91f0f4c076efd9364319"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#ae0b3435dd99e91f0f4c076efd9364319">v8::internal::WasmTableObject::JSToWasmElement</a></div><div class="ttdeci">static MaybeHandle&lt; Object &gt; JSToWasmElement(Isolate *isolate, DirectHandle&lt; WasmTableObject &gt; table, Handle&lt; Object &gt; entry, const char **error_message)</div><div class="ttdef"><b>Definition</b> <a href="#l00324">wasm-objects.cc:324</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTagObject_html_a5e0d871680ed27f3dc92de54b1c2257d"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTagObject.html#a5e0d871680ed27f3dc92de54b1c2257d">v8::internal::WasmTagObject::MatchesSignature</a></div><div class="ttdeci">bool MatchesSignature(wasm::CanonicalTypeIndex expected_index)</div><div class="ttdef"><b>Definition</b> <a href="#l02090">wasm-objects.cc:2090</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTagObject_html_a855bc16461d99c199e34a8b677f9799e"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTagObject.html#a855bc16461d99c199e34a8b677f9799e">v8::internal::WasmTagObject::New</a></div><div class="ttdeci">static Handle&lt; WasmTagObject &gt; New(Isolate *isolate, const wasm::FunctionSig *sig, wasm::CanonicalTypeIndex type_index, DirectHandle&lt; HeapObject &gt; tag, DirectHandle&lt; WasmTrustedInstanceData &gt; instance)</div><div class="ttdef"><b>Definition</b> <a href="#l02057">wasm-objects.cc:2057</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTrustedInstanceData_html_a1712b5e555cfe7c555c1167b74a0c81a"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a1712b5e555cfe7c555c1167b74a0c81a">v8::internal::WasmTrustedInstanceData::native_module</a></div><div class="ttdeci">wasm::NativeModule * native_module() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00308">wasm-objects-inl.h:308</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTrustedInstanceData_html_a2b52a6afd836b6b563383e787d3131e7"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a2b52a6afd836b6b563383e787d3131e7">v8::internal::WasmTrustedInstanceData::GetGlobalBufferAndIndex</a></div><div class="ttdeci">std::pair&lt; Tagged&lt; FixedArray &gt;, uint32_t &gt; GetGlobalBufferAndIndex(const wasm::WasmGlobal &amp;)</div><div class="ttdef"><b>Definition</b> <a href="#l01954">wasm-objects.cc:1954</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTrustedInstanceData_html_a3559cff5510ccf662c3e1f550de408c2"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a3559cff5510ccf662c3e1f550de408c2">v8::internal::WasmTrustedInstanceData::InitTableEntries</a></div><div class="ttdeci">static std::optional&lt; MessageTemplate &gt; InitTableEntries(Isolate *isolate, Handle&lt; WasmTrustedInstanceData &gt; trusted_instance_data, Handle&lt; WasmTrustedInstanceData &gt; shared_trusted_instance_data, uint32_t table_index, uint32_t segment_index, uint32_t dst, uint32_t src, uint32_t count) V8_WARN_UNUSED_RESULT</div><div class="ttdef"><b>Definition</b> <a href="#l01750">wasm-objects.cc:1750</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTrustedInstanceData_html_a3b10b49e542f346ba14702828af547c0"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a3b10b49e542f346ba14702828af547c0">v8::internal::WasmTrustedInstanceData::SetRawMemory</a></div><div class="ttdeci">void SetRawMemory(int memory_index, uint8_t *mem_start, size_t mem_size)</div><div class="ttdef"><b>Definition</b> <a href="#l01462">wasm-objects.cc:1462</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTrustedInstanceData_html_a50285bb0cb1b1cf4b3c6cb146f73eecb"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a50285bb0cb1b1cf4b3c6cb146f73eecb">v8::internal::WasmTrustedInstanceData::module_object</a></div><div class="ttdeci">Tagged&lt; WasmModuleObject &gt; module_object() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00312">wasm-objects-inl.h:312</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTrustedInstanceData_html_a570376cd95bb723fb0a30b9e1e0ebc0d"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a570376cd95bb723fb0a30b9e1e0ebc0d">v8::internal::WasmTrustedInstanceData::kProtectedFieldNames</a></div><div class="ttdeci">static constexpr std::array&lt; const char *, 6 &gt; kProtectedFieldNames</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00602">wasm-objects.h:602</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTrustedInstanceData_html_a6a3c772c7795f345d71f35b3cac43d45"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a6a3c772c7795f345d71f35b3cac43d45">v8::internal::WasmTrustedInstanceData::try_get_func_ref</a></div><div class="ttdeci">bool try_get_func_ref(int index, Tagged&lt; WasmFuncRef &gt; *result)</div><div class="ttdef"><b>Definition</b> <a href="#l01801">wasm-objects.cc:1801</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTrustedInstanceData_html_a6d40ff595b69eb36026f3ec8d1a35fac"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a6d40ff595b69eb36026f3ec8d1a35fac">v8::internal::WasmTrustedInstanceData::kProtectedFieldOffsets</a></div><div class="ttdeci">static constexpr std::array&lt; uint16_t, 6 &gt; kProtectedFieldOffsets</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00600">wasm-objects.h:600</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTrustedInstanceData_html_a743dd82b5a2b1a0664b5fda8d6b50a53"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a743dd82b5a2b1a0664b5fda8d6b50a53">v8::internal::WasmTrustedInstanceData::GetOrCreateFuncRef</a></div><div class="ttdeci">static Handle&lt; WasmFuncRef &gt; GetOrCreateFuncRef(Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_instance_data, int function_index)</div><div class="ttdef"><b>Definition</b> <a href="#l01809">wasm-objects.cc:1809</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTrustedInstanceData_html_a74e85e919dddc266cc1d846849aec50a"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a74e85e919dddc266cc1d846849aec50a">v8::internal::WasmTrustedInstanceData::InitDataSegmentArrays</a></div><div class="ttdeci">void InitDataSegmentArrays(const wasm::NativeModule *)</div><div class="ttdef"><b>Definition</b> <a href="#l01670">wasm-objects.cc:1670</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTrustedInstanceData_html_a7558971c5572009784c8a45e25033bdc"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a7558971c5572009784c8a45e25033bdc">v8::internal::WasmTrustedInstanceData::GetGlobalStorage</a></div><div class="ttdeci">uint8_t * GetGlobalStorage(const wasm::WasmGlobal &amp;)</div><div class="ttdef"><b>Definition</b> <a href="#l01943">wasm-objects.cc:1943</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTrustedInstanceData_html_a82e0d67b495b3d12886e1491a43cdb24"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#a82e0d67b495b3d12886e1491a43cdb24">v8::internal::WasmTrustedInstanceData::kTaggedFieldNames</a></div><div class="ttdeci">static constexpr std::array&lt; const char *, kTaggedFieldsCount &gt; kTaggedFieldNames</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00598">wasm-objects.h:598</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTrustedInstanceData_html_aa9358c42d89b73872bf663ca701ea50f"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#aa9358c42d89b73872bf663ca701ea50f">v8::internal::WasmTrustedInstanceData::New</a></div><div class="ttdeci">static Handle&lt; WasmTrustedInstanceData &gt; New(Isolate *, DirectHandle&lt; WasmModuleObject &gt;, bool shared)</div><div class="ttdef"><b>Definition</b> <a href="#l01506">wasm-objects.cc:1506</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTrustedInstanceData_html_aabf57a672c88fe7c988311cd560a37d1"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#aabf57a672c88fe7c988311cd560a37d1">v8::internal::WasmTrustedInstanceData::kTaggedFieldOffsets</a></div><div class="ttdeci">static constexpr std::array&lt; uint16_t, kTaggedFieldsCount &gt; kTaggedFieldOffsets</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00595">wasm-objects.h:595</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTrustedInstanceData_html_abc9dc826c0283941be4d1e6cfa9371d3"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#abc9dc826c0283941be4d1e6cfa9371d3">v8::internal::WasmTrustedInstanceData::GetGlobalValue</a></div><div class="ttdeci">wasm::WasmValue GetGlobalValue(Isolate *, const wasm::WasmGlobal &amp;)</div><div class="ttdef"><b>Definition</b> <a href="#l01968">wasm-objects.cc:1968</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTrustedInstanceData_html_abe17aad860c7790fe78f65cae8e64d29"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#abe17aad860c7790fe78f65cae8e64d29">v8::internal::WasmTrustedInstanceData::module</a></div><div class="ttdeci">const wasm::WasmModule * module() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00316">wasm-objects-inl.h:316</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTrustedInstanceData_html_ad5fa0df8fba113e186afd8a1b10b8161"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#ad5fa0df8fba113e186afd8a1b10b8161">v8::internal::WasmTrustedInstanceData::CopyTableEntries</a></div><div class="ttdeci">static bool CopyTableEntries(Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_instance_data, uint32_t table_dst_index, uint32_t table_src_index, uint32_t dst, uint32_t src, uint32_t count) V8_WARN_UNUSED_RESULT</div><div class="ttdef"><b>Definition</b> <a href="#l01712">wasm-objects.cc:1712</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTrustedInstanceData_html_ad7aa4c4d7b3be1343889e872863e2982"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTrustedInstanceData.html#ad7aa4c4d7b3be1343889e872863e2982">v8::internal::WasmTrustedInstanceData::GetCallTarget</a></div><div class="ttdeci">WasmCodePointer GetCallTarget(uint32_t func_index)</div><div class="ttdef"><b>Definition</b> <a href="#l01697">wasm-objects.cc:1697</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WeakArrayList_html_ac91eea3c39f649ae0ff2b151c7956ace"><div class="ttname"><a href="classv8_1_1internal_1_1WeakArrayList.html#ac91eea3c39f649ae0ff2b151c7956ace">v8::internal::WeakArrayList::Append</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT Handle&lt; WeakArrayList &gt; Append(Isolate *isolate, Handle&lt; WeakArrayList &gt; array, MaybeObjectDirectHandle value, AllocationType allocation=AllocationType::kYoung)</div><div class="ttdef"><b>Definition</b> <a href="fixed-array_8cc_source.html#l00184">fixed-array.cc:184</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Zone_html"><div class="ttname"><a href="classv8_1_1internal_1_1Zone.html">v8::internal::Zone</a></div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00043">zone.h:43</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ArrayType_html_a33942a61683c7b83fe86986a26333b1a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ArrayType.html#a33942a61683c7b83fe86986a26333b1a">v8::internal::wasm::ArrayType::element_type</a></div><div class="ttdeci">ValueType element_type() const</div><div class="ttdef"><b>Definition</b> <a href="struct-types_8h_source.html#l00287">struct-types.h:287</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1CanonicalSig_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html">v8::internal::wasm::CanonicalSig</a></div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l01173">value-type.h:1173</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1CanonicalSig_html_a445378a77774c35dbb4230763038be0b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1CanonicalSig.html#a445378a77774c35dbb4230763038be0b">v8::internal::wasm::CanonicalSig::signature_hash</a></div><div class="ttdeci">uint64_t signature_hash() const</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l01187">value-type.h:1187</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1CanonicalValueType_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html">v8::internal::wasm::CanonicalValueType</a></div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l01040">value-type.h:1040</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1CanonicalValueType_html_a35e9c1c07079590ad79b46c0264809f4"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html#a35e9c1c07079590ad79b46c0264809f4">v8::internal::wasm::CanonicalValueType::IsFunctionType</a></div><div class="ttdeci">bool IsFunctionType() const</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l01074">value-type.h:1074</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1CanonicalValueType_html_ab58fc78ee1cd5b17394acbc1a9fb7225"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1CanonicalValueType.html#ab58fc78ee1cd5b17394acbc1a9fb7225">v8::internal::wasm::CanonicalValueType::ref_index</a></div><div class="ttdeci">constexpr CanonicalTypeIndex ref_index() const</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l01070">value-type.h:1070</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapTypeBase_html_a463a41f5a96db5c80819e14e5461d787a01edec79a04fce2edabc7f5f9b6f2305"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a01edec79a04fce2edabc7f5f9b6f2305">v8::internal::wasm::HeapTypeBase::kExtern</a></div><div class="ttdeci">@ kExtern</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00112">value-type.h:112</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapTypeBase_html_a463a41f5a96db5c80819e14e5461d787a12fc36cebc5486d34bcec8ba9adbc1c6"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a12fc36cebc5486d34bcec8ba9adbc1c6">v8::internal::wasm::HeapTypeBase::kAny</a></div><div class="ttdeci">@ kAny</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00111">value-type.h:111</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapTypeBase_html_a463a41f5a96db5c80819e14e5461d787a23794aa47278a212c060ac01a772dae6"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a23794aa47278a212c060ac01a772dae6">v8::internal::wasm::HeapTypeBase::kNoExn</a></div><div class="ttdeci">@ kNoExn</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00124">value-type.h:124</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapTypeBase_html_a463a41f5a96db5c80819e14e5461d787a2ae0d78e75126aacaa152688325d4db3"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a2ae0d78e75126aacaa152688325d4db3">v8::internal::wasm::HeapTypeBase::kTop</a></div><div class="ttdeci">@ kTop</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00150">value-type.h:150</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapTypeBase_html_a463a41f5a96db5c80819e14e5461d787a3db0fc636300b4734d5fc1f49b1aeeeb"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a3db0fc636300b4734d5fc1f49b1aeeeb">v8::internal::wasm::HeapTypeBase::kExn</a></div><div class="ttdeci">@ kExn</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00116">value-type.h:116</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapTypeBase_html_a463a41f5a96db5c80819e14e5461d787a52cfdbb770d3ad5e7d8c11792560de20"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a52cfdbb770d3ad5e7d8c11792560de20">v8::internal::wasm::HeapTypeBase::kI31</a></div><div class="ttdeci">@ kI31</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00108">value-type.h:108</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapTypeBase_html_a463a41f5a96db5c80819e14e5461d787a5621b910055ccbf8fe66df77cf288fc6"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a5621b910055ccbf8fe66df77cf288fc6">v8::internal::wasm::HeapTypeBase::kStruct</a></div><div class="ttdeci">@ kStruct</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00109">value-type.h:109</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapTypeBase_html_a463a41f5a96db5c80819e14e5461d787a57169601682149a6b8bebd68e0e0f9a7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a57169601682149a6b8bebd68e0e0f9a7">v8::internal::wasm::HeapTypeBase::kArray</a></div><div class="ttdeci">@ kArray</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00110">value-type.h:110</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapTypeBase_html_a463a41f5a96db5c80819e14e5461d787a6f48276cb3ce5450412d23417dde7622"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a6f48276cb3ce5450412d23417dde7622">v8::internal::wasm::HeapTypeBase::kBottom</a></div><div class="ttdeci">@ kBottom</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00154">value-type.h:153</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapTypeBase_html_a463a41f5a96db5c80819e14e5461d787a747949a8c02d366db421957a9a737347"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a747949a8c02d366db421957a9a737347">v8::internal::wasm::HeapTypeBase::kEq</a></div><div class="ttdeci">@ kEq</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00107">value-type.h:107</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapTypeBase_html_a463a41f5a96db5c80819e14e5461d787a8668d98b226023d9ccef4c77f2a722e3"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a8668d98b226023d9ccef4c77f2a722e3">v8::internal::wasm::HeapTypeBase::kFunc</a></div><div class="ttdeci">@ kFunc</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00106">value-type.h:106</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapTypeBase_html_a463a41f5a96db5c80819e14e5461d787a987b6ca446d2306e8506f82869ddac97"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787a987b6ca446d2306e8506f82869ddac97">v8::internal::wasm::HeapTypeBase::kNoExtern</a></div><div class="ttdeci">@ kNoExtern</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00123">value-type.h:123</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapTypeBase_html_a463a41f5a96db5c80819e14e5461d787ac78ca0d956a311e28df4f4503826d43a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787ac78ca0d956a311e28df4f4503826d43a">v8::internal::wasm::HeapTypeBase::kStringViewWtf8</a></div><div class="ttdeci">@ kStringViewWtf8</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00118">value-type.h:118</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapTypeBase_html_a463a41f5a96db5c80819e14e5461d787ad8ce30917d618363851a3eab1e950ff2"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787ad8ce30917d618363851a3eab1e950ff2">v8::internal::wasm::HeapTypeBase::kStringViewIter</a></div><div class="ttdeci">@ kStringViewIter</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00120">value-type.h:120</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapTypeBase_html_a463a41f5a96db5c80819e14e5461d787ada6888bc410e07dbaf1f0b45eeb22d04"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787ada6888bc410e07dbaf1f0b45eeb22d04">v8::internal::wasm::HeapTypeBase::kNoFunc</a></div><div class="ttdeci">@ kNoFunc</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00122">value-type.h:122</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapTypeBase_html_a463a41f5a96db5c80819e14e5461d787add407adfe4e7d07e6e00416e104e930f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787add407adfe4e7d07e6e00416e104e930f">v8::internal::wasm::HeapTypeBase::kString</a></div><div class="ttdeci">@ kString</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00117">value-type.h:117</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapTypeBase_html_a463a41f5a96db5c80819e14e5461d787addd08e9014cea077cc28ab6cbcbff986"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787addd08e9014cea077cc28ab6cbcbff986">v8::internal::wasm::HeapTypeBase::kNone</a></div><div class="ttdeci">@ kNone</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00121">value-type.h:121</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapTypeBase_html_a463a41f5a96db5c80819e14e5461d787af822d40276950d3a96075619287b5e7f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapTypeBase.html#a463a41f5a96db5c80819e14e5461d787af822d40276950d3a96075619287b5e7f">v8::internal::wasm::HeapTypeBase::kStringViewWtf16</a></div><div class="ttdeci">@ kStringViewWtf16</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00119">value-type.h:119</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JSToWasmWrapperCompilationUnit_html_a686f0a2d3c5683c5781dc77b45c5ecec"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JSToWasmWrapperCompilationUnit.html#a686f0a2d3c5683c5781dc77b45c5ecec">v8::internal::wasm::JSToWasmWrapperCompilationUnit::CompileJSToWasmWrapper</a></div><div class="ttdeci">static Handle&lt; Code &gt; CompileJSToWasmWrapper(Isolate *isolate, const CanonicalSig *sig, CanonicalTypeIndex sig_index)</div><div class="ttdef"><b>Definition</b> <a href="function-compiler_8cc_source.html#l00253">function-compiler.cc:253</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1LazilyGeneratedNames_html_a18b1d6d0ec7a67bbb0ecac1da13d75db"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1LazilyGeneratedNames.html#a18b1d6d0ec7a67bbb0ecac1da13d75db">v8::internal::wasm::LazilyGeneratedNames::LookupFunctionName</a></div><div class="ttdeci">WireBytesRef LookupFunctionName(ModuleWireBytes wire_bytes, uint32_t function_index)</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8cc_source.html#l00056">wasm-module.cc:56</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">v8::internal::wasm::NativeModule</a></div><div class="ttdef"><b>Definition</b> <a href="wasm-code-manager_8h_source.html#l00548">wasm-code-manager.h:548</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a20151ad81d070cbbceb14edabf32dda5"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a20151ad81d070cbbceb14edabf32dda5">v8::internal::wasm::NativeModule::tiering_budget_array</a></div><div class="ttdeci">std::atomic&lt; uint32_t &gt; * tiering_budget_array() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-manager_8h_source.html#l00815">wasm-code-manager.h:815</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a4210dcf60ee0c22b95de93af93f17f86"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4210dcf60ee0c22b95de93af93f17f86">v8::internal::wasm::NativeModule::num_functions</a></div><div class="ttdeci">uint32_t num_functions() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-manager_8h_source.html#l00683">wasm-code-manager.h:683</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a443a4c6a0f2bedcc6e0ac7f03ece629e"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a443a4c6a0f2bedcc6e0ac7f03ece629e">v8::internal::wasm::NativeModule::module</a></div><div class="ttdeci">const WasmModule * module() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-manager_8h_source.html#l00694">wasm-code-manager.h:694</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a5a7bb5fd0dd2615fbbb6b608df1fdd68"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5a7bb5fd0dd2615fbbb6b608df1fdd68">v8::internal::wasm::NativeModule::wire_bytes</a></div><div class="ttdeci">base::Vector&lt; const uint8_t &gt; wire_bytes() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-manager_8h_source.html#l00691">wasm-code-manager.h:691</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a63657aff1b54d8355c88d671645a62fd"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a63657aff1b54d8355c88d671645a62fd">v8::internal::wasm::NativeModule::GetCodePointerHandle</a></div><div class="ttdeci">WasmCodePointer GetCodePointerHandle(int index) const</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-manager_8cc_source.html#l02090">wasm-code-manager.cc:2090</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_aad381026fba28fc729be46402fef86e7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aad381026fba28fc729be46402fef86e7">v8::internal::wasm::NativeModule::jump_table_start</a></div><div class="ttdeci">Address jump_table_start() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-manager_8h_source.html#l00649">wasm-code-manager.h:649</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_abacd1cb85a612977eef0bc38deb0e076"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#abacd1cb85a612977eef0bc38deb0e076">v8::internal::wasm::NativeModule::committed_code_space</a></div><div class="ttdeci">size_t committed_code_space() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-manager_8h_source.html#l00696">wasm-code-manager.h:696</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ResolvedWasmImport_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ResolvedWasmImport.html">v8::internal::wasm::ResolvedWasmImport</a></div><div class="ttdef"><b>Definition</b> <a href="module-instantiate_8h_source.html#l00065">module-instantiate.h:65</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ResolvedWasmImport_html_a680ff048f40f3a9d9b47de1a7f2f0635"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ResolvedWasmImport.html#a680ff048f40f3a9d9b47de1a7f2f0635">v8::internal::wasm::ResolvedWasmImport::kind</a></div><div class="ttdeci">ImportCallKind kind() const</div><div class="ttdef"><b>Definition</b> <a href="module-instantiate_8h_source.html#l00075">module-instantiate.h:75</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1StackMemory_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1StackMemory.html">v8::internal::wasm::StackMemory</a></div><div class="ttdef"><b>Definition</b> <a href="stacks_8h_source.html#l00055">stacks.h:55</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1StructTypeBase_html_a5228db786b7257b3491b238fc82eebe3"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1StructTypeBase.html#a5228db786b7257b3491b238fc82eebe3">v8::internal::wasm::StructTypeBase::field_offset</a></div><div class="ttdeci">uint32_t field_offset(uint32_t index) const</div><div class="ttdef"><b>Definition</b> <a href="struct-types_8h_source.html#l00052">struct-types.h:52</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1StructType_html_a0befc03840ccdf98e89b868ecaf154c7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1StructType.html#a0befc03840ccdf98e89b868ecaf154c7">v8::internal::wasm::StructType::field</a></div><div class="ttdeci">ValueType field(uint32_t index) const</div><div class="ttdef"><b>Definition</b> <a href="struct-types_8h_source.html#l00217">struct-types.h:217</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_a09f520b3ab3e3fa22827a66c4eebcb59"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#a09f520b3ab3e3fa22827a66c4eebcb59">v8::internal::wasm::TypeCanonicalizer::IsCanonicalSubtype</a></div><div class="ttdeci">V8_EXPORT_PRIVATE bool IsCanonicalSubtype(CanonicalTypeIndex sub_index, CanonicalTypeIndex super_index)</div><div class="ttdef"><b>Definition</b> <a href="canonical-types_8cc_source.html#l00221">canonical-types.cc:221</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_aa1f36fc3851ba2316d47223fa2b6e155"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa1f36fc3851ba2316d47223fa2b6e155">v8::internal::wasm::TypeCanonicalizer::LookupFunctionSignature</a></div><div class="ttdeci">V8_EXPORT_PRIVATE const CanonicalSig * LookupFunctionSignature(CanonicalTypeIndex index) const</div><div class="ttdef"><b>Definition</b> <a href="canonical-types_8cc_source.html#l00191">canonical-types.cc:191</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_aa7d63877150be29e04f49d189ea88c99"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa7d63877150be29e04f49d189ea88c99">v8::internal::wasm::TypeCanonicalizer::AddRecursiveGroup</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void AddRecursiveGroup(WasmModule *module, uint32_t size)</div><div class="ttdef"><b>Definition</b> <a href="canonical-types_8cc_source.html#l00031">canonical-types.cc:31</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_aac1117f1918f3c8580be0e192a1c7307"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aac1117f1918f3c8580be0e192a1c7307">v8::internal::wasm::TypeCanonicalizer::PrepareForCanonicalTypeId</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void PrepareForCanonicalTypeId(Isolate *isolate, CanonicalTypeIndex id)</div><div class="ttdef"><b>Definition</b> <a href="canonical-types_8cc_source.html#l00368">canonical-types.cc:368</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ValueTypeBase_html_a09cf4ea5d5c5131cd99bf69b427dd13f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a09cf4ea5d5c5131cd99bf69b427dd13f">v8::internal::wasm::ValueTypeBase::value_kind_size</a></div><div class="ttdeci">constexpr int value_kind_size() const</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00695">value-type.h:695</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ValueTypeBase_html_a0c9d01db0d2ee104368cd4de098257b2"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a0c9d01db0d2ee104368cd4de098257b2">v8::internal::wasm::ValueTypeBase::heap_representation_non_shared</a></div><div class="ttdeci">constexpr HeapType::Representation heap_representation_non_shared() const</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00677">value-type.h:677</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ValueTypeBase_html_a5136976f64d8107bcc6dc4769ace851f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a5136976f64d8107bcc6dc4769ace851f">v8::internal::wasm::ValueTypeBase::heap_representation</a></div><div class="ttdeci">constexpr HeapType::Representation heap_representation() const</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00672">value-type.h:672</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ValueTypeBase_html_a777139722a5dbb1f696aa90375aab584"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a777139722a5dbb1f696aa90375aab584">v8::internal::wasm::ValueTypeBase::kind</a></div><div class="ttdeci">constexpr ValueKind kind() const</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00671">value-type.h:671</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ValueTypeBase_html_a786387bf26930354003d39a87eec7921"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a786387bf26930354003d39a87eec7921">v8::internal::wasm::ValueTypeBase::is_reference</a></div><div class="ttdeci">constexpr bool is_reference() const</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00624">value-type.h:624</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ValueTypeBase_html_a97e374db0b2e830d34c73ad6d6bc9afb"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#a97e374db0b2e830d34c73ad6d6bc9afb">v8::internal::wasm::ValueTypeBase::has_index</a></div><div class="ttdeci">constexpr bool has_index() const</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00640">value-type.h:640</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ValueTypeBase_html_aa459140e8766cc7f6bdf67dcd174ad1e"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#aa459140e8766cc7f6bdf67dcd174ad1e">v8::internal::wasm::ValueTypeBase::is_object_reference</a></div><div class="ttdeci">constexpr bool is_object_reference() const</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00626">value-type.h:626</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ValueTypeBase_html_ad4ba8a380246eb2e204befd51ae7b94a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ValueTypeBase.html#ad4ba8a380246eb2e204befd51ae7b94a">v8::internal::wasm::ValueTypeBase::use_wasm_null</a></div><div class="ttdeci">constexpr bool use_wasm_null() const</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00712">value-type.h:712</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ValueType_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ValueType.html">v8::internal::wasm::ValueType</a></div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00932">value-type.h:932</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmBytecode_html_a26899f1489841558f19ee9d079c7a7ab"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmBytecode.html#a26899f1489841558f19ee9d079c7a7ab">v8::internal::wasm::WasmBytecode::JSToWasmWrapperPackedArraySize</a></div><div class="ttdeci">static uint32_t JSToWasmWrapperPackedArraySize(const FunctionSig *sig)</div><div class="ttdef"><b>Definition</b> <a href="wasm-interpreter-inl_8h_source.html#l00227">wasm-interpreter-inl.h:227</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmBytecode_html_aedbf4c4975cb628b6a71f1f9daaa2ee0"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmBytecode.html#aedbf4c4975cb628b6a71f1f9daaa2ee0">v8::internal::wasm::WasmBytecode::RefArgsCount</a></div><div class="ttdeci">static uint32_t RefArgsCount(const FunctionSig *sig)</div><div class="ttdef"><b>Definition</b> <a href="wasm-interpreter-inl_8h_source.html#l00184">wasm-interpreter-inl.h:184</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmBytecode_html_af0d04f07fb83ec9836826b0ec50f1004"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmBytecode.html#af0d04f07fb83ec9836826b0ec50f1004">v8::internal::wasm::WasmBytecode::RefRetsCount</a></div><div class="ttdeci">static uint32_t RefRetsCount(const FunctionSig *sig)</div><div class="ttdef"><b>Definition</b> <a href="wasm-interpreter-inl_8h_source.html#l00194">wasm-interpreter-inl.h:194</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_a791a00c5dc50aed58b0d0a5908753675"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a791a00c5dc50aed58b0d0a5908753675">v8::internal::wasm::WasmCodeManager::EstimateNativeModuleMetaDataSize</a></div><div class="ttdeci">static size_t EstimateNativeModuleMetaDataSize(const WasmModule *module)</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-manager_8cc_source.html#l02387">wasm-code-manager.cc:2387</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_ab90b2371ac3c63fcc039e3189203dbb3"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#ab90b2371ac3c63fcc039e3189203dbb3">v8::internal::wasm::WasmCodeManager::EstimateNativeModuleCodeSize</a></div><div class="ttdeci">static size_t EstimateNativeModuleCodeSize(const WasmModule *module, bool include_liftoff, DynamicTiering dynamic_tiering)</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-manager_8cc_source.html#l02333">wasm-code-manager.cc:2333</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodePointerTable_html_a2fd4a03eb9cfc1412bc02dc30638e640"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#a2fd4a03eb9cfc1412bc02dc30638e640">v8::internal::wasm::WasmCodePointerTable::UpdateEntrypoint</a></div><div class="ttdeci">void UpdateEntrypoint(WasmCodePointer index, Address value, uint64_t signature_hash)</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-pointer-table-inl_8h_source.html#l00067">wasm-code-pointer-table-inl.h:67</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodePointerTable_html_a65882a1f49bd2c6a667cd3054f3dc2e2"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#a65882a1f49bd2c6a667cd3054f3dc2e2">v8::internal::wasm::WasmCodePointerTable::GetEntrypointWithoutSignatureCheck</a></div><div class="ttdeci">Address GetEntrypointWithoutSignatureCheck(WasmCodePointer index) const</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-pointer-table-inl_8h_source.html#l00062">wasm-code-pointer-table-inl.h:62</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodePointerTable_html_a65f15597b54747d33d9d892912b1c5f4"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#a65f15597b54747d33d9d892912b1c5f4">v8::internal::wasm::WasmCodePointerTable::FreeEntry</a></div><div class="ttdeci">void FreeEntry(WasmCodePointer index)</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-pointer-table-inl_8h_source.html#l00188">wasm-code-pointer-table-inl.h:188</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodePointerTable_html_af436bb2d545345a376c8cb9c691ed22e"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#af436bb2d545345a376c8cb9c691ed22e">v8::internal::wasm::WasmCodePointerTable::AllocateAndInitializeEntry</a></div><div class="ttdeci">WasmCodePointer AllocateAndInitializeEntry(Address entrypoint, uint64_t signature_hash)</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-pointer-table-inl_8h_source.html#l00087">wasm-code-pointer-table-inl.h:87</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeRefScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html">v8::internal::wasm::WasmCodeRefScope</a></div><div class="ttdef"><b>Definition</b> <a href="wasm-code-manager_8h_source.html#l01206">wasm-code-manager.h:1206</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">v8::internal::wasm::WasmCode</a></div><div class="ttdef"><b>Definition</b> <a href="wasm-code-manager_8h_source.html#l00090">wasm-code-manager.h:90</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a0c7c3734a1ad0fe3202e49fc5806947c"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0c7c3734a1ad0fe3202e49fc5806947c">v8::internal::wasm::WasmCode::signature_hash</a></div><div class="ttdeci">uint64_t signature_hash() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-manager_8h_source.html#l00213">wasm-code-manager.h:213</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a0d55fcf378e16413e74e88d7d102ee15"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">v8::internal::wasm::WasmCode::instruction_start</a></div><div class="ttdeci">Address instruction_start() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-manager_8h_source.html#l00174">wasm-code-manager.h:174</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a0f94a461ae1a32a2931d6cec086860e2"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0f94a461ae1a32a2931d6cec086860e2">v8::internal::wasm::WasmCode::MaybePrint</a></div><div class="ttdeci">void MaybePrint() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-manager_8cc_source.html#l00407">wasm-code-manager.cc:407</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a236d413616e672cc2cda31bb7a4fc04da806ef6ecaaea44fafa40934e34fceef5"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da806ef6ecaaea44fafa40934e34fceef5">v8::internal::wasm::WasmCode::kWasmToCapiWrapper</a></div><div class="ttdeci">@ kWasmToCapiWrapper</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-manager_8h_source.html#l00094">wasm-code-manager.h:94</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a236d413616e672cc2cda31bb7a4fc04daef214dac33aaad4bde9322f48d8cc3e4"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04daef214dac33aaad4bde9322f48d8cc3e4">v8::internal::wasm::WasmCode::kWasmToJsWrapper</a></div><div class="ttdeci">@ kWasmToJsWrapper</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-manager_8h_source.html#l00095">wasm-code-manager.h:95</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a35a765c275210d7f0ca8ec68502120a9"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a35a765c275210d7f0ca8ec68502120a9">v8::internal::wasm::WasmCode::instructions</a></div><div class="ttdeci">base::Vector&lt; uint8_t &gt; instructions() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-manager_8h_source.html#l00170">wasm-code-manager.h:170</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a7ce5e9c4ac84834ffd253b89c0f35d71"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a7ce5e9c4ac84834ffd253b89c0f35d71">v8::internal::wasm::WasmCode::reloc_info</a></div><div class="ttdeci">base::Vector&lt; const uint8_t &gt; reloc_info() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-manager_8h_source.html#l00180">wasm-code-manager.h:180</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_aabc336382e10df3a5f7c37ba95d15799"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#aabc336382e10df3a5f7c37ba95d15799">v8::internal::wasm::WasmCode::DecrementRefCount</a></div><div class="ttdeci">static void DecrementRefCount(base::Vector&lt; WasmCode *const &gt;)</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-manager_8cc_source.html#l00578">wasm-code-manager.cc:578</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_ad60a6ef9ac5fe39bc7c33b3ef12acced"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ad60a6ef9ac5fe39bc7c33b3ef12acced">v8::internal::wasm::WasmCode::IncRef</a></div><div class="ttdeci">void IncRef()</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-manager_8h_source.html#l00263">wasm-code-manager.h:263</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_ad8a26bf968040e704a34b3d572ba7d3f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ad8a26bf968040e704a34b3d572ba7d3f">v8::internal::wasm::WasmCode::kind</a></div><div class="ttdeci">Kind kind() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-manager_8h_source.html#l00198">wasm-code-manager.h:198</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEngine_html_a2bd8d1062109983456ee727ddc7141d7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a2bd8d1062109983456ee727ddc7141d7">v8::internal::wasm::WasmEngine::type_canonicalizer</a></div><div class="ttdeci">TypeCanonicalizer * type_canonicalizer()</div><div class="ttdef"><b>Definition</b> <a href="wasm-engine_8h_source.html#l00390">wasm-engine.h:390</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache_1_1ModificationScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache_1_1ModificationScope.html">v8::internal::wasm::WasmImportWrapperCache::ModificationScope</a></div><div class="ttdef"><b>Definition</b> <a href="wasm-import-wrapper-cache_8h_source.html#l00054">wasm-import-wrapper-cache.h:54</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache_1_1ModificationScope_html_a6c799e372ae713858bddbbb0f8a86a76"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache_1_1ModificationScope.html#a6c799e372ae713858bddbbb0f8a86a76">v8::internal::wasm::WasmImportWrapperCache::ModificationScope::AddWrapper</a></div><div class="ttdeci">WasmCode * AddWrapper(const CacheKey &amp;key, WasmCompilationResult result, WasmCode::Kind kind, uint64_t signature_hash)</div><div class="ttdef"><b>Definition</b> <a href="wasm-import-wrapper-cache_8cc_source.html#l00058">wasm-import-wrapper-cache.cc:58</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache.html">v8::internal::wasm::WasmImportWrapperCache</a></div><div class="ttdef"><b>Definition</b> <a href="wasm-import-wrapper-cache_8h_source.html#l00024">wasm-import-wrapper-cache.h:24</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmInterpreterRuntime_html_a09065610f9ed340ca0f3f14169fd3218"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmInterpreterRuntime.html#a09065610f9ed340ca0f3f14169fd3218">v8::internal::wasm::WasmInterpreterRuntime::UpdateMemoryAddress</a></div><div class="ttdeci">static void UpdateMemoryAddress(Handle&lt; WasmInstanceObject &gt; instance)</div><div class="ttdef"><b>Definition</b> <a href="wasm-interpreter-runtime_8cc_source.html#l00362">wasm-interpreter-runtime.cc:362</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmInterpreterRuntime_html_a13dbf7fabc7cebbd384812215185fccf"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmInterpreterRuntime.html#a13dbf7fabc7cebbd384812215185fccf">v8::internal::wasm::WasmInterpreterRuntime::UpdateIndirectCallTable</a></div><div class="ttdeci">static void UpdateIndirectCallTable(Isolate *isolate, Handle&lt; WasmInstanceObject &gt; instance, uint32_t table_index)</div><div class="ttdef"><b>Definition</b> <a href="wasm-interpreter-runtime_8cc_source.html#l01731">wasm-interpreter-runtime.cc:1731</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmInterpreterRuntime_html_a9823a21072d95ee863cb68c93cc0efde"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmInterpreterRuntime.html#a9823a21072d95ee863cb68c93cc0efde">v8::internal::wasm::WasmInterpreterRuntime::ClearIndirectCallCacheEntry</a></div><div class="ttdeci">static void ClearIndirectCallCacheEntry(Isolate *isolate, Handle&lt; WasmInstanceObject &gt; instance, uint32_t table_index, uint32_t entry_index)</div><div class="ttdef"><b>Definition</b> <a href="wasm-interpreter-runtime_8cc_source.html#l01715">wasm-interpreter-runtime.cc:1715</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmValue_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmValue.html">v8::internal::wasm::WasmValue</a></div><div class="ttdef"><b>Definition</b> <a href="wasm-value_8h_source.html#l00047">wasm-value.h:47</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WireBytesRef_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html">v8::internal::wasm::WireBytesRef</a></div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00057">wasm-module.h:57</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WireBytesRef_html_a1853a6fc4a88a37d2bb8a91b58781daf"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html#a1853a6fc4a88a37d2bb8a91b58781daf">v8::internal::wasm::WireBytesRef::end_offset</a></div><div class="ttdeci">uint32_t end_offset() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00068">wasm-module.h:68</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WireBytesRef_html_a4f2dffb7efc3721571b5f1604d5d448a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html#a4f2dffb7efc3721571b5f1604d5d448a">v8::internal::wasm::WireBytesRef::offset</a></div><div class="ttdeci">uint32_t offset() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00066">wasm-module.h:66</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WireBytesRef_html_a94db77b7254197e7ed15d4851dcc3934"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html#a94db77b7254197e7ed15d4851dcc3934">v8::internal::wasm::WireBytesRef::is_set</a></div><div class="ttdeci">bool is_set() const</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00070">wasm-module.h:70</a></div></div>
<div class="ttc" id="acode-space-access_8h_html"><div class="ttname"><a href="code-space-access_8h.html">code-space-access.h</a></div></div>
<div class="ttc" id="acounters_8h_html"><div class="ttname"><a href="counters_8h.html">counters.h</a></div></div>
<div class="ttc" id="adebug-coverage_8cc_html_a37722a150250e2a5a98e5e0d11e53449"><div class="ttname"><a href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a></div><div class="ttdeci">int start</div><div class="ttdef"><b>Definition</b> <a href="debug-coverage_8cc_source.html#l00595">debug-coverage.cc:595</a></div></div>
<div class="ttc" id="adebug-coverage_8cc_html_a86988a65e0d3ece7990c032c159786d6"><div class="ttname"><a href="debug-coverage_8cc.html#a86988a65e0d3ece7990c032c159786d6">count</a></div><div class="ttdeci">uint32_t count</div><div class="ttdef"><b>Definition</b> <a href="debug-coverage_8cc_source.html#l00594">debug-coverage.cc:594</a></div></div>
<div class="ttc" id="adebug_8h_html"><div class="ttname"><a href="debug_8h.html">debug.h</a></div></div>
<div class="ttc" id="agraph-builder_8cc_html_a9990dda08de44f6aee0aaf44c50da7d9"><div class="ttname"><a href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a></div><div class="ttdeci">Isolate * isolate</div><div class="ttdef"><b>Definition</b> <a href="graph-builder_8cc_source.html#l00058">graph-builder.cc:58</a></div></div>
<div class="ttc" id="ainstruction-selector-ia32_8cc_html_a97bd6c077f3c7769f575b82988b9b668"><div class="ttname"><a href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a></div><div class="ttdeci">int32_t offset</div><div class="ttdef"><b>Definition</b> <a href="instruction-selector-ia32_8cc_source.html#l00072">instruction-selector-ia32.cc:72</a></div></div>
<div class="ttc" id="ainstruction-selector-ia32_8cc_html_ae55190dbead0a94298bdfa37911694e3"><div class="ttname"><a href="instruction-selector-ia32_8cc.html#ae55190dbead0a94298bdfa37911694e3">index</a></div><div class="ttdeci">turboshaft::OptionalOpIndex index</div><div class="ttdef"><b>Definition</b> <a href="instruction-selector-ia32_8cc_source.html#l00071">instruction-selector-ia32.cc:71</a></div></div>
<div class="ttc" id="aiterator_8h_html"><div class="ttname"><a href="iterator_8h.html">iterator.h</a></div></div>
<div class="ttc" id="ajs-call-reducer_8cc_html_a9fa9548665fda8f7a8cfad92f3c8cedd"><div class="ttname"><a href="js-call-reducer_8cc.html#a9fa9548665fda8f7a8cfad92f3c8cedd">shared</a></div><div class="ttdeci">SharedFunctionInfoRef shared</div><div class="ttdef"><b>Definition</b> <a href="js-call-reducer_8cc_source.html#l01495">js-call-reducer.cc:1495</a></div></div>
<div class="ttc" id="ajs-date-time-format_8cc_html_a22ede25ca923109929a8dca3c225b2ad"><div class="ttname"><a href="js-date-time-format_8cc.html#a22ede25ca923109929a8dca3c225b2ad">map</a></div><div class="ttdeci">std::map&lt; const std::string, const std::string &gt; map</div><div class="ttdef"><b>Definition</b> <a href="js-date-time-format_8cc_source.html#l00268">js-date-time-format.cc:268</a></div></div>
<div class="ttc" id="ajump-threading_8cc_html_a41f8c58d2c01bf65b8ee199c3f87fc80"><div class="ttname"><a href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a></div><div class="ttdeci">ZoneVector&lt; RpoNumber &gt; &amp; result</div><div class="ttdef"><b>Definition</b> <a href="jump-threading_8cc_source.html#l00021">jump-threading.cc:21</a></div></div>
<div class="ttc" id="aliftoff-compiler_8cc_html_ab600894d6947e13cf9b2a5a775e70324"><div class="ttname"><a href="liftoff-compiler_8cc.html#ab600894d6947e13cf9b2a5a775e70324">state</a></div><div class="ttdeci">LiftoffAssembler::CacheState state</div><div class="ttdef"><b>Definition</b> <a href="liftoff-compiler_8cc_source.html#l00453">liftoff-compiler.cc:453</a></div></div>
<div class="ttc" id="aliftoff-compiler_8cc_html_ab8d3010479e75420093f37bb28df0db7"><div class="ttname"><a href="liftoff-compiler_8cc.html#ab8d3010479e75420093f37bb28df0db7">entries</a></div><div class="ttdeci">ZoneVector&lt; Entry &gt; entries</div><div class="ttdef"><b>Definition</b> <a href="liftoff-compiler_8cc_source.html#l00515">liftoff-compiler.cc:515</a></div></div>
<div class="ttc" id="amanaged-inl_8h_html"><div class="ttname"><a href="managed-inl_8h.html">managed-inl.h</a></div></div>
<div class="ttc" id="amodule-compiler_8h_html"><div class="ttname"><a href="module-compiler_8h.html">module-compiler.h</a></div></div>
<div class="ttc" id="amodule-decoder_8h_html"><div class="ttname"><a href="module-decoder_8h.html">module-decoder.h</a></div></div>
<div class="ttc" id="amodule-instantiate_8h_html"><div class="ttname"><a href="module-instantiate_8h.html">module-instantiate.h</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a0b04f46ee47c13e48f05a4c0031b94c3"><div class="ttname"><a href="namespacev8_1_1base.html#a0b04f46ee47c13e48f05a4c0031b94c3">v8::base::ReadUnalignedValue</a></div><div class="ttdeci">static V ReadUnalignedValue(Address p)</div><div class="ttdef"><b>Definition</b> <a href="base_2memory_8h_source.html#l00028">memory.h:28</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a600d2abb293e572ea35a21c049781141"><div class="ttname"><a href="namespacev8_1_1base.html#a600d2abb293e572ea35a21c049781141">v8::base::IsInBounds</a></div><div class="ttdeci">constexpr bool IsInBounds(T index, T length, T max)</div><div class="ttdef"><b>Definition</b> <a href="bounds_8h_source.html#l00049">bounds.h:49</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ab277246c6caecad159bbc8755cf6bb54"><div class="ttname"><a href="namespacev8_1_1base.html#ab277246c6caecad159bbc8755cf6bb54">v8::base::VectorOf</a></div><div class="ttdeci">constexpr Vector&lt; T &gt; VectorOf(T *start, size_t size)</div><div class="ttdef"><b>Definition</b> <a href="vector_8h_source.html#l00360">vector.h:360</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_a50bcd95a7391f11ea798d7b747922901"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#a50bcd95a7391f11ea798d7b747922901">v8::internal::compiler::CompileWasmCapiCallWrapper</a></div><div class="ttdeci">wasm::WasmCompilationResult CompileWasmCapiCallWrapper(const wasm::CanonicalSig *sig)</div><div class="ttdef"><b>Definition</b> <a href="wasm-compiler_8cc_source.html#l08487">wasm-compiler.cc:8487</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a0a36931b3d2bbcdfcbb253b229838952"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a0a36931b3d2bbcdfcbb253b229838952">v8::internal::wasm::GetProcessWideWasmCodePointerTable</a></div><div class="ttdeci">V8_EXPORT_PRIVATE WasmCodePointerTable * GetProcessWideWasmCodePointerTable()</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a1bb1a5429ae3d1ec380de1b5da81238f"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a1bb1a5429ae3d1ec380de1b5da81238f">v8::internal::wasm::kAnonymousFuncIndex</a></div><div class="ttdeci">constexpr int kAnonymousFuncIndex</div><div class="ttdef"><b>Definition</b> <a href="wasm-constants_8h_source.html#l00172">wasm-constants.h:172</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a2c6edd5180c4a1c2a0454eaac389dc1f"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a2c6edd5180c4a1c2a0454eaac389dc1f">v8::internal::wasm::max_mem32_pages</a></div><div class="ttdeci">uint32_t max_mem32_pages()</div><div class="ttdef"><b>Definition</b> <a href="wasm-engine_8cc_source.html#l02130">wasm-engine.cc:2130</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a2e079999502e577b181583a71bb096ef"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a2e079999502e577b181583a71bb096ef">v8::internal::wasm::kMaxCanonicalTypes</a></div><div class="ttdeci">static constexpr size_t kMaxCanonicalTypes</div><div class="ttdef"><b>Definition</b> <a href="canonical-types_8h_source.html#l00034">canonical-types.h:34</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a36345041662f17bb39d27709c1cb78ac"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a36345041662f17bb39d27709c1cb78ac">v8::internal::wasm::GetWasmImportWrapperCache</a></div><div class="ttdeci">WasmImportWrapperCache * GetWasmImportWrapperCache()</div><div class="ttdef"><b>Definition</b> <a href="wasm-engine_8cc_source.html#l02124">wasm-engine.cc:2124</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a37c10a6c9b36e2b30daa3adf302a9331"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a37c10a6c9b36e2b30daa3adf302a9331">v8::internal::wasm::kWasmFuncRef</a></div><div class="ttdeci">constexpr ValueType kWasmFuncRef</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l01117">value-type.h:1117</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a38d56b630d25ea0451a91c6204e89042"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a38d56b630d25ea0451a91c6204e89042">v8::internal::wasm::max_table_size</a></div><div class="ttdeci">uint32_t max_table_size()</div><div class="ttdef"><b>Definition</b> <a href="wasm-engine_8cc_source.html#l02149">wasm-engine.cc:2149</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a3adc957d22d860687fc2579215adeb80a4fc50005a65ea45b8fc5bc0fd990d63a"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a3adc957d22d860687fc2579215adeb80a4fc50005a65ea45b8fc5bc0fd990d63a">v8::internal::wasm::kAsmJsStrictOrigin</a></div><div class="ttdeci">@ kAsmJsStrictOrigin</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00124">wasm-module.h:123</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a3adc957d22d860687fc2579215adeb80ac6ac6a1c1201497a2ae73086bbc12902"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a3adc957d22d860687fc2579215adeb80ac6ac6a1c1201497a2ae73086bbc12902">v8::internal::wasm::kAsmJsSloppyOrigin</a></div><div class="ttdeci">@ kAsmJsSloppyOrigin</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00122">wasm-module.h:122</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a3adc957d22d860687fc2579215adeb80ad75c39b2587910e64fbca44ad513c9e0"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a3adc957d22d860687fc2579215adeb80ad75c39b2587910e64fbca44ad513c9e0">v8::internal::wasm::kWasmOrigin</a></div><div class="ttdeci">@ kWasmOrigin</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00121">wasm-module.h:121</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a4028018fc306f5bf21254dcaeb81b9e8"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a4028018fc306f5bf21254dcaeb81b9e8">v8::internal::wasm::JSToWasmObject</a></div><div class="ttdeci">MaybeHandle&lt; Object &gt; JSToWasmObject(Isolate *isolate, Handle&lt; Object &gt; value, CanonicalValueType expected, const char **error_message)</div><div class="ttdef"><b>Definition</b> <a href="#l03101">wasm-objects.cc:3101</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a4326f4455d83a545760a1048f2d6b122"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a4326f4455d83a545760a1048f2d6b122">v8::internal::wasm::max_mem64_pages</a></div><div class="ttdeci">uint32_t max_mem64_pages()</div><div class="ttdef"><b>Definition</b> <a href="wasm-engine_8cc_source.html#l02139">wasm-engine.cc:2139</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a69dd1a4bb0eb499d621cab7dd4843058"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a69dd1a4bb0eb499d621cab7dd4843058">v8::internal::wasm::kDefaultImportCallKind</a></div><div class="ttdeci">constexpr ImportCallKind kDefaultImportCallKind</div><div class="ttdef"><b>Definition</b> <a href="module-instantiate_8h_source.html#l00057">module-instantiate.h:57</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6eef6d24980961199f34fb770039843a"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843a">v8::internal::wasm::Suspend</a></div><div class="ttdeci">Suspend</div><div class="ttdef"><b>Definition</b> <a href="module-instantiate_8h_source.html#l00034">module-instantiate.h:34</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6eef6d24980961199f34fb770039843aac51012268661bd5ae03450b2207e5d83"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843aac51012268661bd5ae03450b2207e5d83">v8::internal::wasm::kNoSuspend</a></div><div class="ttdeci">@ kNoSuspend</div><div class="ttdef"><b>Definition</b> <a href="module-instantiate_8h_source.html#l00034">module-instantiate.h:34</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6feb413448e84daf9201bd8a2381a718"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">v8::internal::wasm::GetTypeCanonicalizer</a></div><div class="ttdeci">TypeCanonicalizer * GetTypeCanonicalizer()</div><div class="ttdef"><b>Definition</b> <a href="canonical-types_8cc_source.html#l00019">canonical-types.cc:19</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a769350a0bf794ab0ebf3c8fc1c8fc450"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a769350a0bf794ab0ebf3c8fc1c8fc450">v8::internal::wasm::IsJSCompatibleSignature</a></div><div class="ttdeci">bool IsJSCompatibleSignature(const CanonicalSig *sig)</div><div class="ttdef"><b>Definition</b> <a href="wasm-opcodes_8cc_source.html#l00031">wasm-opcodes.cc:31</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a7cf9a93aa28382c93537bcf6db6acc2b"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a7cf9a93aa28382c93537bcf6db6acc2b">v8::internal::wasm::WasmToJSObject</a></div><div class="ttdeci">Handle&lt; Object &gt; WasmToJSObject(Isolate *isolate, Handle&lt; Object &gt; value)</div><div class="ttdef"><b>Definition</b> <a href="#l03296">wasm-objects.cc:3296</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a7d41c6d12091165e18a14f58ae8b1b91"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a7d41c6d12091165e18a14f58ae8b1b91">v8::internal::wasm::kInvalidWasmCodePointer</a></div><div class="ttdeci">constexpr WasmCodePointer kInvalidWasmCodePointer</div><div class="ttdef"><b>Definition</b> <a href="wasm-code-manager_8h_source.html#l00087">wasm-code-manager.h:87</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_aaca6d9503a7b3a8f1d6e319b19baca66a6c3b400bf8685e810f458dfd466cf006"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#aaca6d9503a7b3a8f1d6e319b19baca66a6c3b400bf8685e810f458dfd466cf006">v8::internal::wasm::kTrapHandler</a></div><div class="ttdeci">@ kTrapHandler</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00128">wasm-module.h:128</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ab2ccdd8f6263889b55561cb1aa7b566e"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ab2ccdd8f6263889b55561cb1aa7b566e">v8::internal::wasm::max_mem32_bytes</a></div><div class="ttdeci">uint64_t max_mem32_bytes()</div><div class="ttdef"><b>Definition</b> <a href="wasm-limits_8h_source.html#l00102">wasm-limits.h:102</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ab79ed2eaa1472960bddba3774ba4762c"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ab79ed2eaa1472960bddba3774ba4762c">v8::internal::wasm::kCanonicalFuncRef</a></div><div class="ttdeci">constexpr CanonicalValueType kCanonicalFuncRef</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l01157">value-type.h:1157</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ab89f70ccd3d4626bef2224d6496f7feb"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ab89f70ccd3d4626bef2224d6496f7feb">v8::internal::wasm::kV8MaxWasmMemories</a></div><div class="ttdeci">constexpr size_t kV8MaxWasmMemories</div><div class="ttdef"><b>Definition</b> <a href="wasm-limits_8h_source.html#l00061">wasm-limits.h:61</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_abc12fc3b25ebfb54c20b8479642acb94"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">v8::internal::wasm::GetWasmEngine</a></div><div class="ttdeci">WasmEngine * GetWasmEngine()</div><div class="ttdef"><b>Definition</b> <a href="wasm-engine_8cc_source.html#l02114">wasm-engine.cc:2114</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac0c0d417be648d20ef96581e5d3bd63a"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63a">v8::internal::wasm::ImportCallKind</a></div><div class="ttdeci">ImportCallKind</div><div class="ttdef"><b>Definition</b> <a href="module-instantiate_8h_source.html#l00045">module-instantiate.h:45</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac0c0d417be648d20ef96581e5d3bd63aa5411029decc6201a8ac468e9bb7fadbb"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa5411029decc6201a8ac468e9bb7fadbb">v8::internal::wasm::ImportCallKind::kLinkError</a></div><div class="ttdeci">@ kLinkError</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac0c0d417be648d20ef96581e5d3bd63aa5427d5490900477a371648688dfbb95b"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa5427d5490900477a371648688dfbb95b">v8::internal::wasm::ImportCallKind::kUseCallBuiltin</a></div><div class="ttdeci">@ kUseCallBuiltin</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac0c0d417be648d20ef96581e5d3bd63aa7f5686cf8a9e0b7053c4d28dde68020f"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aa7f5686cf8a9e0b7053c4d28dde68020f">v8::internal::wasm::ImportCallKind::kWasmToCapi</a></div><div class="ttdeci">@ kWasmToCapi</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac0c0d417be648d20ef96581e5d3bd63aaadced019e879f8edd1912b4026677f47"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aaadced019e879f8edd1912b4026677f47">v8::internal::wasm::ImportCallKind::kJSFunctionArityMatch</a></div><div class="ttdeci">@ kJSFunctionArityMatch</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac0c0d417be648d20ef96581e5d3bd63aada29bf8bad277f522fdb79d15a06c6a7"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac0c0d417be648d20ef96581e5d3bd63aada29bf8bad277f522fdb79d15a06c6a7">v8::internal::wasm::ImportCallKind::kJSFunctionArityMismatch</a></div><div class="ttdeci">@ kJSFunctionArityMismatch</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac29e28cd9a3b18c7e07a3406d5d6ff1a"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac29e28cd9a3b18c7e07a3406d5d6ff1a">v8::internal::wasm::kWasmPageSize</a></div><div class="ttdeci">constexpr size_t kWasmPageSize</div><div class="ttdef"><b>Definition</b> <a href="wasm-constants_8h_source.html#l00162">wasm-constants.h:162</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac56e6724b7d8d7abc95b70c8bfdd39af"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac56e6724b7d8d7abc95b70c8bfdd39af">v8::internal::wasm::InitializeElementSegment</a></div><div class="ttdeci">std::optional&lt; MessageTemplate &gt; InitializeElementSegment(Zone *zone, Isolate *isolate, Handle&lt; WasmTrustedInstanceData &gt; trusted_instance_data, Handle&lt; WasmTrustedInstanceData &gt; shared_trusted_instance_data, uint32_t segment_index)</div><div class="ttdef"><b>Definition</b> <a href="module-instantiate_8cc_source.html#l02877">module-instantiate.cc:2877</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac814c0c5fdc2144633e7dfb837ca5374"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac814c0c5fdc2144633e7dfb837ca5374">v8::internal::wasm::IsSubtypeOf</a></div><div class="ttdeci">V8_INLINE bool IsSubtypeOf(ValueType subtype, ValueType supertype, const WasmModule *sub_module, const WasmModule *super_module)</div><div class="ttdef"><b>Definition</b> <a href="wasm-subtyping_8h_source.html#l00066">wasm-subtyping.h:66</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_aca3af72b5da01dfb563e4c5f56af8952"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952">v8::internal::wasm::AddressType</a></div><div class="ttdeci">AddressType</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00046">wasm-module.h:46</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_aca3af72b5da01dfb563e4c5f56af8952a0a0ecdb4eded286c722877578774a293"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952a0a0ecdb4eded286c722877578774a293">v8::internal::wasm::AddressType::kI32</a></div><div class="ttdeci">@ kI32</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_aca3af72b5da01dfb563e4c5f56af8952a6601e7b0f7c0f03d9ffa9f222c82e6a0"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952a6601e7b0f7c0f03d9ffa9f222c82e6a0">v8::internal::wasm::AddressType::kI64</a></div><div class="ttdeci">@ kI64</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ad39cf555e73abbf7233ee2029b74ff7d"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ad39cf555e73abbf7233ee2029b74ff7d">v8::internal::wasm::kV8MaxWasmTableSize</a></div><div class="ttdeci">constexpr size_t kV8MaxWasmTableSize</div><div class="ttdef"><b>Definition</b> <a href="wasm-limits_8h_source.html#l00058">wasm-limits.h:58</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ad97a36aa15ff4a0e71c9e8982a5cc460"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ad97a36aa15ff4a0e71c9e8982a5cc460">v8::internal::wasm::Promise</a></div><div class="ttdeci">Promise</div><div class="ttdef"><b>Definition</b> <a href="module-instantiate_8h_source.html#l00037">module-instantiate.h:37</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ad97a36aa15ff4a0e71c9e8982a5cc460a4db77348000919f64dc35a43c94c8121"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ad97a36aa15ff4a0e71c9e8982a5cc460a4db77348000919f64dc35a43c94c8121">v8::internal::wasm::kNoPromise</a></div><div class="ttdeci">@ kNoPromise</div><div class="ttdef"><b>Definition</b> <a href="module-instantiate_8h_source.html#l00037">module-instantiate.h:37</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ad97a36aa15ff4a0e71c9e8982a5cc460a6da34b562310c09460985d37264a7920"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ad97a36aa15ff4a0e71c9e8982a5cc460a6da34b562310c09460985d37264a7920">v8::internal::wasm::kPromise</a></div><div class="ttdeci">@ kPromise</div><div class="ttdef"><b>Definition</b> <a href="module-instantiate_8h_source.html#l00037">module-instantiate.h:37</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_adce8d2d1fb7219dada0f8cb31b9ba0ce"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#adce8d2d1fb7219dada0f8cb31b9ba0ce">v8::internal::wasm::max_mem64_bytes</a></div><div class="ttdeci">uint64_t max_mem64_bytes()</div><div class="ttdef"><b>Definition</b> <a href="wasm-limits_8h_source.html#l00106">wasm-limits.h:106</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ae73da17de18352a106bb4e622f610d85a0ec54a3c977c8265d2980c3ecd2ac058"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ae73da17de18352a106bb4e622f610d85a0ec54a3c977c8265d2980c3ecd2ac058">v8::internal::wasm::kNoDynamicTiering</a></div><div class="ttdeci">@ kNoDynamicTiering</div><div class="ttdef"><b>Definition</b> <a href="compilation-environment_8h_source.html#l00040">compilation-environment.h:39</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_afaaaa7fd7a0bc697a4d91133566c5c6ea4a2d15530df7ed8fe7a35b02d47fff24"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#afaaaa7fd7a0bc697a4d91133566c5c6ea4a2d15530df7ed8fe7a35b02d47fff24">v8::internal::wasm::WellKnownImport::kUninstantiated</a></div><div class="ttdeci">@ kUninstantiated</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition</b> <a href="api-arguments-inl_8h_source.html#l00018">api-arguments-inl.h:18</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a00e6a81b8b499c814a011d90853897fb"><div class="ttname"><a href="namespacev8_1_1internal.html#a00e6a81b8b499c814a011d90853897fb">v8::internal::InternalizeString</a></div><div class="ttdeci">InternalizeString</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00153">wasm-objects.h:153</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a00e6a81b8b499c814a011d90853897fba81b23a97077ceef0f9633d2041ae1737"><div class="ttname"><a href="namespacev8_1_1internal.html#a00e6a81b8b499c814a011d90853897fba81b23a97077ceef0f9633d2041ae1737">v8::internal::kNoInternalize</a></div><div class="ttdeci">@ kNoInternalize</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00153">wasm-objects.h:153</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0cfab207d565dcf62ebf50f3987e05de"><div class="ttname"><a href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">v8::internal::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition</b> <a href="heap-snapshot-generator_8cc_source.html#l01584">heap-snapshot-generator.cc:1584</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a1b94465438598ac1a56b03ea0bfe1a46"><div class="ttname"><a href="namespacev8_1_1internal.html#a1b94465438598ac1a56b03ea0bfe1a46">v8::internal::dispatch_table_for_imports</a></div><div class="ttdeci">kMemory0SizeOffset Address kNewAllocationLimitAddressOffset Address kOldAllocationLimitAddressOffset uint8_t kGlobalsStartOffset kJumpTableStartOffset std::atomic&lt; uint32_t &gt; kTieringBudgetArrayOffset kDataSegmentStartsOffset kElementSegmentsOffset kInstanceObjectOffset kMemoryObjectsOffset kTaggedGlobalsBufferOffset kTablesOffset kProtectedDispatchTable0Offset dispatch_table_for_imports</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00254">wasm-objects-inl.h:254</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a20c66a96ddfae551866ceae989a8ba13"><div class="ttname"><a href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13">v8::internal::WriteBarrierMode</a></div><div class="ttdeci">WriteBarrierMode</div><div class="ttdef"><b>Definition</b> <a href="objects_8h_source.html#l00051">objects.h:51</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a20c66a96ddfae551866ceae989a8ba13a936c581afe29bbe04ab84d8ae4c6267d"><div class="ttname"><a href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13a936c581afe29bbe04ab84d8ae4c6267d">v8::internal::UPDATE_WRITE_BARRIER</a></div><div class="ttdeci">@ UPDATE_WRITE_BARRIER</div><div class="ttdef"><b>Definition</b> <a href="objects_8h_source.html#l00056">objects.h:55</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a2471da09ee7282dc0ac34dda6cd0113d"><div class="ttname"><a href="namespacev8_1_1internal.html#a2471da09ee7282dc0ac34dda6cd0113d">v8::internal::CreateFuncRefMap</a></div><div class="ttdeci">Handle&lt; Map &gt; CreateFuncRefMap(Isolate *isolate, Handle&lt; Map &gt; opt_rtt_parent)</div><div class="ttdef"><b>Definition</b> <a href="#l02833">wasm-objects.cc:2833</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a288a2bc7dffae4e40a103ad0b2bd8a2b"><div class="ttname"><a href="namespacev8_1_1internal.html#a288a2bc7dffae4e40a103ad0b2bd8a2b">v8::internal::GetIsolateForSandbox</a></div><div class="ttdeci">static V8_INLINE IsolateForSandbox GetIsolateForSandbox(Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition</b> <a href="isolate-utils-inl_8h_source.html#l00054">isolate-utils-inl.h:54</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a2a2a0e61ae504b5c29621f23fe6d1ae8"><div class="ttname"><a href="namespacev8_1_1internal.html#a2a2a0e61ae504b5c29621f23fe6d1ae8">v8::internal::EncodeI32ExceptionValue</a></div><div class="ttdeci">void EncodeI32ExceptionValue(DirectHandle&lt; FixedArray &gt; encoded_values, uint32_t *encoded_index, uint32_t value)</div><div class="ttdef"><b>Definition</b> <a href="#l02522">wasm-objects.cc:2522</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a2ef75ab406122e31bc6a5e46e16e0de9"><div class="ttname"><a href="namespacev8_1_1internal.html#a2ef75ab406122e31bc6a5e46e16e0de9">v8::internal::DecodeI32ExceptionValue</a></div><div class="ttdeci">void DecodeI32ExceptionValue(DirectHandle&lt; FixedArray &gt; encoded_values, uint32_t *encoded_index, uint32_t *value)</div><div class="ttdef"><b>Definition</b> <a href="#l02536">wasm-objects.cc:2536</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a4382c244e839ce16a4beafabd1c6bd1d"><div class="ttname"><a href="namespacev8_1_1internal.html#a4382c244e839ce16a4beafabd1c6bd1d">v8::internal::Tagged</a></div><div class="ttdeci">Tagged(T object) -&gt; Tagged&lt; T &gt;</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a4bf21ee96580042a8262a8300dca514c"><div class="ttname"><a href="namespacev8_1_1internal.html#a4bf21ee96580042a8262a8300dca514c">v8::internal::instance_data</a></div><div class="ttdeci">kWasmInternalFunctionIndirectPointerTag instance_data</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00468">wasm-objects-inl.h:468</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a4d3dfe21a456192e79ca3540fccc29c2"><div class="ttname"><a href="namespacev8_1_1internal.html#a4d3dfe21a456192e79ca3540fccc29c2">v8::internal::GetIsolateFromWritableObject</a></div><div class="ttdeci">V8_INLINE Isolate * GetIsolateFromWritableObject(Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition</b> <a href="isolate-utils-inl_8h_source.html#l00028">isolate-utils-inl.h:28</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5031451934208565c827c86d9eb86c5a"><div class="ttname"><a href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">v8::internal::internal</a></div><div class="ttdeci">internal</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00457">wasm-objects-inl.h:457</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a511c3dd03bb4fc2b91ed9ef5535e202e"><div class="ttname"><a href="namespacev8_1_1internal.html#a511c3dd03bb4fc2b91ed9ef5535e202e">v8::internal::IsSmi</a></div><div class="ttdeci">V8_INLINE constexpr bool IsSmi(TaggedImpl&lt; kRefType, StorageType &gt; obj)</div><div class="ttdef"><b>Definition</b> <a href="objects_8h_source.html#l00655">objects.h:655</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5297fd2c72981b2220e6b9a831570fb3"><div class="ttname"><a href="namespacev8_1_1internal.html#a5297fd2c72981b2220e6b9a831570fb3">v8::internal::Tagged&lt; Object &gt;</a></div><div class="ttdeci">Tagged&lt; Object &gt;</div><div class="ttdef"><b>Definition</b> <a href="allocation-site-inl_8h_source.html#l00029">allocation-site-inl.h:30</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5ccd81f4720c063fbbb03699603034c6a047ebee131a760d19529704fdfc1d412"><div class="ttname"><a href="namespacev8_1_1internal.html#a5ccd81f4720c063fbbb03699603034c6a047ebee131a760d19529704fdfc1d412">v8::internal::WasmMemoryFlag::kWasmMemory32</a></div><div class="ttdeci">@ kWasmMemory32</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5ccd81f4720c063fbbb03699603034c6a076ed6b69b93a14d0f539af6c5bf4913"><div class="ttname"><a href="namespacev8_1_1internal.html#a5ccd81f4720c063fbbb03699603034c6a076ed6b69b93a14d0f539af6c5bf4913">v8::internal::WasmMemoryFlag::kWasmMemory64</a></div><div class="ttdeci">@ kWasmMemory64</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5feb64a99571462d3380d03aa42c149c"><div class="ttname"><a href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149c">v8::internal::ElementsKind</a></div><div class="ttdeci">ElementsKind</div><div class="ttdef"><b>Definition</b> <a href="elements-kind_8h_source.html#l00105">elements-kind.h:105</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5feb64a99571462d3380d03aa42c149cabe08801c504e24eba74657d920a18f30"><div class="ttname"><a href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149cabe08801c504e24eba74657d920a18f30">v8::internal::TERMINAL_FAST_ELEMENTS_KIND</a></div><div class="ttdeci">@ TERMINAL_FAST_ELEMENTS_KIND</div><div class="ttdef"><b>Definition</b> <a href="elements-kind_8h_source.html#l00171">elements-kind.h:171</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a604d5beeb6fc8639670f737ed201e20a"><div class="ttname"><a href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20a">v8::internal::AllocationType</a></div><div class="ttdeci">AllocationType</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l01373">globals.h:1373</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff"><div class="ttname"><a href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">v8::internal::AllocationType::kOld</a></div><div class="ttdeci">@ kOld</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a60f13a8c00d0433f9336368824ac21a1"><div class="ttname"><a href="namespacev8_1_1internal.html#a60f13a8c00d0433f9336368824ac21a1">v8::internal::direct_handle</a></div><div class="ttdeci">V8_INLINE DirectHandle&lt; T &gt; direct_handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition</b> <a href="handles-inl_8h_source.html#l00141">handles-inl.h:141</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a61075b05a94d1b5188fa013f53b22606"><div class="ttname"><a href="namespacev8_1_1internal.html#a61075b05a94d1b5188fa013f53b22606">v8::internal::FastI2D</a></div><div class="ttdeci">double FastI2D(int x)</div><div class="ttdef"><b>Definition</b> <a href="conversions_8h_source.html#l00109">conversions.h:109</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a611f0528d5415d4591ad6e8fe9513ac4"><div class="ttname"><a href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">v8::internal::name</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enable experimental feedback collection in generic lowering enable Turboshaft s WasmLoadElimination run instruction selection on Turboshaft IR directly enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information build the Turboshaft graph from Maglev trace emitted Turboshaft instructions profile guided optimization for empty feedback vector invocation count for maglev for functions which according to profile_guided_optimization are likely to deoptimize before reaching this invocation count Immediately re optimize code after some lazy deopts Enables the lazy new space shrinking strategy max size of a semi the new space consists of two semi spaces young and full garbage collection phases are not overlapping Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in name</div><div class="ttdef"><b>Definition</b> <a href="flags_8cc_source.html#l01983">flags.cc:1983</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6135f0ef57de8d381e3225f6659c617a"><div class="ttname"><a href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">v8::internal::sig</a></div><div class="ttdeci">kWasmInternalFunctionIndirectPointerTag kProtectedInstanceDataOffset sig</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00475">wasm-objects-inl.h:475</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a667827abe3e3649a272fe634ee5b2612"><div class="ttname"><a href="namespacev8_1_1internal.html#a667827abe3e3649a272fe634ee5b2612">v8::internal::UseGenericWasmToJSWrapper</a></div><div class="ttdeci">bool UseGenericWasmToJSWrapper(wasm::ImportCallKind kind, const wasm::CanonicalSig *sig, wasm::Suspend suspend)</div><div class="ttdef"><b>Definition</b> <a href="#l02567">wasm-objects.cc:2567</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a67a321483bf059e8447957a469e2896b"><div class="ttname"><a href="namespacev8_1_1internal.html#a67a321483bf059e8447957a469e2896b">v8::internal::globals_start</a></div><div class="ttdeci">kMemory0SizeOffset Address kNewAllocationLimitAddressOffset Address kOldAllocationLimitAddressOffset globals_start</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00204">wasm-objects-inl.h:204</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a67a51b6314a9bc8a8c44c5fe14149e6c"><div class="ttname"><a href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">v8::internal::key</a></div><div class="ttdeci">int32_t key</div><div class="ttdef"><b>Definition</b> <a href="external-reference_8cc_source.html#l01345">external-reference.cc:1345</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a680ace1d3e86dae2df93867132a3c160"><div class="ttname"><a href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160">v8::internal::SharedFlag</a></div><div class="ttdeci">SharedFlag</div><div class="ttdef"><b>Definition</b> <a href="backing-store_8h_source.html#l00025">backing-store.h:25</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16"><div class="ttname"><a href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16">v8::internal::SharedFlag::kShared</a></div><div class="ttdeci">@ kShared</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a68cd7a6d75e39d01877e03931678b516"><div class="ttname"><a href="namespacev8_1_1internal.html#a68cd7a6d75e39d01877e03931678b516">v8::internal::GetArrayBufferPageAllocator</a></div><div class="ttdeci">v8::PageAllocator * GetArrayBufferPageAllocator()</div><div class="ttdef"><b>Definition</b> <a href="src_2utils_2allocation_8h_source.html#l00125">allocation.h:125</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6d3f691695696e478ebb4a18ab857bfaae914d084ea4fe52636ea783ce1c1cbc0"><div class="ttname"><a href="namespacev8_1_1internal.html#a6d3f691695696e478ebb4a18ab857bfaae914d084ea4fe52636ea783ce1c1cbc0">v8::internal::InitializedFlag::kZeroInitialized</a></div><div class="ttdeci">@ kZeroInitialized</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a70e8dccefd7f6f38830c3d495df86da7"><div class="ttname"><a href="namespacev8_1_1internal.html#a70e8dccefd7f6f38830c3d495df86da7">v8::internal::memory_objects</a></div><div class="ttdeci">kMemory0SizeOffset Address kNewAllocationLimitAddressOffset Address kOldAllocationLimitAddressOffset uint8_t kGlobalsStartOffset kJumpTableStartOffset std::atomic&lt; uint32_t &gt; kTieringBudgetArrayOffset kDataSegmentStartsOffset kElementSegmentsOffset kInstanceObjectOffset memory_objects</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00234">wasm-objects-inl.h:234</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a786d7ba7a8e20ca2cf266040119a02c7"><div class="ttname"><a href="namespacev8_1_1internal.html#a786d7ba7a8e20ca2cf266040119a02c7">v8::internal::tables</a></div><div class="ttdeci">kMemory0SizeOffset Address kNewAllocationLimitAddressOffset Address kOldAllocationLimitAddressOffset uint8_t kGlobalsStartOffset kJumpTableStartOffset std::atomic&lt; uint32_t &gt; kTieringBudgetArrayOffset kDataSegmentStartsOffset kElementSegmentsOffset kInstanceObjectOffset kMemoryObjectsOffset kTaggedGlobalsBufferOffset tables</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00242">wasm-objects-inl.h:242</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a833daad0bfc17094878be96c55497d8e"><div class="ttname"><a href="namespacev8_1_1internal.html#a833daad0bfc17094878be96c55497d8e">v8::internal::DecodeI64ExceptionValue</a></div><div class="ttdeci">void DecodeI64ExceptionValue(DirectHandle&lt; FixedArray &gt; encoded_values, uint32_t *encoded_index, uint64_t *value)</div><div class="ttdef"><b>Definition</b> <a href="#l02543">wasm-objects.cc:2543</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a846c67d13ac7b1d3ba83702785d024af"><div class="ttname"><a href="namespacev8_1_1internal.html#a846c67d13ac7b1d3ba83702785d024af">v8::internal::EmptyBackingStoreBuffer</a></div><div class="ttdeci">V8_INLINE void * EmptyBackingStoreBuffer()</div><div class="ttdef"><b>Definition</b> <a href="sandbox_8h_source.html#l00336">sandbox.h:336</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a86aed8f961b5086cb7d5ae530a8770f5"><div class="ttname"><a href="namespacev8_1_1internal.html#a86aed8f961b5086cb7d5ae530a8770f5">v8::internal::SmiValuesAre31Bits</a></div><div class="ttdeci">constexpr bool SmiValuesAre31Bits()</div><div class="ttdef"><b>Definition</b> <a href="v8-internal_8h_source.html#l00208">v8-internal.h:208</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a86bca54805e1828c0927f8de7350236b"><div class="ttname"><a href="namespacev8_1_1internal.html#a86bca54805e1828c0927f8de7350236b">v8::internal::jmpbuf</a></div><div class="ttdeci">jmpbuf</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00839">wasm-objects-inl.h:839</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a8b75dab15a004e4731967a4d43d02f57"><div class="ttname"><a href="namespacev8_1_1internal.html#a8b75dab15a004e4731967a4d43d02f57">v8::internal::data_segment_starts</a></div><div class="ttdeci">kMemory0SizeOffset Address kNewAllocationLimitAddressOffset Address kOldAllocationLimitAddressOffset uint8_t kGlobalsStartOffset kJumpTableStartOffset std::atomic&lt; uint32_t &gt; kTieringBudgetArrayOffset data_segment_starts</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00221">wasm-objects-inl.h:221</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a903827dbc9c71fa8f479929e0db77a4b"><div class="ttname"><a href="namespacev8_1_1internal.html#a903827dbc9c71fa8f479929e0db77a4b">v8::internal::func_refs</a></div><div class="ttdeci">kMemory0SizeOffset Address kNewAllocationLimitAddressOffset Address kOldAllocationLimitAddressOffset uint8_t kGlobalsStartOffset kJumpTableStartOffset std::atomic&lt; uint32_t &gt; kTieringBudgetArrayOffset kDataSegmentStartsOffset kElementSegmentsOffset kInstanceObjectOffset kMemoryObjectsOffset kTaggedGlobalsBufferOffset kTablesOffset kProtectedDispatchTable0Offset kProtectedDispatchTableForImportsOffset func_refs</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00259">wasm-objects-inl.h:259</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a92ab64d42404e439be3d6a7556e32380"><div class="ttname"><a href="namespacev8_1_1internal.html#a92ab64d42404e439be3d6a7556e32380">v8::internal::Address</a></div><div class="ttdeci">Address</div><div class="ttdef"><b>Definition</b> <a href="api-callbacks-inl_8h_source.html#l00034">api-callbacks-inl.h:34</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9312a9fc987dba9376a530956f94e8fe"><div class="ttname"><a href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">v8::internal::InstanceType</a></div><div class="ttdeci">InstanceType</div><div class="ttdef"><b>Definition</b> <a href="instance-type_8h_source.html#l00105">instance-type.h:105</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a96a98d1219c08bac1c5c91ba9dacd1d4"><div class="ttname"><a href="namespacev8_1_1internal.html#a96a98d1219c08bac1c5c91ba9dacd1d4">v8::internal::MakeWeak</a></div><div class="ttdeci">Tagged&lt; MaybeWeak&lt; T &gt; &gt; MakeWeak(Tagged&lt; T &gt; value)</div><div class="ttdef"><b>Definition</b> <a href="tagged_8h_source.html#l00853">tagged.h:853</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9f5507dc03f0b35f38b119fc3285586a"><div class="ttname"><a href="namespacev8_1_1internal.html#a9f5507dc03f0b35f38b119fc3285586a">v8::internal::AllocatePageSize</a></div><div class="ttdeci">size_t AllocatePageSize()</div><div class="ttdef"><b>Definition</b> <a href="utils_2allocation_8cc_source.html#l00154">allocation.cc:154</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa3d67860d4b49aab967b47ffb6631c1a"><div class="ttname"><a href="namespacev8_1_1internal.html#aa3d67860d4b49aab967b47ffb6631c1a">v8::internal::kAdapt</a></div><div class="ttdeci">constexpr AdaptArguments kAdapt</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l02700">globals.h:2700</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa4cc6fe7d4a1473292e27590723c7543"><div class="ttname"><a href="namespacev8_1_1internal.html#aa4cc6fe7d4a1473292e27590723c7543">v8::internal::FastD2I</a></div><div class="ttdeci">int FastD2I(double x)</div><div class="ttdef"><b>Definition</b> <a href="conversions_8h_source.html#l00101">conversions.h:101</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa69aed986b3ddf45d17b27a01f2d1c56"><div class="ttname"><a href="namespacev8_1_1internal.html#aa69aed986b3ddf45d17b27a01f2d1c56">v8::internal::element_segments</a></div><div class="ttdeci">kMemory0SizeOffset Address kNewAllocationLimitAddressOffset Address kOldAllocationLimitAddressOffset uint8_t kGlobalsStartOffset kJumpTableStartOffset std::atomic&lt; uint32_t &gt; kTieringBudgetArrayOffset kDataSegmentStartsOffset element_segments</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00225">wasm-objects-inl.h:225</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9b306ced7c7f7e1cd449e20bd536cb3"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9b306ced7c7f7e1cd449e20bd536cb3">v8::internal::tagged_globals_buffer</a></div><div class="ttdeci">kMemory0SizeOffset Address kNewAllocationLimitAddressOffset Address kOldAllocationLimitAddressOffset uint8_t kGlobalsStartOffset kJumpTableStartOffset std::atomic&lt; uint32_t &gt; kTieringBudgetArrayOffset kDataSegmentStartsOffset kElementSegmentsOffset kInstanceObjectOffset kMemoryObjectsOffset tagged_globals_buffer</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00238">wasm-objects-inl.h:238</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aad3893fccd0a1a6e0ddcdf0a940428c7"><div class="ttname"><a href="namespacev8_1_1internal.html#aad3893fccd0a1a6e0ddcdf0a940428c7">v8::internal::JSParameterCount</a></div><div class="ttdeci">constexpr int JSParameterCount(int param_count_without_receiver)</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l02707">globals.h:2707</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab55855918f3529ba7ad70baf3dfbc014"><div class="ttname"><a href="namespacev8_1_1internal.html#ab55855918f3529ba7ad70baf3dfbc014">v8::internal::nullptr</a></div><div class="ttdeci">refactor address components for immediate indexing filter for tracing turbofan compilation nullptr</div><div class="ttdef"><b>Definition</b> <a href="flags_8cc_source.html#l01192">flags.cc:1192</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab9df0bf289155b5ae1d6da682adf1d6f"><div class="ttname"><a href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">v8::internal::handle</a></div><div class="ttdeci">V8_INLINE Handle&lt; T &gt; handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition</b> <a href="handles-inl_8h_source.html#l00070">handles-inl.h:70</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_abb767b639fb9b3ebabe15c8e91e99210a1201e21104cbb7ea3a7c362efcb325a3"><div class="ttname"><a href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a1201e21104cbb7ea3a7c362efcb325a3">v8::internal::WasmValueType::kI16</a></div><div class="ttdeci">@ kI16</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_abb767b639fb9b3ebabe15c8e91e99210a6c86e764d5c427a8339c3920a3c08603"><div class="ttname"><a href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210a6c86e764d5c427a8339c3920a3c08603">v8::internal::WasmValueType::kI8</a></div><div class="ttdeci">@ kI8</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_abb767b639fb9b3ebabe15c8e91e99210aafd4fc7d3d7d9d9bc84ef9f0fd3d09c3"><div class="ttname"><a href="namespacev8_1_1internal.html#abb767b639fb9b3ebabe15c8e91e99210aafd4fc7d3d7d9d9bc84ef9f0fd3d09c3">v8::internal::WasmValueType::kRefNull</a></div><div class="ttdeci">@ kRefNull</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac1a33b5fd9af1653d346746cdb5c1ac0"><div class="ttname"><a href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">v8::internal::value</a></div><div class="ttdeci">return value</div><div class="ttdef"><b>Definition</b> <a href="map-inl_8h_source.html#l00870">map-inl.h:870</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac2e67965c23f31e787267da33347b3d7"><div class="ttname"><a href="namespacev8_1_1internal.html#ac2e67965c23f31e787267da33347b3d7">v8::internal::IsMinusZero</a></div><div class="ttdeci">static bool IsMinusZero(double value)</div><div class="ttdef"><b>Definition</b> <a href="conversions_8h_source.html#l00224">conversions.h:224</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acdec713c25068019f935e35976f5b666"><div class="ttname"><a href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE</a></div><div class="ttdeci">UNREACHABLE()</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acf6bafb5b8483a580f375393c413ee02"><div class="ttname"><a href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">v8::internal::kNullAddress</a></div><div class="ttdeci">static constexpr Address kNullAddress</div><div class="ttdef"><b>Definition</b> <a href="v8-internal_8h_source.html#l00053">v8-internal.h:53</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ad03e50e4d15ee0da6a722254f350e7eb"><div class="ttname"><a href="namespacev8_1_1internal.html#ad03e50e4d15ee0da6a722254f350e7eb">v8::internal::kMaxInt</a></div><div class="ttdeci">constexpr int kMaxInt</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l00366">globals.h:366</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_adee95482032a93e07f59341fed5c909f"><div class="ttname"><a href="namespacev8_1_1internal.html#adee95482032a93e07f59341fed5c909f">v8::internal::is_shared</a></div><div class="ttdeci">JSArrayBuffer::IsDetachableBit is_shared</div><div class="ttdef"><b>Definition</b> <a href="js-array-buffer-inl_8h_source.html#l00180">js-array-buffer-inl.h:180</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_adfd398598d5cab5022712cef2cb18ea7"><div class="ttname"><a href="namespacev8_1_1internal.html#adfd398598d5cab5022712cef2cb18ea7">v8::internal::instance_object</a></div><div class="ttdeci">kMemory0SizeOffset Address kNewAllocationLimitAddressOffset Address kOldAllocationLimitAddressOffset uint8_t kGlobalsStartOffset kJumpTableStartOffset std::atomic&lt; uint32_t &gt; kTieringBudgetArrayOffset kDataSegmentStartsOffset kElementSegmentsOffset instance_object</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00230">wasm-objects-inl.h:230</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae9b3d70a0b2f7c3c669d187fd9a9dae2"><div class="ttname"><a href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">v8::internal::kMaxUInt32</a></div><div class="ttdeci">constexpr uint32_t kMaxUInt32</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l00379">globals.h:379</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aea9d736830d86242c4e1cb59a371d3a6"><div class="ttname"><a href="namespacev8_1_1internal.html#aea9d736830d86242c4e1cb59a371d3a6">v8::internal::IsNull</a></div><div class="ttdeci">kInstanceDescriptorsOffset kTransitionsOrPrototypeInfoOffset IsNull(value)||IsJSProxy(value)||IsWasmObject(value)||(IsJSObject(value) &amp;&amp;(HeapLayout</div><div class="ttdef"><b>Definition</b> <a href="map-inl_8h_source.html#l00063">map-inl.h:63</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af7ebacf07d7eaed3247cbd3fca3a35e6"><div class="ttname"><a href="namespacev8_1_1internal.html#af7ebacf07d7eaed3247cbd3fca3a35e6">v8::internal::EncodeI64ExceptionValue</a></div><div class="ttdeci">void EncodeI64ExceptionValue(DirectHandle&lt; FixedArray &gt; encoded_values, uint32_t *encoded_index, uint64_t value)</div><div class="ttdef"><b>Definition</b> <a href="#l02528">wasm-objects.cc:2528</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afb53db8cc7fb48b96a2be12004cdcb10"><div class="ttname"><a href="namespacev8_1_1internal.html#afb53db8cc7fb48b96a2be12004cdcb10">v8::internal::tagged_buffer</a></div><div class="ttdeci">tagged_buffer</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00109">wasm-objects-inl.h:109</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aff82af2c2f7b200915e30bcfedca6f85"><div class="ttname"><a href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">v8::internal::Cast</a></div><div class="ttdeci">Tagged&lt; To &gt; Cast(Tagged&lt; From &gt; value, const v8::SourceLocation &amp;loc=INIT_SOURCE_LOCATION_IN_DEBUG)</div><div class="ttdef"><b>Definition</b> <a href="casting_8h_source.html#l00148">casting.h:148</a></div></div>
<div class="ttc" id="anamespacev8_html"><div class="ttname"><a href="namespacev8.html">v8</a></div><div class="ttdef"><b>Definition</b> <a href="api-arguments-inl_8h_source.html#l00017">api-arguments-inl.h:17</a></div></div>
<div class="ttc" id="anamespacev8_html_a13596ed4ca024abd4790ec46b62c2097"><div class="ttname"><a href="namespacev8.html#a13596ed4ca024abd4790ec46b62c2097">v8::kReleaseStore</a></div><div class="ttdeci">static constexpr ReleaseStoreTag kReleaseStore</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l02835">globals.h:2835</a></div></div>
<div class="ttc" id="anamespacev8_html_a25d2bd830a15c10ed892862df4c7f2eb"><div class="ttname"><a href="namespacev8.html#a25d2bd830a15c10ed892862df4c7f2eb">v8::Handle</a></div><div class="ttdeci">Local&lt; T &gt; Handle</div><div class="ttdef"><b>Definition</b> <a href="v8-local-handle_8h_source.html#l00618">v8-local-handle.h:618</a></div></div>
<div class="ttc" id="anamespacewasm_html"><div class="ttname"><a href="namespacewasm.html">wasm</a></div><div class="ttdef"><b>Definition</b> <a href="c-api_8cc_source.html#l00090">c-api.cc:90</a></div></div>
<div class="ttc" id="aobject-macros-undef_8h_html"><div class="ttname"><a href="object-macros-undef_8h.html">object-macros-undef.h</a></div></div>
<div class="ttc" id="aobject-macros_8h_html"><div class="ttname"><a href="object-macros_8h.html">object-macros.h</a></div></div>
<div class="ttc" id="aobject-macros_8h_html_a9231f70a649a71a193851bbd81d05010"><div class="ttname"><a href="object-macros_8h.html#a9231f70a649a71a193851bbd81d05010">CONDITIONAL_WRITE_BARRIER</a></div><div class="ttdeci">#define CONDITIONAL_WRITE_BARRIER(object, offset, value, mode)</div><div class="ttdef"><b>Definition</b> <a href="object-macros_8h_source.html#l00707">object-macros.h:707</a></div></div>
<div class="ttc" id="aobject-macros_8h_html_af3b897121626563e23614c667e3f754a"><div class="ttname"><a href="object-macros_8h.html#af3b897121626563e23614c667e3f754a">RELEASE_WRITE_INT32_FIELD</a></div><div class="ttdeci">#define RELEASE_WRITE_INT32_FIELD(p, offset, value)</div><div class="ttdef"><b>Definition</b> <a href="object-macros_8h_source.html#l00843">object-macros.h:843</a></div></div>
<div class="ttc" id="aobjects-inl_8h_html"><div class="ttname"><a href="objects-inl_8h.html">objects-inl.h</a></div></div>
<div class="ttc" id="aoddball_8h_html"><div class="ttname"><a href="oddball_8h.html">oddball.h</a></div></div>
<div class="ttc" id="aregexp-bytecode-peephole_8cc_html_ae6409a32d85daa404e52072329e0a5ad"><div class="ttname"><a href="regexp-bytecode-peephole_8cc.html#ae6409a32d85daa404e52072329e0a5ad">new_length</a></div><div class="ttdeci">int new_length</div><div class="ttdef"><b>Definition</b> <a href="regexp-bytecode-peephole_8cc_source.html#l00028">regexp-bytecode-peephole.cc:28</a></div></div>
<div class="ttc" id="aroots-inl_8h_html"><div class="ttname"><a href="roots-inl_8h.html">roots-inl.h</a></div></div>
<div class="ttc" id="asetup-heap-internal_8cc_html_a439227feff9d7f55384e8780cfc2eb82"><div class="ttname"><a href="setup-heap-internal_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition</b> <a href="setup-heap-internal_8cc_source.html#l00126">setup-heap-internal.cc:126</a></div></div>
<div class="ttc" id="ashared-function-info_8h_html"><div class="ttname"><a href="shared-function-info_8h.html">shared-function-info.h</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a0d093cb749cfc7ab5993726392df681f"><div class="ttname"><a href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a></div><div class="ttdeci">#define FATAL(...)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2logging_8h_source.html#l00047">logging.h:47</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a16b382527f19b805fc8f856668f2270b"><div class="ttname"><a href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a></div><div class="ttdeci">#define DCHECK_LE(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2logging_8h_source.html#l00490">logging.h:490</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a2209830df6b59d1ec1fdf66b9352924f"><div class="ttname"><a href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a></div><div class="ttdeci">#define DCHECK_NULL(val)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2logging_8h_source.html#l00491">logging.h:491</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a2c0c4cea27d0690467662bb05131b2af"><div class="ttname"><a href="src_2base_2logging_8h.html#a2c0c4cea27d0690467662bb05131b2af">CHECK_IMPLIES</a></div><div class="ttdeci">#define CHECK_IMPLIES(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2logging_8h_source.html#l00124">logging.h:124</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a45a0717f39b7011dc823c1fe7b83e6fc"><div class="ttname"><a href="src_2base_2logging_8h.html#a45a0717f39b7011dc823c1fe7b83e6fc">CHECK_LT</a></div><div class="ttdeci">#define CHECK_LT(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a56e883b55c80205b4d1727679c68b2bd"><div class="ttname"><a href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a></div><div class="ttdeci">#define CHECK_LE(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a7b9f9517fedacc2a1a56c2bbb9d03688"><div class="ttname"><a href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a></div><div class="ttdeci">#define DCHECK_NOT_NULL(val)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2logging_8h_source.html#l00492">logging.h:492</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a96a75539aa82216cdde2250a11126ea0"><div class="ttname"><a href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a></div><div class="ttdeci">#define DCHECK_IMPLIES(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2logging_8h_source.html#l00493">logging.h:493</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a986dc8f4ec6dcd0644efe205c13f8eb7"><div class="ttname"><a href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a></div><div class="ttdeci">#define DCHECK_NE(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2logging_8h_source.html#l00486">logging.h:486</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aa958a8a4e5dda3abaa031977268ae60e"><div class="ttname"><a href="src_2base_2logging_8h.html#aa958a8a4e5dda3abaa031977268ae60e">CHECK_NE</a></div><div class="ttdeci">#define CHECK_NE(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aabec5c3b7a8628298a25f044dcf89c25"><div class="ttname"><a href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a></div><div class="ttdeci">#define DCHECK_GE(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2logging_8h_source.html#l00488">logging.h:488</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aca32614b4d2aea7dd9abdeb222bf02f3"><div class="ttname"><a href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a></div><div class="ttdeci">#define CHECK_EQ(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_ae17f8119c108cf3070bad3449c7e0006"><div class="ttname"><a href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a></div><div class="ttdeci">#define DCHECK(condition)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2logging_8h_source.html#l00482">logging.h:482</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af1a711c8d5520dff78858ddefd2ad668"><div class="ttname"><a href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a></div><div class="ttdeci">#define DCHECK_LT(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2logging_8h_source.html#l00489">logging.h:489</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2logging_8h_source.html#l00485">logging.h:485</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_afd957f297df7e9ee36c46185e961485f"><div class="ttname"><a href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a></div><div class="ttdeci">#define DCHECK_GT(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2logging_8h_source.html#l00487">logging.h:487</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_a280b0798f270f4b3f361c9ab64832956"><div class="ttname"><a href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a></div><div class="ttdeci">#define USE(...)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2macros_8h_source.html#l00281">macros.h:281</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_a5113f5db9eec9c30ecea57b8d4175f2d"><div class="ttname"><a href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a></div><div class="ttdeci">constexpr T RoundUp(T x, intptr_t m)</div><div class="ttdef"><b>Definition</b> <a href="src_2base_2macros_8h_source.html#l00375">macros.h:375</a></div></div>
<div class="ttc" id="astacks_8h_html"><div class="ttname"><a href="stacks_8h.html">stacks.h</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1WasmDispatchTableData_1_1WrapperEntry_html"><div class="ttname"><a href="structv8_1_1internal_1_1WasmDispatchTableData_1_1WrapperEntry.html">v8::internal::WasmDispatchTableData::WrapperEntry</a></div><div class="ttdef"><b>Definition</b> <a href="wasm-objects_8h_source.html#l00753">wasm-objects.h:753</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1count_html"><div class="ttname"><a href="structv8_1_1internal_1_1count.html">v8::internal::count</a></div><div class="ttdef"><b>Definition</b> <a href="v8-fast-api-calls_8h_source.html#l00567">v8-fast-api-calls.h:567</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">v8::internal::wasm::CanonicalTypeIndex</a></div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00077">value-type.h:77</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1JumpBuffer_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1JumpBuffer.html">v8::internal::wasm::JumpBuffer</a></div><div class="ttdef"><b>Definition</b> <a href="stacks_8h_source.html#l00023">stacks.h:23</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1JumpBuffer_html_ae01815403be2efcd294f92390cd01fc2"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1JumpBuffer.html#ae01815403be2efcd294f92390cd01fc2">v8::internal::wasm::JumpBuffer::StackState</a></div><div class="ttdeci">StackState</div><div class="ttdef"><b>Definition</b> <a href="stacks_8h_source.html#l00038">stacks.h:38</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1ModuleTypeIndex_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1ModuleTypeIndex.html">v8::internal::wasm::ModuleTypeIndex</a></div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00063">value-type.h:63</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1ModuleTypeIndex_html_a0f84ce35fd08770e768fa100ef0a2e3b"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1ModuleTypeIndex.html#a0f84ce35fd08770e768fa100ef0a2e3b">v8::internal::wasm::ModuleTypeIndex::Invalid</a></div><div class="ttdeci">static constexpr ModuleTypeIndex Invalid()</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00073">value-type.h:73</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1ModuleWireBytes_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1ModuleWireBytes.html">v8::internal::wasm::ModuleWireBytes</a></div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00986">wasm-module.h:986</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1ModuleWireBytes_html_aad25d74a24c1f21b337f94460ecc662c"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1ModuleWireBytes.html#aad25d74a24c1f21b337f94460ecc662c">v8::internal::wasm::ModuleWireBytes::GetNameOrNull</a></div><div class="ttdeci">WasmName GetNameOrNull(WireBytesRef ref) const</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8cc_source.html#l00188">wasm-module.cc:188</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1TypeIndex_html_a9340071636f85090c2fe2171797857c0"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#a9340071636f85090c2fe2171797857c0">v8::internal::wasm::TypeIndex::valid</a></div><div class="ttdeci">constexpr bool valid() const</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00058">value-type.h:58</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1TypeIndex_html_ad0355b4f2bc1bc8a489e4d01da40067b"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1TypeIndex.html#ad0355b4f2bc1bc8a489e4d01da40067b">v8::internal::wasm::TypeIndex::index</a></div><div class="ttdeci">uint32_t index</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l00052">value-type.h:52</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmCompilationResult_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmCompilationResult.html">v8::internal::wasm::WasmCompilationResult</a></div><div class="ttdef"><b>Definition</b> <a href="function-compiler_8h_source.html#l00062">function-compiler.h:62</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmDataSegment_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmDataSegment.html">v8::internal::wasm::WasmDataSegment</a></div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00199">wasm-module.h:199</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmDataSegment_html_a12e17e3fa84bb4207424e2b348187aa8"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmDataSegment.html#a12e17e3fa84bb4207424e2b348187aa8">v8::internal::wasm::WasmDataSegment::active</a></div><div class="ttdeci">bool active</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00213">wasm-module.h:213</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmDataSegment_html_ad002288f070d114ec32dd93c4874ee5b"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmDataSegment.html#ad002288f070d114ec32dd93c4874ee5b">v8::internal::wasm::WasmDataSegment::source</a></div><div class="ttdeci">WireBytesRef source</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00217">wasm-module.h:217</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmFunction_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmFunction.html">v8::internal::wasm::WasmFunction</a></div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00078">wasm-module.h:78</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmFunction_html_a27c9b60862536d6bd685a1fb750bec1f"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmFunction.html#a27c9b60862536d6bd685a1fb750bec1f">v8::internal::wasm::WasmFunction::sig_index</a></div><div class="ttdeci">ModuleTypeIndex sig_index</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00081">wasm-module.h:81</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmFunction_html_a8b451aaa09042c8dcc935d85f4fa0422"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmFunction.html#a8b451aaa09042c8dcc935d85f4fa0422">v8::internal::wasm::WasmFunction::func_index</a></div><div class="ttdeci">uint32_t func_index</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00080">wasm-module.h:80</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmFunction_html_af8099247d56554096502101a9b7321be"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmFunction.html#af8099247d56554096502101a9b7321be">v8::internal::wasm::WasmFunction::imported</a></div><div class="ttdeci">bool imported</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00084">wasm-module.h:84</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmGlobal_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html">v8::internal::wasm::WasmGlobal</a></div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00090">wasm-module.h:90</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmGlobal_html_a24043583c0a876cc3c838259974492f5"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html#a24043583c0a876cc3c838259974492f5">v8::internal::wasm::WasmGlobal::imported</a></div><div class="ttdeci">bool imported</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00102">wasm-module.h:102</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmGlobal_html_a41c558eeba7d915933647fdbdb1daf41"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html#a41c558eeba7d915933647fdbdb1daf41">v8::internal::wasm::WasmGlobal::index</a></div><div class="ttdeci">uint32_t index</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00096">wasm-module.h:96</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmGlobal_html_a542230c2ed200a1e8a0c6d1423a9426a"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html#a542230c2ed200a1e8a0c6d1423a9426a">v8::internal::wasm::WasmGlobal::offset</a></div><div class="ttdeci">uint32_t offset</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00099">wasm-module.h:99</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmGlobal_html_a65b8d04d9022b2619f9bc51256d6946e"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html#a65b8d04d9022b2619f9bc51256d6946e">v8::internal::wasm::WasmGlobal::type</a></div><div class="ttdeci">ValueType type</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00091">wasm-module.h:91</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmGlobal_html_ab337075faef641441d4180f20d0a9365"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmGlobal.html#ab337075faef641441d4180f20d0a9365">v8::internal::wasm::WasmGlobal::mutability</a></div><div class="ttdeci">bool mutability</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00092">wasm-module.h:92</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache_1_1CacheKey_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache_1_1CacheKey.html">v8::internal::wasm::WasmImportWrapperCache::CacheKey</a></div><div class="ttdef"><b>Definition</b> <a href="wasm-import-wrapper-cache_8h_source.html#l00026">wasm-import-wrapper-cache.h:26</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmMemory_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmMemory.html">v8::internal::wasm::WasmMemory</a></div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00136">wasm-module.h:136</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmMemory_html_a2f28747332d5adbb45a11c870b46c24c"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmMemory.html#a2f28747332d5adbb45a11c870b46c24c">v8::internal::wasm::WasmMemory::bounds_checks</a></div><div class="ttdeci">BoundsCheckStrategy bounds_checks</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00158">wasm-module.h:158</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">v8::internal::wasm::WasmModule</a></div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00686">wasm-module.h:686</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a0968dbfaa7e6cf781764e9d2cf7336a5"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a0968dbfaa7e6cf781764e9d2cf7336a5">v8::internal::wasm::WasmModule::lazily_generated_names</a></div><div class="ttdeci">LazilyGeneratedNames lazily_generated_names</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00751">wasm-module.h:751</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a203c3dead384ed9378fabac21ef51c52"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a203c3dead384ed9378fabac21ef51c52">v8::internal::wasm::WasmModule::canonical_type_id</a></div><div class="ttdeci">CanonicalTypeIndex canonical_type_id(ModuleTypeIndex index) const</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00817">wasm-module.h:817</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a3afd8a65f37ef25ae73380555291ce94"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a3afd8a65f37ef25ae73380555291ce94">v8::internal::wasm::WasmModule::has_signature</a></div><div class="ttdeci">bool has_signature(ModuleTypeIndex index) const</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00832">wasm-module.h:832</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a4d7f2eb3c584f9a7b9d79754dd29a315"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a4d7f2eb3c584f9a7b9d79754dd29a315">v8::internal::wasm::WasmModule::has_array</a></div><div class="ttdeci">bool has_array(ModuleTypeIndex index) const</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00865">wasm-module.h:865</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a7871ace0ad8518a7de0c52ac35e43eb2"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a7871ace0ad8518a7de0c52ac35e43eb2">v8::internal::wasm::WasmModule::origin</a></div><div class="ttdeci">const ModuleOrigin origin</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00750">wasm-module.h:750</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a79b743888793de4a17ae53dd93988de6"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a79b743888793de4a17ae53dd93988de6">v8::internal::wasm::WasmModule::functions</a></div><div class="ttdeci">std::vector&lt; WasmFunction &gt; functions</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00730">wasm-module.h:730</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a80ed14bf76cb65cc93c6c9ba1b56f75c"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a80ed14bf76cb65cc93c6c9ba1b56f75c">v8::internal::wasm::WasmModule::canonical_sig_id</a></div><div class="ttdeci">CanonicalTypeIndex canonical_sig_id(ModuleTypeIndex index) const</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00843">wasm-module.h:843</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a81b4b2b056e744758f875acafe4c909a"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a81b4b2b056e744758f875acafe4c909a">v8::internal::wasm::WasmModule::num_imported_functions</a></div><div class="ttdeci">uint32_t num_imported_functions</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00701">wasm-module.h:701</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_aaf7eed69c6866ffacfec579a31b9fa3d"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#aaf7eed69c6866ffacfec579a31b9fa3d">v8::internal::wasm::WasmModule::has_struct</a></div><div class="ttdeci">bool has_struct(ModuleTypeIndex index) const</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00853">wasm-module.h:853</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_ac76bdfa93432deb3dc1580b98a9b836e"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#ac76bdfa93432deb3dc1580b98a9b836e">v8::internal::wasm::WasmModule::name</a></div><div class="ttdeci">WireBytesRef name</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00717">wasm-module.h:717</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_adc0a70e660a7112df858945f38616edc"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#adc0a70e660a7112df858945f38616edc">v8::internal::wasm::WasmModule::data_segments</a></div><div class="ttdeci">std::vector&lt; WasmDataSegment &gt; data_segments</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00732">wasm-module.h:732</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmTag_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmTag.html">v8::internal::wasm::WasmTag</a></div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00111">wasm-module.h:111</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmTag_html_ab248923eacd85fe26d448e7647a9a142"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmTag.html#ab248923eacd85fe26d448e7647a9a142">v8::internal::wasm::WasmTag::sig</a></div><div class="ttdeci">const WasmTagSig * sig</div><div class="ttdef"><b>Definition</b> <a href="wasm-module_8h_source.html#l00116">wasm-module.h:116</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_a3feabb76c0ac2918798bc11ab55c6a79"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a></div><div class="ttdeci">#define TRACE_EVENT0(category_group, name)</div><div class="ttdef"><b>Definition</b> <a href="trace-event-no-perfetto_8h_source.html#l00032">trace-event-no-perfetto.h:32</a></div></div>
<div class="ttc" id="autils_2utils_8h_html"><div class="ttname"><a href="utils_2utils_8h.html">utils.h</a></div></div>
<div class="ttc" id="av8config_8h_html_a4f489f1b838163ab33f251c9e470d938"><div class="ttname"><a href="v8config_8h.html#a4f489f1b838163ab33f251c9e470d938">V8_LIKELY</a></div><div class="ttdeci">#define V8_LIKELY(condition)</div><div class="ttdef"><b>Definition</b> <a href="v8config_8h_source.html#l00650">v8config.h:650</a></div></div>
<div class="ttc" id="avalue-mirror_8cc_html_a1ca88ee8dc0e8e51d60cf01ab8e8702a"><div class="ttname"><a href="value-mirror_8cc.html#a1ca88ee8dc0e8e51d60cf01ab8e8702a">value</a></div><div class="ttdeci">std::unique_ptr&lt; ValueMirror &gt; value</div><div class="ttdef"><b>Definition</b> <a href="value-mirror_8cc_source.html#l00950">value-mirror.cc:950</a></div></div>
<div class="ttc" id="avalue-type_8h_html"><div class="ttname"><a href="value-type_8h.html">value-type.h</a></div></div>
<div class="ttc" id="avalue-type_8h_html_adf86c65c5ba682f447bce7040a35a995"><div class="ttname"><a href="value-type_8h.html#adf86c65c5ba682f447bce7040a35a995">FOREACH_WASMVALUE_CTYPES</a></div><div class="ttdeci">#define FOREACH_WASMVALUE_CTYPES(V)</div><div class="ttdef"><b>Definition</b> <a href="value-type_8h_source.html#l01164">value-type.h:1164</a></div></div>
<div class="ttc" id="avector_8h_html"><div class="ttname"><a href="vector_8h.html">vector.h</a></div></div>
<div class="ttc" id="awasm-code-manager_8h_html"><div class="ttname"><a href="wasm-code-manager_8h.html">wasm-code-manager.h</a></div></div>
<div class="ttc" id="awasm-code-pointer-table-inl_8h_html"><div class="ttname"><a href="wasm-code-pointer-table-inl_8h.html">wasm-code-pointer-table-inl.h</a></div></div>
<div class="ttc" id="awasm-compiler_8h_html"><div class="ttname"><a href="wasm-compiler_8h.html">wasm-compiler.h</a></div></div>
<div class="ttc" id="awasm-engine_8h_html"><div class="ttname"><a href="wasm-engine_8h.html">wasm-engine.h</a></div></div>
<div class="ttc" id="awasm-interpreter-inl_8h_html"><div class="ttname"><a href="wasm-interpreter-inl_8h.html">wasm-interpreter-inl.h</a></div></div>
<div class="ttc" id="awasm-interpreter-runtime_8h_html"><div class="ttname"><a href="wasm-interpreter-runtime_8h.html">wasm-interpreter-runtime.h</a></div></div>
<div class="ttc" id="awasm-limits_8h_html"><div class="ttname"><a href="wasm-limits_8h.html">wasm-limits.h</a></div></div>
<div class="ttc" id="awasm-module_8h_html"><div class="ttname"><a href="wasm-module_8h.html">wasm-module.h</a></div></div>
<div class="ttc" id="awasm-objects-inl_8h_html"><div class="ttname"><a href="wasm-objects-inl_8h.html">wasm-objects-inl.h</a></div></div>
<div class="ttc" id="awasm-objects_8cc_html_a0979779f556ee0d06534c86c91092716"><div class="ttname"><a href="wasm-objects_8cc.html#a0979779f556ee0d06534c86c91092716">CASE_TYPE</a></div><div class="ttdeci">#define CASE_TYPE(valuetype, ctype)</div></div>
<div class="ttc" id="awasm-objects_8cc_html_a21efa1f26601b2d6f6839765ebc71df9"><div class="ttname"><a href="wasm-objects_8cc.html#a21efa1f26601b2d6f6839765ebc71df9">TRACE_IFT</a></div><div class="ttdeci">#define TRACE_IFT(...)</div><div class="ttdef"><b>Definition</b> <a href="#l00054">wasm-objects.cc:54</a></div></div>
<div class="ttc" id="awasm-objects_8h_html"><div class="ttname"><a href="wasm-objects_8h.html">wasm-objects.h</a></div></div>
<div class="ttc" id="awasm-subtyping_8h_html"><div class="ttname"><a href="wasm-subtyping_8h.html">wasm-subtyping.h</a></div></div>
<div class="ttc" id="awasm-value_8h_html"><div class="ttname"><a href="wasm-value_8h.html">wasm-value.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_2b581e8501b9ee14adb2dc81ebf46f49.html">wasm</a></li><li class="navelem"><a class="el" href="wasm-objects_8cc.html">wasm-objects.cc</a></li>
    <li class="footer">Generated on Thu Apr 3 2025 09:56:22 for v8 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
