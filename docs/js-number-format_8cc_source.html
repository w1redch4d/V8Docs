<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>v8: src/objects/js-number-format.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="v8.svg"/></td>
  <td id="projectalign">
   <div id="projectname">v8
   </div>
   <div id="projectbrief">V8 is Google’s open source high-performance JavaScript and WebAssembly engine, written in C++. It is used in Chrome and in Node.js, among others. It implements ECMAScript and WebAssembly, and runs on Windows, macOS, and Linux systems that use x64, IA-32, or ARM processors. V8 can be embedded into any C++ application.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('js-number-format_8cc_source.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">js-number-format.cc</div></div>
</div><!--header-->
<div class="contents">
<a href="js-number-format_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">// Copyright 2018 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#ifndef V8_INTL_SUPPORT</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#error Internationalization is expected to be enabled.</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#endif  </span><span class="comment">// V8_INTL_SUPPORT</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span> </div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &quot;<a class="code" href="js-number-format_8h.html">src/objects/js-number-format.h</a>&quot;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span> </div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span> </div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &quot;<a class="code" href="execution_2isolate_8h.html">src/execution/isolate.h</a>&quot;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &quot;<a class="code" href="conversions_8h.html">src/numbers/conversions.h</a>&quot;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;<a class="code" href="intl-objects_8h.html">src/objects/intl-objects.h</a>&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;<a class="code" href="js-number-format-inl_8h.html">src/objects/js-number-format-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &quot;<a class="code" href="managed-inl_8h.html">src/objects/managed-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &quot;<a class="code" href="objects-inl_8h.html">src/objects/objects-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &quot;<a class="code" href="option-utils_8h.html">src/objects/option-utils.h</a>&quot;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &quot;<a class="code" href="char-predicates-inl_8h.html">src/strings/char-predicates-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &quot;unicode/currunit.h&quot;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;unicode/locid.h&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &quot;unicode/numberformatter.h&quot;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;unicode/numberrangeformatter.h&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &quot;unicode/numsys.h&quot;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;unicode/ucurr.h&quot;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;unicode/uloc.h&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &quot;unicode/unumberformatter.h&quot;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &quot;unicode/uvernum.h&quot;</span>  <span class="comment">// for U_ICU_VERSION_MAJOR_NUM</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span> </div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacev8.html">v8</a> {</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="keyword">namespace </span><a class="code hl_variable" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a> {</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span> </div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span> </div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="comment">// This is to work around ICU&#39;s comparison operators not being compliant with</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="comment">// clang&#39;s -Wambiguous-reversed-operator in &gt;=C++20.</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno"><a class="line" href="js-number-format_8cc.html#ab2ecf3c1fc23c8a70e1057b4374c6c76">   39</a></span><span class="preprocessor">#define AVOID_AMBIGUOUS_OP_WARNING(x) *static_cast&lt;icu::UObject*&gt;(&amp;x)</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span> </div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="comment">// [[Style]] is one of the values &quot;decimal&quot;, &quot;percent&quot;, &quot;currency&quot;,</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="comment">// or &quot;unit&quot; identifying the style of the number format.</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="keyword">enum class</span> Style { DECIMAL, PERCENT, CURRENCY, UNIT };</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span> </div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="comment">// [[CurrencyDisplay]] is one of the values &quot;code&quot;, &quot;symbol&quot;, &quot;name&quot;,</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="comment">// or &quot;narrowSymbol&quot; identifying the display of the currency number format.</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="keyword">enum class</span> CurrencyDisplay {</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>  CODE,</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>  SYMBOL,</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>  <a class="code hl_define" href="wasm-features_8h.html#a2d0852eb438b29a423ea08b97ab45fac">NAME</a>,</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>  NARROW_SYMBOL,</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>};</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span> </div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="comment">// [[CurrencySign]] is one of the String values &quot;standard&quot; or &quot;accounting&quot;,</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="comment">// specifying whether to render negative numbers in accounting format, often</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="comment">// signified by parenthesis. It is only used when [[Style]] has the value</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="comment">// &quot;currency&quot; and when [[SignDisplay]] is not &quot;never&quot;.</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span><span class="keyword">enum class</span> CurrencySign {</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>  STANDARD,</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>  ACCOUNTING,</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>};</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span> </div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="comment">// [[UnitDisplay]] is one of the String values &quot;short&quot;, &quot;narrow&quot;, or &quot;long&quot;,</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="comment">// specifying whether to display the unit as a symbol, narrow symbol, or</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span><span class="comment">// localized long name if formatting with the &quot;unit&quot; style. It is</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span><span class="comment">// only used when [[Style]] has the value &quot;unit&quot;.</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><span class="keyword">enum class</span> UnitDisplay {</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>  SHORT,</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>  NARROW,</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>  <a class="code hl_typedef" href="win32-headers_8h.html#a2a3e0cda5f1249bef6db47c5eb8e3813">LONG</a>,</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>};</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span> </div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span><span class="comment">// [[Notation]] is one of the String values &quot;standard&quot;, &quot;scientific&quot;,</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span><span class="comment">// &quot;engineering&quot;, or &quot;compact&quot;, specifying whether the number should be</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span><span class="comment">// displayed without scaling, scaled to the units place with the power of ten</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><span class="comment">// in scientific notation, scaled to the nearest thousand with the power of</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span><span class="comment">// ten in scientific notation, or scaled to the nearest locale-dependent</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span><span class="comment">// compact decimal notation power of ten with the corresponding compact</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><span class="comment">// decimal notation affix.</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span> </div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="keyword">enum class</span> Notation {</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>  STANDARD,</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>  SCIENTIFIC,</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>  ENGINEERING,</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>  COMPACT,</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>};</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span> </div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span><span class="comment">// [[CompactDisplay]] is one of the String values &quot;short&quot; or &quot;long&quot;,</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span><span class="comment">// specifying whether to display compact notation affixes in short form (&quot;5K&quot;)</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span><span class="comment">// or long form (&quot;5 thousand&quot;) if formatting with the &quot;compact&quot; notation. It</span></div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span><span class="comment">// is only used when [[Notation]] has the value &quot;compact&quot;.</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span><span class="keyword">enum class</span> CompactDisplay {</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>  SHORT,</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>  <a class="code hl_typedef" href="win32-headers_8h.html#a2a3e0cda5f1249bef6db47c5eb8e3813">LONG</a>,</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>};</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span> </div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span><span class="comment">// [[SignDisplay]] is one of the String values &quot;auto&quot;, &quot;always&quot;, &quot;never&quot;, or</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span><span class="comment">// &quot;exceptZero&quot;, specifying whether to show the sign on negative numbers</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span><span class="comment">// only, positive and negative numbers including zero, neither positive nor</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span><span class="comment">// negative numbers, or positive and negative numbers but not zero.</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span><span class="keyword">enum class</span> SignDisplay {</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>  AUTO,</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>  ALWAYS,</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>  NEVER,</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>  EXCEPT_ZERO,</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>  NEGATIVE,</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>};</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span> </div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span><span class="comment">// [[UseGrouping]] is ....</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span><span class="keyword">enum class</span> UseGrouping {</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>  OFF,</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>  MIN2,</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>  AUTO,</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>  ALWAYS,</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>};</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span> </div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>UNumberUnitWidth ToUNumberUnitWidth(CurrencyDisplay currency_display) {</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>  <span class="keywordflow">switch</span> (currency_display) {</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    <span class="keywordflow">case</span> CurrencyDisplay::SYMBOL:</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>      <span class="keywordflow">return</span> UNumberUnitWidth::UNUM_UNIT_WIDTH_SHORT;</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    <span class="keywordflow">case</span> CurrencyDisplay::CODE:</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>      <span class="keywordflow">return</span> UNumberUnitWidth::UNUM_UNIT_WIDTH_ISO_CODE;</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>    <span class="keywordflow">case</span> CurrencyDisplay::NAME:</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>      <span class="keywordflow">return</span> UNumberUnitWidth::UNUM_UNIT_WIDTH_FULL_NAME;</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <span class="keywordflow">case</span> CurrencyDisplay::NARROW_SYMBOL:</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>      <span class="keywordflow">return</span> UNumberUnitWidth::UNUM_UNIT_WIDTH_NARROW;</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>  }</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>}</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span> </div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>UNumberUnitWidth ToUNumberUnitWidth(UnitDisplay unit_display) {</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>  <span class="keywordflow">switch</span> (unit_display) {</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    <span class="keywordflow">case</span> UnitDisplay::SHORT:</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>      <span class="keywordflow">return</span> UNumberUnitWidth::UNUM_UNIT_WIDTH_SHORT;</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="keywordflow">case</span> UnitDisplay::LONG:</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>      <span class="keywordflow">return</span> UNumberUnitWidth::UNUM_UNIT_WIDTH_FULL_NAME;</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <span class="keywordflow">case</span> UnitDisplay::NARROW:</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>      <span class="keywordflow">return</span> UNumberUnitWidth::UNUM_UNIT_WIDTH_NARROW;</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>  }</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>}</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span> </div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>UNumberSignDisplay ToUNumberSignDisplay(SignDisplay sign_display,</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>                                        CurrencySign currency_sign) {</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>  <span class="keywordflow">switch</span> (sign_display) {</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    <span class="keywordflow">case</span> SignDisplay::AUTO:</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>      <span class="keywordflow">if</span> (currency_sign == CurrencySign::ACCOUNTING) {</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>        <span class="keywordflow">return</span> UNumberSignDisplay::UNUM_SIGN_ACCOUNTING;</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>      }</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>      <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(currency_sign == CurrencySign::STANDARD);</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>      <span class="keywordflow">return</span> UNumberSignDisplay::UNUM_SIGN_AUTO;</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    <span class="keywordflow">case</span> SignDisplay::NEVER:</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>      <span class="keywordflow">return</span> UNumberSignDisplay::UNUM_SIGN_NEVER;</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    <span class="keywordflow">case</span> SignDisplay::ALWAYS:</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>      <span class="keywordflow">if</span> (currency_sign == CurrencySign::ACCOUNTING) {</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>        <span class="keywordflow">return</span> UNumberSignDisplay::UNUM_SIGN_ACCOUNTING_ALWAYS;</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>      }</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>      <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(currency_sign == CurrencySign::STANDARD);</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>      <span class="keywordflow">return</span> UNumberSignDisplay::UNUM_SIGN_ALWAYS;</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    <span class="keywordflow">case</span> SignDisplay::EXCEPT_ZERO:</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>      <span class="keywordflow">if</span> (currency_sign == CurrencySign::ACCOUNTING) {</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>        <span class="keywordflow">return</span> UNumberSignDisplay::UNUM_SIGN_ACCOUNTING_EXCEPT_ZERO;</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>      }</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>      <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(currency_sign == CurrencySign::STANDARD);</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>      <span class="keywordflow">return</span> UNumberSignDisplay::UNUM_SIGN_EXCEPT_ZERO;</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    <span class="keywordflow">case</span> SignDisplay::NEGATIVE:</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>      <span class="keywordflow">if</span> (currency_sign == CurrencySign::ACCOUNTING) {</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>        <span class="keywordflow">return</span> UNumberSignDisplay::UNUM_SIGN_ACCOUNTING_NEGATIVE;</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>      }</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>      <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(currency_sign == CurrencySign::STANDARD);</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>      <span class="keywordflow">return</span> UNumberSignDisplay::UNUM_SIGN_NEGATIVE;</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>  }</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>}</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span> </div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>icu::number::Notation ToICUNotation(Notation notation,</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>                                    CompactDisplay compact_display) {</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>  <span class="keywordflow">switch</span> (notation) {</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    <span class="keywordflow">case</span> Notation::STANDARD:</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>      <span class="keywordflow">return</span> icu::number::Notation::simple();</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    <span class="keywordflow">case</span> Notation::SCIENTIFIC:</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>      <span class="keywordflow">return</span> icu::number::Notation::scientific();</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    <span class="keywordflow">case</span> Notation::ENGINEERING:</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>      <span class="keywordflow">return</span> icu::number::Notation::engineering();</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <span class="comment">// 29. If notation is &quot;compact&quot;, then</span></div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    <span class="keywordflow">case</span> Notation::COMPACT:</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>      <span class="comment">// 29. a. Set numberFormat.[[CompactDisplay]] to compactDisplay.</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>      <span class="keywordflow">if</span> (compact_display == CompactDisplay::SHORT) {</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>        <span class="keywordflow">return</span> icu::number::Notation::compactShort();</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>      }</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>      <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(compact_display == CompactDisplay::LONG);</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>      <span class="keywordflow">return</span> icu::number::Notation::compactLong();</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>  }</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>}</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span> </div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>UNumberFormatRoundingMode ToUNumberFormatRoundingMode(</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <a class="code hl_enumeration" href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134">Intl::RoundingMode</a> <a class="code hl_variable" href="js-temporal-objects_8cc.html#aeee8be5cd0606bd2de2d1e0399be7fb7">rounding_mode</a>) {</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>  <span class="keywordflow">switch</span> (<a class="code hl_variable" href="js-temporal-objects_8cc.html#aeee8be5cd0606bd2de2d1e0399be7fb7">rounding_mode</a>) {</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134af8dcb6e55d5a46167c82507ea027848e">Intl::RoundingMode::kCeil</a>:</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>      <span class="keywordflow">return</span> UNumberFormatRoundingMode::UNUM_ROUND_CEILING;</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a219dd653185709793daafbe7cb7ca474">Intl::RoundingMode::kFloor</a>:</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>      <span class="keywordflow">return</span> UNumberFormatRoundingMode::UNUM_ROUND_FLOOR;</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a95e20eb827cd738ef3a2b9551135da09">Intl::RoundingMode::kExpand</a>:</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>      <span class="keywordflow">return</span> UNumberFormatRoundingMode::UNUM_ROUND_UP;</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a8681e538866553847bf291189392344e">Intl::RoundingMode::kTrunc</a>:</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>      <span class="keywordflow">return</span> UNumberFormatRoundingMode::UNUM_ROUND_DOWN;</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134ad471e97bd5d8e38b1d883328971d0db1">Intl::RoundingMode::kHalfCeil</a>:</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>      <span class="keywordflow">return</span> UNumberFormatRoundingMode::UNUM_ROUND_HALF_CEILING;</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a02b231839e1cf75e3c60f3bfda014c32">Intl::RoundingMode::kHalfFloor</a>:</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>      <span class="keywordflow">return</span> UNumberFormatRoundingMode::UNUM_ROUND_HALF_FLOOR;</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134ad4c30122f68b63cc00eecc121998a716">Intl::RoundingMode::kHalfExpand</a>:</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>      <span class="keywordflow">return</span> UNumberFormatRoundingMode::UNUM_ROUND_HALFUP;</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a2e58aeadf36bdafb4745a679e90f737b">Intl::RoundingMode::kHalfTrunc</a>:</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>      <span class="keywordflow">return</span> UNumberFormatRoundingMode::UNUM_ROUND_HALFDOWN;</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a6dd5ac7edc473d77304d95358f0a334e">Intl::RoundingMode::kHalfEven</a>:</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>      <span class="keywordflow">return</span> UNumberFormatRoundingMode::UNUM_ROUND_HALFEVEN;</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>  }</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>}</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span> </div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>UNumberGroupingStrategy ToUNumberGroupingStrategy(UseGrouping use_grouping) {</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>  <span class="keywordflow">switch</span> (use_grouping) {</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    <span class="keywordflow">case</span> UseGrouping::OFF:</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>      <span class="keywordflow">return</span> UNumberGroupingStrategy::UNUM_GROUPING_OFF;</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    <span class="keywordflow">case</span> UseGrouping::MIN2:</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>      <span class="keywordflow">return</span> UNumberGroupingStrategy::UNUM_GROUPING_MIN2;</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    <span class="keywordflow">case</span> UseGrouping::AUTO:</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>      <span class="keywordflow">return</span> UNumberGroupingStrategy::UNUM_GROUPING_AUTO;</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>    <span class="keywordflow">case</span> UseGrouping::ALWAYS:</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>      <span class="keywordflow">return</span> UNumberGroupingStrategy::UNUM_GROUPING_ON_ALIGNED;</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>  }</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>}</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span> </div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>std::map&lt;const std::string, icu::MeasureUnit&gt; CreateUnitMap() {</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>  <a class="code hl_typedef" href="namespaceunibrow.html#a67de744730c9fed24aa185ab5747772c">int32_t</a> total = icu::MeasureUnit::getAvailable(<span class="keyword">nullptr</span>, 0, status);</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_FAILURE(status));</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>  status = U_ZERO_ERROR;</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>  std::vector&lt;icu::MeasureUnit&gt; <a class="code hl_variable" href="module-compiler_8cc.html#ad70c69cb084f8c59623a841f63444b2a">units</a>(total);</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>  total = icu::MeasureUnit::getAvailable(<a class="code hl_variable" href="module-compiler_8cc.html#ad70c69cb084f8c59623a841f63444b2a">units</a>.data(), total, status);</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>  std::map&lt;const std::string, icu::MeasureUnit&gt; <a class="code hl_variable" href="js-date-time-format_8cc.html#a22ede25ca923109929a8dca3c225b2ad">map</a>;</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>  std::set&lt;std::string&gt; sanctioned(<a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a67e63e5924b051ec9a421a7180f04dbc">Intl::SanctionedSimpleUnits</a>());</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = <a class="code hl_variable" href="module-compiler_8cc.html#ad70c69cb084f8c59623a841f63444b2a">units</a>.begin(); it != <a class="code hl_variable" href="module-compiler_8cc.html#ad70c69cb084f8c59623a841f63444b2a">units</a>.end(); ++it) {</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    <span class="comment">// Need to skip none/percent</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>    <span class="keywordflow">if</span> (sanctioned.count(it-&gt;getSubtype()) &gt; 0 &amp;&amp;</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>        strcmp(<span class="stringliteral">&quot;none&quot;</span>, it-&gt;getType()) != 0) {</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>      map[it-&gt;getSubtype()] = *it;</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>    }</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>  }</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="js-date-time-format_8cc.html#a22ede25ca923109929a8dca3c225b2ad">map</a>;</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>}</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span> </div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span><span class="keyword">class </span>UnitFactory {</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span> <span class="keyword">public</span>:</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>  UnitFactory() : map_(CreateUnitMap()) {}</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>  <span class="keyword">virtual</span> ~UnitFactory() = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span> </div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>  <span class="comment">// ecma402 #sec-issanctionedsimpleunitidentifier</span></div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>  icu::MeasureUnit create(<span class="keyword">const</span> std::string&amp; unitIdentifier) {</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>    <span class="comment">// 1. If unitIdentifier is in the following list, return true.</span></div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    <span class="keyword">auto</span> found = map_.find(unitIdentifier);</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    <span class="keywordflow">if</span> (found != map_.end()) {</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>      <span class="keywordflow">return</span> found-&gt;second;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    }</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    <span class="comment">// 2. Return false.</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>    <span class="keywordflow">return</span> icu::MeasureUnit();</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>  }</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span> </div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span> <span class="keyword">private</span>:</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>  std::map&lt;const std::string, icu::MeasureUnit&gt; map_;</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>};</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span> </div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span><span class="comment">// ecma402 #sec-issanctionedsimpleunitidentifier</span></div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>icu::MeasureUnit IsSanctionedUnitIdentifier(<span class="keyword">const</span> std::string&amp; <a class="code hl_variable" href="js-temporal-objects_8cc.html#aaa0d61fcdf7a0b9f0f2b48c9946cbd10">unit</a>) {</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>  <span class="keyword">static</span> <a class="code hl_typedef" href="structv8_1_1base_1_1LazyInstance.html#a646dc09a6f18981f98a113cfbbefb8c8">base::LazyInstance&lt;UnitFactory&gt;::type</a> factory =</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>      <a class="code hl_define" href="lazy-instance_8h.html#a1e27ae5d78f6269b5cbe602f43c91377">LAZY_INSTANCE_INITIALIZER</a>;</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>  <span class="keywordflow">return</span> factory.Pointer()-&gt;create(<a class="code hl_variable" href="js-temporal-objects_8cc.html#aaa0d61fcdf7a0b9f0f2b48c9946cbd10">unit</a>);</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>}</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span> </div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span><span class="comment">// ecma402 #sec-iswellformedunitidentifier</span></div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>Maybe&lt;std::pair&lt;icu::MeasureUnit, icu::MeasureUnit&gt;&gt; IsWellFormedUnitIdentifier(</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    Isolate* isolate, <span class="keyword">const</span> std::string&amp; <a class="code hl_variable" href="js-temporal-objects_8cc.html#aaa0d61fcdf7a0b9f0f2b48c9946cbd10">unit</a>) {</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>  icu::MeasureUnit <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> = IsSanctionedUnitIdentifier(<a class="code hl_variable" href="js-temporal-objects_8cc.html#aaa0d61fcdf7a0b9f0f2b48c9946cbd10">unit</a>);</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>  icu::MeasureUnit <a class="code hl_variable" href="namespacev8_1_1internal.html#a5ec5fc6fce0e7b15af4459d68320d9c2">none</a> = icu::MeasureUnit();</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>  <span class="comment">// 1. If the result of IsSanctionedUnitIdentifier(unitIdentifier) is true,</span></div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>  <span class="comment">// then</span></div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> != <a class="code hl_define" href="js-number-format_8cc.html#ab2ecf3c1fc23c8a70e1057b4374c6c76">AVOID_AMBIGUOUS_OP_WARNING</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a5ec5fc6fce0e7b15af4459d68320d9c2">none</a>)) {</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>    <span class="comment">// a. Return true.</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    std::pair&lt;icu::MeasureUnit, icu::MeasureUnit&gt; pair(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>, <a class="code hl_variable" href="namespacev8_1_1internal.html#a5ec5fc6fce0e7b15af4459d68320d9c2">none</a>);</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    <span class="keywordflow">return</span> Just(pair);</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>  }</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>  <span class="comment">// 2. If the substring &quot;-per-&quot; does not occur exactly once in unitIdentifier,</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>  <span class="comment">// then</span></div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>  <span class="keywordtype">size_t</span> first_per = <a class="code hl_variable" href="js-temporal-objects_8cc.html#aaa0d61fcdf7a0b9f0f2b48c9946cbd10">unit</a>.find(<span class="stringliteral">&quot;-per-&quot;</span>);</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>  <span class="keywordflow">if</span> (first_per == std::string::npos ||</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>      <a class="code hl_variable" href="js-temporal-objects_8cc.html#aaa0d61fcdf7a0b9f0f2b48c9946cbd10">unit</a>.find(<span class="stringliteral">&quot;-per-&quot;</span>, first_per + 5) != std::string::npos) {</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>    <span class="comment">// a. Return false.</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>    <span class="keywordflow">return</span> Nothing&lt;std::pair&lt;icu::MeasureUnit, icu::MeasureUnit&gt;&gt;();</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>  }</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>  <span class="comment">// 3. Let numerator be the substring of unitIdentifier from the beginning to</span></div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>  <span class="comment">// just before &quot;-per-&quot;.</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>  std::string numerator = <a class="code hl_variable" href="js-temporal-objects_8cc.html#aaa0d61fcdf7a0b9f0f2b48c9946cbd10">unit</a>.substr(0, first_per);</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span> </div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>  <span class="comment">// 4. If the result of IsSanctionedUnitIdentifier(numerator) is false, then</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>  <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> = IsSanctionedUnitIdentifier(numerator);</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> == <a class="code hl_define" href="js-number-format_8cc.html#ab2ecf3c1fc23c8a70e1057b4374c6c76">AVOID_AMBIGUOUS_OP_WARNING</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a5ec5fc6fce0e7b15af4459d68320d9c2">none</a>)) {</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>    <span class="comment">// a. Return false.</span></div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>    <span class="keywordflow">return</span> Nothing&lt;std::pair&lt;icu::MeasureUnit, icu::MeasureUnit&gt;&gt;();</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>  }</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>  <span class="comment">// 5. Let denominator be the substring of unitIdentifier from just after</span></div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>  <span class="comment">// &quot;-per-&quot; to the end.</span></div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>  std::string denominator = <a class="code hl_variable" href="js-temporal-objects_8cc.html#aaa0d61fcdf7a0b9f0f2b48c9946cbd10">unit</a>.substr(first_per + 5);</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span> </div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>  <span class="comment">// 6. If the result of IsSanctionedUnitIdentifier(denominator) is false, then</span></div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>  icu::MeasureUnit den_result = IsSanctionedUnitIdentifier(denominator);</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>  <span class="keywordflow">if</span> (den_result == <a class="code hl_define" href="js-number-format_8cc.html#ab2ecf3c1fc23c8a70e1057b4374c6c76">AVOID_AMBIGUOUS_OP_WARNING</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a5ec5fc6fce0e7b15af4459d68320d9c2">none</a>)) {</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    <span class="comment">// a. Return false.</span></div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>    <span class="keywordflow">return</span> Nothing&lt;std::pair&lt;icu::MeasureUnit, icu::MeasureUnit&gt;&gt;();</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>  }</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>  <span class="comment">// 7. Return true.</span></div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>  std::pair&lt;icu::MeasureUnit, icu::MeasureUnit&gt; pair(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>, den_result);</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>  <span class="keywordflow">return</span> Just(pair);</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>}</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span> </div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span><span class="comment">// ecma-402/#sec-currencydigits</span></div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span><span class="comment">// The currency is expected to an all upper case string value.</span></div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span><span class="keywordtype">int</span> CurrencyDigits(<span class="keyword">const</span> icu::UnicodeString&amp; currency) {</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>  uint32_t fraction_digits = ucurr_getDefaultFractionDigits(</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>      <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code hl_typedef" href="namespacev8__inspector.html#a1eb8efdf7c70d986fee8e0dea03ff534">UChar</a>*<span class="keyword">&gt;</span>(currency.getBuffer()), &amp;status);</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>  <span class="comment">// For missing currency codes, default to the most common, 2</span></div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>  <span class="keywordflow">return</span> U_SUCCESS(status) ? fraction_digits : 2;</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>}</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span> </div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span><span class="keywordtype">bool</span> IsAToZ(<span class="keywordtype">char</span> ch) {</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1base.html#a993fab2c6b76cf0c19b174a0916180ec">base::IsInRange</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#ac79587af74d00515e3485d426b03caf0">AsciiAlphaToLower</a>(ch), <span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;z&#39;</span>);</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>}</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span> </div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span><span class="comment">// ecma402/#sec-iswellformedcurrencycode</span></div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span><span class="keywordtype">bool</span> IsWellFormedCurrencyCode(<span class="keyword">const</span> std::string&amp; currency) {</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>  <span class="comment">// Verifies that the input is a well-formed ISO 4217 currency code.</span></div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>  <span class="comment">// ecma402/#sec-currency-codes</span></div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>  <span class="comment">// 2. If the number of elements in normalized is not 3, return false.</span></div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>  <span class="keywordflow">if</span> (currency.length() != 3) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>  <span class="comment">// 1. Let normalized be the result of mapping currency to upper case as</span></div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>  <span class="comment">//   described in 6.1.</span></div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>  <span class="comment">// 3. If normalized contains any character that is not in</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>  <span class="comment">// the range &quot;A&quot; to &quot;Z&quot; (U+0041 to U+005A), return false.</span></div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>  <span class="comment">// 4. Return true.</span></div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>  <span class="comment">// Don&#39;t uppercase to test. It could convert invalid code into a valid one.</span></div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>  <span class="comment">// For example \u00DFP (Eszett+P) becomes SSP.</span></div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>  <span class="keywordflow">return</span> (IsAToZ(currency[0]) &amp;&amp; IsAToZ(currency[1]) &amp;&amp; IsAToZ(currency[2]));</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>}</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span> </div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span><span class="comment">// Return the style as a String.</span></div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>Handle&lt;String&gt; StyleAsString(Isolate* isolate, Style <a class="code hl_variable" href="js-duration-format_8cc.html#ae83df44ca16e6fc822a077eb5449e6c4">style</a>) {</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>  <span class="keywordflow">switch</span> (<a class="code hl_variable" href="js-duration-format_8cc.html#ae83df44ca16e6fc822a077eb5449e6c4">style</a>) {</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>    <span class="keywordflow">case</span> Style::PERCENT:</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;percent_string();</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>    <span class="keywordflow">case</span> Style::CURRENCY:</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;currency_string();</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>    <span class="keywordflow">case</span> Style::UNIT:</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;unit_string();</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    <span class="keywordflow">case</span> Style::DECIMAL:</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;decimal_string();</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>  }</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>  <a class="code hl_function" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>}</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span> </div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span><span class="comment">// Parse the &#39;currencyDisplay&#39; from the skeleton.</span></div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>Handle&lt;String&gt; CurrencyDisplayString(Isolate* isolate,</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>                                     <span class="keyword">const</span> icu::UnicodeString&amp; skeleton) {</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>  <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>  <span class="comment">// &quot;currency/TWD .00 rounding-mode-half-up unit-width-iso-code&quot;</span></div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>  <span class="keywordflow">if</span> (skeleton.indexOf(<span class="stringliteral">&quot;unit-width-iso-code&quot;</span>) &gt;= 0) {</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>    <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;code_string();</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>  }</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>  <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>  <span class="comment">// &quot;currency/TWD .00 rounding-mode-half-up unit-width-full-name;&quot;</span></div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>  <span class="keywordflow">if</span> (skeleton.indexOf(<span class="stringliteral">&quot;unit-width-full-name&quot;</span>) &gt;= 0) {</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;name_string();</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>  }</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>  <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>  <span class="comment">// &quot;currency/TWD .00 rounding-mode-half-up unit-width-narrow;</span></div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>  <span class="keywordflow">if</span> (skeleton.indexOf(<span class="stringliteral">&quot;unit-width-narrow&quot;</span>) &gt;= 0) {</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;narrowSymbol_string();</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>  }</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>  <span class="comment">// Ex: skeleton as &quot;currency/TWD .00 rounding-mode-half-up&quot;</span></div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>  <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;symbol_string();</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>}</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span> </div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>Handle&lt;Object&gt; UseGroupingFromSkeleton(Isolate* isolate,</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>                                       <span class="keyword">const</span> icu::UnicodeString&amp; skeleton) {</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>  Factory* factory = isolate-&gt;factory();</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* group = <span class="stringliteral">&quot;group-&quot;</span>;</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>  <a class="code hl_typedef" href="namespaceunibrow.html#a67de744730c9fed24aa185ab5747772c">int32_t</a> <a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a> = skeleton.indexOf(group);</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a> &gt;= 0) {</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>    <a class="code hl_define" href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(6, strlen(group));</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>    icu::UnicodeString check = skeleton.tempSubString(<a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a> + 6);</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>    <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>    <span class="comment">// .### rounding-mode-half-up group-off</span></div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>    <span class="keywordflow">if</span> (check.startsWith(<span class="stringliteral">&quot;off&quot;</span>)) {</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>      <span class="keywordflow">return</span> factory-&gt;false_value();</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>    }</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>    <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>    <span class="comment">// .### rounding-mode-half-up group-min2</span></div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>    <span class="keywordflow">if</span> (check.startsWith(<span class="stringliteral">&quot;min2&quot;</span>)) {</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;min2_string();</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>    }</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>    <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>    <span class="comment">// .### rounding-mode-half-up group-on-aligned</span></div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>    <span class="keywordflow">if</span> (check.startsWith(<span class="stringliteral">&quot;on-aligned&quot;</span>)) {</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;always_string();</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>    }</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>  }</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>  <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>  <span class="comment">// .###</span></div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>  <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;auto_string();</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>}</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span> </div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span><span class="comment">// Parse currency code from skeleton. For example, skeleton as</span></div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span><span class="comment">// &quot;currency/TWD .00 rounding-mode-half-up unit-width-full-name;&quot;</span></div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span><span class="keyword">const</span> icu::UnicodeString CurrencyFromSkeleton(</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>    <span class="keyword">const</span> icu::UnicodeString&amp; skeleton) {</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> currency[] = <span class="stringliteral">&quot;currency/&quot;</span>;</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>  <a class="code hl_typedef" href="namespaceunibrow.html#a67de744730c9fed24aa185ab5747772c">int32_t</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = skeleton.indexOf(currency);</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt; 0) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> += <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="namespaceunibrow.html#a67de744730c9fed24aa185ab5747772c">int32_t</a><span class="keyword">&gt;</span>(std::strlen(currency));</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>  <span class="keywordflow">return</span> skeleton.tempSubString(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, 3);</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>}</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span> </div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>}  <span class="comment">// namespace</span></div>
<div class="foldopen" id="foldopen00432" data-start="{" data-end="}">
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1JSNumberFormat.html#a5aef8b936f5e6b9fa7e778567d2c989d">  432</a></span><span class="keyword">const</span> icu::UnicodeString <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#a5aef8b936f5e6b9fa7e778567d2c989d">JSNumberFormat::NumberingSystemFromSkeleton</a>(</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>    <span class="keyword">const</span> icu::UnicodeString&amp; skeleton) {</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> numbering_system[] = <span class="stringliteral">&quot;numbering-system/&quot;</span>;</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>  int32_t <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = skeleton.indexOf(numbering_system);</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt; 0) <span class="keywordflow">return</span> <span class="stringliteral">&quot;latn&quot;</span>;</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> += <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(std::strlen(numbering_system));</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>  <span class="keyword">const</span> icu::UnicodeString res = skeleton.tempSubString(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = res.indexOf(<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt; 0) <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>  <span class="keywordflow">return</span> res.tempSubString(0, <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>}</div>
</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span> </div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span> </div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span><span class="comment">// Return CurrencySign as string based on skeleton.</span></div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;String&gt;</a> CurrencySignString(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>                                  <span class="keyword">const</span> icu::UnicodeString&amp; skeleton) {</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>  <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>  <span class="comment">// &quot;currency/TWD .00 rounding-mode-half-up sign-accounting-always&quot; OR</span></div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>  <span class="comment">// &quot;currency/TWD .00 rounding-mode-half-up sign-accounting-except-zero&quot;</span></div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>  <span class="keywordflow">if</span> (skeleton.indexOf(<span class="stringliteral">&quot;sign-accounting&quot;</span>) &gt;= 0) {</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>    <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;accounting_string();</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>  }</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>  <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;standard_string();</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>}</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span> </div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span><span class="comment">// Return UnitDisplay as string based on skeleton.</span></div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>Handle&lt;String&gt; UnitDisplayString(Isolate* isolate,</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>                                 <span class="keyword">const</span> icu::UnicodeString&amp; skeleton) {</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>  <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>  <span class="comment">// &quot;unit/length-meter .### rounding-mode-half-up unit-width-full-name&quot;</span></div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>  <span class="keywordflow">if</span> (skeleton.indexOf(<span class="stringliteral">&quot;unit-width-full-name&quot;</span>) &gt;= 0) {</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>    <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;long_string();</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>  }</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>  <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>  <span class="comment">// &quot;unit/length-meter .### rounding-mode-half-up unit-width-narrow&quot;.</span></div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>  <span class="keywordflow">if</span> (skeleton.indexOf(<span class="stringliteral">&quot;unit-width-narrow&quot;</span>) &gt;= 0) {</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>    <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;narrow_string();</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>  }</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>  <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>  <span class="comment">// &quot;unit/length-foot .### rounding-mode-half-up&quot;</span></div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>  <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;short_string();</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>}</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span> </div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span><span class="comment">// Parse Notation from skeleton.</span></div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>Notation NotationFromSkeleton(<span class="keyword">const</span> icu::UnicodeString&amp; skeleton) {</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>  <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>  <span class="comment">// &quot;scientific .### rounding-mode-half-up&quot;</span></div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>  <span class="keywordflow">if</span> (skeleton.indexOf(<span class="stringliteral">&quot;scientific&quot;</span>) &gt;= 0) {</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>    <span class="keywordflow">return</span> Notation::SCIENTIFIC;</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>  }</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>  <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>  <span class="comment">// &quot;engineering .### rounding-mode-half-up&quot;</span></div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>  <span class="keywordflow">if</span> (skeleton.indexOf(<span class="stringliteral">&quot;engineering&quot;</span>) &gt;= 0) {</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>    <span class="keywordflow">return</span> Notation::ENGINEERING;</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>  }</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>  <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>  <span class="comment">// &quot;compact-short .### rounding-mode-half-up&quot; or</span></div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>  <span class="comment">// &quot;compact-long .### rounding-mode-half-up</span></div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>  <span class="keywordflow">if</span> (skeleton.indexOf(<span class="stringliteral">&quot;compact-&quot;</span>) &gt;= 0) {</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>    <span class="keywordflow">return</span> Notation::COMPACT;</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>  }</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>  <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>  <span class="comment">// &quot;unit/length-foot .### rounding-mode-half-up&quot;</span></div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>  <span class="keywordflow">return</span> Notation::STANDARD;</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>}</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span> </div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>Handle&lt;String&gt; NotationAsString(Isolate* isolate, Notation notation) {</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>  <span class="keywordflow">switch</span> (notation) {</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>    <span class="keywordflow">case</span> Notation::SCIENTIFIC:</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;scientific_string();</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>    <span class="keywordflow">case</span> Notation::ENGINEERING:</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;engineering_string();</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>    <span class="keywordflow">case</span> Notation::COMPACT:</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;compact_string();</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>    <span class="keywordflow">case</span> Notation::STANDARD:</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;standard_string();</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>  }</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>  <a class="code hl_function" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>}</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span> </div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span><span class="comment">// Return CompactString as string based on skeleton.</span></div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>Handle&lt;String&gt; CompactDisplayString(Isolate* isolate,</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>                                    <span class="keyword">const</span> icu::UnicodeString&amp; skeleton) {</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>  <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>  <span class="comment">// &quot;compact-long .### rounding-mode-half-up&quot;</span></div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>  <span class="keywordflow">if</span> (skeleton.indexOf(<span class="stringliteral">&quot;compact-long&quot;</span>) &gt;= 0) {</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>    <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;long_string();</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>  }</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>  <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>  <span class="comment">// &quot;compact-short .### rounding-mode-half-up&quot;</span></div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>  <a class="code hl_define" href="logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(skeleton.indexOf(<span class="stringliteral">&quot;compact-short&quot;</span>), 0);</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>  <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;short_string();</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>}</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span> </div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span><span class="comment">// Return SignDisplay as string based on skeleton.</span></div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>Handle&lt;String&gt; SignDisplayString(Isolate* isolate,</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>                                 <span class="keyword">const</span> icu::UnicodeString&amp; skeleton) {</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>  <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>  <span class="comment">// &quot;currency/TWD .00 rounding-mode-half-up sign-never&quot;</span></div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>  <span class="keywordflow">if</span> (skeleton.indexOf(<span class="stringliteral">&quot;sign-never&quot;</span>) &gt;= 0) {</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>    <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;never_string();</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>  }</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>  <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>  <span class="comment">// &quot;.### rounding-mode-half-up sign-always&quot; or</span></div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>  <span class="comment">// &quot;currency/TWD .00 rounding-mode-half-up sign-accounting-always&quot;</span></div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>  <span class="keywordflow">if</span> (skeleton.indexOf(<span class="stringliteral">&quot;sign-always&quot;</span>) &gt;= 0 ||</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>      skeleton.indexOf(<span class="stringliteral">&quot;sign-accounting-always&quot;</span>) &gt;= 0) {</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>    <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;always_string();</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>  }</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>  <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>  <span class="comment">// &quot;currency/TWD .00 rounding-mode-half-up sign-accounting-except-zero&quot; or</span></div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>  <span class="comment">// &quot;currency/TWD .00 rounding-mode-half-up sign-except-zero&quot;</span></div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>  <span class="keywordflow">if</span> (skeleton.indexOf(<span class="stringliteral">&quot;sign-accounting-except-zero&quot;</span>) &gt;= 0 ||</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>      skeleton.indexOf(<span class="stringliteral">&quot;sign-except-zero&quot;</span>) &gt;= 0) {</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>    <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;exceptZero_string();</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>  }</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>  <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>  <span class="comment">// &quot;.### rounding-mode-half-up sign-negative&quot; or</span></div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>  <span class="comment">// &quot;currency/TWD .00 rounding-mode-half-up sign-accounting-negative&quot;</span></div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>  <span class="keywordflow">if</span> (skeleton.indexOf(<span class="stringliteral">&quot;sign-accounting-negative&quot;</span>) &gt;= 0 ||</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>      skeleton.indexOf(<span class="stringliteral">&quot;sign-negative&quot;</span>) &gt;= 0) {</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>    <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;negative_string();</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>  }</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>  <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;auto_string();</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>}</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span> </div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>}  <span class="comment">// anonymous namespace</span></div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span> </div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span><span class="comment">// Return RoundingMode as string based on skeleton.</span></div>
<div class="foldopen" id="foldopen00562" data-start="{" data-end="}">
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1JSNumberFormat.html#a4bd97644af232fa5ca579a03c9699ef3">  562</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;String&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#a4bd97644af232fa5ca579a03c9699ef3">JSNumberFormat::RoundingModeString</a>(</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> icu::UnicodeString&amp; skeleton) {</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="js-temporal-objects_8cc.html#aeee8be5cd0606bd2de2d1e0399be7fb7">rounding_mode</a> = <span class="stringliteral">&quot;rounding-mode-&quot;</span>;</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>  int32_t <a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a> = skeleton.indexOf(<a class="code hl_variable" href="js-temporal-objects_8cc.html#aeee8be5cd0606bd2de2d1e0399be7fb7">rounding_mode</a>);</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a> &gt;= 0) {</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>    <a class="code hl_define" href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(14, strlen(<a class="code hl_variable" href="js-temporal-objects_8cc.html#aeee8be5cd0606bd2de2d1e0399be7fb7">rounding_mode</a>));</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>    icu::UnicodeString check = skeleton.tempSubString(<a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a> + 14);</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span> </div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>    <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>    <span class="comment">// .### rounding-mode-ceiling</span></div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>    <span class="keywordflow">if</span> (check.startsWith(<span class="stringliteral">&quot;ceiling&quot;</span>)) {</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;ceil_string();</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>    }</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>    <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>    <span class="comment">// .### rounding-mode-down</span></div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>    <span class="keywordflow">if</span> (check.startsWith(<span class="stringliteral">&quot;down&quot;</span>)) {</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;trunc_string();</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>    }</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>    <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>    <span class="comment">// .### rounding-mode-floor</span></div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>    <span class="keywordflow">if</span> (check.startsWith(<span class="stringliteral">&quot;floor&quot;</span>)) {</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;floor_string();</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>    }</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>    <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>    <span class="comment">// .### rounding-mode-half-ceiling</span></div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>    <span class="keywordflow">if</span> (check.startsWith(<span class="stringliteral">&quot;half-ceiling&quot;</span>)) {</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;halfCeil_string();</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>    }</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>    <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>    <span class="comment">// .### rounding-mode-half-down</span></div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>    <span class="keywordflow">if</span> (check.startsWith(<span class="stringliteral">&quot;half-down&quot;</span>)) {</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;halfTrunc_string();</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>    }</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>    <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>    <span class="comment">// .### rounding-mode-half-floor</span></div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>    <span class="keywordflow">if</span> (check.startsWith(<span class="stringliteral">&quot;half-floor&quot;</span>)) {</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;halfFloor_string();</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>    }</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>    <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>    <span class="comment">// .### rounding-mode-half-up</span></div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>    <span class="keywordflow">if</span> (check.startsWith(<span class="stringliteral">&quot;half-up&quot;</span>)) {</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;halfExpand_string();</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>    }</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>    <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>    <span class="comment">// .### rounding-mode-up</span></div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>    <span class="keywordflow">if</span> (check.startsWith(<span class="stringliteral">&quot;up&quot;</span>)) {</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;expand_string();</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>    }</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>  }</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>  <span class="comment">// Ex: skeleton as</span></div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>  <span class="comment">// .###</span></div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>  <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;halfEven_string();</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>}</div>
</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span> </div>
<div class="foldopen" id="foldopen00616" data-start="{" data-end="}">
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1JSNumberFormat.html#a6ff2ca35b9e898c45bb8d09fbb9f0bd1">  616</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#a6ff2ca35b9e898c45bb8d09fbb9f0bd1">JSNumberFormat::RoundingIncrement</a>(</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> icu::UnicodeString&amp; skeleton) {</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>  int32_t cur = skeleton.indexOf(u<span class="stringliteral">&quot;precision-increment/&quot;</span>);</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>  <span class="keywordflow">if</span> (cur &lt; 0) <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;NewNumberFromInt(1);</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>  cur += 20;  <span class="comment">// length of &quot;precision-increment/&quot;</span></div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>  int32_t <a class="code hl_variable" href="js-temporal-objects_8cc.html#ac504dff76b24ab9f15536c51aec9fbbb">increment</a> = 0;</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>  <span class="keywordflow">while</span> (cur &lt; skeleton.length()) {</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>    <span class="keywordtype">char16_t</span> c = skeleton[cur++];</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>    <span class="keywordflow">if</span> (c == u<span class="charliteral">&#39;.&#39;</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespacev8_1_1internal.html#aa708eb0fac74aa68ea6f52874f24faca">IsDecimalDigit</a>(c)) <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>    <a class="code hl_variable" href="js-temporal-objects_8cc.html#ac504dff76b24ab9f15536c51aec9fbbb">increment</a> = <a class="code hl_variable" href="js-temporal-objects_8cc.html#ac504dff76b24ab9f15536c51aec9fbbb">increment</a> * 10 + (c - <span class="charliteral">&#39;0&#39;</span>);</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>  }</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>  <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;NewNumberFromInt(<a class="code hl_variable" href="js-temporal-objects_8cc.html#ac504dff76b24ab9f15536c51aec9fbbb">increment</a>);</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>}</div>
</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span> </div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span><span class="comment">// Return RoundingPriority as string based on skeleton.</span></div>
<div class="foldopen" id="foldopen00632" data-start="{" data-end="}">
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1JSNumberFormat.html#ab6a80c57d2394959eb03dc5395b7ff47">  632</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;String&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#ab6a80c57d2394959eb03dc5395b7ff47">JSNumberFormat::RoundingPriorityString</a>(</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> icu::UnicodeString&amp; skeleton) {</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>  int32_t found;</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>  <span class="comment">// If #r or @r is followed by a SPACE or in the end of line.</span></div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>  <span class="keywordflow">if</span> ((found = skeleton.indexOf(<span class="stringliteral">&quot;#r&quot;</span>)) &gt;= 0 ||</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>      (found = skeleton.indexOf(<span class="stringliteral">&quot;@r&quot;</span>)) &gt;= 0) {</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>    <span class="keywordflow">if</span> (found + 2 == skeleton.length() || skeleton[found + 2] == <span class="charliteral">&#39; &#39;</span>) {</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;morePrecision_string();</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>    }</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>  }</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>  <span class="comment">// If #s or @s is followed by a SPACE or in the end of line.</span></div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>  <span class="keywordflow">if</span> ((found = skeleton.indexOf(<span class="stringliteral">&quot;#s&quot;</span>)) &gt;= 0 ||</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>      (found = skeleton.indexOf(<span class="stringliteral">&quot;@s&quot;</span>)) &gt;= 0) {</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>    <span class="keywordflow">if</span> (found + 2 == skeleton.length() || skeleton[found + 2] == <span class="charliteral">&#39; &#39;</span>) {</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;lessPrecision_string();</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>    }</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>  }</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>  <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;auto_string();</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>}</div>
</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span> </div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span><span class="comment">// Return trailingZeroDisplay as string based on skeleton.</span></div>
<div class="foldopen" id="foldopen00653" data-start="{" data-end="}">
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1JSNumberFormat.html#aa37a9c9642871cdaccab452efdb3a0b4">  653</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;String&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#aa37a9c9642871cdaccab452efdb3a0b4">JSNumberFormat::TrailingZeroDisplayString</a>(</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> icu::UnicodeString&amp; skeleton) {</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>  int32_t found;</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>  <span class="keywordflow">if</span> ((found = skeleton.indexOf(<span class="stringliteral">&quot;/w&quot;</span>)) &gt;= 0) {</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>    <span class="keywordflow">if</span> (found + 2 == skeleton.length() || skeleton[found + 2] == <span class="charliteral">&#39; &#39;</span>) {</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;stripIfInteger_string();</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>    }</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>  }</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>  <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;auto_string();</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>}</div>
</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span> </div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span><span class="comment">// Return the minimum integer digits by counting the number of &#39;0&#39; after</span></div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span><span class="comment">// &quot;integer-width/*&quot; in the skeleton.</span></div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span><span class="comment">// Ex: Return 15 for skeleton as</span></div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span><span class="comment">// “currency/TWD .00 rounding-mode-half-up integer-width/*000000000000000”</span></div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span><span class="comment">//                                                                 1</span></div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span><span class="comment">//                                                        123456789012345</span></div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span><span class="comment">// Return default value as 1 if there are no &quot;integer-width/*&quot;.</span></div>
<div class="foldopen" id="foldopen00671" data-start="{" data-end="}">
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1JSNumberFormat.html#a1c8a2741225528613732d2dd7fdef003">  671</a></span>int32_t <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#a1c8a2741225528613732d2dd7fdef003">JSNumberFormat::MinimumIntegerDigitsFromSkeleton</a>(</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>    <span class="keyword">const</span> icu::UnicodeString&amp; skeleton) {</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>  <span class="comment">// count the number of 0 after &quot;integer-width/*&quot;</span></div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>  icu::UnicodeString search(<span class="stringliteral">&quot;integer-width/*&quot;</span>);</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>  int32_t <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = skeleton.indexOf(search);</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt; 0) <span class="keywordflow">return</span> 1;  <span class="comment">// return 1 if cannot find it.</span></div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> += search.length();</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>  int32_t matched = 0;</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>  <span class="keywordflow">while</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt; skeleton.length() &amp;&amp; skeleton[<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>] == <span class="charliteral">&#39;0&#39;</span>) {</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>    matched++;</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>    <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>++;</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>  }</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>  <a class="code hl_define" href="logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a>(matched, 0);</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>  <span class="keywordflow">return</span> matched;</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>}</div>
</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span> </div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span><span class="comment">// Return true if there are fraction digits, false if not.</span></div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span><span class="comment">// The minimum fraction digits is the number of &#39;0&#39; after &#39;.&#39; in the skeleton</span></div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span><span class="comment">// The maximum fraction digits is the number of &#39;#&#39; after the above &#39;0&#39;s plus</span></div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span><span class="comment">// the minimum fraction digits.</span></div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span><span class="comment">// For example, as skeleton “.000#### rounding-mode-half-up”</span></div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span><span class="comment">//                            123</span></div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span><span class="comment">//                               4567</span></div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span><span class="comment">// Set The minimum as 3 and maximum as 7.</span></div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span><span class="comment">// We also treat the following  special cases as both minimum and maximum are 0</span></div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span><span class="comment">// while there are no . in the skeleton:</span></div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span><span class="comment">// 1. While there are &quot;precision-integer&quot; in the skeleton.</span></div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span><span class="comment">// 2. While there are &quot;precision-increment/&quot; in the skeleton but no . after it.</span></div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span><span class="comment">// Examples:</span></div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span><span class="comment">// &quot;currency/JPY precision-integer rounding-mode-half-up&quot;</span></div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span><span class="comment">// &quot;precision-increment/2 rounding-mode-half-up&quot;</span></div>
<div class="foldopen" id="foldopen00702" data-start="{" data-end="}">
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1JSNumberFormat.html#ac48500e323f5deeb92beff04784c8955">  702</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#ac48500e323f5deeb92beff04784c8955">JSNumberFormat::FractionDigitsFromSkeleton</a>(</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>    <span class="keyword">const</span> icu::UnicodeString&amp; skeleton, int32_t* minimum, int32_t* maximum) {</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>  int32_t <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = skeleton.indexOf(<span class="stringliteral">&quot;.&quot;</span>);</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt; 0) {</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>    <span class="comment">// https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#precision</span></div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>    <span class="comment">// Note that the stem . is considered valid and is equivalent to</span></div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>    <span class="comment">// precision-integer.</span></div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>    <span class="comment">// Also, if there are &quot;precision-increment/&quot; but no &quot;.&quot; we consider both</span></div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>    <span class="comment">// minimum and maximum fraction digits as 0.</span></div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>    <span class="keywordflow">if</span> (skeleton.indexOf(<span class="stringliteral">&quot;precision-integer&quot;</span>) &gt;= 0 ||</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>        skeleton.indexOf(<span class="stringliteral">&quot;precision-increment/&quot;</span>) &gt;= 0) {</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>      *minimum = *maximum = 0;</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>    }</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>  }</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>  *minimum = 0;</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>++;  <span class="comment">// skip the &#39;.&#39;</span></div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>  <span class="keywordflow">while</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt; skeleton.length() &amp;&amp; <a class="code hl_function" href="namespacev8_1_1internal.html#aa708eb0fac74aa68ea6f52874f24faca">IsDecimalDigit</a>(skeleton[<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>])) {</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>    (*minimum)++;</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>    <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>++;</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>  }</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>  *maximum = *minimum;</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>  <span class="keywordflow">while</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt; skeleton.length() &amp;&amp; skeleton[<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>] == <span class="charliteral">&#39;#&#39;</span>) {</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>    (*maximum)++;</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>    <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>++;</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>  }</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>}</div>
</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span> </div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span><span class="comment">// Return true if there are significant digits, false if not.</span></div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span><span class="comment">// The minimum significant digits is the number of &#39;@&#39; in the skeleton</span></div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span><span class="comment">// The maximum significant digits is the number of &#39;#&#39; after these &#39;@&#39;s plus</span></div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span><span class="comment">// the minimum significant digits.</span></div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span><span class="comment">// Ex: Skeleton as &quot;@@@@@####### rounding-mode-half-up&quot;</span></div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span><span class="comment">//                  12345</span></div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span><span class="comment">//                       6789012</span></div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span><span class="comment">// Set The minimum as 5 and maximum as 12.</span></div>
<div class="foldopen" id="foldopen00740" data-start="{" data-end="}">
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1JSNumberFormat.html#abc19b179050f3da556a8e738cdf8094c">  740</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#abc19b179050f3da556a8e738cdf8094c">JSNumberFormat::SignificantDigitsFromSkeleton</a>(</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>    <span class="keyword">const</span> icu::UnicodeString&amp; skeleton, int32_t* minimum, int32_t* maximum) {</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>  int32_t <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = skeleton.indexOf(<span class="stringliteral">&quot;@&quot;</span>);</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt; 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>  *minimum = 1;</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>++;  <span class="comment">// skip the first &#39;@&#39;</span></div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>  <span class="keywordflow">while</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt; skeleton.length() &amp;&amp; skeleton[<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>] == <span class="charliteral">&#39;@&#39;</span>) {</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>    (*minimum)++;</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>    <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>++;</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>  }</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>  *maximum = *minimum;</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>  <span class="keywordflow">while</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt; skeleton.length() &amp;&amp; skeleton[<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>] == <span class="charliteral">&#39;#&#39;</span>) {</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>    (*maximum)++;</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>    <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>++;</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>  }</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>}</div>
</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span> </div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span> </div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span><span class="comment">// Ex: percent .### rounding-mode-half-up</span></div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span><span class="comment">// Special case for &quot;percent&quot;</span></div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span><span class="comment">// Ex: &quot;unit/milliliter-per-acre .### rounding-mode-half-up&quot;</span></div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span><span class="comment">// should return &quot;milliliter-per-acre&quot;.</span></div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span><span class="comment">// Ex: &quot;unit/year .### rounding-mode-half-up&quot; should return</span></div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span><span class="comment">// &quot;year&quot;.</span></div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>std::string UnitFromSkeleton(<span class="keyword">const</span> icu::UnicodeString&amp; skeleton) {</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>  std::string str;</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>  str = skeleton.toUTF8String&lt;std::string&gt;(str);</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>  std::string search(<span class="stringliteral">&quot;unit/&quot;</span>);</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>  <span class="keywordtype">size_t</span> begin = str.find(search);</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>  <span class="keywordflow">if</span> (begin == str.npos) {</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>    <span class="comment">// Special case for &quot;percent&quot;.</span></div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>    <span class="keywordflow">if</span> (str.find(<span class="stringliteral">&quot;percent&quot;</span>) != str.npos) {</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>      <span class="keywordflow">return</span> <span class="stringliteral">&quot;percent&quot;</span>;</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>    }</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>  }</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>  <span class="comment">// Ex:</span></div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>  <span class="comment">// &quot;unit/acre .### rounding-mode-half-up&quot;</span></div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>  <span class="comment">//       b</span></div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>  <span class="comment">// Ex:</span></div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>  <span class="comment">// &quot;unit/milliliter-per-acre .### rounding-mode-half-up&quot;</span></div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>  <span class="comment">//       b</span></div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>  begin += search.size();</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>  <span class="keywordflow">if</span> (begin == str.npos) {</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>  }</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>  <span class="comment">// Find the end of the subtype.</span></div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>  <span class="keywordtype">size_t</span> <a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a> = str.find(<span class="charliteral">&#39; &#39;</span>, begin);</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>  <span class="comment">// Ex:</span></div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>  <span class="comment">// &quot;unit/acre .### rounding-mode-half-up&quot;</span></div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>  <span class="comment">//       b   e</span></div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>  <span class="comment">// Ex:</span></div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>  <span class="comment">// &quot;unit/milliliter-per-acre .### rounding-mode-half-up&quot;</span></div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>  <span class="comment">//       b                  e</span></div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a> == str.npos) {</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>    <a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a> = str.size();</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>  }</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>  <span class="keywordflow">return</span> str.substr(begin, <a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a> - begin);</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>}</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span> </div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>Style StyleFromSkeleton(<span class="keyword">const</span> icu::UnicodeString&amp; skeleton) {</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>  <span class="keywordflow">if</span> (skeleton.indexOf(<span class="stringliteral">&quot;currency/&quot;</span>) &gt;= 0) {</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>    <span class="keywordflow">return</span> Style::CURRENCY;</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>  }</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>  <span class="keywordflow">if</span> (skeleton.indexOf(<span class="stringliteral">&quot;percent&quot;</span>) &gt;= 0) {</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>    <span class="comment">// percent precision-integer rounding-mode-half-up scale/100</span></div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>    <span class="keywordflow">if</span> (skeleton.indexOf(<span class="stringliteral">&quot;scale/100&quot;</span>) &gt;= 0) {</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>      <span class="keywordflow">return</span> Style::PERCENT;</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>      <span class="keywordflow">return</span> Style::UNIT;</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>    }</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>  }</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>  <span class="comment">// Before ICU68: &quot;measure-unit/&quot;, since ICU68 &quot;unit/&quot;</span></div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>  <span class="keywordflow">if</span> (skeleton.indexOf(<span class="stringliteral">&quot;unit/&quot;</span>) &gt;= 0) {</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>    <span class="keywordflow">return</span> Style::UNIT;</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>  }</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>  <span class="keywordflow">return</span> Style::DECIMAL;</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>}</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span> </div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>}  <span class="comment">// anonymous namespace</span></div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span> </div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>icu::number::UnlocalizedNumberFormatter</div>
<div class="foldopen" id="foldopen00824" data-start="{" data-end="}">
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1JSNumberFormat.html#a6b10d1840a675f40aca6cca67f2abc61">  824</a></span><a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#a6b10d1840a675f40aca6cca67f2abc61">JSNumberFormat::SetDigitOptionsToFormatter</a>(</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>    <span class="keyword">const</span> icu::number::UnlocalizedNumberFormatter&amp; settings,</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html">Intl::NumberFormatDigitOptions</a>&amp; digit_options) {</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>  icu::number::UnlocalizedNumberFormatter <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> = settings.roundingMode(</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>      ToUNumberFormatRoundingMode(digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a365dda73e8405d7077bccb470dd607a8">rounding_mode</a>));</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span> </div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>  <span class="keywordflow">if</span> (digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#adbd088b80ff32f4d4f4b5496f189ffa2">minimum_integer_digits</a> &gt; 1) {</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>    <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> = <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.integerWidth(icu::number::IntegerWidth::zeroFillTo(</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>        digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#adbd088b80ff32f4d4f4b5496f189ffa2">minimum_integer_digits</a>));</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>  }</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span> </div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>  icu::number::Precision <a class="code hl_variable" href="js-temporal-objects_8cc.html#ab7a545dec10539c521358e8d729f0709">precision</a> = icu::number::Precision::unlimited();</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>  <span class="keywordtype">bool</span> relaxed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>  <span class="keywordflow">switch</span> (digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a543929e5920bd97e031bcafd6c0df380">rounding_type</a>) {</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a175a7d1e22cce990e90c096528167d42a41a9505c24e60bd38c8d8954188da351">Intl::RoundingType::kSignificantDigits</a>:</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>      <a class="code hl_variable" href="js-temporal-objects_8cc.html#ab7a545dec10539c521358e8d729f0709">precision</a> = icu::number::Precision::minMaxSignificantDigits(</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>          digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a671c290d7264d312006706adedea180d">minimum_significant_digits</a>,</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>          digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a34c5e2dfe19eefa67ad19d5b251ef771">maximum_significant_digits</a>);</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a175a7d1e22cce990e90c096528167d42af0e0a75cea206a2f713c653c09bc7155">Intl::RoundingType::kFractionDigits</a>:</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>      <a class="code hl_variable" href="js-temporal-objects_8cc.html#ab7a545dec10539c521358e8d729f0709">precision</a> = icu::number::Precision::minMaxFraction(</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>          digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a29db9b8de54ea92b91831d4e5c4b0397">minimum_fraction_digits</a>,</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>          digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#ac7f935d85499da2fc701e17b5b38f2c6">maximum_fraction_digits</a>);</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a175a7d1e22cce990e90c096528167d42abb772b3c2c544aa6d0a482eb24e4d589">Intl::RoundingType::kMorePrecision</a>:</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>      relaxed = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>      [[fallthrough]];</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a175a7d1e22cce990e90c096528167d42af47fa8c4ec094aa64107255c2ce33278">Intl::RoundingType::kLessPrecision</a>:</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>      <a class="code hl_variable" href="js-temporal-objects_8cc.html#ab7a545dec10539c521358e8d729f0709">precision</a> =</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>          icu::number::Precision::minMaxFraction(</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>              digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a29db9b8de54ea92b91831d4e5c4b0397">minimum_fraction_digits</a>,</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>              digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#ac7f935d85499da2fc701e17b5b38f2c6">maximum_fraction_digits</a>)</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>              .withSignificantDigits(digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a671c290d7264d312006706adedea180d">minimum_significant_digits</a>,</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>                                     digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a34c5e2dfe19eefa67ad19d5b251ef771">maximum_significant_digits</a>,</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>                                     relaxed ? UNUM_ROUNDING_PRIORITY_RELAXED</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>                                             : UNUM_ROUNDING_PRIORITY_STRICT);</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>  }</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>  <span class="keywordflow">if</span> (digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a6555c8c869cf4da5738e099dd9525ca1">rounding_increment</a> != 1) {</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>    <a class="code hl_variable" href="js-temporal-objects_8cc.html#ab7a545dec10539c521358e8d729f0709">precision</a> = ::icu::number::Precision::incrementExact(</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>                    digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a6555c8c869cf4da5738e099dd9525ca1">rounding_increment</a>,</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>                    -digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#ac7f935d85499da2fc701e17b5b38f2c6">maximum_fraction_digits</a>)</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>                    .withMinFraction(digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a29db9b8de54ea92b91831d4e5c4b0397">minimum_fraction_digits</a>);</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>  }</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>  <span class="keywordflow">if</span> (digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a40893b4f34d2ff2532114f96c7f11182">trailing_zero_display</a> ==</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>      <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a7172a86dd3fbcfbbef0a5d20a3d2bdbfa3e8fcef7c821e3a56700fb5aff331198">Intl::TrailingZeroDisplay::kStripIfInteger</a>) {</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>    <a class="code hl_variable" href="js-temporal-objects_8cc.html#ab7a545dec10539c521358e8d729f0709">precision</a> = <a class="code hl_variable" href="js-temporal-objects_8cc.html#ab7a545dec10539c521358e8d729f0709">precision</a>.trailingZeroDisplay(UNUM_TRAILING_ZERO_HIDE_IF_WHOLE);</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>  }</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.precision(<a class="code hl_variable" href="js-temporal-objects_8cc.html#ab7a545dec10539c521358e8d729f0709">precision</a>);</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>}</div>
</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span> </div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span><span class="comment">// static</span></div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span><span class="comment">// ecma402 #sec-intl.numberformat.prototype.resolvedoptions</span></div>
<div class="foldopen" id="foldopen00877" data-start="{" data-end="}">
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1JSNumberFormat.html#a95d3d9ca813e064a5d15f65631af59e7">  877</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;JSObject&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#a95d3d9ca813e064a5d15f65631af59e7">JSNumberFormat::ResolvedOptions</a>(</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSNumberFormat&gt;</a> number_format) {</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Factory.html">Factory</a>* factory = isolate-&gt;factory();</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span> </div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>  icu::number::LocalizedNumberFormatter* fmt =</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>      number_format-&gt;icu_number_formatter()-&gt;raw();</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>  icu::UnicodeString skeleton = fmt-&gt;toSkeleton(status);</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span> </div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>  <span class="comment">// 4. Let options be ! ObjectCreate(%ObjectPrototype%).</span></div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;JSObject&gt;</a> <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a> = factory-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Factory.html#a54c843caad6266415afc266860855cdb">NewJSObject</a>(isolate-&gt;object_function());</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span> </div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> locale =</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>      <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a>(number_format-&gt;locale(), isolate);</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>  <span class="keyword">const</span> icu::UnicodeString numberingSystem_ustr =</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>      <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#a5aef8b936f5e6b9fa7e778567d2c989d">JSNumberFormat::NumberingSystemFromSkeleton</a>(skeleton);</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>  <span class="comment">// 5. For each row of Table 4, except the header row, in table order, do</span></div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>  <span class="comment">// Table 4: Resolved Options of NumberFormat Instances</span></div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>  <span class="comment">//  Internal Slot                    Property</span></div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>  <span class="comment">//    [[Locale]]                      &quot;locale&quot;</span></div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>  <span class="comment">//    [[NumberingSystem]]             &quot;numberingSystem&quot;</span></div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>  <span class="comment">//    [[Style]]                       &quot;style&quot;</span></div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>  <span class="comment">//    [[Currency]]                    &quot;currency&quot;</span></div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>  <span class="comment">//    [[CurrencyDisplay]]             &quot;currencyDisplay&quot;</span></div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>  <span class="comment">//    [[CurrencySign]]                &quot;currencySign&quot;</span></div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>  <span class="comment">//    [[Unit]]                        &quot;unit&quot;</span></div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>  <span class="comment">//    [[UnitDisplay]]                 &quot;unitDisplay&quot;</span></div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>  <span class="comment">//    [[MinimumIntegerDigits]]        &quot;minimumIntegerDigits&quot;</span></div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>  <span class="comment">//    [[MinimumFractionDigits]]       &quot;minimumFractionDigits&quot;</span></div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>  <span class="comment">//    [[MaximumFractionDigits]]       &quot;maximumFractionDigits&quot;</span></div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>  <span class="comment">//    [[MinimumSignificantDigits]]    &quot;minimumSignificantDigits&quot;</span></div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>  <span class="comment">//    [[MaximumSignificantDigits]]    &quot;maximumSignificantDigits&quot;</span></div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>  <span class="comment">//    [[UseGrouping]]                 &quot;useGrouping&quot;</span></div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>  <span class="comment">//    [[Notation]]                    &quot;notation&quot;</span></div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>  <span class="comment">//    [[CompactDisplay]]              &quot;compactDisplay&quot;</span></div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>  <span class="comment">//    [[SignDisplay]]                 &quot;signDisplay&quot;</span></div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>  <span class="comment">//    [[RoundingIncrement]]           &quot;roundingIncrement&quot;</span></div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>  <span class="comment">//    [[RoundingMode]]                &quot;roundingMode&quot;</span></div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>  <span class="comment">//    [[ComputedRoundingPriority]]    &quot;roundingPriority&quot;</span></div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>  <span class="comment">//    [[TrailingZeroDisplay]]         &quot;trailingZeroDisplay&quot;</span></div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span> </div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#ab0d496ab5c687ec63fed2abbc354df25">JSReceiver::CreateDataProperty</a>(isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>,</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>                                       factory-&gt;locale_string(), locale,</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>                                       Just(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>))</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>            .FromJust());</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> numberingSystem_string;</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a31799f9a30b4169d1ea6919debdc6591">Intl::ToString</a>(isolate, numberingSystem_ustr)</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>            .ToHandle(&amp;numberingSystem_string));</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#ab0d496ab5c687ec63fed2abbc354df25">JSReceiver::CreateDataProperty</a>(isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>,</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>                                       factory-&gt;numberingSystem_string(),</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>                                       numberingSystem_string, Just(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>))</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>            .FromJust());</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>  Style <a class="code hl_variable" href="js-duration-format_8cc.html#ae83df44ca16e6fc822a077eb5449e6c4">style</a> = StyleFromSkeleton(skeleton);</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#ab0d496ab5c687ec63fed2abbc354df25">JSReceiver::CreateDataProperty</a>(</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>            isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, factory-&gt;style_string(),</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>            StyleAsString(isolate, <a class="code hl_variable" href="js-duration-format_8cc.html#ae83df44ca16e6fc822a077eb5449e6c4">style</a>), Just(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>))</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>            .FromJust());</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>  <span class="keyword">const</span> icu::UnicodeString currency_ustr = CurrencyFromSkeleton(skeleton);</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>  <span class="keywordflow">if</span> (!currency_ustr.isEmpty()) {</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> currency_string;</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>    <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a31799f9a30b4169d1ea6919debdc6591">Intl::ToString</a>(isolate, currency_ustr).ToHandle(&amp;currency_string));</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>    <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#ab0d496ab5c687ec63fed2abbc354df25">JSReceiver::CreateDataProperty</a>(isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>,</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>                                         factory-&gt;currency_string(),</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>                                         currency_string, Just(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>))</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>              .FromJust());</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span> </div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>    <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#ab0d496ab5c687ec63fed2abbc354df25">JSReceiver::CreateDataProperty</a>(</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>              isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, factory-&gt;currencyDisplay_string(),</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>              CurrencyDisplayString(isolate, skeleton), Just(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>))</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>              .FromJust());</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>    <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#ab0d496ab5c687ec63fed2abbc354df25">JSReceiver::CreateDataProperty</a>(</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>              isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, factory-&gt;currencySign_string(),</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>              CurrencySignString(isolate, skeleton), Just(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>))</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>              .FromJust());</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>  }</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span> </div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="js-duration-format_8cc.html#ae83df44ca16e6fc822a077eb5449e6c4">style</a> == Style::UNIT) {</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>    std::string <a class="code hl_variable" href="js-temporal-objects_8cc.html#aaa0d61fcdf7a0b9f0f2b48c9946cbd10">unit</a> = UnitFromSkeleton(skeleton);</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="js-temporal-objects_8cc.html#aaa0d61fcdf7a0b9f0f2b48c9946cbd10">unit</a>.empty()) {</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>      <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#ab0d496ab5c687ec63fed2abbc354df25">JSReceiver::CreateDataProperty</a>(</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>                isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, factory-&gt;unit_string(),</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>                isolate-&gt;factory()-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1FactoryBase.html#a310713d7d1c6f4e52525e1b630b495ac">NewStringFromAsciiChecked</a>(<a class="code hl_variable" href="js-temporal-objects_8cc.html#aaa0d61fcdf7a0b9f0f2b48c9946cbd10">unit</a>.c_str()),</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>                Just(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>))</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>                .FromJust());</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>    }</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>    <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#ab0d496ab5c687ec63fed2abbc354df25">JSReceiver::CreateDataProperty</a>(</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>              isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, factory-&gt;unitDisplay_string(),</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>              UnitDisplayString(isolate, skeleton), Just(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>))</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>              .FromJust());</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>  }</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span> </div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>      <a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#ab0d496ab5c687ec63fed2abbc354df25">JSReceiver::CreateDataProperty</a>(</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>          isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, factory-&gt;minimumIntegerDigits_string(),</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>          factory-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1FactoryBase.html#a0c09109f83f6f27662d18d2315650eca">NewNumberFromInt</a>(<a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#a1c8a2741225528613732d2dd7fdef003">MinimumIntegerDigitsFromSkeleton</a>(skeleton)),</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>          Just(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>))</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>          .FromJust());</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span> </div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>  int32_t mnsd = 0, mxsd = 0, mnfd = 0, mxfd = 0;</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#ac48500e323f5deeb92beff04784c8955">FractionDigitsFromSkeleton</a>(skeleton, &amp;mnfd, &amp;mxfd)) {</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>    <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#ab0d496ab5c687ec63fed2abbc354df25">JSReceiver::CreateDataProperty</a>(</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>              isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, factory-&gt;minimumFractionDigits_string(),</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>              factory-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1FactoryBase.html#a0c09109f83f6f27662d18d2315650eca">NewNumberFromInt</a>(mnfd), Just(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>))</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>              .FromJust());</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>    <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#ab0d496ab5c687ec63fed2abbc354df25">JSReceiver::CreateDataProperty</a>(</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>              isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, factory-&gt;maximumFractionDigits_string(),</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>              factory-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1FactoryBase.html#a0c09109f83f6f27662d18d2315650eca">NewNumberFromInt</a>(mxfd), Just(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>))</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>              .FromJust());</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>  }</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#abc19b179050f3da556a8e738cdf8094c">SignificantDigitsFromSkeleton</a>(skeleton, &amp;mnsd, &amp;mxsd)) {</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>    <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#ab0d496ab5c687ec63fed2abbc354df25">JSReceiver::CreateDataProperty</a>(</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>              isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, factory-&gt;minimumSignificantDigits_string(),</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>              factory-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1FactoryBase.html#a0c09109f83f6f27662d18d2315650eca">NewNumberFromInt</a>(mnsd), Just(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>))</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>              .FromJust());</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>    <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#ab0d496ab5c687ec63fed2abbc354df25">JSReceiver::CreateDataProperty</a>(</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>              isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, factory-&gt;maximumSignificantDigits_string(),</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>              factory-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1FactoryBase.html#a0c09109f83f6f27662d18d2315650eca">NewNumberFromInt</a>(mxsd), Just(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>))</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>              .FromJust());</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>  }</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span> </div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#ab0d496ab5c687ec63fed2abbc354df25">JSReceiver::CreateDataProperty</a>(</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>            isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, factory-&gt;useGrouping_string(),</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>            UseGroupingFromSkeleton(isolate, skeleton), Just(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>))</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>            .FromJust());</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span> </div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>  Notation notation = NotationFromSkeleton(skeleton);</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#ab0d496ab5c687ec63fed2abbc354df25">JSReceiver::CreateDataProperty</a>(</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>            isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, factory-&gt;notation_string(),</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>            NotationAsString(isolate, notation), Just(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>))</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>            .FromJust());</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>  <span class="comment">// Only output compactDisplay when notation is compact.</span></div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>  <span class="keywordflow">if</span> (notation == Notation::COMPACT) {</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>    <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#ab0d496ab5c687ec63fed2abbc354df25">JSReceiver::CreateDataProperty</a>(</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>              isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, factory-&gt;compactDisplay_string(),</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>              CompactDisplayString(isolate, skeleton), Just(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>))</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>              .FromJust());</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>  }</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#ab0d496ab5c687ec63fed2abbc354df25">JSReceiver::CreateDataProperty</a>(</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>            isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, factory-&gt;signDisplay_string(),</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>            SignDisplayString(isolate, skeleton), Just(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>))</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>            .FromJust());</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#ab0d496ab5c687ec63fed2abbc354df25">JSReceiver::CreateDataProperty</a>(</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>            isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, factory-&gt;roundingIncrement_string(),</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>            <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#a6ff2ca35b9e898c45bb8d09fbb9f0bd1">RoundingIncrement</a>(isolate, skeleton), Just(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>))</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>            .FromJust());</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#ab0d496ab5c687ec63fed2abbc354df25">JSReceiver::CreateDataProperty</a>(</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>            isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, factory-&gt;roundingMode_string(),</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>            <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#a4bd97644af232fa5ca579a03c9699ef3">RoundingModeString</a>(isolate, skeleton), Just(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>))</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>            .FromJust());</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#ab0d496ab5c687ec63fed2abbc354df25">JSReceiver::CreateDataProperty</a>(</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>            isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, factory-&gt;roundingPriority_string(),</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>            <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#ab6a80c57d2394959eb03dc5395b7ff47">RoundingPriorityString</a>(isolate, skeleton), Just(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>))</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>            .FromJust());</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#ab0d496ab5c687ec63fed2abbc354df25">JSReceiver::CreateDataProperty</a>(</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>            isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, factory-&gt;trailingZeroDisplay_string(),</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>            <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#aa37a9c9642871cdaccab452efdb3a0b4">TrailingZeroDisplayString</a>(isolate, skeleton), Just(<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>))</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>            .FromJust());</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>;</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>}</div>
</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span> </div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span><span class="comment">// ecma402/#sec-unwrapnumberformat</span></div>
<div class="foldopen" id="foldopen01039" data-start="{" data-end="}">
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1JSNumberFormat.html#aea6b330620a7ce4cfd0148ce4d0293e9"> 1039</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;JSNumberFormat&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#aea6b330620a7ce4cfd0148ce4d0293e9">JSNumberFormat::UnwrapNumberFormat</a>(</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;JSReceiver&gt;</a> format_holder) {</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>  <span class="comment">// old code copy from NumberFormat::Unwrap that has no spec comment and</span></div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>  <span class="comment">// compiled but fail unit tests.</span></div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Context&gt;</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>(isolate-&gt;context()-&gt;native_context(),</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>                                       isolate);</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> constructor(</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;JSFunction&gt;</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;intl_number_format_function()), isolate);</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> object;</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>  <a class="code hl_define" href="execution_2isolate_8h.html#a45bb81ab232e9f2663545ec92dc0b950">ASSIGN_RETURN_ON_EXCEPTION</a>(</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>      isolate, <span class="keywordtype">object</span>,</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>      <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a35f41c8231f03ef7b219e38ea9f25857">Intl::LegacyUnwrapReceiver</a>(isolate, format_holder, constructor,</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>                                 IsJSNumberFormat(*format_holder)));</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>  <span class="comment">// 4. If ... or nf does not have an [[InitializedNumberFormat]] internal slot,</span></div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>  <span class="comment">// then</span></div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>  <span class="keywordflow">if</span> (!IsJSNumberFormat(*<span class="keywordtype">object</span>)) {</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>    <span class="comment">// a. Throw a TypeError exception.</span></div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a6557667dd5be0768bd92d4bfd9a4d70f">THROW_NEW_ERROR</a>(isolate,</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>                    NewTypeError(MessageTemplate::kIncompatibleMethodReceiver,</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>                                 isolate-&gt;factory()-&gt;NewStringFromAsciiChecked(</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>                                     <span class="stringliteral">&quot;UnwrapNumberFormat&quot;</span>)));</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>  }</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>  <span class="comment">// 5. Return nf.</span></div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;JSNumberFormat&gt;</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>}</div>
</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span> </div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen01066" data-start="{" data-end="}">
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1JSNumberFormat.html#a42d2a055b4e7066d863f1de3e15a0204"> 1066</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;JSNumberFormat&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#a42d2a055b4e7066d863f1de3e15a0204">JSNumberFormat::New</a>(</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> map, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> locales,</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> options_obj, <span class="keyword">const</span> <span class="keywordtype">char</span>* service) {</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Factory.html">Factory</a>* factory = isolate-&gt;factory();</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span> </div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>  <span class="comment">// 1. Let requestedLocales be ? CanonicalizeLocaleList(locales).</span></div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>  Maybe&lt;std::vector&lt;std::string&gt;&gt; maybe_requested_locales =</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>      <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a48ffe5df7fd26755481624ec3fbc2bd8">Intl::CanonicalizeLocaleList</a>(isolate, locales);</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_requested_locales, <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;JSNumberFormat&gt;</a>());</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>  std::vector&lt;std::string&gt; requested_locales =</div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>      maybe_requested_locales.FromJust();</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span> </div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>  <span class="comment">// 2. Set options to ? CoerceOptionsToObject(options).</span></div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSReceiver&gt;</a> <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>;</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>  <a class="code hl_define" href="execution_2isolate_8h.html#a45bb81ab232e9f2663545ec92dc0b950">ASSIGN_RETURN_ON_EXCEPTION</a>(</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>      isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, <a class="code hl_function" href="namespacev8_1_1internal.html#ac4b6b53060a2878af798e2a2ce4e0295">CoerceOptionsToObject</a>(isolate, options_obj, service));</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span> </div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>  <span class="comment">// 3. Let opt be a new Record.</span></div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>  <span class="comment">// 4. Let matcher be ? GetOption(options, &quot;localeMatcher&quot;, &quot;string&quot;, «</span></div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>  <span class="comment">// &quot;lookup&quot;, &quot;best fit&quot; », &quot;best fit&quot;).</span></div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>  <span class="comment">// 5. Set opt.[[localeMatcher]] to matcher.</span></div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>  Maybe&lt;Intl::MatcherOption&gt; maybe_locale_matcher =</div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>      <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#aa65b5c1f434fe74d5fd3e3ac87ca193f">Intl::GetLocaleMatcher</a>(isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, service);</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_locale_matcher, <a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;JSNumberFormat&gt;</a>());</div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>  <a class="code hl_enumeration" href="classv8_1_1internal_1_1Intl.html#afb4cf72c66834096fbb2f5c4761d9695">Intl::MatcherOption</a> matcher = maybe_locale_matcher.FromJust();</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span> </div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>  std::unique_ptr&lt;char[]&gt; numbering_system_str = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>  <span class="comment">// 6. Let _numberingSystem_ be ? GetOption(_options_, `&quot;numberingSystem&quot;`,</span></div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>  <span class="comment">//    `&quot;string&quot;`, *undefined*, *undefined*).</span></div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>  Maybe&lt;bool&gt; maybe_numberingSystem = <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a2091add6bc73b348d3ec7807cb0d2f9c">Intl::GetNumberingSystem</a>(</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>      isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, service, &amp;numbering_system_str);</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>  <span class="comment">// 7. If _numberingSystem_ is not *undefined*, then</span></div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>  <span class="comment">// 8. If _numberingSystem_ does not match the</span></div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>  <span class="comment">//    `(3*8alphanum) *(&quot;-&quot; (3*8alphanum))` sequence, throw a *RangeError*</span></div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>  <span class="comment">//     exception.</span></div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_numberingSystem, <a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;JSNumberFormat&gt;</a>());</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span> </div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>  <span class="comment">// 9. Let localeData be %NumberFormat%.[[LocaleData]].</span></div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>  <span class="comment">// 10. Let r be ResolveLocale(%NumberFormat%.[[AvailableLocales]],</span></div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>  <span class="comment">// requestedLocales, opt,  %NumberFormat%.[[RelevantExtensionKeys]],</span></div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>  <span class="comment">// localeData).</span></div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>  std::set&lt;std::string&gt; relevant_extension_keys{<span class="stringliteral">&quot;nu&quot;</span>};</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>  Maybe&lt;Intl::ResolvedLocale&gt; maybe_resolve_locale =</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>      <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a57e751885fa0a74dd3f6c0a150857d65">Intl::ResolveLocale</a>(isolate, <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#a02a3d1df6cf18f6d485d886470e56a54">JSNumberFormat::GetAvailableLocales</a>(),</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>                          requested_locales, matcher, relevant_extension_keys);</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>  <span class="keywordflow">if</span> (maybe_resolve_locale.IsNothing()) {</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a6557667dd5be0768bd92d4bfd9a4d70f">THROW_NEW_ERROR</a>(isolate, NewRangeError(MessageTemplate::kIcuError));</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>  }</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>  <a class="code hl_struct" href="structv8_1_1internal_1_1Intl_1_1ResolvedLocale.html">Intl::ResolvedLocale</a> <a class="code hl_variable" href="mul-fft_8cc.html#acab531abaa74a7e664e3986f2522b33a">r</a> = maybe_resolve_locale.FromJust();</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span> </div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>  icu::Locale icu_locale = <a class="code hl_variable" href="mul-fft_8cc.html#acab531abaa74a7e664e3986f2522b33a">r</a>.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1ResolvedLocale.html#a175dcfe7e1d6bb277c83221a29d51f8a">icu_locale</a>;</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>  <span class="keywordflow">if</span> (numbering_system_str != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>    <span class="keyword">auto</span> nu_extension_it = <a class="code hl_variable" href="mul-fft_8cc.html#acab531abaa74a7e664e3986f2522b33a">r</a>.extensions.find(<span class="stringliteral">&quot;nu&quot;</span>);</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>    <span class="keywordflow">if</span> (nu_extension_it != <a class="code hl_variable" href="mul-fft_8cc.html#acab531abaa74a7e664e3986f2522b33a">r</a>.extensions.end() &amp;&amp;</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>        nu_extension_it-&gt;second != numbering_system_str.get()) {</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>      icu_locale.setUnicodeKeywordValue(<span class="stringliteral">&quot;nu&quot;</span>, <span class="keyword">nullptr</span>, status);</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>      <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>    }</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>  }</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span> </div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>  <span class="comment">// 9. Set numberFormat.[[Locale]] to r.[[locale]].</span></div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>  Maybe&lt;std::string&gt; maybe_locale_str = <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#ab8ac80a3c3afe22c8e3cfd6f9beb33be">Intl::ToLanguageTag</a>(icu_locale);</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_locale_str, <a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;JSNumberFormat&gt;</a>());</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> locale_str =</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>      isolate-&gt;factory()-&gt;NewStringFromAsciiChecked(</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>          maybe_locale_str.FromJust().c_str());</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span> </div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>  <span class="keywordflow">if</span> (numbering_system_str != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>      <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#acd5725c1d2477bad869c377aeb5152d1">Intl::IsValidNumberingSystem</a>(numbering_system_str.get())) {</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>    icu_locale.setUnicodeKeywordValue(<span class="stringliteral">&quot;nu&quot;</span>, numbering_system_str.get(), status);</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>    <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>  }</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span> </div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>  std::string numbering_system = <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a2091add6bc73b348d3ec7807cb0d2f9c">Intl::GetNumberingSystem</a>(icu_locale);</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span> </div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>  <span class="comment">// 11. Let dataLocale be r.[[dataLocale]].</span></div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span> </div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>  icu::number::UnlocalizedNumberFormatter settings =</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>      icu::number::UnlocalizedNumberFormatter().roundingMode(UNUM_ROUND_HALFUP);</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span> </div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>  <span class="comment">// For &#39;latn&#39; numbering system, skip the adoptSymbols which would cause</span></div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>  <span class="comment">// 10.1%-13.7% of regression of JSTests/Intl-NewIntlNumberFormat</span></div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>  <span class="comment">// See crbug/1052751 so we skip calling adoptSymbols and depending on the</span></div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>  <span class="comment">// default instead.</span></div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>  <span class="keywordflow">if</span> (!numbering_system.empty() &amp;&amp; numbering_system != <span class="stringliteral">&quot;latn&quot;</span>) {</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>    settings = settings.adoptSymbols(icu::NumberingSystem::createInstanceByName(</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>        numbering_system.c_str(), status));</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>    <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>  }</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span> </div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>  <span class="comment">// ==== Start SetNumberFormatUnitOptions ====</span></div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>  <span class="comment">// 3. Let style be ? GetOption(options, &quot;style&quot;, &quot;string&quot;,  « &quot;decimal&quot;,</span></div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>  <span class="comment">// &quot;percent&quot;, &quot;currency&quot;, &quot;unit&quot; », &quot;decimal&quot;).</span></div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span> </div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>  Maybe&lt;Style&gt; maybe_style = <a class="code hl_function" href="namespacev8_1_1internal.html#ae032dca06e882540eca629ad340d45b2">GetStringOption&lt;Style&gt;</a>(</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>      isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, <span class="stringliteral">&quot;style&quot;</span>, service,</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>      {<span class="stringliteral">&quot;decimal&quot;</span>, <span class="stringliteral">&quot;percent&quot;</span>, <span class="stringliteral">&quot;currency&quot;</span>, <span class="stringliteral">&quot;unit&quot;</span>},</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>      {Style::DECIMAL, Style::PERCENT, Style::CURRENCY, Style::UNIT},</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>      Style::DECIMAL);</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_style, <a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;JSNumberFormat&gt;</a>());</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>  Style <a class="code hl_variable" href="js-duration-format_8cc.html#ae83df44ca16e6fc822a077eb5449e6c4">style</a> = maybe_style.FromJust();</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span> </div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>  <span class="comment">// 4. Set intlObj.[[Style]] to style.</span></div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span> </div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>  <span class="comment">// 5. Let currency be ? GetOption(options, &quot;currency&quot;, &quot;string&quot;, undefined,</span></div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>  <span class="comment">// undefined).</span></div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>  std::unique_ptr&lt;char[]&gt; currency_cstr;</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>  <span class="keyword">const</span> std::vector&lt;const char*&gt; empty_values = {};</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>  Maybe&lt;bool&gt; found_currency = <a class="code hl_function" href="namespacev8_1_1internal.html#ae032dca06e882540eca629ad340d45b2">GetStringOption</a>(</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>      isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, <span class="stringliteral">&quot;currency&quot;</span>, empty_values, service, &amp;currency_cstr);</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(found_currency, <a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;JSNumberFormat&gt;</a>());</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span> </div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>  std::string currency;</div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>  <span class="comment">// 6. If currency is not undefined, then</span></div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>  <span class="keywordflow">if</span> (found_currency.FromJust()) {</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>    <a class="code hl_define" href="logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(currency_cstr.get());</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>    currency = currency_cstr.get();</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>    <span class="comment">// 6. a. If the result of IsWellFormedCurrencyCode(currency) is false,</span></div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>    <span class="comment">// throw a RangeError exception.</span></div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>    <span class="keywordflow">if</span> (!IsWellFormedCurrencyCode(currency)) {</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>      <a class="code hl_define" href="execution_2isolate_8h.html#a6557667dd5be0768bd92d4bfd9a4d70f">THROW_NEW_ERROR</a>(</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>          isolate,</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>          NewRangeError(MessageTemplate::kInvalid,</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>                        factory-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Factory.html#ace270af0020cf32252f584a9608ded99">NewStringFromStaticChars</a>(<span class="stringliteral">&quot;currency code&quot;</span>),</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>                        factory-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1FactoryBase.html#a310713d7d1c6f4e52525e1b630b495ac">NewStringFromAsciiChecked</a>(currency.c_str())));</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>    }</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>    <span class="comment">// 7. If style is &quot;currency&quot; and currency is undefined, throw a TypeError</span></div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>    <span class="comment">// exception.</span></div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="js-duration-format_8cc.html#ae83df44ca16e6fc822a077eb5449e6c4">style</a> == Style::CURRENCY) {</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>      <a class="code hl_define" href="execution_2isolate_8h.html#a6557667dd5be0768bd92d4bfd9a4d70f">THROW_NEW_ERROR</a>(isolate, NewTypeError(MessageTemplate::kCurrencyCode));</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>    }</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>  }</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>  <span class="comment">// 8. Let currencyDisplay be ? GetOption(options, &quot;currencyDisplay&quot;,</span></div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>  <span class="comment">// &quot;string&quot;, « &quot;code&quot;,  &quot;symbol&quot;, &quot;name&quot;, &quot;narrowSymbol&quot; », &quot;symbol&quot;).</span></div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>  Maybe&lt;CurrencyDisplay&gt; maybe_currency_display =</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#ae032dca06e882540eca629ad340d45b2">GetStringOption&lt;CurrencyDisplay&gt;</a>(</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>          isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, <span class="stringliteral">&quot;currencyDisplay&quot;</span>, service,</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>          {<span class="stringliteral">&quot;code&quot;</span>, <span class="stringliteral">&quot;symbol&quot;</span>, <span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;narrowSymbol&quot;</span>},</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>          {CurrencyDisplay::CODE, CurrencyDisplay::SYMBOL,</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>           CurrencyDisplay::NAME, CurrencyDisplay::NARROW_SYMBOL},</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>          CurrencyDisplay::SYMBOL);</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_currency_display, <a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;JSNumberFormat&gt;</a>());</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>  CurrencyDisplay currency_display = maybe_currency_display.FromJust();</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span> </div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>  CurrencySign currency_sign = CurrencySign::STANDARD;</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>  <span class="comment">// 9. Let currencySign be ? GetOption(options, &quot;currencySign&quot;, &quot;string&quot;, «</span></div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>  <span class="comment">// &quot;standard&quot;,  &quot;accounting&quot; », &quot;standard&quot;).</span></div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>  Maybe&lt;CurrencySign&gt; maybe_currency_sign = <a class="code hl_function" href="namespacev8_1_1internal.html#ae032dca06e882540eca629ad340d45b2">GetStringOption&lt;CurrencySign&gt;</a>(</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>      isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, <span class="stringliteral">&quot;currencySign&quot;</span>, service, {<span class="stringliteral">&quot;standard&quot;</span>, <span class="stringliteral">&quot;accounting&quot;</span>},</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>      {CurrencySign::STANDARD, CurrencySign::ACCOUNTING},</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>      CurrencySign::STANDARD);</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_currency_sign, <a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;JSNumberFormat&gt;</a>());</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>  currency_sign = maybe_currency_sign.FromJust();</div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span> </div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>  <span class="comment">// 10. Let unit be ? GetOption(options, &quot;unit&quot;, &quot;string&quot;, undefined,</span></div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>  <span class="comment">// undefined).</span></div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>  std::unique_ptr&lt;char[]&gt; unit_cstr;</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>  Maybe&lt;bool&gt; found_unit = <a class="code hl_function" href="namespacev8_1_1internal.html#ae032dca06e882540eca629ad340d45b2">GetStringOption</a>(isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, <span class="stringliteral">&quot;unit&quot;</span>,</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>                                           empty_values, service, &amp;unit_cstr);</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(found_unit, <a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;JSNumberFormat&gt;</a>());</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span> </div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>  std::pair&lt;icu::MeasureUnit, icu::MeasureUnit&gt; unit_pair;</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>  <span class="comment">// 11. If unit is not undefined, then</span></div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>  <span class="keywordflow">if</span> (found_unit.FromJust()) {</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>    <a class="code hl_define" href="logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(unit_cstr.get());</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>    std::string <a class="code hl_variable" href="js-temporal-objects_8cc.html#aaa0d61fcdf7a0b9f0f2b48c9946cbd10">unit</a> = unit_cstr.get();</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>    <span class="comment">// 11.a If the result of IsWellFormedUnitIdentifier(unit) is false, throw a</span></div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>    <span class="comment">// RangeError exception.</span></div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>    Maybe&lt;std::pair&lt;icu::MeasureUnit, icu::MeasureUnit&gt;&gt; maybe_wellformed_unit =</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>        IsWellFormedUnitIdentifier(isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#aaa0d61fcdf7a0b9f0f2b48c9946cbd10">unit</a>);</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>    <span class="keywordflow">if</span> (maybe_wellformed_unit.IsNothing()) {</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>      <a class="code hl_define" href="execution_2isolate_8h.html#a6557667dd5be0768bd92d4bfd9a4d70f">THROW_NEW_ERROR</a>(</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>          isolate,</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>          NewRangeError(MessageTemplate::kInvalidUnit,</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>                        factory-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1FactoryBase.html#a310713d7d1c6f4e52525e1b630b495ac">NewStringFromAsciiChecked</a>(service),</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>                        factory-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1FactoryBase.html#a310713d7d1c6f4e52525e1b630b495ac">NewStringFromAsciiChecked</a>(<a class="code hl_variable" href="js-temporal-objects_8cc.html#aaa0d61fcdf7a0b9f0f2b48c9946cbd10">unit</a>.c_str())));</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>    }</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>    unit_pair = maybe_wellformed_unit.FromJust();</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>    <span class="comment">// 12. If style is &quot;unit&quot; and unit is undefined, throw a TypeError</span></div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>    <span class="comment">// exception.</span></div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="js-duration-format_8cc.html#ae83df44ca16e6fc822a077eb5449e6c4">style</a> == Style::UNIT) {</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>      <a class="code hl_define" href="execution_2isolate_8h.html#a6557667dd5be0768bd92d4bfd9a4d70f">THROW_NEW_ERROR</a>(isolate,</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>                      NewTypeError(MessageTemplate::kInvalidUnit,</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>                                   factory-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1FactoryBase.html#a310713d7d1c6f4e52525e1b630b495ac">NewStringFromAsciiChecked</a>(service),</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>                                   factory-&gt;empty_string()));</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>    }</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>  }</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span> </div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>  <span class="comment">// 13. Let unitDisplay be ? GetOption(options, &quot;unitDisplay&quot;, &quot;string&quot;, «</span></div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>  <span class="comment">// &quot;short&quot;, &quot;narrow&quot;, &quot;long&quot; »,  &quot;short&quot;).</span></div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>  Maybe&lt;UnitDisplay&gt; maybe_unit_display = <a class="code hl_function" href="namespacev8_1_1internal.html#ae032dca06e882540eca629ad340d45b2">GetStringOption&lt;UnitDisplay&gt;</a>(</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>      isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, <span class="stringliteral">&quot;unitDisplay&quot;</span>, service, {<span class="stringliteral">&quot;short&quot;</span>, <span class="stringliteral">&quot;narrow&quot;</span>, <span class="stringliteral">&quot;long&quot;</span>},</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>      {UnitDisplay::SHORT, UnitDisplay::NARROW, UnitDisplay::LONG},</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>      UnitDisplay::SHORT);</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_unit_display, <a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;JSNumberFormat&gt;</a>());</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>  UnitDisplay unit_display = maybe_unit_display.FromJust();</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span> </div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>  <span class="comment">// 14. If style is &quot;currency&quot;, then</span></div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>  icu::UnicodeString currency_ustr;</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="js-duration-format_8cc.html#ae83df44ca16e6fc822a077eb5449e6c4">style</a> == Style::CURRENCY) {</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>    <span class="comment">// 14.a. If currency is undefined, throw a TypeError exception.</span></div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>    <span class="keywordflow">if</span> (!found_currency.FromJust()) {</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>      <a class="code hl_define" href="execution_2isolate_8h.html#a6557667dd5be0768bd92d4bfd9a4d70f">THROW_NEW_ERROR</a>(isolate, NewTypeError(MessageTemplate::kCurrencyCode));</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>    }</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>    <span class="comment">// 14.a. Let currency be the result of converting currency to upper case as</span></div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>    <span class="comment">//    specified in 6.1</span></div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>    std::transform(currency.begin(), currency.end(), currency.begin(), toupper);</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>    currency_ustr = currency.c_str();</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span> </div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>    <span class="comment">// 14.b. Set numberFormat.[[Currency]] to currency.</span></div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>    <span class="keywordflow">if</span> (!currency_ustr.isEmpty()) {</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>      <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> currency_string;</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>      <a class="code hl_define" href="execution_2isolate_8h.html#a45bb81ab232e9f2663545ec92dc0b950">ASSIGN_RETURN_ON_EXCEPTION</a>(isolate, currency_string,</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>                                 <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a31799f9a30b4169d1ea6919debdc6591">Intl::ToString</a>(isolate, currency_ustr));</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span> </div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>      settings =</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>          settings.unit(icu::CurrencyUnit(currency_ustr.getBuffer(), status));</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>      <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>      <span class="comment">// 14.c Set intlObj.[[CurrencyDisplay]] to currencyDisplay.</span></div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>      <span class="comment">// The default unitWidth is SHORT in ICU and that mapped from</span></div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>      <span class="comment">// Symbol so we can skip the setting for optimization.</span></div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>      <span class="keywordflow">if</span> (currency_display != CurrencyDisplay::SYMBOL) {</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>        settings = settings.unitWidth(ToUNumberUnitWidth(currency_display));</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>      }</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>      <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>    }</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>  }</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span> </div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>  <span class="comment">// 15. If style is &quot;unit&quot;, then</span></div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="js-duration-format_8cc.html#ae83df44ca16e6fc822a077eb5449e6c4">style</a> == Style::UNIT) {</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>    <span class="comment">// Track newer style &quot;unit&quot;.</span></div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>    isolate-&gt;CountUsage(v8::Isolate::UseCounterFeature::kNumberFormatStyleUnit);</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span> </div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>    icu::MeasureUnit <a class="code hl_variable" href="namespacev8_1_1internal.html#a5ec5fc6fce0e7b15af4459d68320d9c2">none</a> = icu::MeasureUnit();</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>    <span class="comment">// 13.b Set intlObj.[[Unit]] to unit.</span></div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>    <span class="keywordflow">if</span> (unit_pair.first != <a class="code hl_define" href="js-number-format_8cc.html#ab2ecf3c1fc23c8a70e1057b4374c6c76">AVOID_AMBIGUOUS_OP_WARNING</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a5ec5fc6fce0e7b15af4459d68320d9c2">none</a>)) {</div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>      settings = settings.unit(unit_pair.first);</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>    }</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>    <span class="keywordflow">if</span> (unit_pair.second != <a class="code hl_define" href="js-number-format_8cc.html#ab2ecf3c1fc23c8a70e1057b4374c6c76">AVOID_AMBIGUOUS_OP_WARNING</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a5ec5fc6fce0e7b15af4459d68320d9c2">none</a>)) {</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span>      settings = settings.perUnit(unit_pair.second);</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>    }</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span> </div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>    <span class="comment">// The default unitWidth is SHORT in ICU and that mapped from</span></div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>    <span class="comment">// Symbol so we can skip the setting for optimization.</span></div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>    <span class="keywordflow">if</span> (unit_display != UnitDisplay::SHORT) {</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>      settings = settings.unitWidth(ToUNumberUnitWidth(unit_display));</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>    }</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>  }</div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span> </div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>  <span class="comment">// === End of SetNumberFormatUnitOptions</span></div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span> </div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="js-duration-format_8cc.html#ae83df44ca16e6fc822a077eb5449e6c4">style</a> == Style::PERCENT) {</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>    settings = settings.unit(icu::MeasureUnit::getPercent())</div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>                   .scale(icu::number::Scale::powerOfTen(2));</div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>  }</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span> </div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span>  Notation notation = Notation::STANDARD;</div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>  <span class="comment">// xx. Let notation be ? GetOption(options, &quot;notation&quot;, &quot;string&quot;, «</span></div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>  <span class="comment">// &quot;standard&quot;, &quot;scientific&quot;,  &quot;engineering&quot;, &quot;compact&quot; », &quot;standard&quot;).</span></div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>  <a class="code hl_define" href="execution_2isolate_8h.html#af909087c7f40e002219a327009d23c52">MAYBE_ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>      isolate, notation,</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#ae032dca06e882540eca629ad340d45b2">GetStringOption&lt;Notation&gt;</a>(</div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span>          isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, <span class="stringliteral">&quot;notation&quot;</span>, service,</div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span>          {<span class="stringliteral">&quot;standard&quot;</span>, <span class="stringliteral">&quot;scientific&quot;</span>, <span class="stringliteral">&quot;engineering&quot;</span>, <span class="stringliteral">&quot;compact&quot;</span>},</div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span>          {Notation::STANDARD, Notation::SCIENTIFIC, Notation::ENGINEERING,</div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>           Notation::COMPACT},</div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span>          Notation::STANDARD),</div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span>      <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;JSNumberFormat&gt;</a>());</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>  <span class="comment">// xx. Set numberFormat.[[Notation]] to notation.</span></div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span> </div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>  <span class="comment">// xx. If style is *&quot;currency&quot;* and *&quot;notation&quot;* is *&quot;standard&quot;*, then</span></div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>  <span class="keywordtype">int</span> mnfd_default, mxfd_default;</div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="js-duration-format_8cc.html#ae83df44ca16e6fc822a077eb5449e6c4">style</a> == Style::CURRENCY &amp;&amp; notation == Notation::STANDARD) {</div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span>    <span class="comment">// b. Let cDigits be CurrencyDigits(currency).</span></div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>    <span class="keywordtype">int</span> c_digits = CurrencyDigits(currency_ustr);</div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>    <span class="comment">// c. Let mnfdDefault be cDigits.</span></div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>    <span class="comment">// d. Let mxfdDefault be cDigits.</span></div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>    mnfd_default = c_digits;</div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>    mxfd_default = c_digits;</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>    <span class="comment">// 17. Else,</span></div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>    <span class="comment">// a. Let mnfdDefault be 0.</span></div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>    mnfd_default = 0;</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span>    <span class="comment">// b. If style is &quot;percent&quot;, then</span></div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="js-duration-format_8cc.html#ae83df44ca16e6fc822a077eb5449e6c4">style</a> == Style::PERCENT) {</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>      <span class="comment">// i. Let mxfdDefault be 0.</span></div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>      mxfd_default = 0;</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span>      <span class="comment">// c. Else,</span></div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>      <span class="comment">// i. Let mxfdDefault be 3.</span></div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>      mxfd_default = 3;</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>    }</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>  }</div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span> </div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>  <span class="comment">// 23. Perform ? SetNumberFormatDigitOptions(numberFormat, options,</span></div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>  <span class="comment">// mnfdDefault, mxfdDefault).</span></div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>  Maybe&lt;Intl::NumberFormatDigitOptions&gt; maybe_digit_options =</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>      <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#abeb0cafbbff2bce4bdf42cdfb84c0bb4">Intl::SetNumberFormatDigitOptions</a>(isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, mnfd_default,</div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>                                        mxfd_default,</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>                                        notation == Notation::COMPACT, service);</div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_digit_options, <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;JSNumberFormat&gt;</a>());</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>  <a class="code hl_struct" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html">Intl::NumberFormatDigitOptions</a> digit_options = maybe_digit_options.FromJust();</div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span> </div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>  <span class="comment">// 13. If roundingIncrement is not 1, set mxfdDefault to mnfdDefault.</span></div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>  <span class="keywordflow">if</span> (digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a6555c8c869cf4da5738e099dd9525ca1">rounding_increment</a> != 1) {</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>    mxfd_default = mnfd_default;</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>  }</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>  <span class="comment">// 14. Set intlObj.[[RoundingIncrement]] to roundingIncrement.</span></div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span> </div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>  <span class="comment">// 15. Set intlObj.[[RoundingMode]] to roundingMode.</span></div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span> </div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>  <span class="comment">// 16. Set intlObj.[[TrailingZeroDisplay]] to trailingZeroDisplay.</span></div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>  settings = <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#a6b10d1840a675f40aca6cca67f2abc61">SetDigitOptionsToFormatter</a>(settings, digit_options);</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span> </div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>  <span class="comment">// 28. Let compactDisplay be ? GetOption(options, &quot;compactDisplay&quot;,</span></div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>  <span class="comment">// &quot;string&quot;, « &quot;short&quot;, &quot;long&quot; »,  &quot;short&quot;).</span></div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>  Maybe&lt;CompactDisplay&gt; maybe_compact_display = <a class="code hl_function" href="namespacev8_1_1internal.html#ae032dca06e882540eca629ad340d45b2">GetStringOption&lt;CompactDisplay&gt;</a>(</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>      isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, <span class="stringliteral">&quot;compactDisplay&quot;</span>, service, {<span class="stringliteral">&quot;short&quot;</span>, <span class="stringliteral">&quot;long&quot;</span>},</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>      {CompactDisplay::SHORT, CompactDisplay::LONG}, CompactDisplay::SHORT);</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_compact_display, <a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;JSNumberFormat&gt;</a>());</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>  CompactDisplay compact_display = maybe_compact_display.FromJust();</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span> </div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>  <span class="comment">// The default notation in ICU is Simple, which mapped from STANDARD</span></div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>  <span class="comment">// so we can skip setting it.</span></div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>  <span class="keywordflow">if</span> (notation != Notation::STANDARD) {</div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>    settings = settings.notation(ToICUNotation(notation, compact_display));</div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>  }</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span> </div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>  <span class="comment">// 28. Let defaultUseGrouping be &quot;auto&quot;.</span></div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>  UseGrouping default_use_grouping = UseGrouping::AUTO;</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span> </div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>  <span class="comment">// 29. If notation is &quot;compact&quot;, then</span></div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>  <span class="keywordflow">if</span> (notation == Notation::COMPACT) {</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>    <span class="comment">// a. Set numberFormat.[[CompactDisplay]] to compactDisplay.</span></div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>    <span class="comment">// Done in above together</span></div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>    <span class="comment">// b. Set defaultUseGrouping to &quot;min2&quot;.</span></div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>    default_use_grouping = UseGrouping::MIN2;</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>  }</div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span> </div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>  <span class="comment">// 30. Let useGrouping be ? GetStringOrBooleanOption(options, &quot;useGrouping&quot;,</span></div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>  <span class="comment">// « &quot;min2&quot;, &quot;auto&quot;, &quot;always&quot; », &quot;always&quot;, false, defaultUseGrouping).</span></div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>  Maybe&lt;UseGrouping&gt; maybe_use_grouping = GetStringOrBooleanOption&lt;UseGrouping&gt;(</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>      isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, <span class="stringliteral">&quot;useGrouping&quot;</span>, service, {<span class="stringliteral">&quot;min2&quot;</span>, <span class="stringliteral">&quot;auto&quot;</span>, <span class="stringliteral">&quot;always&quot;</span>},</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>      {UseGrouping::MIN2, UseGrouping::AUTO, UseGrouping::ALWAYS},</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>      UseGrouping::ALWAYS,    <span class="comment">// trueValue</span></div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>      UseGrouping::OFF,       <span class="comment">// falseValue</span></div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>      default_use_grouping);  <span class="comment">// fallbackValue</span></div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_use_grouping, <a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;JSNumberFormat&gt;</a>());</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>  UseGrouping use_grouping = maybe_use_grouping.FromJust();</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>  <span class="comment">// 31. Set numberFormat.[[UseGrouping]] to useGrouping.</span></div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>  <span class="keywordflow">if</span> (use_grouping != UseGrouping::AUTO) {</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>    settings = settings.grouping(ToUNumberGroupingStrategy(use_grouping));</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>  }</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span> </div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>  <span class="comment">// 32. Let signDisplay be ? GetOption(options, &quot;signDisplay&quot;, &quot;string&quot;, «</span></div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>  <span class="comment">// &quot;auto&quot;, &quot;never&quot;, &quot;always&quot;,  &quot;exceptZero&quot;, &quot;negative&quot; », &quot;auto&quot;).</span></div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span>  Maybe&lt;SignDisplay&gt; maybe_sign_display = Nothing&lt;SignDisplay&gt;();</div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>  maybe_sign_display = <a class="code hl_function" href="namespacev8_1_1internal.html#ae032dca06e882540eca629ad340d45b2">GetStringOption&lt;SignDisplay&gt;</a>(</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>      isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, <span class="stringliteral">&quot;signDisplay&quot;</span>, service,</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>      {<span class="stringliteral">&quot;auto&quot;</span>, <span class="stringliteral">&quot;never&quot;</span>, <span class="stringliteral">&quot;always&quot;</span>, <span class="stringliteral">&quot;exceptZero&quot;</span>, <span class="stringliteral">&quot;negative&quot;</span>},</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>      {SignDisplay::AUTO, SignDisplay::NEVER, SignDisplay::ALWAYS,</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>       SignDisplay::EXCEPT_ZERO, SignDisplay::NEGATIVE},</div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span>      SignDisplay::AUTO);</div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_sign_display, <a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;JSNumberFormat&gt;</a>());</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>  SignDisplay sign_display = maybe_sign_display.FromJust();</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span> </div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>  <span class="comment">// 33. Set numberFormat.[[SignDisplay]] to signDisplay.</span></div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>  <span class="comment">// The default sign in ICU is UNUM_SIGN_AUTO which is mapped from</span></div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>  <span class="comment">// SignDisplay::AUTO and CurrencySign::STANDARD so we can skip setting</span></div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>  <span class="comment">// under that values for optimization.</span></div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>  <span class="keywordflow">if</span> (sign_display != SignDisplay::AUTO ||</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>      currency_sign != CurrencySign::STANDARD) {</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>    settings = settings.sign(ToUNumberSignDisplay(sign_display, currency_sign));</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>  }</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span> </div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span>  <span class="comment">// 25. Let dataLocaleData be localeData.[[&lt;dataLocale&gt;]].</span></div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>  <span class="comment">//</span></div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>  <span class="comment">// 26. Let patterns be dataLocaleData.[[patterns]].</span></div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>  <span class="comment">//</span></div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span>  <span class="comment">// 27. Assert: patterns is a record (see 11.3.3).</span></div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>  <span class="comment">//</span></div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>  <span class="comment">// 28. Let stylePatterns be patterns.[[&lt;style&gt;]].</span></div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>  <span class="comment">//</span></div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>  <span class="comment">// 29. Set numberFormat.[[PositivePattern]] to</span></div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span>  <span class="comment">// stylePatterns.[[positivePattern]].</span></div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>  <span class="comment">//</span></div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>  <span class="comment">// 30. Set numberFormat.[[NegativePattern]] to</span></div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>  <span class="comment">// stylePatterns.[[negativePattern]].</span></div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>  <span class="comment">//</span></div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>  icu::number::LocalizedNumberFormatter fmt = settings.locale(icu_locale);</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span> </div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Managed&lt;icu::number::LocalizedNumberFormatter&gt;</a>&gt;</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>      managed_number_formatter =</div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>          <a class="code hl_function" href="classv8_1_1internal_1_1Managed.html#a1c10cb948281b864db32d8af25a7b7d9">Managed&lt;icu::number::LocalizedNumberFormatter&gt;::From</a>(</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>              isolate, 0,</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>              std::make_shared&lt;icu::number::LocalizedNumberFormatter&gt;(fmt));</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span> </div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>  <span class="comment">// Now all properties are ready, so we can allocate the result object.</span></div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;JSNumberFormat&gt;</a> number_format = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;JSNumberFormat&gt;</a>(</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>      isolate-&gt;factory()-&gt;NewFastOrSlowJSObjectFromMap(map));</div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>  number_format-&gt;set_locale(*locale_str);</div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span> </div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span>  number_format-&gt;set_icu_number_formatter(*managed_number_formatter);</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>  number_format-&gt;set_bound_format(*factory-&gt;undefined_value());</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span> </div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>  <span class="comment">// 31. Return numberFormat.</span></div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>  <span class="keywordflow">return</span> number_format;</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>}</div>
</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span> </div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span> </div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>icu::number::FormattedNumber FormatDecimalString(</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span>    <span class="keyword">const</span> icu::number::LocalizedNumberFormatter&amp; number_format,</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;String&gt;</a> <span class="keywordtype">string</span>, UErrorCode&amp; status) {</div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>  <span class="keywordtype">string</span> = <a class="code hl_function" href="classv8_1_1internal_1_1String.html#a21049fc49218b6cf593fc03fabf42656">String::Flatten</a>(isolate, <span class="keywordtype">string</span>);</div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span>  <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1String_1_1FlatContent.html">String::FlatContent</a>&amp; flat = <span class="keywordtype">string</span>-&gt;GetFlatContent(no_gc);</div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span>  int32_t length = <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(<span class="keywordtype">string</span>-&gt;length());</div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span>  <span class="keywordflow">if</span> (flat.<a class="code hl_function" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>()) {</div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* char_buffer =</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>        <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(flat.<a class="code hl_function" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a14673593207f44394962fbf870d14c88">ToOneByteVector</a>().begin());</div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span>    <span class="keywordflow">return</span> number_format.formatDecimal({char_buffer, length}, <a class="code hl_variable" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a>);</div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>  }</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span>  <span class="keywordflow">return</span> number_format.formatDecimal({<span class="keywordtype">string</span>-&gt;ToCString().get(), length},</div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>                                     <a class="code hl_variable" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a>);</div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>}</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span> </div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span> </div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1IntlMathematicalValue.html#a9bb99d0bef39df7265dbf9ebfa6e794d"> 1500</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1IntlMathematicalValue.html#a9bb99d0bef39df7265dbf9ebfa6e794d">IntlMathematicalValue::IsNaN</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#a1de45cad4146db2f85105ce52f585591">i::IsNaN</a>(*value_); }</div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span> </div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;String&gt;</a> IntlMathematicalValue::ToString(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>;</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacev8_1_1internal.html#a33a2826557a82e4cd9775aadf0f5711e">IsNumber</a>(*value_)) {</div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>    <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;NumberToString(value_);</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>  }</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>  <span class="keywordflow">if</span> (IsBigInt(*value_)) {</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1BigInt.html#a6ceeabc3dd5019c59005b968bf5ff436">BigInt::ToString</a>(isolate, <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;BigInt&gt;</a>(value_));</div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>  }</div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsString(*value_));</div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;String&gt;</a>(value_);</div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>}</div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span> </div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>Maybe&lt;icu::number::FormattedNumber&gt; IcuFormatNumber(</div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span>    Isolate* isolate,</div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span>    <span class="keyword">const</span> icu::number::LocalizedNumberFormatter&amp; number_format,</div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span>    Handle&lt;Object&gt; numeric_obj) {</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>  icu::number::FormattedNumber <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a>;</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>  <span class="comment">// If it is BigInt, handle it differently.</span></div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span>  <span class="keywordflow">if</span> (IsBigInt(*numeric_obj)) {</div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>    <span class="keyword">auto</span> big_int = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;BigInt&gt;</a>(numeric_obj);</div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>    Handle&lt;String&gt; big_int_string;</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a6a0c40de52f9f029945027e5834661ad">ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(isolate, big_int_string,</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>                                     <a class="code hl_function" href="classv8_1_1internal_1_1BigInt.html#a6ceeabc3dd5019c59005b968bf5ff436">BigInt::ToString</a>(isolate, big_int),</div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span>                                     Nothing&lt;icu::number::FormattedNumber&gt;());</div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span>    big_int_string = <a class="code hl_function" href="classv8_1_1internal_1_1String.html#a21049fc49218b6cf593fc03fabf42656">String::Flatten</a>(isolate, big_int_string);</div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>    <a class="code hl_typedef" href="namespacev8_1_1internal.html#a20971f8a9770697fdde08004c19035a3">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>    <span class="keyword">const</span> String::FlatContent&amp; flat = big_int_string-&gt;GetFlatContent(no_gc);</div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span>    <a class="code hl_typedef" href="namespaceunibrow.html#a67de744730c9fed24aa185ab5747772c">int32_t</a> length = <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="namespaceunibrow.html#a67de744730c9fed24aa185ab5747772c">int32_t</a><span class="keyword">&gt;</span>(big_int_string-&gt;length());</div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span>    <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(flat.IsOneByte());</div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* char_buffer =</div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>        <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(flat.ToOneByteVector().<a class="code hl_function" href="namespacev8_1_1internal_1_1compiler.html#ae72af9053b45630a01be9a6140820b5a">begin</a>());</div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span>    <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a> = number_format.formatDecimal({char_buffer, length}, <a class="code hl_variable" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a>);</div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span>    <span class="keywordflow">if</span> (IsString(*numeric_obj)) {</div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>      <span class="comment">// TODO(ftang) Correct the handling of string after the resolution of</span></div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span>      <span class="comment">// https://github.com/tc39/proposal-intl-numberformat-v3/pull/82</span></div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span>      DirectHandle&lt;String&gt; <span class="keywordtype">string</span> =</div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span>          <a class="code hl_function" href="classv8_1_1internal_1_1String.html#a21049fc49218b6cf593fc03fabf42656">String::Flatten</a>(isolate, <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;String&gt;</a>(numeric_obj));</div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span>      <a class="code hl_typedef" href="namespacev8_1_1internal.html#a20971f8a9770697fdde08004c19035a3">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span>      <span class="keyword">const</span> String::FlatContent&amp; flat = <span class="keywordtype">string</span>-&gt;GetFlatContent(no_gc);</div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span>      <a class="code hl_typedef" href="namespaceunibrow.html#a67de744730c9fed24aa185ab5747772c">int32_t</a> length = <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="namespaceunibrow.html#a67de744730c9fed24aa185ab5747772c">int32_t</a><span class="keyword">&gt;</span>(<span class="keywordtype">string</span>-&gt;length());</div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span>      <span class="keywordflow">if</span> (flat.IsOneByte()) {</div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span>        <span class="keyword">const</span> <span class="keywordtype">char</span>* char_buffer =</div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span>            <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(flat.ToOneByteVector().<a class="code hl_function" href="namespacev8_1_1internal_1_1compiler.html#ae72af9053b45630a01be9a6140820b5a">begin</a>());</div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span>        <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a> = number_format.formatDecimal({char_buffer, length}, <a class="code hl_variable" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a>);</div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span>        <span class="comment">// We may have two bytes string such as &quot;漢 123456789&quot;.substring(2)</span></div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span>        <span class="comment">// The value will be &quot;123456789&quot; only in ASCII range, but encoded</span></div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span>        <span class="comment">// in two bytes string.</span></div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>        <span class="comment">// ICU accepts UTF8 string, so if the source is two-byte encoded,</span></div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>        <span class="comment">// copy into a UTF8 string via ToCString.</span></div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span>        <a class="code hl_typedef" href="namespaceunibrow.html#a67de744730c9fed24aa185ab5747772c">int32_t</a> length = <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="namespaceunibrow.html#a67de744730c9fed24aa185ab5747772c">int32_t</a><span class="keyword">&gt;</span>(<span class="keywordtype">string</span>-&gt;length());</div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span>        <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a> = number_format.formatDecimal(</div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span>            {<span class="keywordtype">string</span>-&gt;ToCString().get(), length}, <a class="code hl_variable" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a>);</div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>      }</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span>      <span class="keywordtype">double</span> number = <a class="code hl_function" href="namespacev8_1_1internal.html#a1de45cad4146db2f85105ce52f585591">IsNaN</a>(*numeric_obj)</div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span>                          ? std::numeric_limits&lt;double&gt;::quiet_NaN()</div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>                          : Object::NumberValue(*numeric_obj);</div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span>      <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a> = number_format.formatDouble(number, status);</div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span>    }</div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span>  }</div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span>  <span class="keywordflow">if</span> (U_FAILURE(status)) {</div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>    <span class="comment">// This happen because of icu data trimming trim out &quot;unit&quot;.</span></div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span>    <span class="comment">// See https://bugs.chromium.org/p/v8/issues/detail?id=8641</span></div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a06699c63279f3987fe082aeaaab74b7e">THROW_NEW_ERROR_RETURN_VALUE</a>(isolate,</div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span>                                 NewTypeError(MessageTemplate::kIcuError),</div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span>                                 Nothing&lt;icu::number::FormattedNumber&gt;());</div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span>  }</div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span>  <span class="keywordflow">return</span> Just(std::move(<a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a>));</div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span>}</div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span> </div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span> </div>
<div class="foldopen" id="foldopen01578" data-start="{" data-end="}">
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1IntlMathematicalValue.html#affec256b1cdbe3781e2ccc3b2b7a7d99"> 1578</a></span>Maybe&lt;icu::number::FormattedNumber&gt; <a class="code hl_function" href="classv8_1_1internal_1_1IntlMathematicalValue.html#affec256b1cdbe3781e2ccc3b2b7a7d99">IntlMathematicalValue::FormatNumeric</a>(</div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span>    <span class="keyword">const</span> icu::number::LocalizedNumberFormatter&amp; number_format,</div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span>    <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1IntlMathematicalValue.html">IntlMathematicalValue</a>&amp; <a class="code hl_variable" href="liveedit-diff_8cc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>) {</div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span>  <span class="keywordflow">if</span> (IsString(*<a class="code hl_variable" href="liveedit-diff_8cc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>.value_)) {</div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;String&gt;</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>;</div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a6a0c40de52f9f029945027e5834661ad">ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(isolate, <span class="keywordtype">string</span>, <a class="code hl_variable" href="liveedit-diff_8cc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>.ToString(isolate),</div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"> 1585</span>                                     Nothing&lt;icu::number::FormattedNumber&gt;());</div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span>    UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span>    icu::number::FormattedNumber <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> =</div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span>        FormatDecimalString(isolate, number_format, <span class="keywordtype">string</span>, status);</div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span>    <span class="keywordflow">if</span> (U_FAILURE(status)) {</div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>      <a class="code hl_define" href="execution_2isolate_8h.html#a06699c63279f3987fe082aeaaab74b7e">THROW_NEW_ERROR_RETURN_VALUE</a>(isolate,</div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>                                   NewTypeError(MessageTemplate::kIcuError),</div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>                                   Nothing&lt;icu::number::FormattedNumber&gt;());</div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>    }</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span>    <span class="keywordflow">return</span> Just(std::move(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>));</div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span>  }</div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#a33a2826557a82e4cd9775aadf0f5711e">IsNumber</a>(*<a class="code hl_variable" href="liveedit-diff_8cc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>.value_) || IsBigInt(*<a class="code hl_variable" href="liveedit-diff_8cc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>.value_));</div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>  <span class="keywordflow">return</span> IcuFormatNumber(isolate, number_format, <a class="code hl_variable" href="liveedit-diff_8cc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>.value_);</div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>}</div>
</div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span> </div>
<div class="foldopen" id="foldopen01600" data-start="{" data-end="}">
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1IntlMathematicalValue.html#a0ad59d8bec4bf8f5f09f7ed6062493e2"> 1600</a></span>Maybe&lt;icu::number::FormattedNumberRange&gt; <a class="code hl_function" href="classv8_1_1internal_1_1IntlMathematicalValue.html#a0ad59d8bec4bf8f5f09f7ed6062493e2">IntlMathematicalValue::FormatRange</a>(</div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>    <span class="keyword">const</span> icu::number::LocalizedNumberRangeFormatter&amp; number_range_format,</div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span>    <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1IntlMathematicalValue.html">IntlMathematicalValue</a>&amp; <a class="code hl_variable" href="liveedit-diff_8cc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>, <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1IntlMathematicalValue.html">IntlMathematicalValue</a>&amp; <a class="code hl_variable" href="namespacev8_1_1internal.html#aeb5be8c54a68c0a55508c931639d71da">y</a>) {</div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span>  icu::Formattable x_formatable;</div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span>  <a class="code hl_define" href="execution_2isolate_8h.html#af909087c7f40e002219a327009d23c52">MAYBE_ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(</div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span>      isolate, x_formatable, <a class="code hl_variable" href="liveedit-diff_8cc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>.ToFormattable(isolate),</div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span>      Nothing&lt;icu::number::FormattedNumberRange&gt;());</div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span> </div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span>  icu::Formattable y_formatable;</div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span>  <a class="code hl_define" href="execution_2isolate_8h.html#af909087c7f40e002219a327009d23c52">MAYBE_ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(</div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span>      isolate, y_formatable, <a class="code hl_variable" href="namespacev8_1_1internal.html#aeb5be8c54a68c0a55508c931639d71da">y</a>.ToFormattable(isolate),</div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span>      Nothing&lt;icu::number::FormattedNumberRange&gt;());</div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span> </div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span>  icu::number::FormattedNumberRange <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> =</div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span>      number_range_format.formatFormattableRange(x_formatable, y_formatable,</div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span>                                                 status);</div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span>  <span class="keywordflow">if</span> (U_FAILURE(status)) {</div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a06699c63279f3987fe082aeaaab74b7e">THROW_NEW_ERROR_RETURN_VALUE</a>(isolate,</div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span>                                 NewTypeError(MessageTemplate::kIcuError),</div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span>                                 Nothing&lt;icu::number::FormattedNumberRange&gt;());</div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span>  }</div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span> </div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span>  <span class="keywordflow">return</span> Just(std::move(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>));</div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span>}</div>
</div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span> </div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span><span class="comment">// Return the index of the end of leading white space or line terminator</span></div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span><span class="comment">// and the index of the start of trailing white space or line terminator.</span></div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Char&gt;</div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span>std::pair&lt;int, int&gt; FindLeadingAndTrailingWhiteSpaceOrLineTerminator(</div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span>    <a class="code hl_class" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const Char&gt;</a> src) {</div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span>  <span class="keywordtype">size_t</span> leading_end = 0;</div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span> </div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span>  <span class="comment">// Find the length of leading StrWhiteSpaceChar.</span></div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span>  <span class="keywordflow">while</span> (leading_end &lt; src.size() &amp;&amp;</div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span>         <a class="code hl_function" href="namespacev8_1_1internal.html#a5258b3e99e9bc53458326bb8a5fea417">IsWhiteSpaceOrLineTerminator</a>(</div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>             <span class="keyword">static_cast&lt;</span>uint16_t<span class="keyword">&gt;</span>(src.at(leading_end)))) {</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span>    leading_end++;</div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"> 1640</span>  }</div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"> 1641</span>  <span class="keywordtype">size_t</span> trailing_start = src.size();</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span>  <span class="comment">// Find the start of the trailing StrWhiteSpaceChar</span></div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span>  <span class="keywordflow">while</span> (trailing_start &gt; leading_end &amp;&amp;</div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span>         <a class="code hl_function" href="namespacev8_1_1internal.html#a5258b3e99e9bc53458326bb8a5fea417">IsWhiteSpaceOrLineTerminator</a>(</div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span>             <span class="keyword">static_cast&lt;</span>uint16_t<span class="keyword">&gt;</span>(src.at(trailing_start - 1)))) {</div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>    trailing_start--;</div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>  }</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span>  <span class="keywordflow">return</span> std::make_pair(leading_end, trailing_start);</div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>}</div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span> </div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span>Handle&lt;String&gt; TrimWhiteSpaceOrLineTerminator(Isolate* isolate,</div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span>                                              Handle&lt;String&gt; <span class="keywordtype">string</span>) {</div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span>  <span class="keywordtype">string</span> = <a class="code hl_function" href="classv8_1_1internal_1_1String.html#a21049fc49218b6cf593fc03fabf42656">String::Flatten</a>(isolate, <span class="keywordtype">string</span>);</div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span>  std::pair&lt;int, uint32_t&gt; whitespace_offsets;</div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span>  {</div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span>    <a class="code hl_typedef" href="namespacev8_1_1internal.html#a20971f8a9770697fdde08004c19035a3">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span>    String::FlatContent flat = <span class="keywordtype">string</span>-&gt;GetFlatContent(no_gc);</div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span>    <span class="keywordflow">if</span> (flat.IsOneByte()) {</div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span>      whitespace_offsets = FindLeadingAndTrailingWhiteSpaceOrLineTerminator(</div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span>          flat.ToOneByteVector());</div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span>      whitespace_offsets =</div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span>          FindLeadingAndTrailingWhiteSpaceOrLineTerminator(flat.ToUC16Vector());</div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span>    }</div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span>  }</div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span>  <span class="keywordflow">if</span> (whitespace_offsets.first == 0 &amp;&amp;</div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span>      string-&gt;length() == whitespace_offsets.second) {</div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>;</div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"> 1669</span>  }</div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span>  <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;NewSubString(<span class="keywordtype">string</span>, whitespace_offsets.first,</div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span>                                          whitespace_offsets.second);</div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span>}</div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span> </div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span> </div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span><span class="comment">// #sec-tointlmathematicalvalue</span></div>
<div class="foldopen" id="foldopen01677" data-start="{" data-end="}">
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1IntlMathematicalValue.html#a375df483c5402d9c57c2935009c9a5e9"> 1677</a></span>Maybe&lt;IntlMathematicalValue&gt; <a class="code hl_function" href="classv8_1_1internal_1_1IntlMathematicalValue.html#a375df483c5402d9c57c2935009c9a5e9">IntlMathematicalValue::From</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span>                                                         <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> value) {</div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Factory.html">Factory</a>* factory = isolate-&gt;factory();</div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span>  <span class="comment">// 1. Let primValue be ? ToPrimitive(value, number).</span></div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> prim_value;</div>
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"> 1682</span>  <span class="keywordflow">if</span> (IsJSReceiver(*value)) {</div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a6a0c40de52f9f029945027e5834661ad">ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(</div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span>        isolate, prim_value,</div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>        <a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#a9f79bc1e2e3e8bac8047dd661471063b">JSReceiver::ToPrimitive</a>(isolate, <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;JSReceiver&gt;</a>(value),</div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span>                                <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a0b94f6b0e385883eb41e5491b05ef784a5a7ab0ccb8bc2cc772c1552d08cb7d2f">ToPrimitiveHint::kNumber</a>),</div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span>        Nothing&lt;IntlMathematicalValue&gt;());</div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span>    prim_value = <a class="code hl_variable" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span>  }</div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span>  <a class="code hl_class" href="classv8_1_1internal_1_1IntlMathematicalValue.html">IntlMathematicalValue</a> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>;</div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span>  <span class="comment">// 2. If Type(primValue) is BigInt, return the mathematical value of</span></div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span>  <span class="comment">// primValue.</span></div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span>  <span class="keywordflow">if</span> (IsBigInt(*prim_value)) {</div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span>    <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.value_ = prim_value;</div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span>    <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.approx_ = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;BigInt&gt;</a>(prim_value)-&gt;AsInt64();</div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"> 1697</span>    <span class="keywordflow">return</span> Just(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>);</div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span>  }</div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span>  <span class="keywordflow">if</span> (IsOddball(*prim_value)) {</div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span>    prim_value = <a class="code hl_function" href="classv8_1_1internal_1_1Oddball.html#a2aaab54d982f91a106201917f5ae1ec6">Oddball::ToNumber</a>(isolate, <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;Oddball&gt;</a>(prim_value));</div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span>  }</div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacev8_1_1internal.html#a33a2826557a82e4cd9775aadf0f5711e">IsNumber</a>(*prim_value)) {</div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"> 1703</span>    <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.value_ = prim_value;</div>
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"> 1704</span>    <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.approx_ = <a class="code hl_function" href="classv8_1_1internal_1_1Object.html#a8a6c6d9b71bb8f6bd6004b8f6f48c9f7">Object::NumberValue</a>(*prim_value);</div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>    <span class="keywordflow">return</span> Just(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>);</div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>  }</div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span>  <span class="keywordflow">if</span> (!IsString(*prim_value)) {</div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>    <span class="comment">// No need to convert from Number to String, just call ToNumber.</span></div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a6a0c40de52f9f029945027e5834661ad">ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(isolate, <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.value_,</div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span>                                     <a class="code hl_function" href="classv8_1_1internal_1_1Object.html#a39080172004aa923f4f946bec95d687e">Object::ToNumber</a>(isolate, prim_value),</div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span>                                     Nothing&lt;IntlMathematicalValue&gt;());</div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span>    <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.approx_ = <a class="code hl_function" href="classv8_1_1internal_1_1Object.html#a8a6c6d9b71bb8f6bd6004b8f6f48c9f7">Object::NumberValue</a>(*<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.value_);</div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span>    <span class="keywordflow">return</span> Just(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>);</div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span>  }</div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;String&gt;</a> <span class="keywordtype">string</span> = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;String&gt;</a>(prim_value);</div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span> </div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span>  <span class="keywordtype">string</span> = TrimWhiteSpaceOrLineTerminator(isolate, <span class="keywordtype">string</span>);</div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span>  <span class="keywordflow">if</span> (string-&gt;length() == 0) {</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span>    <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.value_ = <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(<a class="code hl_function" href="classv8_1_1internal_1_1Smi.html#ae2be3083c9562dbe7c4bc39337bbe831">Smi::zero</a>(), isolate);</div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span>    <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.approx_ = 0;</div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span>    <span class="keywordflow">return</span> Just(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>);</div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span>  }</div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span>  <span class="comment">// We may have a NonDecimalIntegerLiteral:</span></div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span>  <span class="keywordflow">if</span> (2 &lt; string-&gt;length() &amp;&amp; string-&gt;Get(0) == <span class="charliteral">&#39;0&#39;</span>) {</div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>    uint16_t ch = <span class="keywordtype">string</span>-&gt;Get(1);</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span>    <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;b&#39;</span> || ch == <span class="charliteral">&#39;B&#39;</span> || ch == <span class="charliteral">&#39;o&#39;</span> || ch == <span class="charliteral">&#39;O&#39;</span> || ch == <span class="charliteral">&#39;x&#39;</span> ||</div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span>        ch == <span class="charliteral">&#39;X&#39;</span>) {</div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span>      <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.approx_ =</div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span>          <a class="code hl_function" href="namespacev8_1_1internal.html#aea85197770e2dbc0f392c9af2ad3a7d8">StringToDouble</a>(isolate, <span class="keywordtype">string</span>, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#ab16cc65aad4270433887227fd1d52f02ad5def827bf43fa74375bc9180b786eb4">ALLOW_NON_DECIMAL_PREFIX</a>, 0);</div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>      <span class="comment">// If approx is within the precision, just return as Number.</span></div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.approx_ &lt; <a class="code hl_variable" href="namespacev8_1_1internal.html#a169aca39c9a05f77900ed76a775a4622">kMaxSafeInteger</a>) {</div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>        <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.value_ = isolate-&gt;factory()-&gt;NewNumber(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.approx_);</div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span>        <span class="keywordflow">return</span> Just(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>);</div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span>      }</div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span>      <span class="comment">// Otherwise return the BigInt</span></div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span>      <a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;BigInt&gt;</a> maybe_bigint = <a class="code hl_function" href="namespacev8_1_1internal.html#afa64d5ad974ffbf5dc18a321d007f1a9">StringToBigInt</a>(isolate, <span class="keywordtype">string</span>);</div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span>      <span class="comment">// If the parsing of BigInt fail, return nan</span></div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>      <span class="keywordflow">if</span> (maybe_bigint.<a class="code hl_function" href="classv8_1_1internal_1_1MaybeHandle.html#a76d0200bf11d6f7628c7119d730efa44">is_null</a>()) {</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>        isolate-&gt;clear_exception();</div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span>        <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.value_ = factory-&gt;nan_value();</div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span>        <span class="keywordflow">return</span> Just(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>);</div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>      }</div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>      <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.value_ = maybe_bigint.<a class="code hl_function" href="classv8_1_1internal_1_1MaybeHandle.html#a159acedd790dff56dbcc03792674e232">ToHandleChecked</a>();</div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>      <span class="keywordflow">return</span> Just(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>);</div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span>    }</div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span>  }</div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>  <span class="comment">// If it does not fit StrDecimalLiteral StrWhiteSpace_opt, StringToDouble will</span></div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span>  <span class="comment">// parse it as NaN, in that case, return NaN.</span></div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span>  <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.approx_ = <a class="code hl_function" href="namespacev8_1_1internal.html#aea85197770e2dbc0f392c9af2ad3a7d8">StringToDouble</a>(isolate, <span class="keywordtype">string</span>, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#ab16cc65aad4270433887227fd1d52f02a454cc6405a644396042993d74885d6ba">NO_CONVERSION_FLAG</a>, 0);</div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span>  <span class="keywordflow">if</span> (std::isnan(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.approx_)) {</div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span>    <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.value_ = factory-&gt;nan_value();</div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span>    <span class="keywordflow">return</span> Just(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>);</div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span>  }</div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>  <span class="comment">// Handle Infinity / +Infinity / -Infinity</span></div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>  <span class="keywordflow">if</span> (!std::isfinite(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.approx_)) {</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.approx_ &lt; 0) {</div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span>      <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.value_ = factory-&gt;minus_infinity_value();</div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span>      <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.value_ = factory-&gt;infinity_value();</div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span>    }</div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span>    <span class="keywordflow">return</span> Just(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>);</div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span>  }</div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>  <span class="comment">// At this point, str is for sure fit</span></div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span>  <span class="comment">// &quot;StrNumericLiteral StrWhiteSpace_opt&quot; excluding &quot;(+|-)?Infinity&quot;</span></div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span>  <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.value_ = <a class="code hl_variable" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>;</div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span> </div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span>  <span class="keywordflow">return</span> Just(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>);</div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span>}</div>
</div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span> </div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>Maybe&lt;icu::Formattable&gt; IntlMathematicalValue::ToFormattable(</div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacev8_1_1internal.html#a33a2826557a82e4cd9775aadf0f5711e">IsNumber</a>(*value_)) {</div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span>    <span class="keywordflow">return</span> Just(icu::Formattable(approx_));</div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span>  }</div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span>  DirectHandle&lt;String&gt; <a class="code hl_variable" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>;</div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>  <a class="code hl_define" href="execution_2isolate_8h.html#a6a0c40de52f9f029945027e5834661ad">ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(isolate, <span class="keywordtype">string</span>, ToString(isolate),</div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>                                   Nothing&lt;icu::Formattable&gt;());</div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span>  {</div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>    <a class="code hl_typedef" href="namespacev8_1_1internal.html#a20971f8a9770697fdde08004c19035a3">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span>    <span class="keyword">const</span> String::FlatContent&amp; flat = <span class="keywordtype">string</span>-&gt;GetFlatContent(no_gc);</div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>    int32_t length = <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(<span class="keywordtype">string</span>-&gt;length());</div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>    <span class="keywordflow">if</span> (flat.IsOneByte()) {</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>      icu::Formattable <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>(</div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>          {<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(flat.ToOneByteVector().begin()),</div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>           length},</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>          <a class="code hl_variable" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a>);</div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>      <span class="keywordflow">if</span> (U_SUCCESS(status)) <span class="keywordflow">return</span> Just(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>);</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span>      icu::Formattable <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>({<span class="keywordtype">string</span>-&gt;ToCString().get(), length}, <a class="code hl_variable" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a>);</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span>      <span class="keywordflow">if</span> (U_SUCCESS(status)) <span class="keywordflow">return</span> Just(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>);</div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span>    }</div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span>  }</div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span>  <a class="code hl_define" href="execution_2isolate_8h.html#a06699c63279f3987fe082aeaaab74b7e">THROW_NEW_ERROR_RETURN_VALUE</a>(isolate,</div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span>                               NewTypeError(MessageTemplate::kIcuError),</div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span>                               Nothing&lt;icu::Formattable&gt;());</div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span>}</div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span> </div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span><span class="keywordtype">bool</span> cmp_NumberFormatSpan(<span class="keyword">const</span> NumberFormatSpan&amp; a,</div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span>                          <span class="keyword">const</span> NumberFormatSpan&amp; b) {</div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span>  <span class="comment">// Regions that start earlier should be encountered earlier.</span></div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>  <span class="keywordflow">if</span> (a.begin_pos &lt; b.begin_pos) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>  <span class="keywordflow">if</span> (a.begin_pos &gt; b.begin_pos) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span>  <span class="comment">// For regions that start in the same place, regions that last longer should</span></div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span>  <span class="comment">// be encountered earlier.</span></div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>  <span class="keywordflow">if</span> (a.end_pos &lt; b.end_pos) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>  <span class="keywordflow">if</span> (a.end_pos &gt; b.end_pos) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span>  <span class="comment">// For regions that are exactly the same, one of them must be the &quot;literal&quot;</span></div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>  <span class="comment">// backdrop we added, which has a field_id of -1, so consider higher field_ids</span></div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span>  <span class="comment">// to be later.</span></div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>  <span class="keywordflow">return</span> a.field_id &lt; b.field_id;</div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>}</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span> </div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span> </div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span><span class="comment">// Flattens a list of possibly-overlapping &quot;regions&quot; to a list of</span></div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span><span class="comment">// non-overlapping &quot;parts&quot;. At least one of the input regions must span the</span></div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span><span class="comment">// entire space of possible indexes. The regions parameter will sorted in-place</span></div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span><span class="comment">// according to some criteria; this is done for performance to avoid copying the</span></div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span><span class="comment">// input.</span></div>
<div class="foldopen" id="foldopen01822" data-start="{" data-end="}">
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a87b3e4afb35334c6b2d49a11eac5d693"> 1822</a></span>std::vector&lt;NumberFormatSpan&gt; <a class="code hl_function" href="namespacev8_1_1internal.html#a87b3e4afb35334c6b2d49a11eac5d693">FlattenRegionsToParts</a>(</div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span>    std::vector&lt;NumberFormatSpan&gt;* regions) {</div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span>  <span class="comment">// The intention of this algorithm is that it&#39;s used to translate ICU &quot;fields&quot;</span></div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span>  <span class="comment">// to JavaScript &quot;parts&quot; of a formatted string. Each ICU field and JavaScript</span></div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span>  <span class="comment">// part has an integer field_id, which corresponds to something like &quot;grouping</span></div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span>  <span class="comment">// separator&quot;, &quot;fraction&quot;, or &quot;percent sign&quot;, and has a begin and end</span></div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span>  <span class="comment">// position. Here&#39;s a diagram of:</span></div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span> </div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span>  <span class="comment">// var nf = new Intl.NumberFormat([&#39;de&#39;], {style:&#39;currency&#39;,currency:&#39;EUR&#39;});</span></div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span>  <span class="comment">// nf.formatToParts(123456.78);</span></div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span> </div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span>  <span class="comment">//               :       6</span></div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span>  <span class="comment">//  input regions:    0000000211 7</span></div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>  <span class="comment">// (&#39;-&#39; means -1):    ------------</span></div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span>  <span class="comment">// formatted string: &quot;123.456,78 €&quot;</span></div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>  <span class="comment">// output parts:      0006000211-7</span></div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span> </div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>  <span class="comment">// To illustrate the requirements of this algorithm, here&#39;s a contrived and</span></div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>  <span class="comment">// convoluted example of inputs and expected outputs:</span></div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span> </div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span>  <span class="comment">//              :          4</span></div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>  <span class="comment">//              :      22 33    3</span></div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span>  <span class="comment">//              :      11111   22</span></div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span>  <span class="comment">// input regions:     0000000  111</span></div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span>  <span class="comment">//              :     ------------</span></div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span>  <span class="comment">// formatted string: &quot;abcdefghijkl&quot;</span></div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span>  <span class="comment">// output parts:      0221340--231</span></div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span>  <span class="comment">// (The characters in the formatted string are irrelevant to this function.)</span></div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span> </div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span>  <span class="comment">// We arrange the overlapping input regions like a mountain range where</span></div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span>  <span class="comment">// smaller regions are &quot;on top&quot; of larger regions, and we output a birds-eye</span></div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>  <span class="comment">// view of the mountains, so that smaller regions take priority over larger</span></div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span>  <span class="comment">// regions.</span></div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>  std::sort(regions-&gt;begin(), regions-&gt;end(), cmp_NumberFormatSpan);</div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span>  std::vector&lt;size_t&gt; overlapping_region_index_stack;</div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span>  <span class="comment">// At least one item in regions must be a region spanning the entire string.</span></div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span>  <span class="comment">// Due to the sorting above, the first item in the vector will be one of them.</span></div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span>  overlapping_region_index_stack.push_back(0);</div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span>  <a class="code hl_struct" href="structv8_1_1internal_1_1NumberFormatSpan.html">NumberFormatSpan</a> top_region = regions-&gt;at(0);</div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span>  <span class="keywordtype">size_t</span> region_iterator = 1;</div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span>  int32_t entire_size = top_region.<a class="code hl_variable" href="structv8_1_1internal_1_1NumberFormatSpan.html#a7d8317cafec38fa6bea3c95535097ec6">end_pos</a>;</div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span> </div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span>  std::vector&lt;NumberFormatSpan&gt; out_parts;</div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span> </div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span>  <span class="comment">// The &quot;climber&quot; is a cursor that advances from left to right climbing &quot;up&quot;</span></div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span>  <span class="comment">// and &quot;down&quot; the mountains. Whenever the climber moves to the right, that</span></div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>  <span class="comment">// represents an item of output.</span></div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span>  int32_t climber = 0;</div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span>  <span class="keywordflow">while</span> (climber &lt; entire_size) {</div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>    int32_t next_region_begin_pos;</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span>    <span class="keywordflow">if</span> (region_iterator &lt; regions-&gt;<a class="code hl_variable" href="setup-heap-internal_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>()) {</div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span>      next_region_begin_pos = regions-&gt;at(region_iterator).begin_pos;</div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span>      <span class="comment">// finish off the rest of the input by proceeding to the end.</span></div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span>      next_region_begin_pos = entire_size;</div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span>    }</div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span> </div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span>    <span class="keywordflow">if</span> (climber &lt; next_region_begin_pos) {</div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span>      <span class="keywordflow">while</span> (top_region.<a class="code hl_variable" href="structv8_1_1internal_1_1NumberFormatSpan.html#a7d8317cafec38fa6bea3c95535097ec6">end_pos</a> &lt; next_region_begin_pos) {</div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span>        <span class="keywordflow">if</span> (climber &lt; top_region.<a class="code hl_variable" href="structv8_1_1internal_1_1NumberFormatSpan.html#a7d8317cafec38fa6bea3c95535097ec6">end_pos</a>) {</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>          <span class="comment">// step down</span></div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>          out_parts.push_back(<a class="code hl_struct" href="structv8_1_1internal_1_1NumberFormatSpan.html">NumberFormatSpan</a>(top_region.<a class="code hl_variable" href="structv8_1_1internal_1_1NumberFormatSpan.html#aef8bb101ffd6024ff51765aaf8f127d1">field_id</a>, climber,</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>                                               top_region.<a class="code hl_variable" href="structv8_1_1internal_1_1NumberFormatSpan.html#a7d8317cafec38fa6bea3c95535097ec6">end_pos</a>));</div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span>          climber = top_region.<a class="code hl_variable" href="structv8_1_1internal_1_1NumberFormatSpan.html#a7d8317cafec38fa6bea3c95535097ec6">end_pos</a>;</div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>          <span class="comment">// drop down</span></div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span>        }</div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span>        overlapping_region_index_stack.pop_back();</div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span>        top_region = regions-&gt;at(overlapping_region_index_stack.back());</div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span>      }</div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span>      <span class="keywordflow">if</span> (climber &lt; next_region_begin_pos) {</div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span>        <span class="comment">// cross a plateau/mesa/valley</span></div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span>        out_parts.push_back(<a class="code hl_struct" href="structv8_1_1internal_1_1NumberFormatSpan.html">NumberFormatSpan</a>(top_region.<a class="code hl_variable" href="structv8_1_1internal_1_1NumberFormatSpan.html#aef8bb101ffd6024ff51765aaf8f127d1">field_id</a>, climber,</div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span>                                             next_region_begin_pos));</div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span>        climber = next_region_begin_pos;</div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span>      }</div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span>    }</div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span>    <span class="keywordflow">if</span> (region_iterator &lt; regions-&gt;<a class="code hl_variable" href="setup-heap-internal_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>()) {</div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span>      overlapping_region_index_stack.push_back(region_iterator++);</div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span>      top_region = regions-&gt;at(overlapping_region_index_stack.back());</div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span>    }</div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span>  }</div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span>  <span class="keywordflow">return</span> out_parts;</div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span>}</div>
</div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span> </div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span>Maybe&lt;int&gt; ConstructParts(Isolate* isolate,</div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"> 1909</span>                          <span class="keyword">const</span> icu::FormattedValue&amp; <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a>,</div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span>                          DirectHandle&lt;JSArray&gt; <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>, <span class="keywordtype">int</span> start_index,</div>
<div class="line"><a id="l01911" name="l01911"></a><span class="lineno"> 1911</span>                          <span class="keywordtype">bool</span> style_is_unit, <span class="keywordtype">bool</span> is_nan, <span class="keywordtype">bool</span> output_source,</div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span>                          <span class="keywordtype">bool</span> output_unit, DirectHandle&lt;String&gt; <a class="code hl_variable" href="js-temporal-objects_8cc.html#aaa0d61fcdf7a0b9f0f2b48c9946cbd10">unit</a>) {</div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l01914" name="l01914"></a><span class="lineno"> 1914</span>  icu::UnicodeString formatted_text = <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a>.toString(status);</div>
<div class="line"><a id="l01915" name="l01915"></a><span class="lineno"> 1915</span>  <span class="keywordflow">if</span> (U_FAILURE(status)) {</div>
<div class="line"><a id="l01916" name="l01916"></a><span class="lineno"> 1916</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a06699c63279f3987fe082aeaaab74b7e">THROW_NEW_ERROR_RETURN_VALUE</a>(</div>
<div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span>        isolate, NewTypeError(MessageTemplate::kIcuError), Nothing&lt;int&gt;());</div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span>  }</div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span>  int32_t length = formatted_text.length();</div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"> 1920</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = start_index;</div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"> 1921</span>  <span class="keywordflow">if</span> (length == 0) <span class="keywordflow">return</span> Just(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span> </div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span>  std::vector&lt;NumberFormatSpan&gt; regions;</div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"> 1924</span>  <span class="comment">// Add a &quot;literal&quot; backdrop for the entire string. This will be used if no</span></div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"> 1925</span>  <span class="comment">// other region covers some part of the formatted string. It&#39;s possible</span></div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"> 1926</span>  <span class="comment">// there&#39;s another field with exactly the same begin and end as this backdrop,</span></div>
<div class="line"><a id="l01927" name="l01927"></a><span class="lineno"> 1927</span>  <span class="comment">// in which case the backdrop&#39;s field_id of -1 will give it lower priority.</span></div>
<div class="line"><a id="l01928" name="l01928"></a><span class="lineno"> 1928</span>  regions.push_back(NumberFormatSpan(-1, 0, formatted_text.length()));</div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span>  Intl::FormatRangeSourceTracker tracker;</div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span>  {</div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"> 1931</span>    icu::ConstrainedFieldPosition cfpos;</div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a>.nextPosition(cfpos, status)) {</div>
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"> 1933</span>      int32_t category = cfpos.getCategory();</div>
<div class="line"><a id="l01934" name="l01934"></a><span class="lineno"> 1934</span>      int32_t field = cfpos.getField();</div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span>      int32_t <a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a> = cfpos.getStart();</div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span>      int32_t limit = cfpos.getLimit();</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span>      <span class="keywordflow">if</span> (category == UFIELD_CATEGORY_NUMBER_RANGE_SPAN) {</div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span>        <a class="code hl_define" href="logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(field, 2);</div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span>        tracker.Add(field, <a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a>, limit);</div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span>        regions.push_back(NumberFormatSpan(field, <a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a>, limit));</div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span>      }</div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span>    }</div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>  }</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span> </div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span>  std::vector&lt;NumberFormatSpan&gt; parts = <a class="code hl_function" href="namespacev8_1_1internal.html#a87b3e4afb35334c6b2d49a11eac5d693">FlattenRegionsToParts</a>(&amp;regions);</div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span> </div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = parts.begin(); it &lt; parts.end(); it++) {</div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span>    NumberFormatSpan part = *it;</div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span>    DirectHandle&lt;String&gt; field_type_string =</div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span>        isolate-&gt;factory()-&gt;literal_string();</div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span>    <span class="keywordflow">if</span> (part.field_id != -1) {</div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span>      <span class="keywordflow">if</span> (style_is_unit &amp;&amp; <span class="keyword">static_cast&lt;</span>UNumberFormatFields<span class="keyword">&gt;</span>(part.field_id) ==</div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span>                               UNUM_PERCENT_FIELD) {</div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span>        <span class="comment">// Special case when style is unit.</span></div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span>        field_type_string = isolate-&gt;factory()-&gt;unit_string();</div>
<div class="line"><a id="l01957" name="l01957"></a><span class="lineno"> 1957</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span>        field_type_string =</div>
<div class="line"><a id="l01959" name="l01959"></a><span class="lineno"> 1959</span>            <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a660a051a260ed6308f6a944c8a0ff66a">Intl::NumberFieldToType</a>(isolate, part, formatted_text, is_nan);</div>
<div class="line"><a id="l01960" name="l01960"></a><span class="lineno"> 1960</span>      }</div>
<div class="line"><a id="l01961" name="l01961"></a><span class="lineno"> 1961</span>    }</div>
<div class="line"><a id="l01962" name="l01962"></a><span class="lineno"> 1962</span>    DirectHandle&lt;String&gt; <a class="code hl_variable" href="random-module-generation_8cc.html#aa43d2ab28d2f569f8f848249dfb0a401">substring</a>;</div>
<div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a6a0c40de52f9f029945027e5834661ad">ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(</div>
<div class="line"><a id="l01964" name="l01964"></a><span class="lineno"> 1964</span>        isolate, substring,</div>
<div class="line"><a id="l01965" name="l01965"></a><span class="lineno"> 1965</span>        <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a31799f9a30b4169d1ea6919debdc6591">Intl::ToString</a>(isolate, formatted_text, part.begin_pos, part.end_pos),</div>
<div class="line"><a id="l01966" name="l01966"></a><span class="lineno"> 1966</span>        Nothing&lt;int&gt;());</div>
<div class="line"><a id="l01967" name="l01967"></a><span class="lineno"> 1967</span> </div>
<div class="line"><a id="l01968" name="l01968"></a><span class="lineno"> 1968</span>    <span class="keywordflow">if</span> (output_source) {</div>
<div class="line"><a id="l01969" name="l01969"></a><span class="lineno"> 1969</span>      <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a02ee18559848f15ba923b502faaa1912">Intl::AddElement</a>(</div>
<div class="line"><a id="l01970" name="l01970"></a><span class="lineno"> 1970</span>          isolate, <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>, <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, field_type_string, substring,</div>
<div class="line"><a id="l01971" name="l01971"></a><span class="lineno"> 1971</span>          isolate-&gt;factory()-&gt;source_string(),</div>
<div class="line"><a id="l01972" name="l01972"></a><span class="lineno"> 1972</span>          <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#abaa86e49b219f33b0185c47996ca5006">Intl::SourceString</a>(isolate,</div>
<div class="line"><a id="l01973" name="l01973"></a><span class="lineno"> 1973</span>                             tracker.GetSource(part.begin_pos, part.end_pos)));</div>
<div class="line"><a id="l01974" name="l01974"></a><span class="lineno"> 1974</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01975" name="l01975"></a><span class="lineno"> 1975</span>      <span class="keywordflow">if</span> (output_unit) {</div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"> 1976</span>        <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a02ee18559848f15ba923b502faaa1912">Intl::AddElement</a>(isolate, <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>, <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, field_type_string, substring,</div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span>                         isolate-&gt;factory()-&gt;unit_string(), <a class="code hl_variable" href="js-temporal-objects_8cc.html#aaa0d61fcdf7a0b9f0f2b48c9946cbd10">unit</a>);</div>
<div class="line"><a id="l01978" name="l01978"></a><span class="lineno"> 1978</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01979" name="l01979"></a><span class="lineno"> 1979</span>        <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a02ee18559848f15ba923b502faaa1912">Intl::AddElement</a>(isolate, <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>, <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, field_type_string, substring);</div>
<div class="line"><a id="l01980" name="l01980"></a><span class="lineno"> 1980</span>      }</div>
<div class="line"><a id="l01981" name="l01981"></a><span class="lineno"> 1981</span>    }</div>
<div class="line"><a id="l01982" name="l01982"></a><span class="lineno"> 1982</span>    ++<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>;</div>
<div class="line"><a id="l01983" name="l01983"></a><span class="lineno"> 1983</span>  }</div>
<div class="line"><a id="l01984" name="l01984"></a><span class="lineno"> 1984</span>  <a class="code hl_function" href="classv8_1_1internal_1_1JSObject.html#a4aaf480f5680e7f342efe8a70ea1c8a0">JSObject::ValidateElements</a>(*<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>);</div>
<div class="line"><a id="l01985" name="l01985"></a><span class="lineno"> 1985</span>  <span class="keywordflow">return</span> Just(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l01986" name="l01986"></a><span class="lineno"> 1986</span>}</div>
<div class="line"><a id="l01987" name="l01987"></a><span class="lineno"> 1987</span> </div>
<div class="line"><a id="l01988" name="l01988"></a><span class="lineno"> 1988</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l01989" name="l01989"></a><span class="lineno"> 1989</span> </div>
<div class="foldopen" id="foldopen01990" data-start="{" data-end="}">
<div class="line"><a id="l01990" name="l01990"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a441a5f3c76283c0348b344cac8331c74"> 1990</a></span>Maybe&lt;int&gt; <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a441a5f3c76283c0348b344cac8331c74">Intl::AddNumberElements</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l01991" name="l01991"></a><span class="lineno"> 1991</span>                                   <span class="keyword">const</span> icu::FormattedValue&amp; <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a>,</div>
<div class="line"><a id="l01992" name="l01992"></a><span class="lineno"> 1992</span>                                   <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSArray&gt;</a> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>,</div>
<div class="line"><a id="l01993" name="l01993"></a><span class="lineno"> 1993</span>                                   <span class="keywordtype">int</span> start_index, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code hl_variable" href="js-temporal-objects_8cc.html#aaa0d61fcdf7a0b9f0f2b48c9946cbd10">unit</a>) {</div>
<div class="line"><a id="l01994" name="l01994"></a><span class="lineno"> 1994</span>  <span class="keywordflow">return</span> ConstructParts(isolate, <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a>, <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>, start_index, <span class="keyword">true</span>, <span class="keyword">false</span>,</div>
<div class="line"><a id="l01995" name="l01995"></a><span class="lineno"> 1995</span>                        <span class="keyword">false</span>, <span class="keyword">true</span>, <a class="code hl_variable" href="js-temporal-objects_8cc.html#aaa0d61fcdf7a0b9f0f2b48c9946cbd10">unit</a>);</div>
<div class="line"><a id="l01996" name="l01996"></a><span class="lineno"> 1996</span>}</div>
</div>
<div class="line"><a id="l01997" name="l01997"></a><span class="lineno"> 1997</span> </div>
<div class="line"><a id="l01998" name="l01998"></a><span class="lineno"> 1998</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l01999" name="l01999"></a><span class="lineno"> 1999</span> </div>
<div class="line"><a id="l02000" name="l02000"></a><span class="lineno"> 2000</span><span class="comment">// #sec-partitionnumberrangepattern</span></div>
<div class="line"><a id="l02001" name="l02001"></a><span class="lineno"> 2001</span>template &lt;typename T, MaybeHandle&lt;T&gt; (*<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a9fc59a9c005ed3e250ca231fbb4458a4a0d4bf86c4648acbf2fe49a15cec7d5ac">F</a>)(</div>
<div class="line"><a id="l02002" name="l02002"></a><span class="lineno"> 2002</span>                          <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>*, <span class="keyword">const</span> icu::FormattedValue&amp;,</div>
<div class="line"><a id="l02003" name="l02003"></a><span class="lineno"> 2003</span>                          <span class="keyword">const</span> icu::number::LocalizedNumberFormatter&amp;, <a class="code hl_variable" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>)&gt;</div>
<div class="line"><a id="l02004" name="l02004"></a><span class="lineno"> 2004</span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;T&gt;</a> PartitionNumberRangePattern(</div>
<div class="line"><a id="l02005" name="l02005"></a><span class="lineno"> 2005</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSNumberFormat&gt;</a> number_format,</div>
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"> 2006</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> <a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a>, <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> <a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* func_name) {</div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"> 2007</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Factory.html">Factory</a>* factory = isolate-&gt;factory();</div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span>  <span class="comment">// 4. Let x be ? ToIntlMathematicalValue(start).</span></div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"> 2009</span>  <a class="code hl_class" href="classv8_1_1internal_1_1IntlMathematicalValue.html">IntlMathematicalValue</a> <a class="code hl_variable" href="liveedit-diff_8cc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>;</div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"> 2010</span>  <a class="code hl_define" href="execution_2isolate_8h.html#af909087c7f40e002219a327009d23c52">MAYBE_ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(</div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"> 2011</span>      isolate, <a class="code hl_variable" href="liveedit-diff_8cc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>, <a class="code hl_function" href="classv8_1_1internal_1_1IntlMathematicalValue.html#a375df483c5402d9c57c2935009c9a5e9">IntlMathematicalValue::From</a>(isolate, <a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a>), <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;T&gt;</a>());</div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"> 2012</span> </div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"> 2013</span>  <span class="comment">// 5. Let y be ? ToIntlMathematicalValue(end).</span></div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"> 2014</span>  <a class="code hl_class" href="classv8_1_1internal_1_1IntlMathematicalValue.html">IntlMathematicalValue</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#aeb5be8c54a68c0a55508c931639d71da">y</a>;</div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"> 2015</span>  <a class="code hl_define" href="execution_2isolate_8h.html#af909087c7f40e002219a327009d23c52">MAYBE_ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(</div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"> 2016</span>      isolate, <a class="code hl_variable" href="namespacev8_1_1internal.html#aeb5be8c54a68c0a55508c931639d71da">y</a>, <a class="code hl_function" href="classv8_1_1internal_1_1IntlMathematicalValue.html#a375df483c5402d9c57c2935009c9a5e9">IntlMathematicalValue::From</a>(isolate, <a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a>), <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;T&gt;</a>());</div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"> 2017</span> </div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"> 2018</span>  <span class="comment">// 1. If x is not-a-number or y is not-a-number, throw a RangeError exception.</span></div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"> 2019</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="liveedit-diff_8cc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>.IsNaN()) {</div>
<div class="line"><a id="l02020" name="l02020"></a><span class="lineno"> 2020</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a06699c63279f3987fe082aeaaab74b7e">THROW_NEW_ERROR_RETURN_VALUE</a>(</div>
<div class="line"><a id="l02021" name="l02021"></a><span class="lineno"> 2021</span>        isolate,</div>
<div class="line"><a id="l02022" name="l02022"></a><span class="lineno"> 2022</span>        NewRangeError(MessageTemplate::kInvalid,</div>
<div class="line"><a id="l02023" name="l02023"></a><span class="lineno"> 2023</span>                      factory-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Factory.html#ace270af0020cf32252f584a9608ded99">NewStringFromStaticChars</a>(<span class="stringliteral">&quot;start&quot;</span>), <a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a>),</div>
<div class="line"><a id="l02024" name="l02024"></a><span class="lineno"> 2024</span>        <a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;T&gt;</a>());</div>
<div class="line"><a id="l02025" name="l02025"></a><span class="lineno"> 2025</span>  }</div>
<div class="line"><a id="l02026" name="l02026"></a><span class="lineno"> 2026</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#aeb5be8c54a68c0a55508c931639d71da">y</a>.IsNaN()) {</div>
<div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a06699c63279f3987fe082aeaaab74b7e">THROW_NEW_ERROR_RETURN_VALUE</a>(</div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span>        isolate,</div>
<div class="line"><a id="l02029" name="l02029"></a><span class="lineno"> 2029</span>        NewRangeError(MessageTemplate::kInvalid,</div>
<div class="line"><a id="l02030" name="l02030"></a><span class="lineno"> 2030</span>                      factory-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Factory.html#ace270af0020cf32252f584a9608ded99">NewStringFromStaticChars</a>(<span class="stringliteral">&quot;end&quot;</span>), <a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a>),</div>
<div class="line"><a id="l02031" name="l02031"></a><span class="lineno"> 2031</span>        MaybeHandle&lt;T&gt;());</div>
<div class="line"><a id="l02032" name="l02032"></a><span class="lineno"> 2032</span>  }</div>
<div class="line"><a id="l02033" name="l02033"></a><span class="lineno"> 2033</span> </div>
<div class="line"><a id="l02034" name="l02034"></a><span class="lineno"> 2034</span>  Maybe&lt;icu::number::LocalizedNumberRangeFormatter&gt; maybe_range_formatter =</div>
<div class="line"><a id="l02035" name="l02035"></a><span class="lineno"> 2035</span>      <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#a6a1bd271596db67cf26aed36fc37d562">JSNumberFormat::GetRangeFormatter</a>(</div>
<div class="line"><a id="l02036" name="l02036"></a><span class="lineno"> 2036</span>          isolate, number_format-&gt;locale(),</div>
<div class="line"><a id="l02037" name="l02037"></a><span class="lineno"> 2037</span>          *number_format-&gt;icu_number_formatter()-&gt;raw());</div>
<div class="line"><a id="l02038" name="l02038"></a><span class="lineno"> 2038</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_range_formatter, MaybeHandle&lt;T&gt;());</div>
<div class="line"><a id="l02039" name="l02039"></a><span class="lineno"> 2039</span> </div>
<div class="line"><a id="l02040" name="l02040"></a><span class="lineno"> 2040</span>  icu::number::LocalizedNumberRangeFormatter nrfmt =</div>
<div class="line"><a id="l02041" name="l02041"></a><span class="lineno"> 2041</span>      maybe_range_formatter.FromJust();</div>
<div class="line"><a id="l02042" name="l02042"></a><span class="lineno"> 2042</span> </div>
<div class="line"><a id="l02043" name="l02043"></a><span class="lineno"> 2043</span>  Maybe&lt;icu::number::FormattedNumberRange&gt; maybe_formatted =</div>
<div class="line"><a id="l02044" name="l02044"></a><span class="lineno"> 2044</span>      <a class="code hl_function" href="classv8_1_1internal_1_1IntlMathematicalValue.html#a0ad59d8bec4bf8f5f09f7ed6062493e2">IntlMathematicalValue::FormatRange</a>(isolate, nrfmt, <a class="code hl_variable" href="liveedit-diff_8cc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>, <a class="code hl_variable" href="namespacev8_1_1internal.html#aeb5be8c54a68c0a55508c931639d71da">y</a>);</div>
<div class="line"><a id="l02045" name="l02045"></a><span class="lineno"> 2045</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_formatted, Handle&lt;T&gt;());</div>
<div class="line"><a id="l02046" name="l02046"></a><span class="lineno"> 2046</span>  icu::number::FormattedNumberRange <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a> =</div>
<div class="line"><a id="l02047" name="l02047"></a><span class="lineno"> 2047</span>      std::move(maybe_formatted).FromJust();</div>
<div class="line"><a id="l02048" name="l02048"></a><span class="lineno"> 2048</span> </div>
<div class="line"><a id="l02049" name="l02049"></a><span class="lineno"> 2049</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a9fc59a9c005ed3e250ca231fbb4458a4a0d4bf86c4648acbf2fe49a15cec7d5ac">F</a>(isolate, <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a>, *(number_format-&gt;icu_number_formatter()-&gt;raw()),</div>
<div class="line"><a id="l02050" name="l02050"></a><span class="lineno"> 2050</span>           <span class="keyword">false</span> <span class="comment">/* is_nan */</span>);</div>
<div class="line"><a id="l02051" name="l02051"></a><span class="lineno"> 2051</span>}</div>
<div class="line"><a id="l02052" name="l02052"></a><span class="lineno"> 2052</span> </div>
<div class="line"><a id="l02053" name="l02053"></a><span class="lineno"> 2053</span>MaybeHandle&lt;String&gt; FormatToString(Isolate* isolate,</div>
<div class="line"><a id="l02054" name="l02054"></a><span class="lineno"> 2054</span>                                   <span class="keyword">const</span> icu::FormattedValue&amp; <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a>,</div>
<div class="line"><a id="l02055" name="l02055"></a><span class="lineno"> 2055</span>                                   <span class="keyword">const</span> icu::number::LocalizedNumberFormatter&amp;,</div>
<div class="line"><a id="l02056" name="l02056"></a><span class="lineno"> 2056</span>                                   <span class="keywordtype">bool</span>) {</div>
<div class="line"><a id="l02057" name="l02057"></a><span class="lineno"> 2057</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02058" name="l02058"></a><span class="lineno"> 2058</span>  icu::UnicodeString <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> = <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a>.toString(status);</div>
<div class="line"><a id="l02059" name="l02059"></a><span class="lineno"> 2059</span>  <span class="keywordflow">if</span> (U_FAILURE(status)) {</div>
<div class="line"><a id="l02060" name="l02060"></a><span class="lineno"> 2060</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a6557667dd5be0768bd92d4bfd9a4d70f">THROW_NEW_ERROR</a>(isolate, NewTypeError(MessageTemplate::kIcuError));</div>
<div class="line"><a id="l02061" name="l02061"></a><span class="lineno"> 2061</span>  }</div>
<div class="line"><a id="l02062" name="l02062"></a><span class="lineno"> 2062</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a31799f9a30b4169d1ea6919debdc6591">Intl::ToString</a>(isolate, <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>);</div>
<div class="line"><a id="l02063" name="l02063"></a><span class="lineno"> 2063</span>}</div>
<div class="line"><a id="l02064" name="l02064"></a><span class="lineno"> 2064</span> </div>
<div class="line"><a id="l02065" name="l02065"></a><span class="lineno"> 2065</span>MaybeHandle&lt;JSArray&gt; FormatToJSArray(</div>
<div class="line"><a id="l02066" name="l02066"></a><span class="lineno"> 2066</span>    Isolate* isolate, <span class="keyword">const</span> icu::FormattedValue&amp; <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a>,</div>
<div class="line"><a id="l02067" name="l02067"></a><span class="lineno"> 2067</span>    <span class="keyword">const</span> icu::number::LocalizedNumberFormatter&amp; nfmt, <span class="keywordtype">bool</span> is_nan,</div>
<div class="line"><a id="l02068" name="l02068"></a><span class="lineno"> 2068</span>    <span class="keywordtype">bool</span> output_source) {</div>
<div class="line"><a id="l02069" name="l02069"></a><span class="lineno"> 2069</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02070" name="l02070"></a><span class="lineno"> 2070</span>  <span class="keywordtype">bool</span> is_unit = Style::UNIT == StyleFromSkeleton(nfmt.toSkeleton(status));</div>
<div class="line"><a id="l02071" name="l02071"></a><span class="lineno"> 2071</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l02072" name="l02072"></a><span class="lineno"> 2072</span> </div>
<div class="line"><a id="l02073" name="l02073"></a><span class="lineno"> 2073</span>  Factory* factory = isolate-&gt;factory();</div>
<div class="line"><a id="l02074" name="l02074"></a><span class="lineno"> 2074</span>  Handle&lt;JSArray&gt; <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> = factory-&gt;NewJSArray(0);</div>
<div class="line"><a id="l02075" name="l02075"></a><span class="lineno"> 2075</span> </div>
<div class="line"><a id="l02076" name="l02076"></a><span class="lineno"> 2076</span>  <span class="keywordtype">int</span> format_to_parts;</div>
<div class="line"><a id="l02077" name="l02077"></a><span class="lineno"> 2077</span>  <a class="code hl_define" href="execution_2isolate_8h.html#af909087c7f40e002219a327009d23c52">MAYBE_ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(</div>
<div class="line"><a id="l02078" name="l02078"></a><span class="lineno"> 2078</span>      isolate, format_to_parts,</div>
<div class="line"><a id="l02079" name="l02079"></a><span class="lineno"> 2079</span>      ConstructParts(isolate, <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a>, <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>, 0, is_unit, is_nan,</div>
<div class="line"><a id="l02080" name="l02080"></a><span class="lineno"> 2080</span>                     output_source, <span class="keyword">false</span>, DirectHandle&lt;String&gt;()),</div>
<div class="line"><a id="l02081" name="l02081"></a><span class="lineno"> 2081</span>      Handle&lt;JSArray&gt;());</div>
<div class="line"><a id="l02082" name="l02082"></a><span class="lineno"> 2082</span>  <a class="code hl_define" href="macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(format_to_parts);</div>
<div class="line"><a id="l02083" name="l02083"></a><span class="lineno"> 2083</span> </div>
<div class="line"><a id="l02084" name="l02084"></a><span class="lineno"> 2084</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>;</div>
<div class="line"><a id="l02085" name="l02085"></a><span class="lineno"> 2085</span>}</div>
<div class="line"><a id="l02086" name="l02086"></a><span class="lineno"> 2086</span> </div>
<div class="line"><a id="l02087" name="l02087"></a><span class="lineno"> 2087</span>MaybeHandle&lt;JSArray&gt; FormatRangeToJSArray(</div>
<div class="line"><a id="l02088" name="l02088"></a><span class="lineno"> 2088</span>    Isolate* isolate, <span class="keyword">const</span> icu::FormattedValue&amp; <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a>,</div>
<div class="line"><a id="l02089" name="l02089"></a><span class="lineno"> 2089</span>    <span class="keyword">const</span> icu::number::LocalizedNumberFormatter&amp; nfmt, <span class="keywordtype">bool</span> is_nan) {</div>
<div class="line"><a id="l02090" name="l02090"></a><span class="lineno"> 2090</span>  <span class="keywordflow">return</span> FormatToJSArray(isolate, <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a>, nfmt, is_nan, <span class="keyword">true</span>);</div>
<div class="line"><a id="l02091" name="l02091"></a><span class="lineno"> 2091</span>}</div>
<div class="line"><a id="l02092" name="l02092"></a><span class="lineno"> 2092</span> </div>
<div class="line"><a id="l02093" name="l02093"></a><span class="lineno"> 2093</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l02094" name="l02094"></a><span class="lineno"> 2094</span> </div>
<div class="line"><a id="l02095" name="l02095"></a><span class="lineno"> 2095</span>Maybe&lt;icu::number::LocalizedNumberRangeFormatter&gt;</div>
<div class="foldopen" id="foldopen02096" data-start="{" data-end="}">
<div class="line"><a id="l02096" name="l02096"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1JSNumberFormat.html#a6a1bd271596db67cf26aed36fc37d562"> 2096</a></span><a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#a6a1bd271596db67cf26aed36fc37d562">JSNumberFormat::GetRangeFormatter</a>(</div>
<div class="line"><a id="l02097" name="l02097"></a><span class="lineno"> 2097</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> locale,</div>
<div class="line"><a id="l02098" name="l02098"></a><span class="lineno"> 2098</span>    <span class="keyword">const</span> icu::number::LocalizedNumberFormatter&amp; number_formatter) {</div>
<div class="line"><a id="l02099" name="l02099"></a><span class="lineno"> 2099</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02100" name="l02100"></a><span class="lineno"> 2100</span>  UParseError perror;</div>
<div class="line"><a id="l02101" name="l02101"></a><span class="lineno"> 2101</span>  icu::number::LocalizedNumberRangeFormatter range_formatter =</div>
<div class="line"><a id="l02102" name="l02102"></a><span class="lineno"> 2102</span>      icu::number::UnlocalizedNumberRangeFormatter()</div>
<div class="line"><a id="l02103" name="l02103"></a><span class="lineno"> 2103</span>          .numberFormatterBoth(icu::number::NumberFormatter::forSkeleton(</div>
<div class="line"><a id="l02104" name="l02104"></a><span class="lineno"> 2104</span>              number_formatter.toSkeleton(status), perror, status))</div>
<div class="line"><a id="l02105" name="l02105"></a><span class="lineno"> 2105</span>          .locale(</div>
<div class="line"><a id="l02106" name="l02106"></a><span class="lineno"> 2106</span>              icu::Locale::forLanguageTag(locale-&gt;ToCString().get(), status));</div>
<div class="line"><a id="l02107" name="l02107"></a><span class="lineno"> 2107</span>  <span class="keywordflow">if</span> (U_FAILURE(status)) {</div>
<div class="line"><a id="l02108" name="l02108"></a><span class="lineno"> 2108</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a06699c63279f3987fe082aeaaab74b7e">THROW_NEW_ERROR_RETURN_VALUE</a>(</div>
<div class="line"><a id="l02109" name="l02109"></a><span class="lineno"> 2109</span>        isolate, NewTypeError(MessageTemplate::kIcuError),</div>
<div class="line"><a id="l02110" name="l02110"></a><span class="lineno"> 2110</span>        Nothing&lt;icu::number::LocalizedNumberRangeFormatter&gt;());</div>
<div class="line"><a id="l02111" name="l02111"></a><span class="lineno"> 2111</span>  }</div>
<div class="line"><a id="l02112" name="l02112"></a><span class="lineno"> 2112</span>  <span class="keywordflow">return</span> Just(range_formatter);</div>
<div class="line"><a id="l02113" name="l02113"></a><span class="lineno"> 2113</span>}</div>
</div>
<div class="line"><a id="l02114" name="l02114"></a><span class="lineno"> 2114</span> </div>
<div class="foldopen" id="foldopen02115" data-start="{" data-end="}">
<div class="line"><a id="l02115" name="l02115"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1JSNumberFormat.html#ab4416ed76390a90d09fbea2d8a68dd57"> 2115</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;String&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#ab4416ed76390a90d09fbea2d8a68dd57">JSNumberFormat::FormatNumeric</a>(</div>
<div class="line"><a id="l02116" name="l02116"></a><span class="lineno"> 2116</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l02117" name="l02117"></a><span class="lineno"> 2117</span>    <span class="keyword">const</span> icu::number::LocalizedNumberFormatter&amp; number_format,</div>
<div class="line"><a id="l02118" name="l02118"></a><span class="lineno"> 2118</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> numeric_obj) {</div>
<div class="line"><a id="l02119" name="l02119"></a><span class="lineno"> 2119</span>  Maybe&lt;icu::number::FormattedNumber&gt; maybe_format =</div>
<div class="line"><a id="l02120" name="l02120"></a><span class="lineno"> 2120</span>      IcuFormatNumber(isolate, number_format, numeric_obj);</div>
<div class="line"><a id="l02121" name="l02121"></a><span class="lineno"> 2121</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_format, <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;String&gt;</a>());</div>
<div class="line"><a id="l02122" name="l02122"></a><span class="lineno"> 2122</span>  icu::number::FormattedNumber <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a> = std::move(maybe_format).FromJust();</div>
<div class="line"><a id="l02123" name="l02123"></a><span class="lineno"> 2123</span> </div>
<div class="line"><a id="l02124" name="l02124"></a><span class="lineno"> 2124</span>  <span class="keywordflow">return</span> FormatToString(isolate, <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a>, number_format, <a class="code hl_function" href="namespacev8_1_1internal.html#a1de45cad4146db2f85105ce52f585591">IsNaN</a>(*numeric_obj));</div>
<div class="line"><a id="l02125" name="l02125"></a><span class="lineno"> 2125</span>}</div>
</div>
<div class="line"><a id="l02126" name="l02126"></a><span class="lineno"> 2126</span> </div>
<div class="foldopen" id="foldopen02127" data-start="{" data-end="}">
<div class="line"><a id="l02127" name="l02127"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1JSNumberFormat.html#ac8ffa885faf0787ab5f019aab2c9e376"> 2127</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;String&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#ac8ffa885faf0787ab5f019aab2c9e376">JSNumberFormat::NumberFormatFunction</a>(</div>
<div class="line"><a id="l02128" name="l02128"></a><span class="lineno"> 2128</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSNumberFormat&gt;</a> number_format,</div>
<div class="line"><a id="l02129" name="l02129"></a><span class="lineno"> 2129</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> value) {</div>
<div class="line"><a id="l02130" name="l02130"></a><span class="lineno"> 2130</span>  icu::number::LocalizedNumberFormatter* fmt =</div>
<div class="line"><a id="l02131" name="l02131"></a><span class="lineno"> 2131</span>      number_format-&gt;icu_number_formatter()-&gt;raw();</div>
<div class="line"><a id="l02132" name="l02132"></a><span class="lineno"> 2132</span>  <a class="code hl_define" href="logging_8h.html#a9154b181227e4b02e465befe50219158">CHECK_NOT_NULL</a>(fmt);</div>
<div class="line"><a id="l02133" name="l02133"></a><span class="lineno"> 2133</span> </div>
<div class="line"><a id="l02134" name="l02134"></a><span class="lineno"> 2134</span>  <span class="comment">// 4. Let x be ? ToIntlMathematicalValue(value).</span></div>
<div class="line"><a id="l02135" name="l02135"></a><span class="lineno"> 2135</span>  <a class="code hl_class" href="classv8_1_1internal_1_1IntlMathematicalValue.html">IntlMathematicalValue</a> <a class="code hl_variable" href="liveedit-diff_8cc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>;</div>
<div class="line"><a id="l02136" name="l02136"></a><span class="lineno"> 2136</span>  <a class="code hl_define" href="execution_2isolate_8h.html#af909087c7f40e002219a327009d23c52">MAYBE_ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(</div>
<div class="line"><a id="l02137" name="l02137"></a><span class="lineno"> 2137</span>      isolate, <a class="code hl_variable" href="liveedit-diff_8cc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>, <a class="code hl_function" href="classv8_1_1internal_1_1IntlMathematicalValue.html#a375df483c5402d9c57c2935009c9a5e9">IntlMathematicalValue::From</a>(isolate, value),</div>
<div class="line"><a id="l02138" name="l02138"></a><span class="lineno"> 2138</span>      <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;String&gt;</a>());</div>
<div class="line"><a id="l02139" name="l02139"></a><span class="lineno"> 2139</span> </div>
<div class="line"><a id="l02140" name="l02140"></a><span class="lineno"> 2140</span>  <span class="comment">// 5. Return FormatNumeric(nf, x).</span></div>
<div class="line"><a id="l02141" name="l02141"></a><span class="lineno"> 2141</span>  Maybe&lt;icu::number::FormattedNumber&gt; maybe_formatted =</div>
<div class="line"><a id="l02142" name="l02142"></a><span class="lineno"> 2142</span>      <a class="code hl_function" href="classv8_1_1internal_1_1IntlMathematicalValue.html#affec256b1cdbe3781e2ccc3b2b7a7d99">IntlMathematicalValue::FormatNumeric</a>(isolate, *fmt, <a class="code hl_variable" href="liveedit-diff_8cc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>);</div>
<div class="line"><a id="l02143" name="l02143"></a><span class="lineno"> 2143</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_formatted, <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;String&gt;</a>());</div>
<div class="line"><a id="l02144" name="l02144"></a><span class="lineno"> 2144</span>  icu::number::FormattedNumber <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a> =</div>
<div class="line"><a id="l02145" name="l02145"></a><span class="lineno"> 2145</span>      std::move(maybe_formatted).FromJust();</div>
<div class="line"><a id="l02146" name="l02146"></a><span class="lineno"> 2146</span> </div>
<div class="line"><a id="l02147" name="l02147"></a><span class="lineno"> 2147</span>  <span class="keywordflow">return</span> FormatToString(isolate, <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a>, *fmt, <a class="code hl_variable" href="liveedit-diff_8cc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>.IsNaN());</div>
<div class="line"><a id="l02148" name="l02148"></a><span class="lineno"> 2148</span>}</div>
</div>
<div class="line"><a id="l02149" name="l02149"></a><span class="lineno"> 2149</span> </div>
<div class="foldopen" id="foldopen02150" data-start="{" data-end="}">
<div class="line"><a id="l02150" name="l02150"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1JSNumberFormat.html#a0446c3c15e9dfb6967e2bcf23804e895"> 2150</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;JSArray&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#a0446c3c15e9dfb6967e2bcf23804e895">JSNumberFormat::FormatToParts</a>(</div>
<div class="line"><a id="l02151" name="l02151"></a><span class="lineno"> 2151</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSNumberFormat&gt;</a> number_format,</div>
<div class="line"><a id="l02152" name="l02152"></a><span class="lineno"> 2152</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> numeric_obj) {</div>
<div class="line"><a id="l02153" name="l02153"></a><span class="lineno"> 2153</span>  icu::number::LocalizedNumberFormatter* fmt =</div>
<div class="line"><a id="l02154" name="l02154"></a><span class="lineno"> 2154</span>      number_format-&gt;icu_number_formatter()-&gt;raw();</div>
<div class="line"><a id="l02155" name="l02155"></a><span class="lineno"> 2155</span>  <a class="code hl_define" href="logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(fmt);</div>
<div class="line"><a id="l02156" name="l02156"></a><span class="lineno"> 2156</span>  <a class="code hl_class" href="classv8_1_1internal_1_1IntlMathematicalValue.html">IntlMathematicalValue</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a id="l02157" name="l02157"></a><span class="lineno"> 2157</span>  <a class="code hl_define" href="execution_2isolate_8h.html#af909087c7f40e002219a327009d23c52">MAYBE_ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(</div>
<div class="line"><a id="l02158" name="l02158"></a><span class="lineno"> 2158</span>      isolate, value, <a class="code hl_function" href="classv8_1_1internal_1_1IntlMathematicalValue.html#a375df483c5402d9c57c2935009c9a5e9">IntlMathematicalValue::From</a>(isolate, numeric_obj),</div>
<div class="line"><a id="l02159" name="l02159"></a><span class="lineno"> 2159</span>      <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;JSArray&gt;</a>());</div>
<div class="line"><a id="l02160" name="l02160"></a><span class="lineno"> 2160</span> </div>
<div class="line"><a id="l02161" name="l02161"></a><span class="lineno"> 2161</span>  Maybe&lt;icu::number::FormattedNumber&gt; maybe_formatted =</div>
<div class="line"><a id="l02162" name="l02162"></a><span class="lineno"> 2162</span>      <a class="code hl_function" href="classv8_1_1internal_1_1IntlMathematicalValue.html#affec256b1cdbe3781e2ccc3b2b7a7d99">IntlMathematicalValue::FormatNumeric</a>(isolate, *fmt, value);</div>
<div class="line"><a id="l02163" name="l02163"></a><span class="lineno"> 2163</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_formatted, <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;JSArray&gt;</a>());</div>
<div class="line"><a id="l02164" name="l02164"></a><span class="lineno"> 2164</span>  icu::number::FormattedNumber <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a> =</div>
<div class="line"><a id="l02165" name="l02165"></a><span class="lineno"> 2165</span>      std::move(maybe_formatted).FromJust();</div>
<div class="line"><a id="l02166" name="l02166"></a><span class="lineno"> 2166</span> </div>
<div class="line"><a id="l02167" name="l02167"></a><span class="lineno"> 2167</span>  <span class="keywordflow">return</span> FormatToJSArray(isolate, <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a>, *fmt, value.IsNaN(), <span class="keyword">false</span>);</div>
<div class="line"><a id="l02168" name="l02168"></a><span class="lineno"> 2168</span>}</div>
</div>
<div class="line"><a id="l02169" name="l02169"></a><span class="lineno"> 2169</span> </div>
<div class="line"><a id="l02170" name="l02170"></a><span class="lineno"> 2170</span><span class="comment">// #sec-number-format-functions</span></div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"> 2171</span> </div>
<div class="foldopen" id="foldopen02172" data-start="{" data-end="}">
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1JSNumberFormat.html#ac3ff99ee193820ba25c003da9d613b5a"> 2172</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;String&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#ac3ff99ee193820ba25c003da9d613b5a">JSNumberFormat::FormatNumericRange</a>(</div>
<div class="line"><a id="l02173" name="l02173"></a><span class="lineno"> 2173</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSNumberFormat&gt;</a> number_format,</div>
<div class="line"><a id="l02174" name="l02174"></a><span class="lineno"> 2174</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> x_obj, <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> y_obj) {</div>
<div class="line"><a id="l02175" name="l02175"></a><span class="lineno"> 2175</span>  <span class="keywordflow">return</span> PartitionNumberRangePattern&lt;String, FormatToString&gt;(</div>
<div class="line"><a id="l02176" name="l02176"></a><span class="lineno"> 2176</span>      isolate, number_format, x_obj, y_obj,</div>
<div class="line"><a id="l02177" name="l02177"></a><span class="lineno"> 2177</span>      <span class="stringliteral">&quot;Intl.NumberFormat.prototype.formatRange&quot;</span>);</div>
<div class="line"><a id="l02178" name="l02178"></a><span class="lineno"> 2178</span>}</div>
</div>
<div class="line"><a id="l02179" name="l02179"></a><span class="lineno"> 2179</span> </div>
<div class="foldopen" id="foldopen02180" data-start="{" data-end="}">
<div class="line"><a id="l02180" name="l02180"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1JSNumberFormat.html#ad7a1743fb20a9d2023164cd17fa54743"> 2180</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;JSArray&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#ad7a1743fb20a9d2023164cd17fa54743">JSNumberFormat::FormatNumericRangeToParts</a>(</div>
<div class="line"><a id="l02181" name="l02181"></a><span class="lineno"> 2181</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSNumberFormat&gt;</a> number_format,</div>
<div class="line"><a id="l02182" name="l02182"></a><span class="lineno"> 2182</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> x_obj, <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> y_obj) {</div>
<div class="line"><a id="l02183" name="l02183"></a><span class="lineno"> 2183</span>  <span class="keywordflow">return</span> PartitionNumberRangePattern&lt;JSArray, FormatRangeToJSArray&gt;(</div>
<div class="line"><a id="l02184" name="l02184"></a><span class="lineno"> 2184</span>      isolate, number_format, x_obj, y_obj,</div>
<div class="line"><a id="l02185" name="l02185"></a><span class="lineno"> 2185</span>      <span class="stringliteral">&quot;Intl.NumberFormat.prototype.formatRangeToParts&quot;</span>);</div>
<div class="line"><a id="l02186" name="l02186"></a><span class="lineno"> 2186</span>}</div>
</div>
<div class="line"><a id="l02187" name="l02187"></a><span class="lineno"> 2187</span> </div>
<div class="line"><a id="l02188" name="l02188"></a><span class="lineno"> 2188</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l02189" name="l02189"></a><span class="lineno"> 2189</span> </div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span><span class="keyword">struct </span>CheckNumberElements {</div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span>  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>() { <span class="keywordflow">return</span> <span class="stringliteral">&quot;NumberElements&quot;</span>; }</div>
<div class="line"><a id="l02192" name="l02192"></a><span class="lineno"> 2192</span>  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* path() { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }</div>
<div class="line"><a id="l02193" name="l02193"></a><span class="lineno"> 2193</span>};</div>
<div class="line"><a id="l02194" name="l02194"></a><span class="lineno"> 2194</span> </div>
<div class="line"><a id="l02195" name="l02195"></a><span class="lineno"> 2195</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l02196" name="l02196"></a><span class="lineno"> 2196</span> </div>
<div class="foldopen" id="foldopen02197" data-start="{" data-end="}">
<div class="line"><a id="l02197" name="l02197"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1JSNumberFormat.html#a02a3d1df6cf18f6d485d886470e56a54"> 2197</a></span><span class="keyword">const</span> std::set&lt;std::string&gt;&amp; <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#a02a3d1df6cf18f6d485d886470e56a54">JSNumberFormat::GetAvailableLocales</a>() {</div>
<div class="line"><a id="l02198" name="l02198"></a><span class="lineno"> 2198</span>  <span class="keyword">static</span> <a class="code hl_struct" href="structv8_1_1base_1_1LazyInstance.html">base::LazyInstance&lt;Intl::AvailableLocales&lt;CheckNumberElements&gt;</a>&gt;::type</div>
<div class="line"><a id="l02199" name="l02199"></a><span class="lineno"> 2199</span>      available_locales = <a class="code hl_define" href="lazy-instance_8h.html#a1e27ae5d78f6269b5cbe602f43c91377">LAZY_INSTANCE_INITIALIZER</a>;</div>
<div class="line"><a id="l02200" name="l02200"></a><span class="lineno"> 2200</span>  <span class="keywordflow">return</span> available_locales.Pointer()-&gt;Get();</div>
<div class="line"><a id="l02201" name="l02201"></a><span class="lineno"> 2201</span>}</div>
</div>
<div class="line"><a id="l02202" name="l02202"></a><span class="lineno"> 2202</span> </div>
<div class="line"><a id="l02203" name="l02203"></a><span class="lineno"> 2203</span>}  <span class="comment">// namespace internal</span></div>
<div class="line"><a id="l02204" name="l02204"></a><span class="lineno"> 2204</span>}  <span class="comment">// namespace v8</span></div>
<div class="ttc" id="achar-predicates-inl_8h_html"><div class="ttname"><a href="char-predicates-inl_8h.html">char-predicates-inl.h</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html">v8::base::Vector</a></div><div class="ttdef"><b>Definition</b> <a href="zone-list_8h_source.html#l00015">zone-list.h:15</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1BigInt_html_a6ceeabc3dd5019c59005b968bf5ff436"><div class="ttname"><a href="classv8_1_1internal_1_1BigInt.html#a6ceeabc3dd5019c59005b968bf5ff436">v8::internal::BigInt::ToString</a></div><div class="ttdeci">static MaybeHandle&lt; String &gt; ToString(Isolate *isolate, DirectHandle&lt; BigInt &gt; bigint, int radix=10, ShouldThrow should_throw=kThrowOnError)</div><div class="ttdef"><b>Definition</b> <a href="bigint_8cc_source.html#l00835">bigint.cc:835</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DirectHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1DirectHandle.html">v8::internal::DirectHandle</a></div><div class="ttdef"><b>Definition</b> <a href="handles_8h_source.html#l00643">handles.h:652</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FactoryBase_html_a0c09109f83f6f27662d18d2315650eca"><div class="ttname"><a href="classv8_1_1internal_1_1FactoryBase.html#a0c09109f83f6f27662d18d2315650eca">v8::internal::FactoryBase::NewNumberFromInt</a></div><div class="ttdeci">Handle&lt; Number &gt; NewNumberFromInt(int32_t value)</div><div class="ttdef"><b>Definition</b> <a href="factory-base-inl_8h_source.html#l00056">factory-base-inl.h:56</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FactoryBase_html_a310713d7d1c6f4e52525e1b630b495ac"><div class="ttname"><a href="classv8_1_1internal_1_1FactoryBase.html#a310713d7d1c6f4e52525e1b630b495ac">v8::internal::FactoryBase::NewStringFromAsciiChecked</a></div><div class="ttdeci">Handle&lt; String &gt; NewStringFromAsciiChecked(const char *str, AllocationType allocation=AllocationType::kYoung)</div><div class="ttdef"><b>Definition</b> <a href="factory-base_8h_source.html#l00322">factory-base.h:322</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_html"><div class="ttname"><a href="classv8_1_1internal_1_1Factory.html">v8::internal::Factory</a></div><div class="ttdef"><b>Definition</b> <a href="factory_8h_source.html#l00139">factory.h:139</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_html_a54c843caad6266415afc266860855cdb"><div class="ttname"><a href="classv8_1_1internal_1_1Factory.html#a54c843caad6266415afc266860855cdb">v8::internal::Factory::NewJSObject</a></div><div class="ttdeci">Handle&lt; JSObject &gt; NewJSObject(DirectHandle&lt; JSFunction &gt; constructor, AllocationType allocation=AllocationType::kYoung, NewJSObjectType=NewJSObjectType::kNoAPIWrapper)</div><div class="ttdef"><b>Definition</b> <a href="factory_8cc_source.html#l02951">factory.cc:2951</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_html_ace270af0020cf32252f584a9608ded99"><div class="ttname"><a href="classv8_1_1internal_1_1Factory.html#ace270af0020cf32252f584a9608ded99">v8::internal::Factory::NewStringFromStaticChars</a></div><div class="ttdeci">Handle&lt; String &gt; NewStringFromStaticChars(const char(&amp;str)[N], AllocationType allocation=AllocationType::kYoung)</div><div class="ttdef"><b>Definition</b> <a href="factory-inl_8h_source.html#l00077">factory-inl.h:77</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Handle_html"><div class="ttname"><a href="classv8_1_1internal_1_1Handle.html">v8::internal::Handle</a></div><div class="ttdef"><b>Definition</b> <a href="handles_8h_source.html#l00145">handles.h:145</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IntlMathematicalValue_html"><div class="ttname"><a href="classv8_1_1internal_1_1IntlMathematicalValue.html">v8::internal::IntlMathematicalValue</a></div><div class="ttdef"><b>Definition</b> <a href="js-number-format_8h_source.html#l00127">js-number-format.h:127</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IntlMathematicalValue_html_a0ad59d8bec4bf8f5f09f7ed6062493e2"><div class="ttname"><a href="classv8_1_1internal_1_1IntlMathematicalValue.html#a0ad59d8bec4bf8f5f09f7ed6062493e2">v8::internal::IntlMathematicalValue::FormatRange</a></div><div class="ttdeci">static Maybe&lt; icu::number::FormattedNumberRange &gt; FormatRange(Isolate *isolate, const icu::number::LocalizedNumberRangeFormatter &amp;number_range_format, const IntlMathematicalValue &amp;x, const IntlMathematicalValue &amp;y)</div><div class="ttdef"><b>Definition</b> <a href="#l01600">js-number-format.cc:1600</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IntlMathematicalValue_html_a375df483c5402d9c57c2935009c9a5e9"><div class="ttname"><a href="classv8_1_1internal_1_1IntlMathematicalValue.html#a375df483c5402d9c57c2935009c9a5e9">v8::internal::IntlMathematicalValue::From</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Maybe&lt; IntlMathematicalValue &gt; From(Isolate *isolate, Handle&lt; Object &gt; value)</div><div class="ttdef"><b>Definition</b> <a href="#l01677">js-number-format.cc:1677</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IntlMathematicalValue_html_a9bb99d0bef39df7265dbf9ebfa6e794d"><div class="ttname"><a href="classv8_1_1internal_1_1IntlMathematicalValue.html#a9bb99d0bef39df7265dbf9ebfa6e794d">v8::internal::IntlMathematicalValue::IsNaN</a></div><div class="ttdeci">V8_EXPORT_PRIVATE bool IsNaN() const</div><div class="ttdef"><b>Definition</b> <a href="#l01500">js-number-format.cc:1500</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IntlMathematicalValue_html_affec256b1cdbe3781e2ccc3b2b7a7d99"><div class="ttname"><a href="classv8_1_1internal_1_1IntlMathematicalValue.html#affec256b1cdbe3781e2ccc3b2b7a7d99">v8::internal::IntlMathematicalValue::FormatNumeric</a></div><div class="ttdeci">static Maybe&lt; icu::number::FormattedNumber &gt; FormatNumeric(Isolate *isolate, const icu::number::LocalizedNumberFormatter &amp;number_format, const IntlMathematicalValue &amp;x)</div><div class="ttdef"><b>Definition</b> <a href="#l01578">js-number-format.cc:1578</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a02ee18559848f15ba923b502faaa1912"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a02ee18559848f15ba923b502faaa1912">v8::internal::Intl::AddElement</a></div><div class="ttdeci">static void AddElement(Isolate *isolate, DirectHandle&lt; JSArray &gt; array, int index, DirectHandle&lt; String &gt; field_type_string, DirectHandle&lt; String &gt; value)</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8cc_source.html#l00526">intl-objects.cc:526</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a175a7d1e22cce990e90c096528167d42a41a9505c24e60bd38c8d8954188da351"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a175a7d1e22cce990e90c096528167d42a41a9505c24e60bd38c8d8954188da351">v8::internal::Intl::RoundingType::kSignificantDigits</a></div><div class="ttdeci">@ kSignificantDigits</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a175a7d1e22cce990e90c096528167d42abb772b3c2c544aa6d0a482eb24e4d589"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a175a7d1e22cce990e90c096528167d42abb772b3c2c544aa6d0a482eb24e4d589">v8::internal::Intl::RoundingType::kMorePrecision</a></div><div class="ttdeci">@ kMorePrecision</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a175a7d1e22cce990e90c096528167d42af0e0a75cea206a2f713c653c09bc7155"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a175a7d1e22cce990e90c096528167d42af0e0a75cea206a2f713c653c09bc7155">v8::internal::Intl::RoundingType::kFractionDigits</a></div><div class="ttdeci">@ kFractionDigits</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a175a7d1e22cce990e90c096528167d42af47fa8c4ec094aa64107255c2ce33278"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a175a7d1e22cce990e90c096528167d42af47fa8c4ec094aa64107255c2ce33278">v8::internal::Intl::RoundingType::kLessPrecision</a></div><div class="ttdeci">@ kLessPrecision</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a2091add6bc73b348d3ec7807cb0d2f9c"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a2091add6bc73b348d3ec7807cb0d2f9c">v8::internal::Intl::GetNumberingSystem</a></div><div class="ttdeci">static std::string GetNumberingSystem(const icu::Locale &amp;icu_locale)</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8cc_source.html#l00453">intl-objects.cc:453</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a31799f9a30b4169d1ea6919debdc6591"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a31799f9a30b4169d1ea6919debdc6591">v8::internal::Intl::ToString</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; String &gt; ToString(Isolate *isolate, const icu::UnicodeString &amp;string)</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8cc_source.html#l00486">intl-objects.cc:486</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a35f41c8231f03ef7b219e38ea9f25857"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a35f41c8231f03ef7b219e38ea9f25857">v8::internal::Intl::LegacyUnwrapReceiver</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; Object &gt; LegacyUnwrapReceiver(Isolate *isolate, Handle&lt; JSReceiver &gt; receiver, DirectHandle&lt; JSFunction &gt; constructor, bool has_initialized_slot)</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8cc_source.html#l00642">intl-objects.cc:642</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a441a5f3c76283c0348b344cac8331c74"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a441a5f3c76283c0348b344cac8331c74">v8::internal::Intl::AddNumberElements</a></div><div class="ttdeci">static Maybe&lt; int &gt; AddNumberElements(Isolate *isolate, const icu::FormattedValue &amp;formatted, DirectHandle&lt; JSArray &gt; result, int start_index, DirectHandle&lt; String &gt; unit)</div><div class="ttdef"><b>Definition</b> <a href="#l01990">js-number-format.cc:1990</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a48ffe5df7fd26755481624ec3fbc2bd8"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a48ffe5df7fd26755481624ec3fbc2bd8">v8::internal::Intl::CanonicalizeLocaleList</a></div><div class="ttdeci">static Maybe&lt; std::vector&lt; std::string &gt; &gt; CanonicalizeLocaleList(Isolate *isolate, DirectHandle&lt; Object &gt; locales, bool only_return_one_result=false)</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8cc_source.html#l00798">intl-objects.cc:798</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a57e751885fa0a74dd3f6c0a150857d65"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a57e751885fa0a74dd3f6c0a150857d65">v8::internal::Intl::ResolveLocale</a></div><div class="ttdeci">static Maybe&lt; ResolvedLocale &gt; ResolveLocale(Isolate *isolate, const std::set&lt; std::string &gt; &amp;available_locales, const std::vector&lt; std::string &gt; &amp;requested_locales, MatcherOption options, const std::set&lt; std::string &gt; &amp;relevant_extension_keys)</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8cc_source.html#l02561">intl-objects.cc:2561</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a660a051a260ed6308f6a944c8a0ff66a"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a660a051a260ed6308f6a944c8a0ff66a">v8::internal::Intl::NumberFieldToType</a></div><div class="ttdeci">static Handle&lt; String &gt; NumberFieldToType(Isolate *isolate, const NumberFormatSpan &amp;part, const icu::UnicodeString &amp;text, bool is_nan)</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8cc_source.html#l02819">intl-objects.cc:2819</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a67e63e5924b051ec9a421a7180f04dbc"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a67e63e5924b051ec9a421a7180f04dbc">v8::internal::Intl::SanctionedSimpleUnits</a></div><div class="ttdeci">static std::set&lt; std::string &gt; SanctionedSimpleUnits()</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8cc_source.html#l02913">intl-objects.cc:2913</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a7172a86dd3fbcfbbef0a5d20a3d2bdbfa3e8fcef7c821e3a56700fb5aff331198"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a7172a86dd3fbcfbbef0a5d20a3d2bdbfa3e8fcef7c821e3a56700fb5aff331198">v8::internal::Intl::TrailingZeroDisplay::kStripIfInteger</a></div><div class="ttdeci">@ kStripIfInteger</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_aa65b5c1f434fe74d5fd3e3ac87ca193f"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#aa65b5c1f434fe74d5fd3e3ac87ca193f">v8::internal::Intl::GetLocaleMatcher</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT Maybe&lt; MatcherOption &gt; GetLocaleMatcher(Isolate *isolate, DirectHandle&lt; JSReceiver &gt; options, const char *method_name)</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8cc_source.html#l02764">intl-objects.cc:2764</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ab8ac80a3c3afe22c8e3cfd6f9beb33be"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ab8ac80a3c3afe22c8e3cfd6f9beb33be">v8::internal::Intl::ToLanguageTag</a></div><div class="ttdeci">static Maybe&lt; std::string &gt; ToLanguageTag(const icu::Locale &amp;locale)</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8cc_source.html#l00631">intl-objects.cc:631</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_abaa86e49b219f33b0185c47996ca5006"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#abaa86e49b219f33b0185c47996ca5006">v8::internal::Intl::SourceString</a></div><div class="ttdeci">static Handle&lt; String &gt; SourceString(Isolate *isolate, FormatRangeSource source)</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8cc_source.html#l03050">intl-objects.cc:3050</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_abeb0cafbbff2bce4bdf42cdfb84c0bb4"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#abeb0cafbbff2bce4bdf42cdfb84c0bb4">v8::internal::Intl::SetNumberFormatDigitOptions</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT Maybe&lt; NumberFormatDigitOptions &gt; SetNumberFormatDigitOptions(Isolate *isolate, DirectHandle&lt; JSReceiver &gt; options, int mnfd_default, int mxfd_default, bool notation_is_compact, const char *service)</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8cc_source.html#l01572">intl-objects.cc:1572</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_acd5725c1d2477bad869c377aeb5152d1"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#acd5725c1d2477bad869c377aeb5152d1">v8::internal::Intl::IsValidNumberingSystem</a></div><div class="ttdeci">static bool IsValidNumberingSystem(const std::string &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8cc_source.html#l02406">intl-objects.cc:2406</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ae30282dcb4aa2d73beedee4233d12134"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134">v8::internal::Intl::RoundingMode</a></div><div class="ttdeci">RoundingMode</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00190">intl-objects.h:190</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ae30282dcb4aa2d73beedee4233d12134a02b231839e1cf75e3c60f3bfda014c32"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a02b231839e1cf75e3c60f3bfda014c32">v8::internal::Intl::RoundingMode::kHalfFloor</a></div><div class="ttdeci">@ kHalfFloor</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ae30282dcb4aa2d73beedee4233d12134a219dd653185709793daafbe7cb7ca474"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a219dd653185709793daafbe7cb7ca474">v8::internal::Intl::RoundingMode::kFloor</a></div><div class="ttdeci">@ kFloor</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ae30282dcb4aa2d73beedee4233d12134a2e58aeadf36bdafb4745a679e90f737b"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a2e58aeadf36bdafb4745a679e90f737b">v8::internal::Intl::RoundingMode::kHalfTrunc</a></div><div class="ttdeci">@ kHalfTrunc</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ae30282dcb4aa2d73beedee4233d12134a6dd5ac7edc473d77304d95358f0a334e"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a6dd5ac7edc473d77304d95358f0a334e">v8::internal::Intl::RoundingMode::kHalfEven</a></div><div class="ttdeci">@ kHalfEven</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ae30282dcb4aa2d73beedee4233d12134a8681e538866553847bf291189392344e"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a8681e538866553847bf291189392344e">v8::internal::Intl::RoundingMode::kTrunc</a></div><div class="ttdeci">@ kTrunc</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ae30282dcb4aa2d73beedee4233d12134a95e20eb827cd738ef3a2b9551135da09"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a95e20eb827cd738ef3a2b9551135da09">v8::internal::Intl::RoundingMode::kExpand</a></div><div class="ttdeci">@ kExpand</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ae30282dcb4aa2d73beedee4233d12134ad471e97bd5d8e38b1d883328971d0db1"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134ad471e97bd5d8e38b1d883328971d0db1">v8::internal::Intl::RoundingMode::kHalfCeil</a></div><div class="ttdeci">@ kHalfCeil</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ae30282dcb4aa2d73beedee4233d12134ad4c30122f68b63cc00eecc121998a716"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134ad4c30122f68b63cc00eecc121998a716">v8::internal::Intl::RoundingMode::kHalfExpand</a></div><div class="ttdeci">@ kHalfExpand</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ae30282dcb4aa2d73beedee4233d12134af8dcb6e55d5a46167c82507ea027848e"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134af8dcb6e55d5a46167c82507ea027848e">v8::internal::Intl::RoundingMode::kCeil</a></div><div class="ttdeci">@ kCeil</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_afb4cf72c66834096fbb2f5c4761d9695"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#afb4cf72c66834096fbb2f5c4761d9695">v8::internal::Intl::MatcherOption</a></div><div class="ttdeci">MatcherOption</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00287">intl-objects.h:287</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html">v8::internal::Isolate</a></div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l00575">isolate.h:575</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSNumberFormat_html_a02a3d1df6cf18f6d485d886470e56a54"><div class="ttname"><a href="classv8_1_1internal_1_1JSNumberFormat.html#a02a3d1df6cf18f6d485d886470e56a54">v8::internal::JSNumberFormat::GetAvailableLocales</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE const std::set&lt; std::string &gt; &amp; GetAvailableLocales()</div><div class="ttdef"><b>Definition</b> <a href="#l02197">js-number-format.cc:2197</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSNumberFormat_html_a0446c3c15e9dfb6967e2bcf23804e895"><div class="ttname"><a href="classv8_1_1internal_1_1JSNumberFormat.html#a0446c3c15e9dfb6967e2bcf23804e895">v8::internal::JSNumberFormat::FormatToParts</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; JSArray &gt; FormatToParts(Isolate *isolate, DirectHandle&lt; JSNumberFormat &gt; number_format, Handle&lt; Object &gt; numeric_obj)</div><div class="ttdef"><b>Definition</b> <a href="#l02150">js-number-format.cc:2150</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSNumberFormat_html_a1c8a2741225528613732d2dd7fdef003"><div class="ttname"><a href="classv8_1_1internal_1_1JSNumberFormat.html#a1c8a2741225528613732d2dd7fdef003">v8::internal::JSNumberFormat::MinimumIntegerDigitsFromSkeleton</a></div><div class="ttdeci">static int32_t MinimumIntegerDigitsFromSkeleton(const icu::UnicodeString &amp;skeleton)</div><div class="ttdef"><b>Definition</b> <a href="#l00671">js-number-format.cc:671</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSNumberFormat_html_a42d2a055b4e7066d863f1de3e15a0204"><div class="ttname"><a href="classv8_1_1internal_1_1JSNumberFormat.html#a42d2a055b4e7066d863f1de3e15a0204">v8::internal::JSNumberFormat::New</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; JSNumberFormat &gt; New(Isolate *isolate, DirectHandle&lt; Map &gt; map, DirectHandle&lt; Object &gt; locales, DirectHandle&lt; Object &gt; options, const char *service)</div><div class="ttdef"><b>Definition</b> <a href="#l01066">js-number-format.cc:1066</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSNumberFormat_html_a4bd97644af232fa5ca579a03c9699ef3"><div class="ttname"><a href="classv8_1_1internal_1_1JSNumberFormat.html#a4bd97644af232fa5ca579a03c9699ef3">v8::internal::JSNumberFormat::RoundingModeString</a></div><div class="ttdeci">static Handle&lt; String &gt; RoundingModeString(Isolate *isolate, const icu::UnicodeString &amp;skeleton)</div><div class="ttdef"><b>Definition</b> <a href="#l00562">js-number-format.cc:562</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSNumberFormat_html_a5aef8b936f5e6b9fa7e778567d2c989d"><div class="ttname"><a href="classv8_1_1internal_1_1JSNumberFormat.html#a5aef8b936f5e6b9fa7e778567d2c989d">v8::internal::JSNumberFormat::NumberingSystemFromSkeleton</a></div><div class="ttdeci">static const icu::UnicodeString NumberingSystemFromSkeleton(const icu::UnicodeString &amp;skeleton)</div><div class="ttdef"><b>Definition</b> <a href="#l00432">js-number-format.cc:432</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSNumberFormat_html_a6a1bd271596db67cf26aed36fc37d562"><div class="ttname"><a href="classv8_1_1internal_1_1JSNumberFormat.html#a6a1bd271596db67cf26aed36fc37d562">v8::internal::JSNumberFormat::GetRangeFormatter</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT Maybe&lt; icu::number::LocalizedNumberRangeFormatter &gt; GetRangeFormatter(Isolate *isolate, Tagged&lt; String &gt; locale, const icu::number::LocalizedNumberFormatter &amp;number_formatter)</div><div class="ttdef"><b>Definition</b> <a href="#l02096">js-number-format.cc:2096</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSNumberFormat_html_a6b10d1840a675f40aca6cca67f2abc61"><div class="ttname"><a href="classv8_1_1internal_1_1JSNumberFormat.html#a6b10d1840a675f40aca6cca67f2abc61">v8::internal::JSNumberFormat::SetDigitOptionsToFormatter</a></div><div class="ttdeci">static icu::number::UnlocalizedNumberFormatter SetDigitOptionsToFormatter(const icu::number::UnlocalizedNumberFormatter &amp;settings, const Intl::NumberFormatDigitOptions &amp;digit_options)</div><div class="ttdef"><b>Definition</b> <a href="#l00824">js-number-format.cc:824</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSNumberFormat_html_a6ff2ca35b9e898c45bb8d09fbb9f0bd1"><div class="ttname"><a href="classv8_1_1internal_1_1JSNumberFormat.html#a6ff2ca35b9e898c45bb8d09fbb9f0bd1">v8::internal::JSNumberFormat::RoundingIncrement</a></div><div class="ttdeci">static Handle&lt; Object &gt; RoundingIncrement(Isolate *isolate, const icu::UnicodeString &amp;skeleton)</div><div class="ttdef"><b>Definition</b> <a href="#l00616">js-number-format.cc:616</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSNumberFormat_html_a95d3d9ca813e064a5d15f65631af59e7"><div class="ttname"><a href="classv8_1_1internal_1_1JSNumberFormat.html#a95d3d9ca813e064a5d15f65631af59e7">v8::internal::JSNumberFormat::ResolvedOptions</a></div><div class="ttdeci">static Handle&lt; JSObject &gt; ResolvedOptions(Isolate *isolate, DirectHandle&lt; JSNumberFormat &gt; number_format)</div><div class="ttdef"><b>Definition</b> <a href="#l00877">js-number-format.cc:877</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSNumberFormat_html_aa37a9c9642871cdaccab452efdb3a0b4"><div class="ttname"><a href="classv8_1_1internal_1_1JSNumberFormat.html#aa37a9c9642871cdaccab452efdb3a0b4">v8::internal::JSNumberFormat::TrailingZeroDisplayString</a></div><div class="ttdeci">static Handle&lt; String &gt; TrailingZeroDisplayString(Isolate *isolate, const icu::UnicodeString &amp;skeleton)</div><div class="ttdef"><b>Definition</b> <a href="#l00653">js-number-format.cc:653</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSNumberFormat_html_ab4416ed76390a90d09fbea2d8a68dd57"><div class="ttname"><a href="classv8_1_1internal_1_1JSNumberFormat.html#ab4416ed76390a90d09fbea2d8a68dd57">v8::internal::JSNumberFormat::FormatNumeric</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; String &gt; FormatNumeric(Isolate *isolate, const icu::number::LocalizedNumberFormatter &amp;number_format, Handle&lt; Object &gt; numeric_obj)</div><div class="ttdef"><b>Definition</b> <a href="#l02115">js-number-format.cc:2115</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSNumberFormat_html_ab6a80c57d2394959eb03dc5395b7ff47"><div class="ttname"><a href="classv8_1_1internal_1_1JSNumberFormat.html#ab6a80c57d2394959eb03dc5395b7ff47">v8::internal::JSNumberFormat::RoundingPriorityString</a></div><div class="ttdeci">static Handle&lt; String &gt; RoundingPriorityString(Isolate *isolate, const icu::UnicodeString &amp;skeleton)</div><div class="ttdef"><b>Definition</b> <a href="#l00632">js-number-format.cc:632</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSNumberFormat_html_abc19b179050f3da556a8e738cdf8094c"><div class="ttname"><a href="classv8_1_1internal_1_1JSNumberFormat.html#abc19b179050f3da556a8e738cdf8094c">v8::internal::JSNumberFormat::SignificantDigitsFromSkeleton</a></div><div class="ttdeci">static bool SignificantDigitsFromSkeleton(const icu::UnicodeString &amp;skeleton, int32_t *minimum, int32_t *maximum)</div><div class="ttdef"><b>Definition</b> <a href="#l00740">js-number-format.cc:740</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSNumberFormat_html_ac3ff99ee193820ba25c003da9d613b5a"><div class="ttname"><a href="classv8_1_1internal_1_1JSNumberFormat.html#ac3ff99ee193820ba25c003da9d613b5a">v8::internal::JSNumberFormat::FormatNumericRange</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; String &gt; FormatNumericRange(Isolate *isolate, DirectHandle&lt; JSNumberFormat &gt; number_format, Handle&lt; Object &gt; x, Handle&lt; Object &gt; y)</div><div class="ttdef"><b>Definition</b> <a href="#l02172">js-number-format.cc:2172</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSNumberFormat_html_ac48500e323f5deeb92beff04784c8955"><div class="ttname"><a href="classv8_1_1internal_1_1JSNumberFormat.html#ac48500e323f5deeb92beff04784c8955">v8::internal::JSNumberFormat::FractionDigitsFromSkeleton</a></div><div class="ttdeci">static bool FractionDigitsFromSkeleton(const icu::UnicodeString &amp;skeleton, int32_t *minimum, int32_t *maximum)</div><div class="ttdef"><b>Definition</b> <a href="#l00702">js-number-format.cc:702</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSNumberFormat_html_ac8ffa885faf0787ab5f019aab2c9e376"><div class="ttname"><a href="classv8_1_1internal_1_1JSNumberFormat.html#ac8ffa885faf0787ab5f019aab2c9e376">v8::internal::JSNumberFormat::NumberFormatFunction</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; String &gt; NumberFormatFunction(Isolate *isolate, DirectHandle&lt; JSNumberFormat &gt; number_format, Handle&lt; Object &gt; numeric_obj)</div><div class="ttdef"><b>Definition</b> <a href="#l02127">js-number-format.cc:2127</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSNumberFormat_html_ad7a1743fb20a9d2023164cd17fa54743"><div class="ttname"><a href="classv8_1_1internal_1_1JSNumberFormat.html#ad7a1743fb20a9d2023164cd17fa54743">v8::internal::JSNumberFormat::FormatNumericRangeToParts</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; JSArray &gt; FormatNumericRangeToParts(Isolate *isolate, DirectHandle&lt; JSNumberFormat &gt; number_format, Handle&lt; Object &gt; x, Handle&lt; Object &gt; y)</div><div class="ttdef"><b>Definition</b> <a href="#l02180">js-number-format.cc:2180</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSNumberFormat_html_aea6b330620a7ce4cfd0148ce4d0293e9"><div class="ttname"><a href="classv8_1_1internal_1_1JSNumberFormat.html#aea6b330620a7ce4cfd0148ce4d0293e9">v8::internal::JSNumberFormat::UnwrapNumberFormat</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; JSNumberFormat &gt; UnwrapNumberFormat(Isolate *isolate, Handle&lt; JSReceiver &gt; format_holder)</div><div class="ttdef"><b>Definition</b> <a href="#l01039">js-number-format.cc:1039</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSObject_html_a4aaf480f5680e7f342efe8a70ea1c8a0"><div class="ttname"><a href="classv8_1_1internal_1_1JSObject.html#a4aaf480f5680e7f342efe8a70ea1c8a0">v8::internal::JSObject::ValidateElements</a></div><div class="ttdeci">static void ValidateElements(Tagged&lt; JSObject &gt; object)</div><div class="ttdef"><b>Definition</b> <a href="js-objects_8cc_source.html#l05335">js-objects.cc:5335</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSReceiver_html_a9f79bc1e2e3e8bac8047dd661471063b"><div class="ttname"><a href="classv8_1_1internal_1_1JSReceiver.html#a9f79bc1e2e3e8bac8047dd661471063b">v8::internal::JSReceiver::ToPrimitive</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT HandleType&lt; Object &gt;::MaybeType ToPrimitive(Isolate *isolate, HandleType&lt; JSReceiver &gt; receiver, ToPrimitiveHint hint=ToPrimitiveHint::kDefault)</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSReceiver_html_ab0d496ab5c687ec63fed2abbc354df25"><div class="ttname"><a href="classv8_1_1internal_1_1JSReceiver.html#ab0d496ab5c687ec63fed2abbc354df25">v8::internal::JSReceiver::CreateDataProperty</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT Maybe&lt; bool &gt; CreateDataProperty(Isolate *isolate, DirectHandle&lt; JSReceiver &gt; object, DirectHandle&lt; Name &gt; key, DirectHandle&lt; Object &gt; value, Maybe&lt; ShouldThrow &gt; should_throw)</div><div class="ttdef"><b>Definition</b> <a href="js-objects_8cc_source.html#l01720">js-objects.cc:1720</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Managed_html_a1c10cb948281b864db32d8af25a7b7d9"><div class="ttname"><a href="classv8_1_1internal_1_1Managed.html#a1c10cb948281b864db32d8af25a7b7d9">v8::internal::Managed::From</a></div><div class="ttdeci">static DirectHandle&lt; Managed&lt; CppType &gt; &gt; From(Isolate *isolate, size_t estimated_size, std::shared_ptr&lt; CppType &gt; shared_ptr, AllocationType allocation_type=AllocationType::kYoung)</div><div class="ttdef"><b>Definition</b> <a href="managed-inl_8h_source.html#l00025">managed-inl.h:25</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeHandle.html">v8::internal::MaybeHandle</a></div><div class="ttdef"><b>Definition</b> <a href="maybe-handles_8h_source.html#l00028">maybe-handles.h:28</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeHandle_html_a159acedd790dff56dbcc03792674e232"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeHandle.html#a159acedd790dff56dbcc03792674e232">v8::internal::MaybeHandle::ToHandleChecked</a></div><div class="ttdeci">V8_INLINE Handle&lt; T &gt; ToHandleChecked() const</div><div class="ttdef"><b>Definition</b> <a href="maybe-handles_8h_source.html#l00055">maybe-handles.h:55</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeHandle_html_a76d0200bf11d6f7628c7119d730efa44"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeHandle.html#a76d0200bf11d6f7628c7119d730efa44">v8::internal::MaybeHandle::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdef"><b>Definition</b> <a href="maybe-handles_8h_source.html#l00086">maybe-handles.h:86</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Object_html_a39080172004aa923f4f946bec95d687e"><div class="ttname"><a href="classv8_1_1internal_1_1Object.html#a39080172004aa923f4f946bec95d687e">v8::internal::Object::ToNumber</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT HandleType&lt; Number &gt;::MaybeType ToNumber(Isolate *isolate, HandleType&lt; T &gt; input)</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Object_html_a8a6c6d9b71bb8f6bd6004b8f6f48c9f7"><div class="ttname"><a href="classv8_1_1internal_1_1Object.html#a8a6c6d9b71bb8f6bd6004b8f6f48c9f7">v8::internal::Object::NumberValue</a></div><div class="ttdeci">static double NumberValue(Tagged&lt; Number &gt; obj)</div><div class="ttdef"><b>Definition</b> <a href="objects-inl_8h_source.html#l00658">objects-inl.h:658</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Oddball_html_a2aaab54d982f91a106201917f5ae1ec6"><div class="ttname"><a href="classv8_1_1internal_1_1Oddball.html#a2aaab54d982f91a106201917f5ae1ec6">v8::internal::Oddball::ToNumber</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT Handle&lt; Number &gt; ToNumber(Isolate *isolate, DirectHandle&lt; Oddball &gt; input)</div><div class="ttdef"><b>Definition</b> <a href="oddball-inl_8h_source.html#l00052">oddball-inl.h:52</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PerThreadAssertScopeEmpty_html"><div class="ttname"><a href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">v8::internal::PerThreadAssertScopeEmpty&lt; kAllow, kTypes... &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Smi_html_ae2be3083c9562dbe7c4bc39337bbe831"><div class="ttname"><a href="classv8_1_1internal_1_1Smi.html#ae2be3083c9562dbe7c4bc39337bbe831">v8::internal::Smi::zero</a></div><div class="ttdeci">static constexpr Tagged&lt; Smi &gt; zero()</div><div class="ttdef"><b>Definition</b> <a href="smi_8h_source.html#l00099">smi.h:99</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1FlatContent_html"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1FlatContent.html">v8::internal::String::FlatContent</a></div><div class="ttdef"><b>Definition</b> <a href="string_8h_source.html#l00131">string.h:131</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1FlatContent_html_a14673593207f44394962fbf870d14c88"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1FlatContent.html#a14673593207f44394962fbf870d14c88">v8::internal::String::FlatContent::ToOneByteVector</a></div><div class="ttdeci">base::Vector&lt; const uint8_t &gt; ToOneByteVector() const</div><div class="ttdef"><b>Definition</b> <a href="string_8h_source.html#l00144">string.h:144</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1FlatContent_html_a3b4907c3447e7f474b0825b8db8138f0"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">v8::internal::String::FlatContent::IsOneByte</a></div><div class="ttdeci">bool IsOneByte() const</div><div class="ttdef"><b>Definition</b> <a href="string_8h_source.html#l00138">string.h:138</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_a21049fc49218b6cf593fc03fabf42656"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#a21049fc49218b6cf593fc03fabf42656">v8::internal::String::Flatten</a></div><div class="ttdeci">static V8_INLINE HandleType&lt; String &gt; Flatten(Isolate *isolate, HandleType&lt; T &gt; string, AllocationType allocation=AllocationType::kYoung)</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_html"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged.html">v8::internal::Tagged</a></div><div class="ttdef"><b>Definition</b> <a href="waiter-queue-node_8h_source.html#l00022">waiter-queue-node.h:22</a></div></div>
<div class="ttc" id="aconversions_8h_html"><div class="ttname"><a href="conversions_8h.html">conversions.h</a></div></div>
<div class="ttc" id="adebug-coverage_8cc_html_a37722a150250e2a5a98e5e0d11e53449"><div class="ttname"><a href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a></div><div class="ttdeci">int start</div><div class="ttdef"><b>Definition</b> <a href="debug-coverage_8cc_source.html#l00595">debug-coverage.cc:595</a></div></div>
<div class="ttc" id="adebug-coverage_8cc_html_abce9f5dc9c83f2639b72024fdee5d388"><div class="ttname"><a href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a></div><div class="ttdeci">int end</div><div class="ttdef"><b>Definition</b> <a href="debug-coverage_8cc_source.html#l00596">debug-coverage.cc:596</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html"><div class="ttname"><a href="execution_2isolate_8h.html">isolate.h</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html_a06699c63279f3987fe082aeaaab74b7e"><div class="ttname"><a href="execution_2isolate_8h.html#a06699c63279f3987fe082aeaaab74b7e">THROW_NEW_ERROR_RETURN_VALUE</a></div><div class="ttdeci">#define THROW_NEW_ERROR_RETURN_VALUE(isolate, call, value)</div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l00298">isolate.h:298</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html_a45bb81ab232e9f2663545ec92dc0b950"><div class="ttname"><a href="execution_2isolate_8h.html#a45bb81ab232e9f2663545ec92dc0b950">ASSIGN_RETURN_ON_EXCEPTION</a></div><div class="ttdeci">#define ASSIGN_RETURN_ON_EXCEPTION(isolate, dst, call)</div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l00289">isolate.h:289</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html_a6557667dd5be0768bd92d4bfd9a4d70f"><div class="ttname"><a href="execution_2isolate_8h.html#a6557667dd5be0768bd92d4bfd9a4d70f">THROW_NEW_ERROR</a></div><div class="ttdeci">#define THROW_NEW_ERROR(isolate, call)</div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l00305">isolate.h:305</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html_a6a0c40de52f9f029945027e5834661ad"><div class="ttname"><a href="execution_2isolate_8h.html#a6a0c40de52f9f029945027e5834661ad">ASSIGN_RETURN_ON_EXCEPTION_VALUE</a></div><div class="ttdeci">#define ASSIGN_RETURN_ON_EXCEPTION_VALUE(isolate, dst, call, value)</div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l00274">isolate.h:274</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html_ab9c5f988388c2c537b8b161438e4ed31"><div class="ttname"><a href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a></div><div class="ttdeci">#define MAYBE_RETURN(call, value)</div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l00406">isolate.h:406</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html_af909087c7f40e002219a327009d23c52"><div class="ttname"><a href="execution_2isolate_8h.html#af909087c7f40e002219a327009d23c52">MAYBE_ASSIGN_RETURN_ON_EXCEPTION_VALUE</a></div><div class="ttdeci">#define MAYBE_ASSIGN_RETURN_ON_EXCEPTION_VALUE(isolate, dst, call, value)</div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l00429">isolate.h:429</a></div></div>
<div class="ttc" id="aintl-objects_8h_html"><div class="ttname"><a href="intl-objects_8h.html">intl-objects.h</a></div></div>
<div class="ttc" id="ajs-date-time-format_8cc_html_a22ede25ca923109929a8dca3c225b2ad"><div class="ttname"><a href="js-date-time-format_8cc.html#a22ede25ca923109929a8dca3c225b2ad">map</a></div><div class="ttdeci">std::map&lt; const std::string, const std::string &gt; map</div><div class="ttdef"><b>Definition</b> <a href="js-date-time-format_8cc_source.html#l00268">js-date-time-format.cc:268</a></div></div>
<div class="ttc" id="ajs-duration-format_8cc_html_adb74ea3e2b4140e851f38471a6a6a91d"><div class="ttname"><a href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a></div><div class="ttdeci">icu::number::FormattedNumber formatted</div><div class="ttdef"><b>Definition</b> <a href="js-duration-format_8cc_source.html#l00638">js-duration-format.cc:638</a></div></div>
<div class="ttc" id="ajs-duration-format_8cc_html_ae83df44ca16e6fc822a077eb5449e6c4"><div class="ttname"><a href="js-duration-format_8cc.html#ae83df44ca16e6fc822a077eb5449e6c4">style</a></div><div class="ttdeci">JSDurationFormat::FieldStyle style</div><div class="ttdef"><b>Definition</b> <a href="js-duration-format_8cc_source.html#l00055">js-duration-format.cc:55</a></div></div>
<div class="ttc" id="ajs-number-format-inl_8h_html"><div class="ttname"><a href="js-number-format-inl_8h.html">js-number-format-inl.h</a></div></div>
<div class="ttc" id="ajs-number-format_8cc_html_ab2ecf3c1fc23c8a70e1057b4374c6c76"><div class="ttname"><a href="js-number-format_8cc.html#ab2ecf3c1fc23c8a70e1057b4374c6c76">AVOID_AMBIGUOUS_OP_WARNING</a></div><div class="ttdeci">#define AVOID_AMBIGUOUS_OP_WARNING(x)</div><div class="ttdef"><b>Definition</b> <a href="#l00039">js-number-format.cc:39</a></div></div>
<div class="ttc" id="ajs-number-format_8h_html"><div class="ttname"><a href="js-number-format_8h.html">js-number-format.h</a></div></div>
<div class="ttc" id="ajs-temporal-objects_8cc_html_a5d1eaa4d00d65b745d493b4b8ae43b00"><div class="ttname"><a href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a></div><div class="ttdeci">DirectHandle&lt; JSReceiver &gt; options</div><div class="ttdef"><b>Definition</b> <a href="js-temporal-objects_8cc_source.html#l00207">js-temporal-objects.cc:207</a></div></div>
<div class="ttc" id="ajs-temporal-objects_8cc_html_aaa0d61fcdf7a0b9f0f2b48c9946cbd10"><div class="ttname"><a href="js-temporal-objects_8cc.html#aaa0d61fcdf7a0b9f0f2b48c9946cbd10">unit</a></div><div class="ttdeci">Unit unit</div><div class="ttdef"><b>Definition</b> <a href="js-temporal-objects_8cc_source.html#l09443">js-temporal-objects.cc:9443</a></div></div>
<div class="ttc" id="ajs-temporal-objects_8cc_html_ab7a545dec10539c521358e8d729f0709"><div class="ttname"><a href="js-temporal-objects_8cc.html#ab7a545dec10539c521358e8d729f0709">precision</a></div><div class="ttdeci">Precision precision</div><div class="ttdef"><b>Definition</b> <a href="js-temporal-objects_8cc_source.html#l09442">js-temporal-objects.cc:9442</a></div></div>
<div class="ttc" id="ajs-temporal-objects_8cc_html_ac504dff76b24ab9f15536c51aec9fbbb"><div class="ttname"><a href="js-temporal-objects_8cc.html#ac504dff76b24ab9f15536c51aec9fbbb">increment</a></div><div class="ttdeci">double increment</div><div class="ttdef"><b>Definition</b> <a href="js-temporal-objects_8cc_source.html#l09444">js-temporal-objects.cc:9444</a></div></div>
<div class="ttc" id="ajs-temporal-objects_8cc_html_aeee8be5cd0606bd2de2d1e0399be7fb7"><div class="ttname"><a href="js-temporal-objects_8cc.html#aeee8be5cd0606bd2de2d1e0399be7fb7">rounding_mode</a></div><div class="ttdeci">RoundingMode rounding_mode</div><div class="ttdef"><b>Definition</b> <a href="js-temporal-objects_8cc_source.html#l00205">js-temporal-objects.cc:205</a></div></div>
<div class="ttc" id="ajump-threading_8cc_html_a41f8c58d2c01bf65b8ee199c3f87fc80"><div class="ttname"><a href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a></div><div class="ttdeci">ZoneVector&lt; RpoNumber &gt; &amp; result</div><div class="ttdef"><b>Definition</b> <a href="jump-threading_8cc_source.html#l00021">jump-threading.cc:21</a></div></div>
<div class="ttc" id="alazy-instance_8h_html_a1e27ae5d78f6269b5cbe602f43c91377"><div class="ttname"><a href="lazy-instance_8h.html#a1e27ae5d78f6269b5cbe602f43c91377">LAZY_INSTANCE_INITIALIZER</a></div><div class="ttdeci">#define LAZY_INSTANCE_INITIALIZER</div><div class="ttdef"><b>Definition</b> <a href="lazy-instance_8h_source.html#l00083">lazy-instance.h:83</a></div></div>
<div class="ttc" id="aliveedit-diff_8cc_html_a6150e0515f7202e2fb518f7206ed97dc"><div class="ttname"><a href="liveedit-diff_8cc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition</b> <a href="liveedit-diff_8cc_source.html#l00060">liveedit-diff.cc:60</a></div></div>
<div class="ttc" id="alogging_8h_html_a16b382527f19b805fc8f856668f2270b"><div class="ttname"><a href="logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a></div><div class="ttdeci">#define DCHECK_LE(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00490">logging.h:490</a></div></div>
<div class="ttc" id="alogging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00124">logging.h:124</a></div></div>
<div class="ttc" id="alogging_8h_html_a7b9f9517fedacc2a1a56c2bbb9d03688"><div class="ttname"><a href="logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a></div><div class="ttdeci">#define DCHECK_NOT_NULL(val)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00492">logging.h:492</a></div></div>
<div class="ttc" id="alogging_8h_html_a9154b181227e4b02e465befe50219158"><div class="ttname"><a href="logging_8h.html#a9154b181227e4b02e465befe50219158">CHECK_NOT_NULL</a></div><div class="ttdeci">#define CHECK_NOT_NULL(val)</div></div>
<div class="ttc" id="alogging_8h_html_aabec5c3b7a8628298a25f044dcf89c25"><div class="ttname"><a href="logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a></div><div class="ttdeci">#define DCHECK_GE(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00488">logging.h:488</a></div></div>
<div class="ttc" id="alogging_8h_html_ae17f8119c108cf3070bad3449c7e0006"><div class="ttname"><a href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a></div><div class="ttdeci">#define DCHECK(condition)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00482">logging.h:482</a></div></div>
<div class="ttc" id="alogging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00485">logging.h:485</a></div></div>
<div class="ttc" id="alogging_8h_html_afd957f297df7e9ee36c46185e961485f"><div class="ttname"><a href="logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a></div><div class="ttdeci">#define DCHECK_GT(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00487">logging.h:487</a></div></div>
<div class="ttc" id="amacros_8h_html_a280b0798f270f4b3f361c9ab64832956"><div class="ttname"><a href="macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a></div><div class="ttdeci">#define USE(...)</div><div class="ttdef"><b>Definition</b> <a href="macros_8h_source.html#l00281">macros.h:281</a></div></div>
<div class="ttc" id="amanaged-inl_8h_html"><div class="ttname"><a href="managed-inl_8h.html">managed-inl.h</a></div></div>
<div class="ttc" id="amodule-compiler_8cc_html_ad70c69cb084f8c59623a841f63444b2a"><div class="ttname"><a href="module-compiler_8cc.html#ad70c69cb084f8c59623a841f63444b2a">units</a></div><div class="ttdeci">std::priority_queue&lt; BigUnit &gt; units[CompilationTier::kNumTiers]</div><div class="ttdef"><b>Definition</b> <a href="module-compiler_8cc_source.html#l00316">module-compiler.cc:316</a></div></div>
<div class="ttc" id="amul-fft_8cc_html_acab531abaa74a7e664e3986f2522b33a"><div class="ttname"><a href="mul-fft_8cc.html#acab531abaa74a7e664e3986f2522b33a">r</a></div><div class="ttdeci">int r</div><div class="ttdef"><b>Definition</b> <a href="mul-fft_8cc_source.html#l00298">mul-fft.cc:298</a></div></div>
<div class="ttc" id="anamespaceunibrow_html_a67de744730c9fed24aa185ab5747772c"><div class="ttname"><a href="namespaceunibrow.html#a67de744730c9fed24aa185ab5747772c">unibrow::int32_t</a></div><div class="ttdeci">int int32_t</div><div class="ttdef"><b>Definition</b> <a href="unicode_8cc_source.html#l00040">unicode.cc:40</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a993fab2c6b76cf0c19b174a0916180ec"><div class="ttname"><a href="namespacev8_1_1base.html#a993fab2c6b76cf0c19b174a0916180ec">v8::base::IsInRange</a></div><div class="ttdeci">constexpr bool IsInRange(T value, U lower_limit, U higher_limit)</div><div class="ttdef"><b>Definition</b> <a href="bounds_8h_source.html#l00020">bounds.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_ae72af9053b45630a01be9a6140820b5a"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#ae72af9053b45630a01be9a6140820b5a">v8::internal::compiler::begin</a></div><div class="ttdeci">Node::Uses::const_iterator begin(const Node::Uses &amp;uses)</div><div class="ttdef"><b>Definition</b> <a href="node_8h_source.html#l00709">node.h:709</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0b94f6b0e385883eb41e5491b05ef784a5a7ab0ccb8bc2cc772c1552d08cb7d2f"><div class="ttname"><a href="namespacev8_1_1internal.html#a0b94f6b0e385883eb41e5491b05ef784a5a7ab0ccb8bc2cc772c1552d08cb7d2f">v8::internal::ToPrimitiveHint::kNumber</a></div><div class="ttdeci">@ kNumber</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0cfab207d565dcf62ebf50f3987e05de"><div class="ttname"><a href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">v8::internal::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition</b> <a href="heap-snapshot-generator_8cc_source.html#l01584">heap-snapshot-generator.cc:1584</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a169aca39c9a05f77900ed76a775a4622"><div class="ttname"><a href="namespacev8_1_1internal.html#a169aca39c9a05f77900ed76a775a4622">v8::internal::kMaxSafeInteger</a></div><div class="ttdeci">constexpr double kMaxSafeInteger</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l01941">globals.h:1941</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a1de45cad4146db2f85105ce52f585591"><div class="ttname"><a href="namespacev8_1_1internal.html#a1de45cad4146db2f85105ce52f585591">v8::internal::IsNaN</a></div><div class="ttdeci">bool IsNaN(Tagged&lt; Object &gt; obj)</div><div class="ttdef"><b>Definition</b> <a href="objects-inl_8h_source.html#l00691">objects-inl.h:691</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a20971f8a9770697fdde08004c19035a3"><div class="ttname"><a href="namespacev8_1_1internal.html#a20971f8a9770697fdde08004c19035a3">v8::internal::DisallowGarbageCollection</a></div><div class="ttdeci">PerThreadAssertScopeDebugOnly&lt; false, SAFEPOINTS_ASSERT, HEAP_ALLOCATION_ASSERT &gt; DisallowGarbageCollection</div><div class="ttdef"><b>Definition</b> <a href="assert-scope_8h_source.html#l00236">assert-scope.h:236</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a33a2826557a82e4cd9775aadf0f5711e"><div class="ttname"><a href="namespacev8_1_1internal.html#a33a2826557a82e4cd9775aadf0f5711e">v8::internal::IsNumber</a></div><div class="ttdeci">bool IsNumber(Tagged&lt; Object &gt; obj)</div><div class="ttdef"><b>Definition</b> <a href="objects-inl_8h_source.html#l00481">objects-inl.h:481</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a4e2118a7c0d730210e0cb87b511cba70"><div class="ttname"><a href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">v8::internal::bool</a></div><div class="ttdeci">bool</div><div class="ttdef"><b>Definition</b> <a href="js-function-inl_8h_source.html#l00452">js-function-inl.h:452</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5031451934208565c827c86d9eb86c5a"><div class="ttname"><a href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">v8::internal::internal</a></div><div class="ttdeci">internal</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00457">wasm-objects-inl.h:457</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5258b3e99e9bc53458326bb8a5fea417"><div class="ttname"><a href="namespacev8_1_1internal.html#a5258b3e99e9bc53458326bb8a5fea417">v8::internal::IsWhiteSpaceOrLineTerminator</a></div><div class="ttdeci">bool IsWhiteSpaceOrLineTerminator(base::uc32 c)</div><div class="ttdef"><b>Definition</b> <a href="char-predicates-inl_8h_source.html#l00154">char-predicates-inl.h:154</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5ec5fc6fce0e7b15af4459d68320d9c2"><div class="ttname"><a href="namespacev8_1_1internal.html#a5ec5fc6fce0e7b15af4459d68320d9c2">v8::internal::none</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enable experimental feedback collection in generic lowering enable Turboshaft s WasmLoadElimination run instruction selection on Turboshaft IR directly enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information build the Turboshaft graph from Maglev trace emitted Turboshaft instructions profile guided optimization for empty feedback vector invocation count for maglev for functions which according to profile_guided_optimization are likely to deoptimize before reaching this invocation count Immediately re optimize code after some lazy deopts Enables the lazy new space shrinking strategy max size of a semi the new space consists of two semi spaces young and full garbage collection phases are not overlapping Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in allocation gc speed Starts incremental marking with kUserVisible priority threshold for starting incremental marking immediately in percent of available minor GC task trigger in percent of the current heap limit use a separate phase for stack scanning in scavenge max worker number of concurrent for NumberOfWorkerThreads start background threads that allocate memory concurrent_array_buffer_sweeping use parallel threads to clear weak refs in the atomic pause trace progress of the incremental marking trace object counts and memory usage report a tick only when allocated zone memory changes by this amount TracingFlags::gc_stats TracingFlags::gc_stats track native contexts that are expected to be garbage collected verify heap pointers before and after GC use memory reducer for small heaps External memory limits are computed as part of global limits in v8 Heap specifies heap growing factor Perform compaction on full GCs based on V8 s default heuristics Perform compaction on every full GC Perform code space compaction when finalizing a full GC with stack Stress GC compaction to flush out Stress GC compaction by selecting random percent of pages as evacuation candidates Overrides stress_compaction flush of bytecode when it has not been executed recently Flush code when tab goes into the background Use per context worklist for marking force incremental marking for small heaps and run it more often force marking at random points between and force scavenge at random points between and reclaim otherwise unreachable unmodified wrapper objects when possible Delay before memory reducer start virtual randomize memory reservations by ignoring any hints passed when allocating pages use incremental marking for CppHeap cppheap_concurrent_marking c value for membalancer A special constant to balance between memory and space tradeoff The smaller the more memory it uses enable use of SSE4 instructions if available enable use of AVX VNNI instructions if available enable use of POPCNT instruction if available force all emitted branches to be in long enable use of partial constant none</div><div class="ttdef"><b>Definition</b> <a href="flags_8cc_source.html#l02315">flags.cc:2315</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a67a51b6314a9bc8a8c44c5fe14149e6c"><div class="ttname"><a href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">v8::internal::key</a></div><div class="ttdeci">int32_t key</div><div class="ttdef"><b>Definition</b> <a href="external-reference_8cc_source.html#l01345">external-reference.cc:1345</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a87b3e4afb35334c6b2d49a11eac5d693"><div class="ttname"><a href="namespacev8_1_1internal.html#a87b3e4afb35334c6b2d49a11eac5d693">v8::internal::FlattenRegionsToParts</a></div><div class="ttdeci">V8_EXPORT_PRIVATE std::vector&lt; NumberFormatSpan &gt; FlattenRegionsToParts(std::vector&lt; NumberFormatSpan &gt; *regions)</div><div class="ttdef"><b>Definition</b> <a href="#l01822">js-number-format.cc:1822</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9fc59a9c005ed3e250ca231fbb4458a4a0d4bf86c4648acbf2fe49a15cec7d5ac"><div class="ttname"><a href="namespacev8_1_1internal.html#a9fc59a9c005ed3e250ca231fbb4458a4a0d4bf86c4648acbf2fe49a15cec7d5ac">v8::internal::F</a></div><div class="ttdeci">@ F</div><div class="ttdef"><b>Definition</b> <a href="constants-mips64_8h_source.html#l01194">constants-mips64.h:1194</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa708eb0fac74aa68ea6f52874f24faca"><div class="ttname"><a href="namespacev8_1_1internal.html#aa708eb0fac74aa68ea6f52874f24faca">v8::internal::IsDecimalDigit</a></div><div class="ttdeci">constexpr bool IsDecimalDigit(base::uc32 c)</div><div class="ttdef"><b>Definition</b> <a href="char-predicates-inl_8h_source.html#l00032">char-predicates-inl.h:32</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab16cc65aad4270433887227fd1d52f02a454cc6405a644396042993d74885d6ba"><div class="ttname"><a href="namespacev8_1_1internal.html#ab16cc65aad4270433887227fd1d52f02a454cc6405a644396042993d74885d6ba">v8::internal::NO_CONVERSION_FLAG</a></div><div class="ttdeci">@ NO_CONVERSION_FLAG</div><div class="ttdef"><b>Definition</b> <a href="conversions_8h_source.html#l00149">conversions.h:149</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab16cc65aad4270433887227fd1d52f02ad5def827bf43fa74375bc9180b786eb4"><div class="ttname"><a href="namespacev8_1_1internal.html#ab16cc65aad4270433887227fd1d52f02ad5def827bf43fa74375bc9180b786eb4">v8::internal::ALLOW_NON_DECIMAL_PREFIX</a></div><div class="ttdeci">@ ALLOW_NON_DECIMAL_PREFIX</div><div class="ttdef"><b>Definition</b> <a href="conversions_8h_source.html#l00150">conversions.h:150</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab9df0bf289155b5ae1d6da682adf1d6f"><div class="ttname"><a href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">v8::internal::handle</a></div><div class="ttdeci">V8_INLINE Handle&lt; T &gt; handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition</b> <a href="handles-inl_8h_source.html#l00070">handles-inl.h:70</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac1a33b5fd9af1653d346746cdb5c1ac0"><div class="ttname"><a href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">v8::internal::value</a></div><div class="ttdeci">return value</div><div class="ttdef"><b>Definition</b> <a href="map-inl_8h_source.html#l00870">map-inl.h:870</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac4b6b53060a2878af798e2a2ce4e0295"><div class="ttname"><a href="namespacev8_1_1internal.html#ac4b6b53060a2878af798e2a2ce4e0295">v8::internal::CoerceOptionsToObject</a></div><div class="ttdeci">MaybeDirectHandle&lt; JSReceiver &gt; CoerceOptionsToObject(Isolate *isolate, DirectHandle&lt; Object &gt; options, const char *method_name)</div><div class="ttdef"><b>Definition</b> <a href="option-utils_8cc_source.html#l00032">option-utils.cc:32</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac79587af74d00515e3485d426b03caf0"><div class="ttname"><a href="namespacev8_1_1internal.html#ac79587af74d00515e3485d426b03caf0">v8::internal::AsciiAlphaToLower</a></div><div class="ttdeci">constexpr int AsciiAlphaToLower(base::uc32 c)</div><div class="ttdef"><b>Definition</b> <a href="char-predicates-inl_8h_source.html#l00018">char-predicates-inl.h:18</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acdec713c25068019f935e35976f5b666"><div class="ttname"><a href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE</a></div><div class="ttdeci">UNREACHABLE()</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee"><div class="ttname"><a href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">v8::internal::kDontThrow</a></div><div class="ttdeci">@ kDontThrow</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l01702">globals.h:1702</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae032dca06e882540eca629ad340d45b2"><div class="ttname"><a href="namespacev8_1_1internal.html#ae032dca06e882540eca629ad340d45b2">v8::internal::GetStringOption</a></div><div class="ttdeci">Maybe&lt; bool &gt; GetStringOption(Isolate *isolate, DirectHandle&lt; JSReceiver &gt; options, const char *property, const std::vector&lt; const char * &gt; &amp;values, const char *method_name, std::unique_ptr&lt; char[]&gt; *result)</div><div class="ttdef"><b>Definition</b> <a href="option-utils_8cc_source.html#l00045">option-utils.cc:45</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aea85197770e2dbc0f392c9af2ad3a7d8"><div class="ttname"><a href="namespacev8_1_1internal.html#aea85197770e2dbc0f392c9af2ad3a7d8">v8::internal::StringToDouble</a></div><div class="ttdeci">double StringToDouble(const char *str, ConversionFlag flags, double empty_string_val)</div><div class="ttdef"><b>Definition</b> <a href="conversions_8cc_source.html#l00763">conversions.cc:763</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aeb5be8c54a68c0a55508c931639d71da"><div class="ttname"><a href="namespacev8_1_1internal.html#aeb5be8c54a68c0a55508c931639d71da">v8::internal::y</a></div><div class="ttdeci">double y</div><div class="ttdef"><b>Definition</b> <a href="external-reference_8cc_source.html#l01580">external-reference.cc:1580</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af04f4104c077ccbaef7596e23816a254"><div class="ttname"><a href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">v8::internal::status</a></div><div class="ttdeci">status</div><div class="ttdef"><b>Definition</b> <a href="js-disposable-stack-inl_8h_source.html#l00032">js-disposable-stack-inl.h:32</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af68b330f02476361ab10f531933b3381"><div class="ttname"><a href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">v8::internal::string</a></div><div class="ttdeci">template const char * string</div><div class="ttdef"><b>Definition</b> <a href="conversions_8cc_source.html#l00934">conversions.cc:934</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afa64d5ad974ffbf5dc18a321d007f1a9"><div class="ttname"><a href="namespacev8_1_1internal.html#afa64d5ad974ffbf5dc18a321d007f1a9">v8::internal::StringToBigInt</a></div><div class="ttdeci">MaybeHandle&lt; BigInt &gt; StringToBigInt(Isolate *isolate, DirectHandle&lt; String &gt; string)</div><div class="ttdef"><b>Definition</b> <a href="conversions_8cc_source.html#l00919">conversions.cc:919</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afe601ad9b4b4c61d8a6a700e7db12c2a"><div class="ttname"><a href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">v8::internal::native_context</a></div><div class="ttdeci">!IsContextMap !IsContextMap native_context</div><div class="ttdef"><b>Definition</b> <a href="map-inl_8h_source.html#l00854">map-inl.h:854</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aff82af2c2f7b200915e30bcfedca6f85"><div class="ttname"><a href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">v8::internal::Cast</a></div><div class="ttdeci">Tagged&lt; To &gt; Cast(Tagged&lt; From &gt; value, const v8::SourceLocation &amp;loc=INIT_SOURCE_LOCATION_IN_DEBUG)</div><div class="ttdef"><b>Definition</b> <a href="casting_8h_source.html#l00148">casting.h:148</a></div></div>
<div class="ttc" id="anamespacev8__inspector_html_a1eb8efdf7c70d986fee8e0dea03ff534"><div class="ttname"><a href="namespacev8__inspector.html#a1eb8efdf7c70d986fee8e0dea03ff534">v8_inspector::UChar</a></div><div class="ttdeci">char16_t UChar</div><div class="ttdef"><b>Definition</b> <a href="string-16_8h_source.html#l00022">string-16.h:22</a></div></div>
<div class="ttc" id="anamespacev8_html"><div class="ttname"><a href="namespacev8.html">v8</a></div><div class="ttdef"><b>Definition</b> <a href="api-arguments-inl_8h_source.html#l00017">api-arguments-inl.h:17</a></div></div>
<div class="ttc" id="aobjects-inl_8h_html"><div class="ttname"><a href="objects-inl_8h.html">objects-inl.h</a></div></div>
<div class="ttc" id="aoption-utils_8h_html"><div class="ttname"><a href="option-utils_8h.html">option-utils.h</a></div></div>
<div class="ttc" id="arandom-module-generation_8cc_html_aa43d2ab28d2f569f8f848249dfb0a401"><div class="ttname"><a href="random-module-generation_8cc.html#aa43d2ab28d2f569f8f848249dfb0a401">substring</a></div><div class="ttdeci">uint32_t substring</div><div class="ttdef"><b>Definition</b> <a href="random-module-generation_8cc_source.html#l00056">random-module-generation.cc:56</a></div></div>
<div class="ttc" id="asetup-heap-internal_8cc_html_a439227feff9d7f55384e8780cfc2eb82"><div class="ttname"><a href="setup-heap-internal_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition</b> <a href="setup-heap-internal_8cc_source.html#l00126">setup-heap-internal.cc:126</a></div></div>
<div class="ttc" id="astructv8_1_1base_1_1LazyInstance_html"><div class="ttname"><a href="structv8_1_1base_1_1LazyInstance.html">v8::base::LazyInstance</a></div><div class="ttdef"><b>Definition</b> <a href="lazy-instance_8h_source.html#l00211">lazy-instance.h:211</a></div></div>
<div class="ttc" id="astructv8_1_1base_1_1LazyInstance_html_a646dc09a6f18981f98a113cfbbefb8c8"><div class="ttname"><a href="structv8_1_1base_1_1LazyInstance.html#a646dc09a6f18981f98a113cfbbefb8c8">v8::base::LazyInstance::type</a></div><div class="ttdeci">typename LazyStaticInstance&lt; T, CreateTrait, InitOnceTrait, DestroyTrait &gt;::type type</div><div class="ttdef"><b>Definition</b> <a href="lazy-instance_8h_source.html#l00213">lazy-instance.h:213</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions_html"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html">v8::internal::Intl::NumberFormatDigitOptions</a></div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00211">intl-objects.h:211</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions_html_a29db9b8de54ea92b91831d4e5c4b0397"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a29db9b8de54ea92b91831d4e5c4b0397">v8::internal::Intl::NumberFormatDigitOptions::minimum_fraction_digits</a></div><div class="ttdeci">int minimum_fraction_digits</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00213">intl-objects.h:213</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions_html_a34c5e2dfe19eefa67ad19d5b251ef771"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a34c5e2dfe19eefa67ad19d5b251ef771">v8::internal::Intl::NumberFormatDigitOptions::maximum_significant_digits</a></div><div class="ttdeci">int maximum_significant_digits</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00216">intl-objects.h:216</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions_html_a365dda73e8405d7077bccb470dd607a8"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a365dda73e8405d7077bccb470dd607a8">v8::internal::Intl::NumberFormatDigitOptions::rounding_mode</a></div><div class="ttdeci">RoundingMode rounding_mode</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00220">intl-objects.h:220</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions_html_a40893b4f34d2ff2532114f96c7f11182"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a40893b4f34d2ff2532114f96c7f11182">v8::internal::Intl::NumberFormatDigitOptions::trailing_zero_display</a></div><div class="ttdeci">TrailingZeroDisplay trailing_zero_display</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00221">intl-objects.h:221</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions_html_a543929e5920bd97e031bcafd6c0df380"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a543929e5920bd97e031bcafd6c0df380">v8::internal::Intl::NumberFormatDigitOptions::rounding_type</a></div><div class="ttdeci">RoundingType rounding_type</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00218">intl-objects.h:218</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions_html_a6555c8c869cf4da5738e099dd9525ca1"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a6555c8c869cf4da5738e099dd9525ca1">v8::internal::Intl::NumberFormatDigitOptions::rounding_increment</a></div><div class="ttdeci">int rounding_increment</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00219">intl-objects.h:219</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions_html_a671c290d7264d312006706adedea180d"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a671c290d7264d312006706adedea180d">v8::internal::Intl::NumberFormatDigitOptions::minimum_significant_digits</a></div><div class="ttdeci">int minimum_significant_digits</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00215">intl-objects.h:215</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions_html_ac7f935d85499da2fc701e17b5b38f2c6"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#ac7f935d85499da2fc701e17b5b38f2c6">v8::internal::Intl::NumberFormatDigitOptions::maximum_fraction_digits</a></div><div class="ttdeci">int maximum_fraction_digits</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00214">intl-objects.h:214</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions_html_adbd088b80ff32f4d4f4b5496f189ffa2"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#adbd088b80ff32f4d4f4b5496f189ffa2">v8::internal::Intl::NumberFormatDigitOptions::minimum_integer_digits</a></div><div class="ttdeci">int minimum_integer_digits</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00212">intl-objects.h:212</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1ResolvedLocale_html"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1ResolvedLocale.html">v8::internal::Intl::ResolvedLocale</a></div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00316">intl-objects.h:316</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1ResolvedLocale_html_a175dcfe7e1d6bb277c83221a29d51f8a"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1ResolvedLocale.html#a175dcfe7e1d6bb277c83221a29d51f8a">v8::internal::Intl::ResolvedLocale::icu_locale</a></div><div class="ttdeci">icu::Locale icu_locale</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00318">intl-objects.h:318</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1NumberFormatSpan_html"><div class="ttname"><a href="structv8_1_1internal_1_1NumberFormatSpan.html">v8::internal::NumberFormatSpan</a></div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00061">intl-objects.h:61</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1NumberFormatSpan_html_a7d8317cafec38fa6bea3c95535097ec6"><div class="ttname"><a href="structv8_1_1internal_1_1NumberFormatSpan.html#a7d8317cafec38fa6bea3c95535097ec6">v8::internal::NumberFormatSpan::end_pos</a></div><div class="ttdeci">int32_t end_pos</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00064">intl-objects.h:64</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1NumberFormatSpan_html_aef8bb101ffd6024ff51765aaf8f127d1"><div class="ttname"><a href="structv8_1_1internal_1_1NumberFormatSpan.html#aef8bb101ffd6024ff51765aaf8f127d1">v8::internal::NumberFormatSpan::field_id</a></div><div class="ttdeci">int32_t field_id</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00062">intl-objects.h:62</a></div></div>
<div class="ttc" id="awasm-features_8h_html_a2d0852eb438b29a423ea08b97ab45fac"><div class="ttname"><a href="wasm-features_8h.html#a2d0852eb438b29a423ea08b97ab45fac">NAME</a></div><div class="ttdeci">#define NAME(feat,...)</div></div>
<div class="ttc" id="awin32-headers_8h_html_a2a3e0cda5f1249bef6db47c5eb8e3813"><div class="ttname"><a href="win32-headers_8h.html#a2a3e0cda5f1249bef6db47c5eb8e3813">LONG</a></div><div class="ttdeci">long LONG</div><div class="ttdef"><b>Definition</b> <a href="win32-headers_8h_source.html#l00053">win32-headers.h:53</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_a7fa5847c07dc92c5227f8a150238560.html">objects</a></li><li class="navelem"><a class="el" href="js-number-format_8cc.html">js-number-format.cc</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
