<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>v8: /home/w1redch4d/Documents/browser-exploitation/v8/v8/src/objects/intl-objects.cc Source File</title>
<link rel="icon" href="v8.svg" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="v8.svg"/></td>
  <td id="projectalign">
   <div id="projectname">v8
   </div>
   <div id="projectbrief">V8 is Googleâ€™s open source high-performance JavaScript and WebAssembly engine, written in C++. It is used in Chrome and in Node.js, among others. It implements ECMAScript and WebAssembly, and runs on Windows, macOS, and Linux systems that use x64, IA-32, or ARM processors. V8 can be embedded into any C++ application.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_a7fa5847c07dc92c5227f8a150238560.html">objects</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="headertitle"><div class="title">intl-objects.cc</div></div>
</div><!--header-->
<div class="contents">
<a href="intl-objects_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">// Copyright 2013 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &quot;<a class="code" href="intl-objects_8h.html">src/objects/intl-objects.h</a>&quot;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span> </div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &lt;limits&gt;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span> </div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &quot;<a class="code" href="api-inl_8h.html">src/api/api-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &quot;<a class="code" href="logging_8h.html">src/base/logging.h</a>&quot;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;<a class="code" href="strings_8h.html">src/base/strings.h</a>&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;<a class="code" href="common_2globals_8h.html">src/common/globals.h</a>&quot;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &quot;<a class="code" href="date_8h.html">src/date/date.h</a>&quot;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &quot;<a class="code" href="execution_2isolate_8h.html">src/execution/isolate.h</a>&quot;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &quot;<a class="code" href="local-isolate_8h.html">src/execution/local-isolate.h</a>&quot;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &quot;<a class="code" href="global-handles_8h.html">src/handles/global-handles.h</a>&quot;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &quot;<a class="code" href="factory_8h.html">src/heap/factory.h</a>&quot;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;<a class="code" href="js-collator-inl_8h.html">src/objects/js-collator-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &quot;<a class="code" href="js-date-time-format-inl_8h.html">src/objects/js-date-time-format-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="js-locale-inl_8h.html">src/objects/js-locale-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &quot;<a class="code" href="js-locale_8h.html">src/objects/js-locale.h</a>&quot;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;<a class="code" href="js-number-format-inl_8h.html">src/objects/js-number-format-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;<a class="code" href="js-temporal-objects_8h.html">src/objects/js-temporal-objects.h</a>&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &quot;<a class="code" href="managed-inl_8h.html">src/objects/managed-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &quot;<a class="code" href="objects-inl_8h.html">src/objects/objects-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &quot;<a class="code" href="option-utils_8h.html">src/objects/option-utils.h</a>&quot;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &quot;<a class="code" href="property-descriptor_8h.html">src/objects/property-descriptor.h</a>&quot;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &quot;<a class="code" href="smi_8h.html">src/objects/smi.h</a>&quot;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &quot;<a class="code" href="string_8h.html">src/objects/string.h</a>&quot;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#include &quot;<a class="code" href="string-case_8h.html">src/strings/string-case.h</a>&quot;</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#include &quot;unicode/basictz.h&quot;</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">#include &quot;unicode/brkiter.h&quot;</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#include &quot;unicode/calendar.h&quot;</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="preprocessor">#include &quot;unicode/coll.h&quot;</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="preprocessor">#include &quot;unicode/datefmt.h&quot;</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="preprocessor">#include &quot;unicode/decimfmt.h&quot;</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="preprocessor">#include &quot;unicode/formattedvalue.h&quot;</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="preprocessor">#include &quot;unicode/localebuilder.h&quot;</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="preprocessor">#include &quot;unicode/localematcher.h&quot;</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="preprocessor">#include &quot;unicode/locid.h&quot;</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="preprocessor">#include &quot;unicode/normalizer2.h&quot;</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="preprocessor">#include &quot;unicode/numberformatter.h&quot;</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="preprocessor">#include &quot;unicode/numfmt.h&quot;</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="preprocessor">#include &quot;unicode/numsys.h&quot;</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="preprocessor">#include &quot;unicode/timezone.h&quot;</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="preprocessor">#include &quot;unicode/ures.h&quot;</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="preprocessor">#include &quot;unicode/ustring.h&quot;</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="preprocessor">#include &quot;unicode/uvernum.h&quot;</span>  <span class="comment">// U_ICU_VERSION_MAJOR_NUM</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span> </div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="preprocessor">#ifndef V8_INTL_SUPPORT</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="preprocessor">#error Internationalization is expected to be enabled.</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="preprocessor">#endif  </span><span class="comment">// V8_INTL_SUPPORT</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> </div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="intl-objects_8cc.html#a03943706e48069237cd57f2d35ca987e">   59</a></span><span class="preprocessor">#define XSTR(s) STR(s)</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="intl-objects_8cc.html#a6388870e639eee9c0a69446876f1f8cc">   60</a></span><span class="preprocessor">#define STR(s) #s</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span><span class="keyword">static_assert</span>(</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    <a class="code hl_define" href="intl-objects_8h.html#a3de4db913df859580e8af1f077321bdd">V8_MINIMUM_ICU_VERSION</a> &lt;= U_ICU_VERSION_MAJOR_NUM,</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>    <span class="stringliteral">&quot;v8 is required to build with ICU &quot;</span> <a class="code hl_define" href="intl-objects_8cc.html#a03943706e48069237cd57f2d35ca987e">XSTR</a>(<a class="code hl_define" href="intl-objects_8h.html#a3de4db913df859580e8af1f077321bdd">V8_MINIMUM_ICU_VERSION</a>) <span class="stringliteral">&quot; and up&quot;</span>);</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="preprocessor">#undef STR</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span><span class="preprocessor">#undef XSTR</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> </div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacev8_1_1internal.html">v8::internal</a> {</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span> </div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span> </div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span><span class="keyword">inline</span> <span class="keyword">constexpr</span> uint8_t AsOneByte(uint16_t ch) {</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>  <a class="code hl_define" href="logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(ch, <a class="code hl_variable" href="namespacev8_1_1internal.html#a28e017cd3ae9f15f34ea163d524b207c">kMaxUInt8</a>);</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(ch);</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>}</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span> </div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><span class="keyword">constexpr</span> uint8_t kToLower[256] = {</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0A, 0x0B,</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>    0x0C, 0x0D, 0x0E, 0x0F, 0x10, 0x11, 0x12, 0x13, 0x14, 0x15, 0x16, 0x17,</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    0x18, 0x19, 0x1A, 0x1B, 0x1C, 0x1D, 0x1E, 0x1F, 0x20, 0x21, 0x22, 0x23,</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    0x24, 0x25, 0x26, 0x27, 0x28, 0x29, 0x2A, 0x2B, 0x2C, 0x2D, 0x2E, 0x2F,</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    0x30, 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x3A, 0x3B,</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    0x3C, 0x3D, 0x3E, 0x3F, 0x40, 0x61, 0x62, 0x63, 0x64, 0x65, 0x66, 0x67,</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>    0x68, 0x69, 0x6A, 0x6B, 0x6C, 0x6D, 0x6E, 0x6F, 0x70, 0x71, 0x72, 0x73,</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    0x74, 0x75, 0x76, 0x77, 0x78, 0x79, 0x7A, 0x5B, 0x5C, 0x5D, 0x5E, 0x5F,</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    0x60, 0x61, 0x62, 0x63, 0x64, 0x65, 0x66, 0x67, 0x68, 0x69, 0x6A, 0x6B,</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    0x6C, 0x6D, 0x6E, 0x6F, 0x70, 0x71, 0x72, 0x73, 0x74, 0x75, 0x76, 0x77,</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    0x78, 0x79, 0x7A, 0x7B, 0x7C, 0x7D, 0x7E, 0x7F, 0x80, 0x81, 0x82, 0x83,</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    0x84, 0x85, 0x86, 0x87, 0x88, 0x89, 0x8A, 0x8B, 0x8C, 0x8D, 0x8E, 0x8F,</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    0x90, 0x91, 0x92, 0x93, 0x94, 0x95, 0x96, 0x97, 0x98, 0x99, 0x9A, 0x9B,</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>    0x9C, 0x9D, 0x9E, 0x9F, 0xA0, 0xA1, 0xA2, 0xA3, 0xA4, 0xA5, 0xA6, 0xA7,</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    0xA8, 0xA9, 0xAA, 0xAB, 0xAC, 0xAD, 0xAE, 0xAF, 0xB0, 0xB1, 0xB2, 0xB3,</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    0xB4, 0xB5, 0xB6, 0xB7, 0xB8, 0xB9, 0xBA, 0xBB, 0xBC, 0xBD, 0xBE, 0xBF,</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>    0xE0, 0xE1, 0xE2, 0xE3, 0xE4, 0xE5, 0xE6, 0xE7, 0xE8, 0xE9, 0xEA, 0xEB,</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    0xEC, 0xED, 0xEE, 0xEF, 0xF0, 0xF1, 0xF2, 0xF3, 0xF4, 0xF5, 0xF6, 0xD7,</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>    0xF8, 0xF9, 0xFA, 0xFB, 0xFC, 0xFD, 0xFE, 0xDF, 0xE0, 0xE1, 0xE2, 0xE3,</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    0xE4, 0xE5, 0xE6, 0xE7, 0xE8, 0xE9, 0xEA, 0xEB, 0xEC, 0xED, 0xEE, 0xEF,</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    0xF0, 0xF1, 0xF2, 0xF3, 0xF4, 0xF5, 0xF6, 0xF7, 0xF8, 0xF9, 0xFA, 0xFB,</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    0xFC, 0xFD, 0xFE, 0xFF,</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>};</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span> </div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span><span class="keyword">inline</span> <span class="keyword">constexpr</span> uint8_t ToLatin1Lower(uint8_t ch) {</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>  <span class="keyword">static_assert</span>(std::numeric_limits&lt;<span class="keyword">decltype</span>(ch)&gt;::max() &lt; <a class="code hl_define" href="macros_8h.html#ac55fdd6aa61539c49b1b1f5d38a0ed73">arraysize</a>(kToLower));</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>  <span class="keywordflow">return</span> kToLower[ch];</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>}</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span><span class="comment">// Ensure callers explicitly truncate uint16_t.</span></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span><span class="keyword">inline</span> <span class="keyword">constexpr</span> uint8_t ToLatin1Lower(uint16_t ch) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span> </div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span><span class="comment">// Does not work for U+00DF (sharp-s), U+00B5 (micron), U+00FF, or two-byte</span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span><span class="comment">// values.</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span><span class="keyword">inline</span> <span class="keyword">constexpr</span> uint8_t ToLatin1Upper(uint8_t ch) {</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(ch != 0xDF &amp;&amp; ch != 0xB5 &amp;&amp; ch != 0xFF);</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>  <span class="keywordflow">return</span> ch &amp;</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>         ~((<a class="code hl_function" href="namespacev8_1_1internal.html#a4c8cc72fb315e4b7ce9f492c1a23bda8">IsAsciiLower</a>(ch) || (((ch &amp; 0xE0) == 0xE0) &amp;&amp; ch != 0xF7)) &lt;&lt; 5);</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>}</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span><span class="comment">// Ensure callers explicitly truncate uint16_t.</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span><span class="keyword">inline</span> <span class="keyword">constexpr</span> uint8_t ToLatin1Upper(uint16_t ch) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span> </div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span><span class="keywordtype">bool</span> ToUpperFastASCII(base::Vector&lt;const uint16_t&gt; src,</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>                      DirectHandle&lt;SeqOneByteString&gt; <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>) {</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>  <span class="comment">// Do a faster loop for the case where all the characters are ASCII.</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>  uint16_t ored = 0;</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>  int32_t <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = 0;</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> uint16_t* it = src.begin(); it != src.end(); ++it) {</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    uint16_t ch = *it;</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    ored |= ch;</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>-&gt;SeqOneByteStringSet(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>++, <a class="code hl_function" href="namespacev8_1_1internal.html#ab410c0f522a212c8406a17a9be420b77">ToAsciiUpper</a>(ch));</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>  }</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>  <span class="keywordflow">return</span> !(ored &amp; ~0x7F);</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>}</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span><span class="keyword">const</span> uint16_t sharp_s = 0xDF;</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span> </div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Char&gt;</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span><span class="keywordtype">bool</span> ToUpperOneByte(base::Vector&lt;const Char&gt; src, uint8_t* dest,</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>                    <span class="keywordtype">int</span>* sharp_s_count) {</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>  <span class="comment">// Still pretty-fast path for the input with non-ASCII Latin-1 characters.</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span> </div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>  <span class="comment">// There are two special cases.</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>  <span class="comment">//  1. U+00B5 and U+00FF are mapped to a character beyond U+00FF.</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>  <span class="comment">//  2. Lower case sharp-S converts to &quot;SS&quot; (two characters)</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>  *sharp_s_count = 0;</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = src.begin(); it != src.end(); ++it) {</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    uint8_t ch = AsOneByte(*it);</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    <span class="keywordflow">if</span> (V8_UNLIKELY(ch == sharp_s)) {</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>      ++(*sharp_s_count);</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    }</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    <span class="keywordflow">if</span> (V8_UNLIKELY(ch == 0xB5 || ch == 0xFF)) {</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>      <span class="comment">// Since this upper-cased character does not fit in an 8-bit string, we</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>      <span class="comment">// need to take the 16-bit path.</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    }</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>    *dest++ = ToLatin1Upper(ch);</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>  }</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span> </div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>}</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span> </div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Char&gt;</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span><span class="keywordtype">void</span> ToUpperWithSharpS(base::Vector&lt;const Char&gt; src,</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>                       DirectHandle&lt;SeqOneByteString&gt; <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>) {</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>  int32_t dest_index = 0;</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = src.begin(); it != src.end(); ++it) {</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    uint8_t ch = AsOneByte(*it);</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    <span class="keywordflow">if</span> (ch == sharp_s) {</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>      <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>-&gt;SeqOneByteStringSet(dest_index++, <span class="charliteral">&#39;S&#39;</span>);</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>      <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>-&gt;SeqOneByteStringSet(dest_index++, <span class="charliteral">&#39;S&#39;</span>);</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>      <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>-&gt;SeqOneByteStringSet(dest_index++, ToLatin1Upper(ch));</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>    }</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>  }</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>}</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span> </div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span><span class="keyword">inline</span> <span class="keywordtype">int</span> FindFirstUpperOrNonAscii(<a class="code hl_function" href="namespacev8_1_1internal.html#a4382c244e839ce16a4beafabd1c6bd1d">Tagged&lt;String&gt;</a> s, <span class="keywordtype">int</span> length) {</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = 0; <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt; <a class="code hl_variable" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>; ++<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    uint16_t ch = s-&gt;Get(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    <span class="keywordflow">if</span> (V8_UNLIKELY(<a class="code hl_function" href="namespacev8_1_1internal.html#abc2b4bce3acde2722e6f4fa32ca8f954">IsAsciiUpper</a>(ch) || ch &amp; ~0x7F)) {</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>;</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    }</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>  }</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>}</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span> </div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span><span class="keyword">const</span> UChar* GetUCharBufferFromFlat(<span class="keyword">const</span> String::FlatContent&amp; flat,</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>                                    std::unique_ptr&lt;<a class="code hl_typedef" href="namespacev8_1_1base.html#a9b30a9dce9a646c03dd1fd6a409d9d7f">base::uc16</a>[]&gt;* dest,</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>                                    int32_t length) {</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(flat.IsFlat());</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>  <span class="keywordflow">if</span> (flat.IsOneByte()) {</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>    <span class="keywordflow">if</span> (!*dest) {</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>      dest-&gt;reset(<a class="code hl_function" href="namespacev8_1_1internal.html#aed43b98c5ffa7f17cee0d8ed23ffd385">NewArray&lt;base::uc16&gt;</a>(length));</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#a97a2bf2e1b8fac6ada79dd7ec47ffcfe">CopyChars</a>(dest-&gt;get(), flat.ToOneByteVector().begin(), length);</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    }</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>UChar*<span class="keyword">&gt;</span>(dest-&gt;get());</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>UChar*<span class="keyword">&gt;</span>(flat.ToUC16Vector().begin());</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>  }</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>}</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span> </div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>MaybeHandle&lt;T&gt; New(Isolate* isolate, DirectHandle&lt;JSFunction&gt; constructor,</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>                   DirectHandle&lt;Object&gt; locales, DirectHandle&lt;Object&gt; <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>,</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>                   <span class="keyword">const</span> <span class="keywordtype">char</span>* method_name) {</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>  DirectHandle&lt;Map&gt; <a class="code hl_variable" href="js-date-time-format_8cc.html#a22ede25ca923109929a8dca3c225b2ad">map</a>;</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>  <a class="code hl_define" href="execution_2isolate_8h.html#a45bb81ab232e9f2663545ec92dc0b950">ASSIGN_RETURN_ON_EXCEPTION</a>(</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>      isolate, map,</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>      <a class="code hl_function" href="classv8_1_1internal_1_1JSFunction.html#a88695dbdbe787d52df491c5001819d06">JSFunction::GetDerivedMap</a>(isolate, constructor, constructor));</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>  <span class="keywordflow">return</span> T::New(isolate, map, locales, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, method_name);</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>}</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span> </div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a6e8294d5bff6085431c7c09a9bfc66dc">  211</a></span><span class="keyword">const</span> uint8_t* <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a6e8294d5bff6085431c7c09a9bfc66dc">Intl::ToLatin1LowerTable</a>() { <span class="keywordflow">return</span> &amp;kToLower[0]; }</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span> </div>
<div class="foldopen" id="foldopen00213" data-start="{" data-end="}">
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a8dc43da169430c3077c3a335ec50a23d">  213</a></span>icu::UnicodeString <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a8dc43da169430c3077c3a335ec50a23d">Intl::ToICUUnicodeString</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>                                            <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <span class="keywordtype">string</span>,</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>                                            <span class="keywordtype">int</span> <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>) {</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(string-&gt;IsFlat());</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>  std::unique_ptr&lt;base::uc16[]&gt; sap;</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>  <span class="comment">// Short one-byte strings can be expanded on the stack to avoid allocating a</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>  <span class="comment">// temporary buffer.</span></div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>  <span class="keyword">constexpr</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> kShortStringSize = 80;</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>  UChar short_string_buffer[kShortStringSize];</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>  <span class="keyword">const</span> UChar* uchar_buffer = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>  <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1String_1_1FlatContent.html">String::FlatContent</a>&amp; flat = <span class="keywordtype">string</span>-&gt;GetFlatContent(no_gc);</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>  <span class="comment">// We read the length from the heap, so it may be untrusted (in the sandbox</span></div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>  <span class="comment">// attacker model) and we therefore need to use an unsigned int here when</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>  <span class="comment">// comparing it against the kShortStringSize.</span></div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>  uint32_t length = <span class="keywordtype">string</span>-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b9ea49752a2c9031c57e027a2ae72a6">length</a>();</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>  <a class="code hl_define" href="logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>, length);</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>  <span class="keywordflow">if</span> (flat.<a class="code hl_function" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>() &amp;&amp; length &lt;= kShortStringSize) {</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    <a class="code hl_function" href="namespacev8_1_1internal.html#a97a2bf2e1b8fac6ada79dd7ec47ffcfe">CopyChars</a>(short_string_buffer, flat.<a class="code hl_function" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a14673593207f44394962fbf870d14c88">ToOneByteVector</a>().<a class="code hl_function" href="classv8_1_1base_1_1Vector.html#ad0021e2947c974d78adbbc1d543d43a5">begin</a>(), length);</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>    uchar_buffer = short_string_buffer;</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>    uchar_buffer = GetUCharBufferFromFlat(flat, &amp;sap, length);</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>  }</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>  <span class="keywordflow">return</span> icu::UnicodeString(uchar_buffer + <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>, length - <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>);</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>}</div>
</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span> </div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span> </div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>icu::StringPiece ToICUStringPiece(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <span class="keywordtype">string</span>,</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>                                  <span class="keywordtype">int</span> <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> = 0) {</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(string-&gt;IsFlat());</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span> </div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>  <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1String_1_1FlatContent.html">String::FlatContent</a>&amp; flat = <span class="keywordtype">string</span>-&gt;GetFlatContent(no_gc);</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>  <span class="keywordflow">if</span> (!flat.<a class="code hl_function" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>()) <span class="keywordflow">return</span> icu::StringPiece();</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span> </div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>  int32_t length = <span class="keywordtype">string</span>-&gt;length();</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>  <span class="keyword">const</span> <span class="keywordtype">char</span>* char_buffer =</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>      <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(flat.<a class="code hl_function" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a14673593207f44394962fbf870d14c88">ToOneByteVector</a>().begin());</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classv8_1_1internal_1_1String.html#a33a79c203e5bad51a55406ad58e412e0">String::IsAscii</a>(char_buffer, length)) {</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>    <span class="keywordflow">return</span> icu::StringPiece();</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>  }</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span> </div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>  <span class="keywordflow">return</span> icu::StringPiece(char_buffer + <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>, length - <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>);</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>}</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span> </div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>MaybeHandle&lt;String&gt; LocaleConvertCase(Isolate* isolate, DirectHandle&lt;String&gt; s,</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>                                      <span class="keywordtype">bool</span> is_to_upper, <span class="keyword">const</span> <span class="keywordtype">char</span>* lang) {</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>  <span class="keyword">auto</span> case_converter = is_to_upper ? u_strToUpper : u_strToLower;</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>  uint32_t src_length = s-&gt;length();</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>  uint32_t dest_length = src_length;</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>  UErrorCode <a class="code hl_variable" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a>;</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>  Handle&lt;SeqTwoByteString&gt; <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>;</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>  std::unique_ptr&lt;base::uc16[]&gt; sap;</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span> </div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>  <span class="keywordflow">if</span> (dest_length == 0) <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;empty_string();</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span> </div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>  <span class="comment">// This is not a real loop. It&#39;ll be executed only once (no overflow) or</span></div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>  <span class="comment">// twice (overflow).</span></div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; 2; ++<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>) {</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    <span class="comment">// Case conversion can increase the string length (e.g. sharp-S =&gt; SS) so</span></div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    <span class="comment">// that we have to handle RangeError exceptions here.</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a45bb81ab232e9f2663545ec92dc0b950">ASSIGN_RETURN_ON_EXCEPTION</a>(</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>        isolate, <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>, isolate-&gt;factory()-&gt;NewRawTwoByteString(dest_length));</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    <a class="code hl_typedef" href="namespacev8_1_1internal.html#a20971f8a9770697fdde08004c19035a3">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(s-&gt;IsFlat());</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    String::FlatContent flat = s-&gt;GetFlatContent(no_gc);</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    <span class="keyword">const</span> UChar* src = GetUCharBufferFromFlat(flat, &amp;sap, src_length);</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    status = U_ZERO_ERROR;</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>    dest_length =</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>        case_converter(<span class="keyword">reinterpret_cast&lt;</span>UChar*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>-&gt;GetChars(no_gc)),</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>                       dest_length, src, src_length, lang, &amp;status);</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>    <span class="keywordflow">if</span> (status != U_BUFFER_OVERFLOW_ERROR) <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>  }</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span> </div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>  <span class="comment">// In most cases, the output will fill the destination buffer completely</span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>  <span class="comment">// leading to an unterminated string (U_STRING_NOT_TERMINATED_WARNING).</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>  <span class="comment">// Only in rare cases, it&#39;ll be shorter than the destination buffer and</span></div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>  <span class="comment">// |result| has to be truncated.</span></div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>  <span class="keywordflow">if</span> (V8_LIKELY(status == U_STRING_NOT_TERMINATED_WARNING)) {</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>    <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(dest_length == <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>-&gt;length());</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>;</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>  }</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(dest_length &lt; result-&gt;<a class="code hl_variable" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>());</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1SeqString.html#a1a79ce01c0cad9361948e6376581ba8e">SeqString::Truncate</a>(isolate, <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>, dest_length);</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>}</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span> </div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span> </div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span><span class="comment">// A stripped-down version of ConvertToLower that can only handle flat one-byte</span></div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span><span class="comment">// strings and does not allocate. Note that {src} could still be, e.g., a</span></div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span><span class="comment">// one-byte sliced string with a two-byte parent string.</span></div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span><span class="comment">// Called from TF builtins.</span></div>
<div class="foldopen" id="foldopen00307" data-start="{" data-end="}">
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a4320aa33497ff049775900445335049d">  307</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a4320aa33497ff049775900445335049d">Intl::ConvertOneByteToLower</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> src,</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>                                           <a class="code hl_class" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> dst) {</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>  <a class="code hl_define" href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(src-&gt;length(), dst-&gt;length());</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(src-&gt;IsOneByteRepresentation());</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(src-&gt;IsFlat());</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsSeqOneByteString(dst));</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span> </div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span> </div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> length = src-&gt;length();</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>  <a class="code hl_class" href="classv8_1_1internal_1_1String_1_1FlatContent.html">String::FlatContent</a> src_flat = src-&gt;GetFlatContent(no_gc);</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>  uint8_t* dst_data = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;SeqOneByteString&gt;</a>(dst)-&gt;GetChars(no_gc);</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span> </div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>  <span class="keywordflow">if</span> (src_flat.<a class="code hl_function" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>()) {</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    <span class="keyword">const</span> uint8_t* src_data = src_flat.<a class="code hl_function" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a14673593207f44394962fbf870d14c88">ToOneByteVector</a>().<a class="code hl_function" href="classv8_1_1base_1_1Vector.html#ad0021e2947c974d78adbbc1d543d43a5">begin</a>();</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span> </div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>    <span class="keywordtype">bool</span> has_changed_character = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>    <span class="keywordtype">int</span> index_to_first_unprocessed =</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>        <a class="code hl_function" href="namespacev8_1_1internal.html#abc5df0d50b00f4871ba17e13bac3c0b0">FastAsciiConvert&lt;true&gt;</a>(<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(dst_data),</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>                               <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(src_data), length,</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>                               &amp;has_changed_character);</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span> </div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>    <span class="keywordflow">if</span> (index_to_first_unprocessed == length) {</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>      <span class="keywordflow">return</span> has_changed_character ? dst : src;</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>    }</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span> </div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>    <span class="comment">// If not ASCII, we keep the result up to index_to_first_unprocessed and</span></div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    <span class="comment">// process the rest.</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = index_to_first_unprocessed; <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt; <a class="code hl_variable" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>; ++<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>      dst_data[<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>] = ToLatin1Lower(src_data[<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>]);</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    }</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>    <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(src_flat.<a class="code hl_function" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a00d04cc56a894ba79373a521904b6a77">IsTwoByte</a>());</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>    <span class="keywordtype">int</span> index_to_first_unprocessed = FindFirstUpperOrNonAscii(src, length);</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>    <span class="keywordflow">if</span> (index_to_first_unprocessed == length) <span class="keywordflow">return</span> src;</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span> </div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>    <span class="keyword">const</span> uint16_t* src_data = src_flat.<a class="code hl_function" href="classv8_1_1internal_1_1String_1_1FlatContent.html#ab758bb9904d5b922aec4f6830833bf26">ToUC16Vector</a>().<a class="code hl_function" href="classv8_1_1base_1_1Vector.html#ad0021e2947c974d78adbbc1d543d43a5">begin</a>();</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>    <a class="code hl_function" href="namespacev8_1_1internal.html#a97a2bf2e1b8fac6ada79dd7ec47ffcfe">CopyChars</a>(dst_data, src_data, index_to_first_unprocessed);</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = index_to_first_unprocessed; <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt; <a class="code hl_variable" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>; ++<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>      <span class="comment">// Truncating cast of two-byte src character to one-byte value. For valid</span></div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>      <span class="comment">// cases (where a one-byte sliced string points to a two-byte parent) this</span></div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>      <span class="comment">// will not lose any information, but we need to truncate anyway to</span></div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>      <span class="comment">// avoid undefined behavior if the parent string is corrupted.</span></div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>      dst_data[<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>] = ToLatin1Lower(AsOneByte(src_data[<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>]));</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>    }</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>  }</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span> </div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>  <span class="keywordflow">return</span> dst;</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>}</div>
</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span> </div>
<div class="foldopen" id="foldopen00357" data-start="{" data-end="}">
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a3a711510c92a944d7b58df0c8268ee33">  357</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;String&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a3a711510c92a944d7b58df0c8268ee33">Intl::ConvertToLower</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>                                         <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> s) {</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>  <span class="keywordflow">if</span> (!s-&gt;IsOneByteRepresentation()) {</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    <span class="comment">// Use a slower implementation for strings with characters beyond U+00FF.</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>    <span class="keywordflow">return</span> LocaleConvertCase(isolate, s, <span class="keyword">false</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>  }</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span> </div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>  <span class="keywordtype">int</span> length = s-&gt;length();</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span> </div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>  <span class="comment">// We depend here on the invariant that the length of a Latin1</span></div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>  <span class="comment">// string is invariant under ToLowerCase, and the result always</span></div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>  <span class="comment">// fits in the Latin1 range in the *root locale*. It does not hold</span></div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>  <span class="comment">// for ToUpperCase even in the root locale.</span></div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span> </div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>  <span class="comment">// Scan the string for uppercase and non-ASCII characters for strings</span></div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>  <span class="comment">// shorter than a machine-word without any memory allocation overhead.</span></div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>  <span class="comment">// TODO(jshin): Apply this to a longer input by breaking FastAsciiConvert()</span></div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>  <span class="comment">// to two parts, one for scanning the prefix with no change and the other for</span></div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>  <span class="comment">// handling ASCII-only characters.</span></div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span> </div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>  <span class="keywordtype">bool</span> is_short = <a class="code hl_variable" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length &lt; static_cast&lt;int&gt;</a>(<span class="keyword">sizeof</span>(uintptr_t));</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>  <span class="keywordflow">if</span> (is_short) {</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    <span class="keywordtype">bool</span> is_lower_ascii = FindFirstUpperOrNonAscii(*s, length) == <a class="code hl_variable" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    <span class="keywordflow">if</span> (is_lower_ascii) <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#a51b86a492912e93aefb78796892c363b">indirect_handle</a>(s, isolate);</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>  }</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span> </div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;SeqOneByteString&gt;</a> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> =</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>      isolate-&gt;factory()-&gt;NewRawOneByteString(length).ToHandleChecked();</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span> </div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(<a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a4320aa33497ff049775900445335049d">Intl::ConvertOneByteToLower</a>(*s, *<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>), isolate);</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>}</div>
</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span> </div>
<div class="foldopen" id="foldopen00389" data-start="{" data-end="}">
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a6e55fe101e7dcd1cdf3b7ccc3d757899">  389</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;String&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a6e55fe101e7dcd1cdf3b7ccc3d757899">Intl::ConvertToUpper</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>                                         <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> s) {</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>  int32_t length = s-&gt;length();</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>  <span class="keywordflow">if</span> (s-&gt;IsOneByteRepresentation() &amp;&amp; length &gt; 0) {</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;SeqOneByteString&gt;</a> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> =</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>        isolate-&gt;factory()-&gt;NewRawOneByteString(length).ToHandleChecked();</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span> </div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>    <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(s-&gt;IsFlat());</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>    <span class="keywordtype">int</span> sharp_s_count;</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>    <span class="keywordtype">bool</span> is_result_single_byte;</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>    {</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>      <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>      <a class="code hl_class" href="classv8_1_1internal_1_1String_1_1FlatContent.html">String::FlatContent</a> flat = s-&gt;GetFlatContent(no_gc);</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>      uint8_t* dest = <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>-&gt;GetChars(no_gc);</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>      <span class="keywordflow">if</span> (flat.<a class="code hl_function" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>()) {</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>        <a class="code hl_class" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> src = flat.<a class="code hl_function" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a14673593207f44394962fbf870d14c88">ToOneByteVector</a>();</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>        <span class="keywordtype">bool</span> has_changed_character = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>        <span class="keywordtype">int</span> index_to_first_unprocessed = <a class="code hl_function" href="namespacev8_1_1internal.html#ad098dc2f53e029c046356d62b12ccd47">FastAsciiConvert&lt;false&gt;</a>(</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>            <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>-&gt;GetChars(no_gc)),</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>            <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(src.begin()), length,</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>            &amp;has_changed_character);</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>        <span class="keywordflow">if</span> (index_to_first_unprocessed == length) {</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>          <span class="keywordflow">return</span> has_changed_character ? <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> : <a class="code hl_function" href="namespacev8_1_1internal.html#a51b86a492912e93aefb78796892c363b">indirect_handle</a>(s, isolate);</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>        }</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>        <span class="comment">// If not ASCII, we keep the result up to index_to_first_unprocessed and</span></div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>        <span class="comment">// process the rest.</span></div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>        is_result_single_byte =</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>            ToUpperOneByte(src.SubVector(index_to_first_unprocessed, length),</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>                           dest + index_to_first_unprocessed, &amp;sharp_s_count);</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>        <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(flat.<a class="code hl_function" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a00d04cc56a894ba79373a521904b6a77">IsTwoByte</a>());</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>        <a class="code hl_class" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint16_t&gt;</a> src = flat.<a class="code hl_function" href="classv8_1_1internal_1_1String_1_1FlatContent.html#ab758bb9904d5b922aec4f6830833bf26">ToUC16Vector</a>();</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>        <span class="keywordflow">if</span> (ToUpperFastASCII(src, <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>)) <span class="keywordflow">return</span> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>;</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>        is_result_single_byte = ToUpperOneByte(src, dest, &amp;sharp_s_count);</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>      }</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>    }</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span> </div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>    <span class="comment">// Go to the full Unicode path if there are characters whose uppercase</span></div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>    <span class="comment">// is beyond the Latin-1 range (cannot be represented in OneByteString).</span></div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>    <span class="keywordflow">if</span> (V8_UNLIKELY(!is_result_single_byte)) {</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>      <span class="keywordflow">return</span> LocaleConvertCase(isolate, s, <span class="keyword">true</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>    }</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span> </div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>    <span class="keywordflow">if</span> (sharp_s_count == 0) <span class="keywordflow">return</span> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>;</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span> </div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>    <span class="comment">// We have sharp_s_count sharp-s characters, but the result is still</span></div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>    <span class="comment">// in the Latin-1 range.</span></div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a45bb81ab232e9f2663545ec92dc0b950">ASSIGN_RETURN_ON_EXCEPTION</a>(</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>        isolate, <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>,</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>        isolate-&gt;factory()-&gt;NewRawOneByteString(length + sharp_s_count));</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>    <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>    <a class="code hl_class" href="classv8_1_1internal_1_1String_1_1FlatContent.html">String::FlatContent</a> flat = s-&gt;GetFlatContent(no_gc);</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>    <span class="keywordflow">if</span> (flat.<a class="code hl_function" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>()) {</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>      ToUpperWithSharpS(flat.<a class="code hl_function" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a14673593207f44394962fbf870d14c88">ToOneByteVector</a>(), <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>);</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>      ToUpperWithSharpS(flat.<a class="code hl_function" href="classv8_1_1internal_1_1String_1_1FlatContent.html#ab758bb9904d5b922aec4f6830833bf26">ToUC16Vector</a>(), <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>);</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>    }</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span> </div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>;</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>  }</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span> </div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>  <span class="keywordflow">return</span> LocaleConvertCase(isolate, s, <span class="keyword">true</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>}</div>
</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span> </div>
<div class="foldopen" id="foldopen00453" data-start="{" data-end="}">
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a2091add6bc73b348d3ec7807cb0d2f9c">  453</a></span>std::string <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a2091add6bc73b348d3ec7807cb0d2f9c">Intl::GetNumberingSystem</a>(<span class="keyword">const</span> icu::Locale&amp; icu_locale) {</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>  <span class="comment">// Ugly hack. ICU doesn&#39;t expose numbering system in any way, so we have</span></div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>  <span class="comment">// to assume that for given locale NumberingSystem constructor produces the</span></div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>  <span class="comment">// same digits as NumberFormat/Calendar would.</span></div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>  std::unique_ptr&lt;icu::NumberingSystem&gt; numbering_system(</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>      icu::NumberingSystem::createInstance(icu_locale, status));</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>  <span class="keywordflow">if</span> (U_SUCCESS(status) &amp;&amp; !numbering_system-&gt;isAlgorithmic()) {</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>    <span class="keywordflow">return</span> numbering_system-&gt;getName();</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>  }</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>  <span class="keywordflow">return</span> <span class="stringliteral">&quot;latn&quot;</span>;</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>}</div>
</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span> </div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span> </div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>Maybe&lt;icu::Locale&gt; CreateICULocale(<span class="keyword">const</span> std::string&amp; bcp47_locale) {</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>  <a class="code hl_class" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span> </div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>  <span class="comment">// Convert BCP47 into ICU locale format.</span></div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span> </div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>  icu::Locale icu_locale = icu::Locale::forLanguageTag(bcp47_locale, status);</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>  <span class="keywordflow">if</span> (U_FAILURE(status) || icu_locale.isBogus()) {</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>    <span class="keywordflow">return</span> Nothing&lt;icu::Locale&gt;();</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>  }</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span> </div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>  <span class="keywordflow">return</span> Just(icu_locale);</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>}</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span> </div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>}  <span class="comment">// anonymous namespace</span></div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span> </div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span><span class="comment">// static</span></div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span> </div>
<div class="foldopen" id="foldopen00486" data-start="{" data-end="}">
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a31799f9a30b4169d1ea6919debdc6591">  486</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;String&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a31799f9a30b4169d1ea6919debdc6591">Intl::ToString</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>                                   <span class="keyword">const</span> icu::UnicodeString&amp; <span class="keywordtype">string</span>) {</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>  <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;NewStringFromTwoByte(<a class="code hl_class" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint16_t&gt;</a>(</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>      <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint16_t*<span class="keyword">&gt;</span>(<span class="keywordtype">string</span>.getBuffer()), <span class="keywordtype">string</span>.<a class="code hl_variable" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>()));</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>}</div>
</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span> </div>
<div class="foldopen" id="foldopen00492" data-start="{" data-end="}">
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a976f21c6e075eb136a4c4fda8c9d238b">  492</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;String&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a31799f9a30b4169d1ea6919debdc6591">Intl::ToString</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>                                   <span class="keyword">const</span> icu::UnicodeString&amp; <span class="keywordtype">string</span>,</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>                                   int32_t begin, int32_t <a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a>) {</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a31799f9a30b4169d1ea6919debdc6591">Intl::ToString</a>(isolate, <span class="keywordtype">string</span>.tempSubStringBetween(begin, <a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a>));</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>}</div>
</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span> </div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span> </div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;JSObject&gt;</a> InnerAddElement(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSArray&gt;</a> array,</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>                                 <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>,</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>                                 <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> field_type_string,</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>                                 <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> value) {</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>  <span class="comment">// let element = $array[$index] = {</span></div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>  <span class="comment">//   type: $field_type_string,</span></div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>  <span class="comment">//   value: $value</span></div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>  <span class="comment">// }</span></div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>  <span class="comment">// return element;</span></div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Factory.html">Factory</a>* factory = isolate-&gt;factory();</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;JSObject&gt;</a> element = factory-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Factory.html#a54c843caad6266415afc266860855cdb">NewJSObject</a>(isolate-&gt;object_function());</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>  <a class="code hl_function" href="classv8_1_1internal_1_1JSObject.html#a16c9b19de5218c056da014960fba72ae">JSObject::AddProperty</a>(isolate, element, factory-&gt;type_string(),</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>                        field_type_string, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>);</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span> </div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>  <a class="code hl_function" href="classv8_1_1internal_1_1JSObject.html#a16c9b19de5218c056da014960fba72ae">JSObject::AddProperty</a>(isolate, element, factory-&gt;value_string(), value, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>);</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>  <span class="comment">// TODO(victorgomes): Temporarily forcing a fatal error here in case of</span></div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>  <span class="comment">// overflow, until Intl::AddElement can handle exceptions.</span></div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classv8_1_1internal_1_1JSObject.html#a9830a0e3f5177b6f3051c826c1a76007">JSObject::AddDataElement</a>(array, <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, element, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>).IsNothing()) {</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>    <a class="code hl_define" href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Fatal JavaScript invalid size error when adding element&quot;</span>);</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>    <a class="code hl_function" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>  }</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>  <span class="keywordflow">return</span> element;</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>}</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span> </div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span> </div>
<div class="foldopen" id="foldopen00526" data-start="{" data-end="}">
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a02ee18559848f15ba923b502faaa1912">  526</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a02ee18559848f15ba923b502faaa1912">Intl::AddElement</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSArray&gt;</a> array, <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>,</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>                      <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> field_type_string,</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>                      <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> value) {</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>  <span class="comment">// Same as $array[$index] = {type: $field_type_string, value: $value};</span></div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>  InnerAddElement(isolate, array, <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, field_type_string, value);</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>}</div>
</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span> </div>
<div class="foldopen" id="foldopen00533" data-start="{" data-end="}">
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#affb4b3f3285cb4c94ed955922abec6fb">  533</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a02ee18559848f15ba923b502faaa1912">Intl::AddElement</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSArray&gt;</a> array, <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>,</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>                      <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> field_type_string,</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>                      <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> value,</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>                      <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> additional_property_name,</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>                      <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> additional_property_value) {</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>  <span class="comment">// Same as $array[$index] = {</span></div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>  <span class="comment">//   type: $field_type_string, value: $value,</span></div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>  <span class="comment">//   $additional_property_name: $additional_property_value</span></div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>  <span class="comment">// }</span></div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> element =</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>      InnerAddElement(isolate, array, <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, field_type_string, value);</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>  <a class="code hl_function" href="classv8_1_1internal_1_1JSObject.html#a16c9b19de5218c056da014960fba72ae">JSObject::AddProperty</a>(isolate, element, additional_property_name,</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>                        additional_property_value, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>);</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>}</div>
</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span> </div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span> </div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span><span class="comment">// Build the shortened locale; eg, convert xx_Yyyy_ZZ  to xx_ZZ.</span></div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span><span class="comment">//</span></div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span><span class="comment">// If locale has a script tag then return true and the locale without the</span></div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span><span class="comment">// script else return false and an empty string.</span></div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span><span class="keywordtype">bool</span> RemoveLocaleScriptTag(<span class="keyword">const</span> std::string&amp; icu_locale,</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>                           std::string* locale_less_script) {</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>  icu::Locale new_locale = icu::Locale::createCanonical(icu_locale.c_str());</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>  <span class="keyword">const</span> <span class="keywordtype">char</span>* icu_script = new_locale.getScript();</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>  <span class="keywordflow">if</span> (icu_script == <span class="keyword">nullptr</span> || strlen(icu_script) == 0) {</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>    *locale_less_script = std::string();</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>  }</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span> </div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>  <span class="keyword">const</span> <span class="keywordtype">char</span>* icu_language = new_locale.getLanguage();</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>  <span class="keyword">const</span> <span class="keywordtype">char</span>* icu_country = new_locale.getCountry();</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>  icu::Locale short_locale = icu::Locale(icu_language, icu_country);</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>  *locale_less_script = short_locale.getName();</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>}</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span> </div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span><span class="keywordtype">bool</span> ValidateResource(<span class="keyword">const</span> icu::Locale locale, <span class="keyword">const</span> <span class="keywordtype">char</span>* path,</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>                      <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>) {</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>  UResourceBundle* bundle = ures_open(path, locale.getName(), &amp;status);</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>  <span class="keywordflow">if</span> (bundle != <span class="keyword">nullptr</span> &amp;&amp; status == U_ZERO_ERROR) {</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a> == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>      <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>      UResourceBundle* key_bundle =</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>          ures_getByKey(bundle, <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <span class="keyword">nullptr</span>, &amp;status);</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>      <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> = key_bundle != <span class="keyword">nullptr</span> &amp;&amp; (status == U_ZERO_ERROR);</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>      ures_close(key_bundle);</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>    }</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>  }</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>  ures_close(bundle);</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>) {</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>    <span class="keywordflow">if</span> ((locale.getCountry()[0] != <span class="charliteral">&#39;\0&#39;</span>) &amp;&amp; (locale.getScript()[0] != <span class="charliteral">&#39;\0&#39;</span>)) {</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>      <span class="comment">// Fallback to try without country.</span></div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>      std::string without_country(locale.getLanguage());</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>      without_country = without_country.append(<span class="stringliteral">&quot;-&quot;</span>).append(locale.getScript());</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>      <span class="keywordflow">return</span> ValidateResource(without_country.c_str(), path, <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((locale.getCountry()[0] != <span class="charliteral">&#39;\0&#39;</span>) ||</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>               (locale.getScript()[0] != <span class="charliteral">&#39;\0&#39;</span>)) {</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>      <span class="comment">// Fallback to try with only language.</span></div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>      std::string language(locale.getLanguage());</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>      <span class="keywordflow">return</span> ValidateResource(language.c_str(), path, <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>    }</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>  }</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>;</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>}</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span> </div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span> </div>
<div class="foldopen" id="foldopen00604" data-start="{" data-end="}">
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a9b7ead8085f0954cf3ae76436b77df37">  604</a></span>std::set&lt;std::string&gt; <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a9b7ead8085f0954cf3ae76436b77df37">Intl::BuildLocaleSet</a>(</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>    <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; icu_available_locales, <span class="keyword">const</span> <span class="keywordtype">char</span>* path,</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* validate_key) {</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>  std::set&lt;std::string&gt; locales;</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> std::string&amp; locale : icu_available_locales) {</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>    <span class="keywordflow">if</span> (path != <span class="keyword">nullptr</span> || validate_key != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>      <span class="keywordflow">if</span> (!ValidateResource(icu::Locale(locale.c_str()), path, validate_key)) {</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>        <span class="comment">// FIXME(chromium:1215606) Find a beter fix for nb-&gt;no fallback</span></div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>        <span class="keywordflow">if</span> (locale != <span class="stringliteral">&quot;nb&quot;</span>) {</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>        }</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>        <span class="comment">// Try no for nb</span></div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>        <span class="keywordflow">if</span> (!ValidateResource(icu::Locale(<span class="stringliteral">&quot;no&quot;</span>), path, validate_key)) {</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>        }</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>      }</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>    }</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>    locales.insert(locale);</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>    std::string shortened_locale;</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>    <span class="keywordflow">if</span> (RemoveLocaleScriptTag(locale, &amp;shortened_locale)) {</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>      std::replace(shortened_locale.begin(), shortened_locale.end(), <span class="charliteral">&#39;_&#39;</span>, <span class="charliteral">&#39;-&#39;</span>);</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>      locales.insert(shortened_locale);</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>    }</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>  }</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>  <span class="keywordflow">return</span> locales;</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>}</div>
</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span> </div>
<div class="foldopen" id="foldopen00631" data-start="{" data-end="}">
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#ab8ac80a3c3afe22c8e3cfd6f9beb33be">  631</a></span>Maybe&lt;std::string&gt; <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#ab8ac80a3c3afe22c8e3cfd6f9beb33be">Intl::ToLanguageTag</a>(<span class="keyword">const</span> icu::Locale&amp; locale) {</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>  std::string res = locale.toLanguageTag&lt;std::string&gt;(<a class="code hl_variable" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a>);</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>  <span class="keywordflow">if</span> (U_FAILURE(status)) {</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>    <span class="keywordflow">return</span> Nothing&lt;std::string&gt;();</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>  }</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>  <span class="keywordflow">return</span> Just(res);</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>}</div>
</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span> </div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span><span class="comment">// See ecma402/#legacy-constructor.</span></div>
<div class="foldopen" id="foldopen00642" data-start="{" data-end="}">
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a35f41c8231f03ef7b219e38ea9f25857">  642</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;Object&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a35f41c8231f03ef7b219e38ea9f25857">Intl::LegacyUnwrapReceiver</a>(</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;JSReceiver&gt;</a> <a class="code hl_variable" href="js-call-reducer_8cc.html#a8aab47cc18f1dda0f6b8034f5c64d43d">receiver</a>,</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> constructor, <span class="keywordtype">bool</span> has_initialized_slot) {</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> obj_ordinary_has_instance;</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>  <a class="code hl_define" href="execution_2isolate_8h.html#a45bb81ab232e9f2663545ec92dc0b950">ASSIGN_RETURN_ON_EXCEPTION</a>(</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>      isolate, obj_ordinary_has_instance,</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>      <a class="code hl_function" href="classv8_1_1internal_1_1Object.html#a571dce80e712629db56d149411023702">Object::OrdinaryHasInstance</a>(isolate, constructor, <a class="code hl_variable" href="js-call-reducer_8cc.html#a8aab47cc18f1dda0f6b8034f5c64d43d">receiver</a>));</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>  <span class="keywordtype">bool</span> ordinary_has_instance =</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>      <a class="code hl_function" href="classv8_1_1internal_1_1Object.html#a5cac49538cd5c519bab4d32d0d3c5ed9">Object::BooleanValue</a>(*obj_ordinary_has_instance, isolate);</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span> </div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>  <span class="comment">// 2. If receiver does not have an [[Initialized...]] internal slot</span></div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>  <span class="comment">//    and ? OrdinaryHasInstance(constructor, receiver) is true, then</span></div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>  <span class="keywordflow">if</span> (!has_initialized_slot &amp;&amp; ordinary_has_instance) {</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>    <span class="comment">// 2. a. Let new_receiver be ? Get(receiver, %Intl%.[[FallbackSymbol]]).</span></div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> new_receiver;</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a45bb81ab232e9f2663545ec92dc0b950">ASSIGN_RETURN_ON_EXCEPTION</a>(</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>        isolate, new_receiver,</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>        <a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#aba4a2cfb4946da1635ae2730b710ff00">JSReceiver::GetProperty</a>(isolate, <a class="code hl_variable" href="js-call-reducer_8cc.html#a8aab47cc18f1dda0f6b8034f5c64d43d">receiver</a>,</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>                                isolate-&gt;factory()-&gt;intl_fallback_symbol()));</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>    <span class="keywordflow">return</span> new_receiver;</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>  }</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span> </div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="js-call-reducer_8cc.html#a8aab47cc18f1dda0f6b8034f5c64d43d">receiver</a>;</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>}</div>
</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span> </div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span> </div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span><span class="keywordtype">bool</span> IsTwoLetterLanguage(<span class="keyword">const</span> std::string&amp; locale) {</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>  <span class="comment">// Two letters, both in range &#39;a&#39;-&#39;z&#39;...</span></div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>  <span class="keywordflow">return</span> locale.length() == 2 &amp;&amp; <a class="code hl_function" href="namespacev8_1_1internal.html#a4c8cc72fb315e4b7ce9f492c1a23bda8">IsAsciiLower</a>(locale[0]) &amp;&amp;</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>         <a class="code hl_function" href="namespacev8_1_1internal.html#a4c8cc72fb315e4b7ce9f492c1a23bda8">IsAsciiLower</a>(locale[1]);</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>}</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span> </div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span><span class="keywordtype">bool</span> IsDeprecatedOrLegacyLanguage(<span class="keyword">const</span> std::string&amp; locale) {</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>  <span class="comment">//  Check if locale is one of the deprecated language tags:</span></div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>  <span class="keywordflow">return</span> locale == <span class="stringliteral">&quot;in&quot;</span> || locale == <span class="stringliteral">&quot;iw&quot;</span> || locale == <span class="stringliteral">&quot;ji&quot;</span> || locale == <span class="stringliteral">&quot;jw&quot;</span> ||</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>         locale == <span class="stringliteral">&quot;mo&quot;</span> ||</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>         <span class="comment">//  Check if locale is one of the legacy language tags:</span></div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>         locale == <span class="stringliteral">&quot;sh&quot;</span> || locale == <span class="stringliteral">&quot;tl&quot;</span> || locale == <span class="stringliteral">&quot;no&quot;</span>;</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>}</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span> </div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span><span class="keywordtype">bool</span> IsStructurallyValidLanguageTag(<span class="keyword">const</span> std::string&amp; tag) {</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1JSLocale.html#a2f245d411f8d13980ef1a165c3d33aee">JSLocale::StartsWithUnicodeLanguageId</a>(tag);</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>}</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span> </div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span><span class="comment">// Canonicalize the locale.</span></div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span><span class="comment">// https://tc39.github.io/ecma402/#sec-canonicalizelanguagetag,</span></div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span><span class="comment">// including type check and structural validity check.</span></div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>Maybe&lt;std::string&gt; CanonicalizeLanguageTag(Isolate* isolate,</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>                                           <span class="keyword">const</span> std::string&amp; locale_in) {</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>  std::string locale = locale_in;</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span> </div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>  <span class="keywordflow">if</span> (locale.empty() ||</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>      !<a class="code hl_function" href="classv8_1_1internal_1_1String.html#a33a79c203e5bad51a55406ad58e412e0">String::IsAscii</a>(locale.data(), <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(locale.length()))) {</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a06699c63279f3987fe082aeaaab74b7e">THROW_NEW_ERROR_RETURN_VALUE</a>(</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>        isolate,</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>        NewRangeError(</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>            MessageTemplate::kInvalidLanguageTag,</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>            isolate-&gt;factory()-&gt;NewStringFromAsciiChecked(locale.c_str())),</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>        Nothing&lt;std::string&gt;());</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>  }</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span> </div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>  <span class="comment">// Optimize for the most common case: a 2-letter language code in the</span></div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>  <span class="comment">// canonical form/lowercase that is not one of the deprecated codes</span></div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>  <span class="comment">// (in, iw, ji, jw). Don&#39;t check for ~70 of 3-letter deprecated language</span></div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>  <span class="comment">// codes. Instead, let them be handled by ICU in the slow path. However,</span></div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>  <span class="comment">// fast-track &#39;fil&#39; (3-letter canonical code).</span></div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>  <span class="keywordflow">if</span> ((IsTwoLetterLanguage(locale) &amp;&amp; !IsDeprecatedOrLegacyLanguage(locale)) ||</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>      locale == <span class="stringliteral">&quot;fil&quot;</span>) {</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>    <span class="keywordflow">return</span> Just(locale);</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>  }</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span> </div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>  <span class="comment">// Because per BCP 47 2.1.1 language tags are case-insensitive, lowercase</span></div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>  <span class="comment">// the input before any more check.</span></div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>  std::transform(locale.begin(), locale.end(), locale.begin(), <a class="code hl_function" href="namespacev8_1_1internal.html#afd84e2488c402eb6f315b1a94de8dea9">ToAsciiLower</a>);</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span> </div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>  <span class="comment">// // ECMA 402 6.2.3</span></div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>  <span class="comment">// TODO(jshin): uloc_{for,to}TanguageTag can fail even for a structually valid</span></div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>  <span class="comment">// language tag if it&#39;s too long (much longer than 100 chars). Even if we</span></div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>  <span class="comment">// allocate a longer buffer, ICU will still fail if it&#39;s too long. Either</span></div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>  <span class="comment">// propose to Ecma 402 to put a limit on the locale length or change ICU to</span></div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>  <span class="comment">// handle long locale names better. See</span></div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>  <span class="comment">// https://unicode-org.atlassian.net/browse/ICU-13417</span></div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>  UErrorCode error = U_ZERO_ERROR;</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>  <span class="comment">// uloc_forLanguageTag checks the structrual validity. If the input BCP47</span></div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>  <span class="comment">// language tag is parsed all the way to the end, it indicates that the input</span></div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>  <span class="comment">// is structurally valid. Due to a couple of bugs, we can&#39;t use it</span></div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>  <span class="comment">// without Chromium patches or ICU 62 or earlier.</span></div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>  icu::Locale icu_locale = icu::Locale::forLanguageTag(locale.c_str(), error);</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span> </div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>  <span class="keywordflow">if</span> (U_FAILURE(error) || icu_locale.isBogus()) {</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a06699c63279f3987fe082aeaaab74b7e">THROW_NEW_ERROR_RETURN_VALUE</a>(</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>        isolate,</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>        NewRangeError(</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>            MessageTemplate::kInvalidLanguageTag,</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>            isolate-&gt;factory()-&gt;NewStringFromAsciiChecked(locale.c_str())),</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>        Nothing&lt;std::string&gt;());</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>  }</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span> </div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>  <span class="comment">// Use LocaleBuilder to validate locale.</span></div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>  icu_locale = icu::LocaleBuilder().setLocale(icu_locale).build(error);</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>  icu_locale.canonicalize(error);</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>  <span class="keywordflow">if</span> (U_FAILURE(error) || icu_locale.isBogus()) {</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a06699c63279f3987fe082aeaaab74b7e">THROW_NEW_ERROR_RETURN_VALUE</a>(</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>        isolate,</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>        NewRangeError(</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>            MessageTemplate::kInvalidLanguageTag,</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>            isolate-&gt;factory()-&gt;NewStringFromAsciiChecked(locale.c_str())),</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>        Nothing&lt;std::string&gt;());</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>  }</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>  Maybe&lt;std::string&gt; maybe_to_language_tag = <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#ab8ac80a3c3afe22c8e3cfd6f9beb33be">Intl::ToLanguageTag</a>(icu_locale);</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>  <span class="keywordflow">if</span> (maybe_to_language_tag.IsNothing()) {</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a06699c63279f3987fe082aeaaab74b7e">THROW_NEW_ERROR_RETURN_VALUE</a>(</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>        isolate,</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>        NewRangeError(</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>            MessageTemplate::kInvalidLanguageTag,</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>            isolate-&gt;factory()-&gt;NewStringFromAsciiChecked(locale.c_str())),</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>        Nothing&lt;std::string&gt;());</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>  }</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span> </div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>  <span class="keywordflow">return</span> maybe_to_language_tag;</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>}</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span> </div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>Maybe&lt;std::string&gt; CanonicalizeLanguageTag(Isolate* isolate,</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>                                           DirectHandle&lt;Object&gt; locale_in) {</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>  DirectHandle&lt;String&gt; locale_str;</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>  <span class="comment">// This does part of the validity checking spec&#39;ed in CanonicalizeLocaleList:</span></div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>  <span class="comment">// 7c ii. If Type(kValue) is not String or Object, throw a TypeError</span></div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>  <span class="comment">// exception.</span></div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>  <span class="comment">// 7c iii. Let tag be ? ToString(kValue).</span></div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>  <span class="comment">// 7c iv. If IsStructurallyValidLanguageTag(tag) is false, throw a</span></div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>  <span class="comment">// RangeError exception.</span></div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span> </div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>  <span class="keywordflow">if</span> (IsString(*locale_in)) {</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>    locale_str = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;String&gt;</a>(locale_in);</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsJSReceiver(*locale_in)) {</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a6a0c40de52f9f029945027e5834661ad">ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(isolate, locale_str,</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>                                     <a class="code hl_function" href="classv8_1_1internal_1_1Object.html#a24c860a62ca3b03ee46753897d04a1ec">Object::ToString</a>(isolate, locale_in),</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>                                     Nothing&lt;std::string&gt;());</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a06699c63279f3987fe082aeaaab74b7e">THROW_NEW_ERROR_RETURN_VALUE</a>(isolate,</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>                                 NewTypeError(MessageTemplate::kLanguageID),</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>                                 Nothing&lt;std::string&gt;());</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>  }</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>  std::string locale(locale_str-&gt;ToCString().get());</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span> </div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>  <span class="keywordflow">if</span> (!IsStructurallyValidLanguageTag(locale)) {</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a06699c63279f3987fe082aeaaab74b7e">THROW_NEW_ERROR_RETURN_VALUE</a>(</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>        isolate, NewRangeError(MessageTemplate::kLocaleBadParameters),</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>        Nothing&lt;std::string&gt;());</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>  }</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>  <span class="keywordflow">return</span> CanonicalizeLanguageTag(isolate, locale);</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>}</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span> </div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>}  <span class="comment">// anonymous namespace</span></div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span> </div>
<div class="foldopen" id="foldopen00798" data-start="{" data-end="}">
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a48ffe5df7fd26755481624ec3fbc2bd8">  798</a></span>Maybe&lt;std::vector&lt;std::string&gt;&gt; <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a48ffe5df7fd26755481624ec3fbc2bd8">Intl::CanonicalizeLocaleList</a>(</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> locales,</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>    <span class="keywordtype">bool</span> only_return_one_result) {</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>  <span class="comment">// 1. If locales is undefined, then</span></div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>  <span class="keywordflow">if</span> (IsUndefined(*locales, isolate)) {</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>    <span class="comment">// 1a. Return a new empty List.</span></div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>    <span class="keywordflow">return</span> Just(std::vector&lt;std::string&gt;());</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>  }</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>  <span class="comment">// 2. Let seen be a new empty List.</span></div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>  std::vector&lt;std::string&gt; seen;</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>  <span class="comment">// 3. If Type(locales) is String or locales has an [[InitializedLocale]]</span></div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>  <span class="comment">// internal slot,  then</span></div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>  <span class="keywordflow">if</span> (IsJSLocale(*locales)) {</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>    <span class="comment">// Since this value came from JSLocale, which is already went though the</span></div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>    <span class="comment">// CanonializeLanguageTag process once, therefore there are no need to</span></div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>    <span class="comment">// call CanonializeLanguageTag again.</span></div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>    seen.push_back(<a class="code hl_function" href="classv8_1_1internal_1_1JSLocale.html#a246c2d069eed60302294a1a4f746ab09">JSLocale::ToString</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;JSLocale&gt;</a>(locales)));</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>    <span class="keywordflow">return</span> Just(seen);</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>  }</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>  <span class="keywordflow">if</span> (IsString(*locales)) {</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>    <span class="comment">// 3a. Let O be CreateArrayFromList(Â« locales Â»).</span></div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>    <span class="comment">// Instead of creating a one-element array and then iterating over it,</span></div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>    <span class="comment">// we inline the body of the iteration:</span></div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>    std::string canonicalized_tag;</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>    <span class="keywordflow">if</span> (!CanonicalizeLanguageTag(isolate, locales).To(&amp;canonicalized_tag)) {</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>      <span class="keywordflow">return</span> Nothing&lt;std::vector&lt;std::string&gt;&gt;();</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>    }</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>    seen.push_back(canonicalized_tag);</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>    <span class="keywordflow">return</span> Just(seen);</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>  }</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>  <span class="comment">// 4. Else,</span></div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>  <span class="comment">// 4a. Let O be ? ToObject(locales).</span></div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSReceiver&gt;</a> o;</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>  <a class="code hl_define" href="execution_2isolate_8h.html#a6a0c40de52f9f029945027e5834661ad">ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(isolate, o,</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>                                   <a class="code hl_function" href="classv8_1_1internal_1_1Object.html#a67829f0b3b20513ae40538f3449a0765">Object::ToObject</a>(isolate, locales),</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>                                   Nothing&lt;std::vector&lt;std::string&gt;&gt;());</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>  <span class="comment">// 5. Let len be ? ToLength(? Get(O, &quot;length&quot;)).</span></div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> length_obj;</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>  <a class="code hl_define" href="execution_2isolate_8h.html#a6a0c40de52f9f029945027e5834661ad">ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(isolate, length_obj,</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>                                   <a class="code hl_function" href="classv8_1_1internal_1_1Object.html#adc0be1139bee49c64f3ebe4aa92889de">Object::GetLengthFromArrayLike</a>(isolate, o),</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>                                   Nothing&lt;std::vector&lt;std::string&gt;&gt;());</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>  <span class="comment">// TODO(jkummerow): Spec violation: strictly speaking, we have to iterate</span></div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>  <span class="comment">// up to 2^53-1 if {length_obj} says so. Since cases above 2^32 probably</span></div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>  <span class="comment">// don&#39;t happen in practice (and would be very slow if they do), we&#39;ll keep</span></div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>  <span class="comment">// the code simple for now by using a saturating to-uint32 conversion.</span></div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>  <span class="keywordtype">double</span> raw_length = <a class="code hl_function" href="classv8_1_1internal_1_1Object.html#a8a6c6d9b71bb8f6bd6004b8f6f48c9f7">Object::NumberValue</a>(*length_obj);</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>  uint32_t len =</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>      raw_length &gt;= <a class="code hl_variable" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">kMaxUInt32</a> ? <a class="code hl_variable" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">kMaxUInt32</a> : <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(raw_length);</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>  <span class="comment">// 6. Let k be 0.</span></div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>  <span class="comment">// 7. Repeat, while k &lt; len</span></div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>  <span class="keywordflow">for</span> (uint32_t k = 0; k &lt; len; k++) {</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>    <span class="comment">// 7a. Let Pk be ToString(k).</span></div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>    <span class="comment">// 7b. Let kPresent be ? HasProperty(O, Pk).</span></div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>    <a class="code hl_class" href="classv8_1_1internal_1_1LookupIterator.html">LookupIterator</a> it(isolate, o, k);</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>    Maybe&lt;bool&gt; maybe_found = <a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#ad0df2ef8ddcadcd2c2d7d96b19b7c3d3">JSReceiver::HasProperty</a>(&amp;it);</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>    <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_found, Nothing&lt;std::vector&lt;std::string&gt;&gt;());</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>    <span class="comment">// 7c. If kPresent is true, then</span></div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>    <span class="keywordflow">if</span> (!maybe_found.FromJust()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>    <span class="comment">// 7c i. Let kValue be ? Get(O, Pk).</span></div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> k_value;</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a6a0c40de52f9f029945027e5834661ad">ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(isolate, k_value, <a class="code hl_function" href="classv8_1_1internal_1_1Object.html#ad7dc2b339d7369929cc389421d491575">Object::GetProperty</a>(&amp;it),</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>                                     Nothing&lt;std::vector&lt;std::string&gt;&gt;());</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>    <span class="comment">// 7c ii. If Type(kValue) is not String or Object, throw a TypeError</span></div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>    <span class="comment">// exception.</span></div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>    <span class="comment">// 7c iii. If Type(kValue) is Object and kValue has an [[InitializedLocale]]</span></div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>    <span class="comment">// internal slot, then</span></div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>    std::string canonicalized_tag;</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>    <span class="keywordflow">if</span> (IsJSLocale(*k_value)) {</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>      <span class="comment">// 7c iii. 1. Let tag be kValue.[[Locale]].</span></div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>      canonicalized_tag = <a class="code hl_function" href="classv8_1_1internal_1_1JSLocale.html#a246c2d069eed60302294a1a4f746ab09">JSLocale::ToString</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;JSLocale&gt;</a>(k_value));</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>      <span class="comment">// 7c iv. Else,</span></div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>      <span class="comment">// 7c iv 1. Let tag be ? ToString(kValue).</span></div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>      <span class="comment">// 7c v. If IsStructurallyValidLanguageTag(tag) is false, throw a</span></div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>      <span class="comment">// RangeError exception.</span></div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>      <span class="comment">// 7c vi. Let canonicalizedTag be CanonicalizeLanguageTag(tag).</span></div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>      <span class="keywordflow">if</span> (!CanonicalizeLanguageTag(isolate, k_value).To(&amp;canonicalized_tag)) {</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>        <span class="keywordflow">return</span> Nothing&lt;std::vector&lt;std::string&gt;&gt;();</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>      }</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>    }</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>    <span class="comment">// 7c vi. If canonicalizedTag is not an element of seen, append</span></div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>    <span class="comment">// canonicalizedTag as the last element of seen.</span></div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>    <span class="keywordflow">if</span> (std::find(seen.begin(), seen.end(), canonicalized_tag) == seen.end()) {</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>      seen.push_back(canonicalized_tag);</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>    }</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>    <span class="comment">// 7d. Increase k by 1. (See loop header.)</span></div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>    <span class="comment">// Optimization: some callers only need one result.</span></div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>    <span class="keywordflow">if</span> (only_return_one_result) <span class="keywordflow">return</span> Just(seen);</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>  }</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>  <span class="comment">// 8. Return seen.</span></div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>  <span class="keywordflow">return</span> Just(seen);</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>}</div>
</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span> </div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span><span class="comment">// ecma402 #sup-string.prototype.tolocalelowercase</span></div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span><span class="comment">// ecma402 #sup-string.prototype.tolocaleuppercase</span></div>
<div class="foldopen" id="foldopen00893" data-start="{" data-end="}">
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#adcba8b99a0f15de3fffc2777c8a8d918">  893</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;String&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#adcba8b99a0f15de3fffc2777c8a8d918">Intl::StringLocaleConvertCase</a>(</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> s, <span class="keywordtype">bool</span> to_upper,</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> locales) {</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>  std::vector&lt;std::string&gt; requested_locales;</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a48ffe5df7fd26755481624ec3fbc2bd8">CanonicalizeLocaleList</a>(isolate, locales, <span class="keyword">true</span>).To(&amp;requested_locales))</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>    <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>  std::string requested_locale = requested_locales.empty()</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>                                     ? isolate-&gt;DefaultLocale()</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>                                     : requested_locales[0];</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>  <span class="keywordtype">size_t</span> dash = requested_locale.find(<span class="charliteral">&#39;-&#39;</span>);</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>  <span class="keywordflow">if</span> (dash != std::string::npos) {</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>    requested_locale = requested_locale.substr(0, dash);</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>  }</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span> </div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>  <span class="comment">// Primary language tag can be up to 8 characters long in theory.</span></div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>  <span class="comment">// https://tools.ietf.org/html/bcp47#section-2.2.1</span></div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>  <a class="code hl_define" href="logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(requested_locale.length(), 8);</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>  s = <a class="code hl_function" href="classv8_1_1internal_1_1String.html#a21049fc49218b6cf593fc03fabf42656">String::Flatten</a>(isolate, s);</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span> </div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>  <span class="comment">// All the languages requiring special-handling have two-letter codes.</span></div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>  <span class="comment">// Note that we have to check for &#39;!= 2&#39; here because private-use language</span></div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>  <span class="comment">// tags (x-foo) or grandfathered irregular tags (e.g. i-enochian) would have</span></div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>  <span class="comment">// only &#39;x&#39; or &#39;i&#39; when they get here.</span></div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>  <span class="keywordflow">if</span> (V8_UNLIKELY(requested_locale.length() != 2)) {</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>    <span class="keywordflow">if</span> (to_upper) {</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a6e55fe101e7dcd1cdf3b7ccc3d757899">ConvertToUpper</a>(isolate, s);</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>    }</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a3a711510c92a944d7b58df0c8268ee33">ConvertToLower</a>(isolate, s);</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>  }</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>  <span class="comment">// TODO(jshin): Consider adding a fast path for ASCII or Latin-1. The fastpath</span></div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>  <span class="comment">// in the root locale needs to be adjusted for az, lt and tr because even case</span></div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>  <span class="comment">// mapping of ASCII range characters are different in those locales.</span></div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>  <span class="comment">// Greek (el) does not require any adjustment.</span></div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>  <span class="keywordflow">if</span> (V8_UNLIKELY((requested_locale == <span class="stringliteral">&quot;tr&quot;</span>) || (requested_locale == <span class="stringliteral">&quot;el&quot;</span>) ||</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>                  (requested_locale == <span class="stringliteral">&quot;lt&quot;</span>) || (requested_locale == <span class="stringliteral">&quot;az&quot;</span>))) {</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>    <span class="keywordflow">return</span> LocaleConvertCase(isolate, s, to_upper, requested_locale.c_str());</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>    <span class="keywordflow">if</span> (to_upper) {</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a6e55fe101e7dcd1cdf3b7ccc3d757899">ConvertToUpper</a>(isolate, s);</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>    }</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a3a711510c92a944d7b58df0c8268ee33">ConvertToLower</a>(isolate, s);</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>  }</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>}</div>
</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span> </div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span><span class="comment">// static</span></div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span><span class="keyword">template</span> &lt;<span class="keyword">class</span> IsolateT&gt;</div>
<div class="foldopen" id="foldopen00939" data-start="{" data-end="}">
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a56b98d86cf46964d5449dd9ab04929ec">  939</a></span><a class="code hl_enumeration" href="classv8_1_1internal_1_1Intl.html#abe48ef11f33ba3c7b76e3310f147dc0f">Intl::CompareStringsOptions</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a93b80f7b193cb2f57700be41e844cef6">Intl::CompareStringsOptionsFor</a>(</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>    IsolateT* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> locales,</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>) {</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>  <span class="keywordflow">if</span> (!IsUndefined(*<a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, isolate)) {</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#abe48ef11f33ba3c7b76e3310f147dc0fa35c3ace1970663a16e5c65baa5941b13">CompareStringsOptions::kNone</a>;</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>  }</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span> </div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>  <span class="comment">// Lists all of the available locales that are statically known to fulfill</span></div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>  <span class="comment">// fast path conditions. See the StringLocaleCompareFastPath test as a</span></div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>  <span class="comment">// starting point to update this list.</span></div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>  <span class="comment">// Locale entries are roughly sorted s.t. common locales come first.</span></div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>  <span class="comment">// The actual conditions are verified in debug builds in</span></div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>  <span class="comment">// CollatorAllowsFastComparison.</span></div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> kFastLocales[] = {</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>      <span class="stringliteral">&quot;en-US&quot;</span>, <span class="stringliteral">&quot;en&quot;</span>, <span class="stringliteral">&quot;fr&quot;</span>, <span class="stringliteral">&quot;es&quot;</span>,    <span class="stringliteral">&quot;de&quot;</span>,    <span class="stringliteral">&quot;pt&quot;</span>,    <span class="stringliteral">&quot;it&quot;</span>, <span class="stringliteral">&quot;ca&quot;</span>,</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>      <span class="stringliteral">&quot;de-AT&quot;</span>, <span class="stringliteral">&quot;fi&quot;</span>, <span class="stringliteral">&quot;id&quot;</span>, <span class="stringliteral">&quot;id-ID&quot;</span>, <span class="stringliteral">&quot;ms&quot;</span>,    <span class="stringliteral">&quot;nl&quot;</span>,    <span class="stringliteral">&quot;pl&quot;</span>, <span class="stringliteral">&quot;ro&quot;</span>,</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>      <span class="stringliteral">&quot;sl&quot;</span>,    <span class="stringliteral">&quot;sv&quot;</span>, <span class="stringliteral">&quot;sw&quot;</span>, <span class="stringliteral">&quot;vi&quot;</span>,    <span class="stringliteral">&quot;en-DE&quot;</span>, <span class="stringliteral">&quot;en-GB&quot;</span>,</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>  };</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span> </div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>  <span class="keywordflow">if</span> (IsUndefined(*locales, isolate)) {</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>    <span class="keyword">const</span> std::string&amp; default_locale = isolate-&gt;DefaultLocale();</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keywordtype">char</span>* fast_locale : kFastLocales) {</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>      <span class="keywordflow">if</span> (strcmp(fast_locale, default_locale.c_str()) == 0) {</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#abe48ef11f33ba3c7b76e3310f147dc0fa8bf126aed9f95f483bb9a2e1848c6954">CompareStringsOptions::kTryFastPath</a>;</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>      }</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>    }</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span> </div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#abe48ef11f33ba3c7b76e3310f147dc0fa35c3ace1970663a16e5c65baa5941b13">CompareStringsOptions::kNone</a>;</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>  }</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span> </div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>  <span class="keywordflow">if</span> (!IsString(*locales)) <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#abe48ef11f33ba3c7b76e3310f147dc0fa35c3ace1970663a16e5c65baa5941b13">CompareStringsOptions::kNone</a>;</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span> </div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>  <span class="keyword">auto</span> locales_string = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;String&gt;</a>(locales);</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keywordtype">char</span>* fast_locale : kFastLocales) {</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>    <span class="keywordflow">if</span> (locales_string-&gt;IsEqualTo(<a class="code hl_function" href="namespacev8_1_1base.html#ab7bb05a38073e903d44170c3fed70276">base::CStrVector</a>(fast_locale), isolate)) {</div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>      <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#abe48ef11f33ba3c7b76e3310f147dc0fa8bf126aed9f95f483bb9a2e1848c6954">CompareStringsOptions::kTryFastPath</a>;</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>    }</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>  }</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span> </div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#abe48ef11f33ba3c7b76e3310f147dc0fa35c3ace1970663a16e5c65baa5941b13">CompareStringsOptions::kNone</a>;</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>}</div>
</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span> </div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span><span class="comment">// Instantiations.</span></div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span><span class="keyword">template</span> <a class="code hl_enumeration" href="classv8_1_1internal_1_1Intl.html#abe48ef11f33ba3c7b76e3310f147dc0f">Intl::CompareStringsOptions</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a93b80f7b193cb2f57700be41e844cef6">Intl::CompareStringsOptionsFor</a>(</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>*, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a>, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a>);</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span><span class="keyword">template</span> <a class="code hl_enumeration" href="classv8_1_1internal_1_1Intl.html#abe48ef11f33ba3c7b76e3310f147dc0f">Intl::CompareStringsOptions</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a93b80f7b193cb2f57700be41e844cef6">Intl::CompareStringsOptionsFor</a>(</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>    <a class="code hl_class" href="classv8_1_1internal_1_1LocalIsolate.html">LocalIsolate</a>*, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a>, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a>);</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span> </div>
<div class="foldopen" id="foldopen00989" data-start="{" data-end="}">
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a816b90b832412424b5853827a263b25f">  989</a></span>std::optional&lt;int&gt; <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a816b90b832412424b5853827a263b25f">Intl::StringLocaleCompare</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>                                             <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> string1,</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>                                             <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> string2,</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>                                             <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> locales,</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>                                             <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>,</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>                                             <span class="keyword">const</span> <span class="keywordtype">char</span>* method_name) {</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>  <span class="comment">// We only cache the instance when locales is a string/undefined and</span></div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>  <span class="comment">// options is undefined, as that is the only case when the specified</span></div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>  <span class="comment">// side-effects of examining those arguments are unobservable.</span></div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> can_cache =</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>      (IsString(*locales) || IsUndefined(*locales, isolate)) &amp;&amp;</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>      IsUndefined(*<a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, isolate);</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>  <span class="comment">// We may be able to take the fast path, depending on the `locales` and</span></div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>  <span class="comment">// `options` arguments.</span></div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>  <span class="keyword">const</span> <a class="code hl_enumeration" href="classv8_1_1internal_1_1Intl.html#abe48ef11f33ba3c7b76e3310f147dc0f">CompareStringsOptions</a> compare_strings_options =</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>      <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a93b80f7b193cb2f57700be41e844cef6">CompareStringsOptionsFor</a>(isolate, locales, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>);</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>  <span class="keywordflow">if</span> (can_cache) {</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>    <span class="comment">// Both locales and options are undefined, check the cache.</span></div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>    icu::Collator* cached_icu_collator =</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>        <span class="keyword">static_cast&lt;</span>icu::Collator*<span class="keyword">&gt;</span>(isolate-&gt;get_cached_icu_object(</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>            Isolate::ICUObjectCacheType::kDefaultCollator, locales));</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>    <span class="comment">// We may use the cached icu::Collator for a fast path.</span></div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>    <span class="keywordflow">if</span> (cached_icu_collator != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a2d6c5d4921c2e3c33090ee28a942efb0">Intl::CompareStrings</a>(isolate, *cached_icu_collator, string1,</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>                                  string2, compare_strings_options);</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>    }</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>  }</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span> </div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> constructor(</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;JSFunction&gt;</a>(</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>          isolate-&gt;context()-&gt;native_context()-&gt;intl_collator_function()),</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>      isolate);</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span> </div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSCollator&gt;</a> collator;</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>  <a class="code hl_class" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;JSCollator&gt;</a> maybe_collator =</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>      New&lt;JSCollator&gt;(isolate, constructor, locales, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, method_name);</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>  <span class="keywordflow">if</span> (!maybe_collator.<a class="code hl_function" href="classv8_1_1internal_1_1MaybeDirectHandle.html#a76857e813e1bdb19bbb3cbbfad729f1c">ToHandle</a>(&amp;collator)) <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>  <span class="keywordflow">if</span> (can_cache) {</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>    isolate-&gt;set_icu_object_in_cache(</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>        Isolate::ICUObjectCacheType::kDefaultCollator, locales,</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>        std::static_pointer_cast&lt;icu::UMemory&gt;(</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>            collator-&gt;icu_collator()-&gt;get()));</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>  }</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>  icu::Collator* icu_collator = collator-&gt;icu_collator()-&gt;raw();</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a2d6c5d4921c2e3c33090ee28a942efb0">Intl::CompareStrings</a>(isolate, *icu_collator, string1, string2,</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>                              compare_strings_options);</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>}</div>
</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span> </div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span> </div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span><span class="comment">// Weights for the Unicode Collation Algorithm for charcodes [0x00,0x7F].</span></div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span><span class="comment">// https://unicode.org/reports/tr10/.</span></div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span><span class="comment">//</span></div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span><span class="comment">// Generated from:</span></div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span><span class="comment">//</span></div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span><span class="comment">// $ wget http://www.unicode.org/Public/UCA/latest/allkeys.txt</span></div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span><span class="comment">// $ cat ~/allkeys.txt | grep &#39;^00[0-7].  ;&#39; | sort | sed &#39;s/[*.]/ /g&#39; |\</span></div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span><span class="comment">//   sed &#39;s/.*\[ \&zwj;(.*\&zwj;)\].*/\1/&#39; | python ~/gen_weights.py</span></div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span><span class="comment">//</span></div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span><span class="comment">// Where gen_weights.py does an ordinal rank s.t. weights fit in a uint8_t:</span></div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span><span class="comment">//</span></div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span><span class="comment">//   import sys</span></div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span><span class="comment">//</span></div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span><span class="comment">//   def to_ordinal(ws):</span></div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span><span class="comment">//       weight_map = {}</span></div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span><span class="comment">//       weights_uniq_sorted = sorted(set(ws))</span></div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span><span class="comment">//       for i in range(0, len(weights_uniq_sorted)):</span></div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span><span class="comment">//           weight_map[weights_uniq_sorted[i]] = i</span></div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span><span class="comment">//       return [weight_map[x] for x in ws]</span></div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span><span class="comment">//</span></div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span><span class="comment">//   def print_weight_list(array_name, ws):</span></div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span><span class="comment">//       print(&quot;constexpr uint8_t %s[256] = {&quot; % array_name, end = &quot;&quot;)</span></div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span><span class="comment">//       i = 0</span></div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span><span class="comment">//       for w in ws:</span></div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span><span class="comment">//           if (i % 16) == 0:</span></div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span><span class="comment">//               print(&quot;\n  &quot;, end = &quot;&quot;)</span></div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span><span class="comment">//           print(&quot;%3d,&quot; % w, end = &quot;&quot;)</span></div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span><span class="comment">//           i += 1</span></div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span><span class="comment">//       print(&quot;\n};\n&quot;)</span></div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span><span class="comment">//</span></div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span><span class="comment">//   if __name__ == &quot;__main__&quot;:</span></div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span><span class="comment">//       l1s = []</span></div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span><span class="comment">//       l3s = []</span></div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span><span class="comment">//       for line in sys.stdin:</span></div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span><span class="comment">//           weights = line.split()</span></div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span><span class="comment">//           l1s.append(int(weights[0], 16))</span></div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span><span class="comment">//           l3s.append(int(weights[2], 16))</span></div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span><span class="comment">//       print_weight_list(&quot;kCollationWeightsL1&quot;, to_ordinal(l1s))</span></div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span><span class="comment">//       print_weight_list(&quot;kCollationWeightsL3&quot;, to_ordinal(l3s))</span></div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span> </div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span><span class="comment">// clang-format off</span></div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span><span class="keyword">constexpr</span> uint8_t kCollationWeightsL1[256] = {</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>    0,  0,  0,  0,  0,  0,  0,  0,  0,  1,  2,  3,  4,  5,  0,  0,</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span>    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,</div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>    6, 12, 16, 28, 38, 29, 27, 15, 17, 18, 24, 32,  9,  8, 14, 25,</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>   39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 11, 10, 33, 34, 35, 13,</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>   23, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63,</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>   64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 19, 26, 20, 31,  7,</div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>   30, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63,</div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>   64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 21, 36, 22, 37,  0,</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>};</div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span><span class="keyword">constexpr</span> uint8_t kCollationWeightsL3[256] = {</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>    0,  0,  0,  0,  0,  0,  0,  0,  0,  1,  1,  1,  1,  1,  0,  0,</div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>    1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>    1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>    1,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>    2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  1,  1,  1,  1,  1,</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>    1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>    1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  0,</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>};</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span><span class="keyword">constexpr</span> <span class="keywordtype">int</span> kCollationWeightsLength = <a class="code hl_define" href="macros_8h.html#ac55fdd6aa61539c49b1b1f5d38a0ed73">arraysize</a>(kCollationWeightsL1);</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span><span class="keyword">static_assert</span>(kCollationWeightsLength == <a class="code hl_define" href="macros_8h.html#ac55fdd6aa61539c49b1b1f5d38a0ed73">arraysize</a>(kCollationWeightsL3));</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span><span class="comment">// clang-format on</span></div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span> </div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span><span class="comment">// Normalize a comparison delta (usually `lhs - rhs`) to UCollationResult</span></div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span><span class="comment">// values.</span></div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span><span class="keyword">constexpr</span> UCollationResult ToUCollationResult(<span class="keywordtype">int</span> delta) {</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>  <span class="keywordflow">return</span> delta &lt; 0 ? UCollationResult::UCOL_LESS</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>                   : (delta &gt; 0 ? UCollationResult::UCOL_GREATER</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>                                : UCollationResult::UCOL_EQUAL);</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>}</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span> </div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span><span class="keyword">struct </span>FastCompareStringsData {</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"><a class="line" href="intl-objects_8cc.html#a2750cbfa342c12a8ab8ffc67a864c40f"> 1113</a></span>  UCollationResult <a class="code hl_variable" href="intl-objects_8cc.html#a2750cbfa342c12a8ab8ffc67a864c40f">l1_result</a> = UCollationResult::UCOL_EQUAL;</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"><a class="line" href="intl-objects_8cc.html#a5cf4634fb18e25d6737d80e58bdb3ca4"> 1114</a></span>  UCollationResult <a class="code hl_variable" href="intl-objects_8cc.html#a5cf4634fb18e25d6737d80e58bdb3ca4">l3_result</a> = UCollationResult::UCOL_EQUAL;</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"><a class="line" href="intl-objects_8cc.html#ae5f582fe095917cfa878905a676abe64"> 1115</a></span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="intl-objects_8cc.html#ae5f582fe095917cfa878905a676abe64">processed_until</a> = 0;</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"><a class="line" href="intl-objects_8cc.html#adde048a62ade8e0ad336b33befcdf7d1"> 1116</a></span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="intl-objects_8cc.html#adde048a62ade8e0ad336b33befcdf7d1">first_diff_at</a> = 0;  <span class="comment">// The first relevant diff (L1 if exists, else L3).</span></div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"><a class="line" href="intl-objects_8cc.html#a2fcd17beeadf766bfb980161b1706334"> 1117</a></span>  <span class="keywordtype">bool</span> <a class="code hl_variable" href="intl-objects_8cc.html#a2fcd17beeadf766bfb980161b1706334">has_diff</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span> </div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>  std::optional&lt;UCollationResult&gt; FastCompareFailed(</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>      <span class="keywordtype">int</span>* processed_until_out)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="intl-objects_8cc.html#a2fcd17beeadf766bfb980161b1706334">has_diff</a>) {</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>      <span class="comment">// Found some difference, continue there to ensure the generic algorithm</span></div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>      <span class="comment">// picks it up.</span></div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>      *processed_until_out = <a class="code hl_variable" href="intl-objects_8cc.html#adde048a62ade8e0ad336b33befcdf7d1">first_diff_at</a>;</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>      <span class="comment">// No difference found, reprocess the last processed character since it</span></div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>      <span class="comment">// may be followed by a unicode combining character (which alters it&#39;s</span></div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>      <span class="comment">// meaning).</span></div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>      *processed_until_out = std::max(<a class="code hl_variable" href="intl-objects_8cc.html#ae5f582fe095917cfa878905a676abe64">processed_until</a> - 1, 0);</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>    }</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>    <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>  }</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>};</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span> </div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span><span class="keyword">template</span> &lt;<span class="keyword">class</span> CharT&gt;</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span><span class="keyword">constexpr</span> <span class="keywordtype">bool</span> CanFastCompare(CharT c) {</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>  <span class="keywordflow">return</span> c &lt; kCollationWeightsLength &amp;&amp; kCollationWeightsL1[c] != 0;</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>}</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span> </div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span><span class="keyword">template</span> &lt;<span class="keyword">class</span> Char1T, <span class="keyword">class</span> Char2T&gt;</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span><span class="keywordtype">bool</span> FastCompareFlatString(<span class="keyword">const</span> Char1T* lhs, <span class="keyword">const</span> Char2T* rhs, <span class="keywordtype">int</span> length,</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>                           FastCompareStringsData* d) {</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code hl_variable" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>    <span class="keyword">const</span> Char1T l = lhs[<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>];</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>    <span class="keyword">const</span> Char2T <a class="code hl_variable" href="mul-fft_8cc.html#acab531abaa74a7e664e3986f2522b33a">r</a> = rhs[<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>];</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>    <span class="keywordflow">if</span> (!CanFastCompare(l) || !CanFastCompare(<a class="code hl_variable" href="mul-fft_8cc.html#acab531abaa74a7e664e3986f2522b33a">r</a>)) {</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>      d-&gt;processed_until = <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>;</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>    }</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>    UCollationResult <a class="code hl_variable" href="intl-objects_8cc.html#a2750cbfa342c12a8ab8ffc67a864c40f">l1_result</a> =</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>        ToUCollationResult(kCollationWeightsL1[l] - kCollationWeightsL1[<a class="code hl_variable" href="mul-fft_8cc.html#acab531abaa74a7e664e3986f2522b33a">r</a>]);</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="intl-objects_8cc.html#a2750cbfa342c12a8ab8ffc67a864c40f">l1_result</a> != UCollationResult::UCOL_EQUAL) {</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>      d-&gt;has_diff = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>      d-&gt;first_diff_at = <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>;</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>      d-&gt;processed_until = <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>;</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>      d-&gt;l1_result = <a class="code hl_variable" href="intl-objects_8cc.html#a2750cbfa342c12a8ab8ffc67a864c40f">l1_result</a>;</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>    }</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>    <span class="keywordflow">if</span> (l != <a class="code hl_variable" href="mul-fft_8cc.html#acab531abaa74a7e664e3986f2522b33a">r</a> &amp;&amp; d-&gt;l3_result == UCollationResult::UCOL_EQUAL) {</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>      <span class="comment">// Collapse the two-pass algorithm into one: if we find a difference in</span></div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>      <span class="comment">// L1 weights, that is our result. If not, use the first L3 weight</span></div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>      <span class="comment">// difference.</span></div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>      UCollationResult <a class="code hl_variable" href="intl-objects_8cc.html#a5cf4634fb18e25d6737d80e58bdb3ca4">l3_result</a> =</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>          ToUCollationResult(kCollationWeightsL3[l] - kCollationWeightsL3[<a class="code hl_variable" href="mul-fft_8cc.html#acab531abaa74a7e664e3986f2522b33a">r</a>]);</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>      d-&gt;l3_result = <a class="code hl_variable" href="intl-objects_8cc.html#a5cf4634fb18e25d6737d80e58bdb3ca4">l3_result</a>;</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>      <span class="keywordflow">if</span> (!d-&gt;has_diff) {</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>        d-&gt;has_diff = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>        d-&gt;first_diff_at = <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>;</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>      }</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>    }</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>  }</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>  d-&gt;processed_until = <a class="code hl_variable" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>}</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span> </div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span><span class="keywordtype">bool</span> FastCompareStringFlatContent(<span class="keyword">const</span> String::FlatContent&amp; lhs,</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>                                  <span class="keyword">const</span> String::FlatContent&amp; rhs, <span class="keywordtype">int</span> length,</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>                                  FastCompareStringsData* d) {</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>  <span class="keywordflow">if</span> (lhs.IsOneByte()) {</div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>    base::Vector&lt;const uint8_t&gt; l = lhs.ToOneByteVector();</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>    <span class="keywordflow">if</span> (rhs.IsOneByte()) {</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>      base::Vector&lt;const uint8_t&gt; <a class="code hl_variable" href="mul-fft_8cc.html#acab531abaa74a7e664e3986f2522b33a">r</a> = rhs.ToOneByteVector();</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>      <span class="keywordflow">return</span> FastCompareFlatString(l.data(), <a class="code hl_variable" href="mul-fft_8cc.html#acab531abaa74a7e664e3986f2522b33a">r</a>.data(), length, d);</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>      base::Vector&lt;const uint16_t&gt; <a class="code hl_variable" href="mul-fft_8cc.html#acab531abaa74a7e664e3986f2522b33a">r</a> = rhs.ToUC16Vector();</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>      <span class="keywordflow">return</span> FastCompareFlatString(l.data(), <a class="code hl_variable" href="mul-fft_8cc.html#acab531abaa74a7e664e3986f2522b33a">r</a>.data(), length, d);</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>    }</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>    base::Vector&lt;const uint16_t&gt; l = lhs.ToUC16Vector();</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>    <span class="keywordflow">if</span> (rhs.IsOneByte()) {</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>      base::Vector&lt;const uint8_t&gt; <a class="code hl_variable" href="mul-fft_8cc.html#acab531abaa74a7e664e3986f2522b33a">r</a> = rhs.ToOneByteVector();</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>      <span class="keywordflow">return</span> FastCompareFlatString(l.data(), <a class="code hl_variable" href="mul-fft_8cc.html#acab531abaa74a7e664e3986f2522b33a">r</a>.data(), length, d);</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>      base::Vector&lt;const uint16_t&gt; <a class="code hl_variable" href="mul-fft_8cc.html#acab531abaa74a7e664e3986f2522b33a">r</a> = rhs.ToUC16Vector();</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>      <span class="keywordflow">return</span> FastCompareFlatString(l.data(), <a class="code hl_variable" href="mul-fft_8cc.html#acab531abaa74a7e664e3986f2522b33a">r</a>.data(), length, d);</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>    }</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>  }</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>  <a class="code hl_function" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>}</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span> </div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span><span class="keywordtype">bool</span> CharIsAsciiOrOutOfBounds(<span class="keyword">const</span> String::FlatContent&amp; <span class="keywordtype">string</span>,</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>                              <span class="keywordtype">int</span> string_length, <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>  <a class="code hl_define" href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<span class="keywordtype">string</span>.<a class="code hl_variable" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>(), string_length);</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &gt;= string_length || isascii(<span class="keywordtype">string</span>.<a class="code hl_function" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">Get</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>));</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>}</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span> </div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span><span class="keywordtype">bool</span> CharCanFastCompareOrOutOfBounds(<span class="keyword">const</span> String::FlatContent&amp; <span class="keywordtype">string</span>,</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>                                     <span class="keywordtype">int</span> string_length, <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>  <a class="code hl_define" href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<span class="keywordtype">string</span>.<a class="code hl_variable" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>(), string_length);</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &gt;= string_length || CanFastCompare(<span class="keywordtype">string</span>.<a class="code hl_function" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">Get</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>));</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>}</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span> </div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span><span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span><span class="keywordtype">bool</span> USetContainsAllAsciiItem(USet* set) {</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>  <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">int</span> kBufferSize = 64;</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>  <a class="code hl_typedef" href="namespacev8__inspector.html#a1eb8efdf7c70d986fee8e0dea03ff534">UChar</a> buffer[kBufferSize];</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span> </div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> length = uset_getItemCount(set);</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code hl_variable" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>    UChar32 <a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a>, <a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a>;</div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>    UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> item_length =</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>        uset_getItem(set, <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>, &amp;<a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a>, &amp;<a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a>, buffer, kBufferSize, &amp;status);</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>    <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>    <a class="code hl_define" href="logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(item_length, 0);</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span> </div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>    <span class="keywordflow">if</span> (item_length == 0) {</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>      <span class="comment">// Empty string or a range.</span></div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>      <span class="keywordflow">if</span> (isascii(<a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a>)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>      <span class="comment">// A non-empty string.</span></div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>      <span class="keywordtype">bool</span> all_ascii = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; item_length; j++) {</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>        <span class="keywordflow">if</span> (!isascii(buffer[j])) {</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>          all_ascii = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>        }</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>      }</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span> </div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>      <span class="keywordflow">if</span> (all_ascii) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>    }</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>  }</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span> </div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>}</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span> </div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span><span class="keywordtype">bool</span> CollatorAllowsFastComparison(<span class="keyword">const</span> icu::Collator&amp; icu_collator) {</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span> </div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>  icu::Locale icu_locale(icu_collator.getLocale(ULOC_VALID_LOCALE, status));</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span> </div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>  <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">int</span> kBufferSize = 64;</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>  <span class="keywordtype">char</span> buffer[kBufferSize];</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> collation_keyword_length =</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>      icu_locale.getKeywordValue(<span class="stringliteral">&quot;collation&quot;</span>, buffer, kBufferSize, status);</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>  <span class="keywordflow">if</span> (collation_keyword_length != 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span> </div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>  <span class="comment">// These attributes must be set to the expected value for fast comparisons.</span></div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>  <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keyword">struct </span>{</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>    UColAttribute attribute;</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>    UColAttributeValue legal_value;</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>  } kAttributeChecks[] = {</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>      {UCOL_ALTERNATE_HANDLING, UCOL_NON_IGNORABLE},</div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>      {UCOL_CASE_FIRST, UCOL_OFF},</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>      {UCOL_CASE_LEVEL, UCOL_OFF},</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>      {UCOL_FRENCH_COLLATION, UCOL_OFF},</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>      {UCOL_NUMERIC_COLLATION, UCOL_OFF},</div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>      {UCOL_STRENGTH, UCOL_TERTIARY},</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>  };</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span> </div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; check : kAttributeChecks) {</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>    <span class="keywordflow">if</span> (icu_collator.getAttribute(check.attribute, status) !=</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>        check.legal_value) {</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>    }</div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>    <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>  }</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span> </div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>  <span class="comment">// No reordering codes are allowed.</span></div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>  <span class="keywordtype">int</span> num_reorder_codes =</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>      ucol_getReorderCodes(icu_collator.toUCollator(), <span class="keyword">nullptr</span>, 0, &amp;status);</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>  <span class="keywordflow">if</span> (num_reorder_codes != 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));  <span class="comment">// Must check *after* num_reorder_codes != 0.</span></div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span> </div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>  <span class="comment">// No tailored rules are allowed.</span></div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>  <a class="code hl_typedef" href="namespaceunibrow.html#a67de744730c9fed24aa185ab5747772c">int32_t</a> rules_length = 0;</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>  ucol_getRules(icu_collator.toUCollator(), &amp;rules_length);</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>  <span class="keywordflow">if</span> (rules_length != 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span> </div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>  USet* tailored_set = ucol_getTailoredSet(icu_collator.toUCollator(), &amp;status);</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>  <span class="keywordflow">if</span> (USetContainsAllAsciiItem(tailored_set)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>  uset_close(tailored_set);</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span> </div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>  <span class="comment">// No ASCII contractions or expansions are allowed.</span></div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>  USet* contractions = uset_openEmpty();</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>  USet* expansions = uset_openEmpty();</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>  ucol_getContractionsAndExpansions(icu_collator.toUCollator(), contractions,</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>                                    expansions, <span class="keyword">true</span>, &amp;status);</div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>  <span class="keywordflow">if</span> (USetContainsAllAsciiItem(contractions)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>  <span class="keywordflow">if</span> (USetContainsAllAsciiItem(expansions)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>  uset_close(contractions);</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>  uset_close(expansions);</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span> </div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>}</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span><span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span> </div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span><span class="comment">// Fast comparison is implemented for charcodes for which the L1 collation</span></div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span><span class="comment">// weight (see kCollactionWeightsL1 above) is not 0.</span></div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span><span class="comment">//</span></div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span><span class="comment">// Note it&#39;s possible to partially process strings as long as their leading</span></div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span><span class="comment">// characters all satisfy the above criteria. In that case, and if the L3</span></div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span><span class="comment">// result is EQUAL, we set `processed_until_out` to the first non-processed</span></div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span><span class="comment">// index - future processing can begin at that offset.</span></div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span><span class="comment">//</span></div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span><span class="comment">// This fast path looks somewhat complex; mostly because it combines multiple</span></div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span><span class="comment">// passes into one. The pseudo-code for simplified multi-pass algorithm is:</span></div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span><span class="comment">//</span></div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span><span class="comment">// {</span></div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span><span class="comment">//   // We can only fast-compare a certain subset of the ASCII range.</span></div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span><span class="comment">//   // Additionally, unicode characters can change the meaning of preceding</span></div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span><span class="comment">//   // characters, for example: &quot;o\u0308&quot; is treated like &quot;Ã¶&quot;.</span></div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span><span class="comment">//   //</span></div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span><span class="comment">//   // Note, in the actual single-pass algorithm below, we tolerate non-ASCII</span></div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span><span class="comment">//   // contents outside the relevant range.</span></div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span><span class="comment">//   for (int i = 0; i &lt; string1.length; i++) {</span></div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span><span class="comment">//     if (!CanFastCompare(string1[i])) return {};</span></div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span><span class="comment">//   }</span></div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span><span class="comment">//   for (int i = 0; i &lt; string2.length; i++) {</span></div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span><span class="comment">//     if (!CanFastCompare(string2[i])) return {};</span></div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span><span class="comment">//   }</span></div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span><span class="comment">//</span></div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span><span class="comment">//   // Apply L1 weights.</span></div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span><span class="comment">//   for (int i = 0; i &lt; common_length; i++) {</span></div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span><span class="comment">//     Char1T c1 = string1[i];</span></div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span><span class="comment">//     Char2T c2 = string2[i];</span></div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span><span class="comment">//     if (L1Weight[c1] != L1Weight[c2]) {</span></div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span><span class="comment">//       return L1Weight[c1] - L1Weight[c2];</span></div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span><span class="comment">//     }</span></div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span><span class="comment">//   }</span></div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span><span class="comment">//</span></div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span><span class="comment">//   // Strings are L1-equal up to the common length; if lengths differ, the</span></div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span><span class="comment">//   // longer string is treated as &#39;greater&#39;.</span></div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span><span class="comment">//   if (string1.length != string2.length) string1.length - string2.length;</span></div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span><span class="comment">//</span></div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span><span class="comment">//   // Apply L3 weights.</span></div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span><span class="comment">//   for (int i = 0; i &lt; common_length; i++) {</span></div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span><span class="comment">//     Char1T c1 = string1[i];</span></div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span><span class="comment">//     Char2T c2 = string2[i];</span></div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span><span class="comment">//     if (L3Weight[c1] != L3Weight[c2]) {</span></div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span><span class="comment">//       return L3Weight[c1] - L3Weight[c2];</span></div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span><span class="comment">//     }</span></div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span><span class="comment">//   }</span></div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span><span class="comment">//</span></div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span><span class="comment">//   return UCOL_EQUAL;</span></div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span><span class="comment">// }</span></div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>std::optional&lt;UCollationResult&gt; TryFastCompareStrings(</div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>    Isolate* isolate, <span class="keyword">const</span> icu::Collator&amp; icu_collator,</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>    DirectHandle&lt;String&gt; string1, DirectHandle&lt;String&gt; string2,</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>    <span class="keywordtype">int</span>* processed_until_out) {</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>  <span class="comment">// TODO(jgruber): We could avoid the flattening (done by the caller) as well</span></div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>  <span class="comment">// by implementing comparison through string iteration. This has visible</span></div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>  <span class="comment">// performance benefits (e.g. 7% on CDJS) but complicates the code. Consider</span></div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>  <span class="comment">// doing this in the future.</span></div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(string1-&gt;IsFlat());</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(string2-&gt;IsFlat());</div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span> </div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>  *processed_until_out = 0;</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span> </div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span><span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>  <span class="comment">// Checked by the caller, see CompareStringsOptionsFor.</span></div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>  <a class="code hl_define" href="checks_8h.html#a8c8b326bb3d6944234eb74fbd0952061">SLOW_DCHECK</a>(CollatorAllowsFastComparison(icu_collator));</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>  <a class="code hl_define" href="macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(CollatorAllowsFastComparison);</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span><span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span> </div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code hl_function" href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html#a90c21c7e3cfb4babbfa1a35bf606d364">SharedStringAccessGuardIfNeeded::IsNeeded</a>(*string1));</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code hl_function" href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html#a90c21c7e3cfb4babbfa1a35bf606d364">SharedStringAccessGuardIfNeeded::IsNeeded</a>(*string2));</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span> </div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> length1 = string1-&gt;length();</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> length2 = string2-&gt;length();</div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>  <span class="keywordtype">int</span> common_length = std::min(length1, length2);</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span> </div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>  FastCompareStringsData d;</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>  <a class="code hl_typedef" href="namespacev8_1_1internal.html#a20971f8a9770697fdde08004c19035a3">DisallowGarbageCollection</a> no_gc;</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>  <span class="keyword">const</span> String::FlatContent&amp; flat1 = string1-&gt;GetFlatContent(no_gc);</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>  <span class="keyword">const</span> String::FlatContent&amp; flat2 = string2-&gt;GetFlatContent(no_gc);</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>  <span class="keywordflow">if</span> (!FastCompareStringFlatContent(flat1, flat2, common_length, &amp;d)) {</div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>    <a class="code hl_define" href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(d.l1_result, UCollationResult::UCOL_EQUAL);</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>    <span class="keywordflow">return</span> d.FastCompareFailed(processed_until_out);</div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>  }</div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span> </div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>  <span class="comment">// The result is only valid if the last processed character is not followed</span></div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>  <span class="comment">// by a unicode combining character (we are overly strict and restrict to</span></div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>  <span class="comment">// ASCII).</span></div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>  <span class="keywordflow">if</span> (!CharIsAsciiOrOutOfBounds(flat1, length1, d.processed_until + 1) ||</div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>      !CharIsAsciiOrOutOfBounds(flat2, length2, d.processed_until + 1)) {</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>    <span class="keywordflow">return</span> d.FastCompareFailed(processed_until_out);</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>  }</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span> </div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>  <span class="keywordflow">if</span> (d.l1_result != UCollationResult::UCOL_EQUAL) {</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>    <span class="keywordflow">return</span> d.l1_result;</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>  }</div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span> </div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>  <span class="comment">// Strings are L1-equal up to their common length, length differences win.</span></div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>  UCollationResult length_result = ToUCollationResult(length1 - length2);</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>  <span class="keywordflow">if</span> (length_result != UCollationResult::UCOL_EQUAL) {</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>    <span class="comment">// Strings of different lengths may still compare as equal if the longer</span></div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>    <span class="comment">// string has a fully ignored suffix, e.g. &quot;a&quot; vs. &quot;a\u{1}&quot;.</span></div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>    <span class="keywordflow">if</span> (!CharCanFastCompareOrOutOfBounds(flat1, length1, common_length) ||</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>        !CharCanFastCompareOrOutOfBounds(flat2, length2, common_length)) {</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>      <span class="keywordflow">return</span> d.FastCompareFailed(processed_until_out);</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>    }</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>    <span class="keywordflow">return</span> length_result;</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>  }</div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span> </div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>  <span class="comment">// L1-equal and same length, the L3 result wins.</span></div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>  <span class="keywordflow">return</span> d.l3_result;</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>}</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span> </div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span> </div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen01427" data-start="{" data-end="}">
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#aca52206bc94eda82615fd74544e81daf"> 1427</a></span><span class="keyword">const</span> uint8_t* <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#aca52206bc94eda82615fd74544e81daf">Intl::AsciiCollationWeightsL1</a>() {</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>  <span class="keywordflow">return</span> &amp;kCollationWeightsL1[0];</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>}</div>
</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span> </div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span><span class="comment">// static</span></div>
<div class="foldopen" id="foldopen01432" data-start="{" data-end="}">
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#aebeda36f2f86075f1dd5b54205b50854"> 1432</a></span><span class="keyword">const</span> uint8_t* <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#aebeda36f2f86075f1dd5b54205b50854">Intl::AsciiCollationWeightsL3</a>() {</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>  <span class="keywordflow">return</span> &amp;kCollationWeightsL3[0];</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>}</div>
</div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span> </div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span><span class="comment">// static</span></div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span><span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="classv8_1_1internal_1_1Intl.html#a3e015d1771491dedb5a8f3de7294e997">Intl::kAsciiCollationWeightsLength</a> = kCollationWeightsLength;</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span> </div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span><span class="comment">// ecma402/#sec-collator-comparestrings</span></div>
<div class="foldopen" id="foldopen01440" data-start="{" data-end="}">
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a2d6c5d4921c2e3c33090ee28a942efb0"> 1440</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a2d6c5d4921c2e3c33090ee28a942efb0">Intl::CompareStrings</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> icu::Collator&amp; icu_collator,</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>                         <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> string1,</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>                         <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> string2,</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>                         <a class="code hl_enumeration" href="classv8_1_1internal_1_1Intl.html#abe48ef11f33ba3c7b76e3310f147dc0f">CompareStringsOptions</a> compare_strings_options) {</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span>  <span class="comment">// Early return for identical strings.</span></div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>  <span class="keywordflow">if</span> (string1.<a class="code hl_function" href="classv8_1_1internal_1_1DirectHandle.html#a1e15d76143f507fd5d70299609178a9e">is_identical_to</a>(string2)) {</div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>    <span class="keywordflow">return</span> UCollationResult::UCOL_EQUAL;</div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>  }</div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span> </div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>  <span class="comment">// We cannot return early for 0-length strings because of Unicode</span></div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>  <span class="comment">// ignorable characters. See also crbug.com/1347690.</span></div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span> </div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>  string1 = <a class="code hl_function" href="classv8_1_1internal_1_1String.html#a21049fc49218b6cf593fc03fabf42656">String::Flatten</a>(isolate, string1);</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span>  string2 = <a class="code hl_function" href="classv8_1_1internal_1_1String.html#a21049fc49218b6cf593fc03fabf42656">String::Flatten</a>(isolate, string2);</div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span> </div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="intl-objects_8cc.html#ae5f582fe095917cfa878905a676abe64">processed_until</a> = 0;</div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>  <span class="keywordflow">if</span> (compare_strings_options == <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#abe48ef11f33ba3c7b76e3310f147dc0fa8bf126aed9f95f483bb9a2e1848c6954">CompareStringsOptions::kTryFastPath</a>) {</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>    std::optional&lt;int&gt; maybe_result = TryFastCompareStrings(</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>        isolate, icu_collator, string1, string2, &amp;<a class="code hl_variable" href="intl-objects_8cc.html#ae5f582fe095917cfa878905a676abe64">processed_until</a>);</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>    <span class="keywordflow">if</span> (maybe_result.has_value()) <span class="keywordflow">return</span> maybe_result.value();</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>  }</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span> </div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>  UCollationResult <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>;</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>  icu::StringPiece string_piece1 =</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>      ToICUStringPiece(isolate, string1, <a class="code hl_variable" href="intl-objects_8cc.html#ae5f582fe095917cfa878905a676abe64">processed_until</a>);</div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>  <span class="keywordflow">if</span> (!string_piece1.empty()) {</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>    icu::StringPiece string_piece2 =</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>        ToICUStringPiece(isolate, string2, <a class="code hl_variable" href="intl-objects_8cc.html#ae5f582fe095917cfa878905a676abe64">processed_until</a>);</div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>    <span class="keywordflow">if</span> (!string_piece2.empty()) {</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>      <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> = icu_collator.compareUTF8(string_piece1, string_piece2, status);</div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span>      <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>;</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>    }</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>  }</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span> </div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>  icu::UnicodeString string_val1 =</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>      <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a8dc43da169430c3077c3a335ec50a23d">Intl::ToICUUnicodeString</a>(isolate, string1, <a class="code hl_variable" href="intl-objects_8cc.html#ae5f582fe095917cfa878905a676abe64">processed_until</a>);</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>  icu::UnicodeString string_val2 =</div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>      <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a8dc43da169430c3077c3a335ec50a23d">Intl::ToICUUnicodeString</a>(isolate, string2, <a class="code hl_variable" href="intl-objects_8cc.html#ae5f582fe095917cfa878905a676abe64">processed_until</a>);</div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span>  <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> = icu_collator.compare(string_val1, string_val2, status);</div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>;</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span>}</div>
</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span> </div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span><span class="comment">// ecma402/#sup-properties-of-the-number-prototype-object</span></div>
<div class="foldopen" id="foldopen01486" data-start="{" data-end="}">
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a7006e54a63d6fa59b210e832ecb3bf87"> 1486</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;String&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a7006e54a63d6fa59b210e832ecb3bf87">Intl::NumberToLocaleString</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span>                                               <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> num,</div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span>                                               <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> locales,</div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span>                                               <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>,</div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>                                               <span class="keyword">const</span> <span class="keywordtype">char</span>* method_name) {</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> numeric_obj;</div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span>  <a class="code hl_define" href="execution_2isolate_8h.html#a45bb81ab232e9f2663545ec92dc0b950">ASSIGN_RETURN_ON_EXCEPTION</a>(isolate, numeric_obj,</div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>                             <a class="code hl_function" href="classv8_1_1internal_1_1Object.html#afdb773467445ba078de0e3fc7c655aaa">Object::ToNumeric</a>(isolate, num));</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span> </div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>  <span class="comment">// We only cache the instance when locales is a string/undefined and</span></div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>  <span class="comment">// options is undefined, as that is the only case when the specified</span></div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span>  <span class="comment">// side-effects of examining those arguments are unobservable.</span></div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>  <span class="keywordtype">bool</span> can_cache = (IsString(*locales) || IsUndefined(*locales, isolate)) &amp;&amp;</div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span>                   IsUndefined(*<a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, isolate);</div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>  <span class="keywordflow">if</span> (can_cache) {</div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span>    icu::number::LocalizedNumberFormatter* cached_number_format =</div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span>        <span class="keyword">static_cast&lt;</span>icu::number::LocalizedNumberFormatter*<span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>            isolate-&gt;get_cached_icu_object(</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>                Isolate::ICUObjectCacheType::kDefaultNumberFormat, locales));</div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>    <span class="comment">// We may use the cached icu::NumberFormat for a fast path.</span></div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>    <span class="keywordflow">if</span> (cached_number_format != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#ab4416ed76390a90d09fbea2d8a68dd57">JSNumberFormat::FormatNumeric</a>(isolate, *cached_number_format,</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>                                           numeric_obj);</div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>    }</div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>  }</div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span> </div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> constructor(</div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;JSFunction&gt;</a>(</div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>          isolate-&gt;context()-&gt;native_context()-&gt;intl_number_format_function()),</div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>      isolate);</div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSNumberFormat&gt;</a> number_format;</div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span>  <span class="comment">// 2. Let numberFormat be ? Construct(%NumberFormat%, Â« locales, options Â»).</span></div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span>  <a class="code hl_class" href="classv8_1_1internal_1_1StackLimitCheck.html">StackLimitCheck</a> stack_check(isolate);</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>  <span class="comment">// New&lt;JSNumberFormat&gt;() requires a lot of stack space.</span></div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> kStackSpaceRequiredForNewJSNumberFormat = 16 * <a class="code hl_variable" href="namespacev8_1_1internal.html#ab368fe5f67cc93158861582746107fec">KB</a>;</div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span>  <span class="keywordflow">if</span> (stack_check.<a class="code hl_function" href="classv8_1_1internal_1_1StackLimitCheck.html#a40c7532c8035444ef65343f6258ac201">JsHasOverflowed</a>(kStackSpaceRequiredForNewJSNumberFormat)) {</div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span>    isolate-&gt;StackOverflow();</div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>    <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>  }</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span>  <a class="code hl_define" href="execution_2isolate_8h.html#a45bb81ab232e9f2663545ec92dc0b950">ASSIGN_RETURN_ON_EXCEPTION</a>(</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>      isolate, number_format,</div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span>      New&lt;JSNumberFormat&gt;(isolate, constructor, locales, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, method_name));</div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span> </div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>  <span class="keywordflow">if</span> (can_cache) {</div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>    isolate-&gt;set_icu_object_in_cache(</div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span>        Isolate::ICUObjectCacheType::kDefaultNumberFormat, locales,</div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span>        std::static_pointer_cast&lt;icu::UMemory&gt;(</div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>            number_format-&gt;icu_number_formatter()-&gt;get()));</div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>  }</div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span> </div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>  <span class="comment">// Return FormatNumber(numberFormat, x).</span></div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span>  icu::number::LocalizedNumberFormatter* icu_number_format =</div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>      number_format-&gt;icu_number_formatter()-&gt;raw();</div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1JSNumberFormat.html#ab4416ed76390a90d09fbea2d8a68dd57">JSNumberFormat::FormatNumeric</a>(isolate, *icu_number_format,</div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span>                                       numeric_obj);</div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span>}</div>
</div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span> </div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span> </div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span><span class="comment">// 22. is in Â« 1, 2, 5, 10, 20, 25, 50, 100, 200, 250, 500, 1000, 2000, 2500,</span></div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span><span class="comment">// 5000 Â»</span></div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span><span class="keywordtype">bool</span> IsValidRoundingIncrement(<span class="keywordtype">int</span> value) {</div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span>  <span class="keywordflow">switch</span> (value) {</div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span>    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span>    <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span>    <span class="keywordflow">case</span> 5:</div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span>    <span class="keywordflow">case</span> 10:</div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>    <span class="keywordflow">case</span> 20:</div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>    <span class="keywordflow">case</span> 25:</div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span>    <span class="keywordflow">case</span> 50:</div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span>    <span class="keywordflow">case</span> 100:</div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span>    <span class="keywordflow">case</span> 200:</div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>    <span class="keywordflow">case</span> 250:</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>    <span class="keywordflow">case</span> 500:</div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span>    <span class="keywordflow">case</span> 1000:</div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span>    <span class="keywordflow">case</span> 2000:</div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>    <span class="keywordflow">case</span> 2500:</div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span>    <span class="keywordflow">case</span> 5000:</div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>  }</div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span>}</div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span> </div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span> </div>
<div class="foldopen" id="foldopen01572" data-start="{" data-end="}">
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#abeb0cafbbff2bce4bdf42cdfb84c0bb4"> 1572</a></span>Maybe&lt;Intl::NumberFormatDigitOptions&gt; <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#abeb0cafbbff2bce4bdf42cdfb84c0bb4">Intl::SetNumberFormatDigitOptions</a>(</div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSReceiver&gt;</a> <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, <span class="keywordtype">int</span> mnfd_default,</div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span>    <span class="keywordtype">int</span> mxfd_default, <span class="keywordtype">bool</span> notation_is_compact, <span class="keyword">const</span> <span class="keywordtype">char</span>* service) {</div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Factory.html">Factory</a>* factory = isolate-&gt;factory();</div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span>  <a class="code hl_struct" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html">Intl::NumberFormatDigitOptions</a> digit_options;</div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span> </div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span>  <span class="comment">// 1. Let mnid be ? GetNumberOption(options, &quot;minimumIntegerDigits,&quot;, 1, 21,</span></div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span>  <span class="comment">// 1).</span></div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span>  <span class="keywordtype">int</span> mnid = 1;</div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespacev8_1_1internal.html#abca78bea2a5192ea95336ff120595db1">GetNumberOption</a>(isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, factory-&gt;minimumIntegerDigits_string(),</div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span>                       1, 21, 1)</div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span>           .To(&amp;mnid)) {</div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span>    <span class="keywordflow">return</span> Nothing&lt;NumberFormatDigitOptions&gt;();</div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"> 1585</span>  }</div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span> </div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span>  <span class="comment">// 2. Let mnfd be ? Get(options, &quot;minimumFractionDigits&quot;).</span></div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> mnfd_obj;</div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span>  <a class="code hl_define" href="execution_2isolate_8h.html#a6a0c40de52f9f029945027e5834661ad">ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(</div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>      isolate, mnfd_obj,</div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>      <a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#aba4a2cfb4946da1635ae2730b710ff00">JSReceiver::GetProperty</a>(isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>,</div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>                              factory-&gt;minimumFractionDigits_string()),</div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>      Nothing&lt;NumberFormatDigitOptions&gt;());</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span> </div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span>  <span class="comment">// 3. Let mxfd be ? Get(options, &quot;maximumFractionDigits&quot;).</span></div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> mxfd_obj;</div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>  <a class="code hl_define" href="execution_2isolate_8h.html#a6a0c40de52f9f029945027e5834661ad">ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(</div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>      isolate, mxfd_obj,</div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span>      <a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#aba4a2cfb4946da1635ae2730b710ff00">JSReceiver::GetProperty</a>(isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>,</div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span>                              factory-&gt;maximumFractionDigits_string()),</div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>      Nothing&lt;NumberFormatDigitOptions&gt;());</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span> </div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span>  <span class="comment">// 4.  Let mnsd be ? Get(options, &quot;minimumSignificantDigits&quot;).</span></div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> mnsd_obj;</div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span>  <a class="code hl_define" href="execution_2isolate_8h.html#a6a0c40de52f9f029945027e5834661ad">ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(</div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span>      isolate, mnsd_obj,</div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span>      <a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#aba4a2cfb4946da1635ae2730b710ff00">JSReceiver::GetProperty</a>(isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>,</div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span>                              factory-&gt;minimumSignificantDigits_string()),</div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span>      Nothing&lt;NumberFormatDigitOptions&gt;());</div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span> </div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span>  <span class="comment">// 5. Let mxsd be ? Get(options, &quot;maximumSignificantDigits&quot;).</span></div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> mxsd_obj;</div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span>  <a class="code hl_define" href="execution_2isolate_8h.html#a6a0c40de52f9f029945027e5834661ad">ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(</div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span>      isolate, mxsd_obj,</div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span>      <a class="code hl_function" href="classv8_1_1internal_1_1JSReceiver.html#aba4a2cfb4946da1635ae2730b710ff00">JSReceiver::GetProperty</a>(isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>,</div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span>                              factory-&gt;maximumSignificantDigits_string()),</div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span>      Nothing&lt;NumberFormatDigitOptions&gt;());</div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span> </div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span>  digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#aff8837e30ab983f97473c39d7091e3dc">rounding_priority</a> = <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a23ad75ba90ae0e48390c08db0fb9081faa8c857c2f1b000c92f9794ebf53888d7">RoundingPriority::kAuto</a>;</div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span>  digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a671c290d7264d312006706adedea180d">minimum_significant_digits</a> = 0;</div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span>  digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a34c5e2dfe19eefa67ad19d5b251ef771">maximum_significant_digits</a> = 0;</div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span> </div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span>  <span class="comment">// 6. Set intlObj.[[MinimumIntegerDigits]] to mnid.</span></div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span>  digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#adbd088b80ff32f4d4f4b5496f189ffa2">minimum_integer_digits</a> = mnid;</div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span> </div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span>  <span class="comment">// 7. Let roundingIncrement be ? GetNumberOption(options, &quot;roundingIncrement&quot;,</span></div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span>  <span class="comment">// 1, 5000, 1).</span></div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span>  Maybe&lt;int&gt; maybe_rounding_increment = <a class="code hl_function" href="namespacev8_1_1internal.html#abca78bea2a5192ea95336ff120595db1">GetNumberOption</a>(</div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span>      isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, factory-&gt;roundingIncrement_string(), 1, 5000, 1);</div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span>  <span class="keywordflow">if</span> (!maybe_rounding_increment.To(&amp;digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a6555c8c869cf4da5738e099dd9525ca1">rounding_increment</a>)) {</div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span>    <span class="keywordflow">return</span> Nothing&lt;NumberFormatDigitOptions&gt;();</div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span>  }</div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span>  <span class="comment">// 8. If roundingIncrement is not in Â« 1, 2, 5, 10, 20, 25, 50, 100, 200, 250,</span></div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span>  <span class="comment">// 500, 1000, 2000, 2500, 5000 Â», throw a RangeError exception.</span></div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span>  <span class="keywordflow">if</span> (!IsValidRoundingIncrement(digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a6555c8c869cf4da5738e099dd9525ca1">rounding_increment</a>)) {</div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a06699c63279f3987fe082aeaaab74b7e">THROW_NEW_ERROR_RETURN_VALUE</a>(</div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span>        isolate,</div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>        NewRangeError(MessageTemplate::kPropertyValueOutOfRange,</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span>                      factory-&gt;roundingIncrement_string()),</div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"> 1640</span>        Nothing&lt;NumberFormatDigitOptions&gt;());</div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"> 1641</span>  }</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span> </div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span>  <span class="comment">// 9. Let roundingMode be ? GetOption(options, &quot;roundingMode&quot;, string, Â«</span></div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span>  <span class="comment">// &quot;ceil&quot;, &quot;floor&quot;, &quot;expand&quot;, &quot;trunc&quot;, &quot;halfCeil&quot;, &quot;halfFloor&quot;, &quot;halfExpand&quot;,</span></div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span>  <span class="comment">// &quot;halfTrunc&quot;, &quot;halfEven&quot; Â», &quot;halfExpand&quot;).</span></div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>  Maybe&lt;RoundingMode&gt; maybe_rounding_mode = <a class="code hl_function" href="namespacev8_1_1internal.html#ae032dca06e882540eca629ad340d45b2">GetStringOption&lt;RoundingMode&gt;</a>(</div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>      isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, <span class="stringliteral">&quot;roundingMode&quot;</span>, service,</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span>      {<span class="stringliteral">&quot;ceil&quot;</span>, <span class="stringliteral">&quot;floor&quot;</span>, <span class="stringliteral">&quot;expand&quot;</span>, <span class="stringliteral">&quot;trunc&quot;</span>, <span class="stringliteral">&quot;halfCeil&quot;</span>, <span class="stringliteral">&quot;halfFloor&quot;</span>,</div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>       <span class="stringliteral">&quot;halfExpand&quot;</span>, <span class="stringliteral">&quot;halfTrunc&quot;</span>, <span class="stringliteral">&quot;halfEven&quot;</span>},</div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span>      {<a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134af8dcb6e55d5a46167c82507ea027848e">RoundingMode::kCeil</a>, <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a219dd653185709793daafbe7cb7ca474">RoundingMode::kFloor</a>, <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a95e20eb827cd738ef3a2b9551135da09">RoundingMode::kExpand</a>,</div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span>       <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a8681e538866553847bf291189392344e">RoundingMode::kTrunc</a>, <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134ad471e97bd5d8e38b1d883328971d0db1">RoundingMode::kHalfCeil</a>, <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a02b231839e1cf75e3c60f3bfda014c32">RoundingMode::kHalfFloor</a>,</div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span>       <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134ad4c30122f68b63cc00eecc121998a716">RoundingMode::kHalfExpand</a>, <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a2e58aeadf36bdafb4745a679e90f737b">RoundingMode::kHalfTrunc</a>,</div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span>       <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a6dd5ac7edc473d77304d95358f0a334e">RoundingMode::kHalfEven</a>},</div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span>      <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134ad4c30122f68b63cc00eecc121998a716">RoundingMode::kHalfExpand</a>);</div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_rounding_mode, Nothing&lt;NumberFormatDigitOptions&gt;());</div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span>  digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a365dda73e8405d7077bccb470dd607a8">rounding_mode</a> = maybe_rounding_mode.FromJust();</div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span> </div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span>  <span class="comment">// 10. Let roundingPriority be ? GetOption(options, &quot;roundingPriority&quot;,</span></div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span>  <span class="comment">// &quot;string&quot;, Â« &quot;auto&quot;, &quot;morePrecision&quot;, &quot;lessPrecision&quot; Â», &quot;auto&quot;).</span></div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span> </div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span>  Maybe&lt;RoundingPriority&gt; maybe_rounding_priority =</div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#ae032dca06e882540eca629ad340d45b2">GetStringOption&lt;RoundingPriority&gt;</a>(</div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span>          isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, <span class="stringliteral">&quot;roundingPriority&quot;</span>, service,</div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span>          {<span class="stringliteral">&quot;auto&quot;</span>, <span class="stringliteral">&quot;morePrecision&quot;</span>, <span class="stringliteral">&quot;lessPrecision&quot;</span>},</div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span>          {<a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a23ad75ba90ae0e48390c08db0fb9081faa8c857c2f1b000c92f9794ebf53888d7">RoundingPriority::kAuto</a>, <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a23ad75ba90ae0e48390c08db0fb9081fabb772b3c2c544aa6d0a482eb24e4d589">RoundingPriority::kMorePrecision</a>,</div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span>           <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a23ad75ba90ae0e48390c08db0fb9081faf47fa8c4ec094aa64107255c2ce33278">RoundingPriority::kLessPrecision</a>},</div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span>          <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a23ad75ba90ae0e48390c08db0fb9081faa8c857c2f1b000c92f9794ebf53888d7">RoundingPriority::kAuto</a>);</div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_rounding_priority, Nothing&lt;NumberFormatDigitOptions&gt;());</div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"> 1669</span>  digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#aff8837e30ab983f97473c39d7091e3dc">rounding_priority</a> = maybe_rounding_priority.FromJust();</div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span> </div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span>  <span class="comment">// 11. Let trailingZeroDisplay be ? GetOption(options, &quot;trailingZeroDisplay&quot;,</span></div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span>  <span class="comment">// string, Â« &quot;auto&quot;, &quot;stripIfInteger&quot; Â», &quot;auto&quot;).</span></div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span>  Maybe&lt;TrailingZeroDisplay&gt; maybe_trailing_zero_display =</div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#ae032dca06e882540eca629ad340d45b2">GetStringOption&lt;TrailingZeroDisplay&gt;</a>(</div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span>          isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, <span class="stringliteral">&quot;trailingZeroDisplay&quot;</span>, service,</div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span>          {<span class="stringliteral">&quot;auto&quot;</span>, <span class="stringliteral">&quot;stripIfInteger&quot;</span>},</div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span>          {<a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a7172a86dd3fbcfbbef0a5d20a3d2bdbfaa8c857c2f1b000c92f9794ebf53888d7">TrailingZeroDisplay::kAuto</a>, <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a7172a86dd3fbcfbbef0a5d20a3d2bdbfa3e8fcef7c821e3a56700fb5aff331198">TrailingZeroDisplay::kStripIfInteger</a>},</div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span>          <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a7172a86dd3fbcfbbef0a5d20a3d2bdbfaa8c857c2f1b000c92f9794ebf53888d7">TrailingZeroDisplay::kAuto</a>);</div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_trailing_zero_display,</div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span>               Nothing&lt;NumberFormatDigitOptions&gt;());</div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span>  digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a40893b4f34d2ff2532114f96c7f11182">trailing_zero_display</a> = maybe_trailing_zero_display.FromJust();</div>
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"> 1682</span> </div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span>  <span class="comment">// 12. NOTE: All fields required by SetNumberFormatDigitOptions have now been</span></div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span>  <span class="comment">// read from options. The remainder of this AO interprets the options and may</span></div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>  <span class="comment">// throw exceptions.</span></div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span> </div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span>  <span class="comment">// 17. If mnsd is not undefined or mxsd is not undefined, then</span></div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span>  <span class="comment">// a. Set hasSd to true.</span></div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span>  <span class="comment">// 18. Else,</span></div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span>  <span class="comment">// a. Set hasSd to false.</span></div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span>  <span class="keywordtype">bool</span> has_sd =</div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span>      (!IsUndefined(*mnsd_obj, isolate)) || (!IsUndefined(*mxsd_obj, isolate));</div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span> </div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span>  <span class="comment">// 19. If mnfd is not undefined or mxfd is not undefined, then</span></div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span>  <span class="comment">// a. Set hasFd to true.</span></div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span>  <span class="comment">// 22. Else,</span></div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"> 1697</span>  <span class="comment">// a. Set hasFd to false.</span></div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span>  <span class="keywordtype">bool</span> has_fd =</div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span>      (!IsUndefined(*mnfd_obj, isolate)) || (!IsUndefined(*mxfd_obj, isolate));</div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span> </div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span>  <span class="comment">// 21. Let needSd be true.</span></div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span>  <span class="keywordtype">bool</span> need_sd = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"> 1703</span>  <span class="comment">// 22. Let needFd be true.</span></div>
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"> 1704</span>  <span class="keywordtype">bool</span> need_fd = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>  <span class="comment">// 23. If roundingPriority is &quot;auto&quot;, then</span></div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>  <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a23ad75ba90ae0e48390c08db0fb9081faa8c857c2f1b000c92f9794ebf53888d7">RoundingPriority::kAuto</a> == digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#aff8837e30ab983f97473c39d7091e3dc">rounding_priority</a>) {</div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span>    <span class="comment">// a. Set needSd to hasSd.</span></div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>    need_sd = has_sd;</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>    <span class="comment">// b. If needSd is true, or hasFd is false and notation is &quot;compact&quot;, then</span></div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span>    <span class="keywordflow">if</span> (need_sd || ((!has_fd) &amp;&amp; notation_is_compact)) {</div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span>      <span class="comment">// i. Set needFd to false.</span></div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span>      need_fd = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span>    }</div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span>  }</div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span>  <span class="comment">// 24. If needSd is true, then</span></div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span>  <span class="keywordflow">if</span> (need_sd) {</div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span>    <span class="comment">// 24.a If hasSd is true, then</span></div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span>    <span class="keywordflow">if</span> (has_sd) {</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span>      <span class="comment">// i. Set intlObj.[[MinimumSignificantDigits]] to ?</span></div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span>      <span class="comment">// DefaultNumberOption(mnsd, 1, 21, 1).</span></div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span>      <span class="keywordtype">int</span> mnsd;</div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespacev8_1_1internal.html#a4ca2672965adf60b4e89bc4c9f19387c">DefaultNumberOption</a>(isolate, mnsd_obj, 1, 21, 1,</div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span>                               factory-&gt;minimumSignificantDigits_string())</div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span>               .To(&amp;mnsd)) {</div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>        <span class="keywordflow">return</span> Nothing&lt;NumberFormatDigitOptions&gt;();</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span>      }</div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span>      digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a671c290d7264d312006706adedea180d">minimum_significant_digits</a> = mnsd;</div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span>      <span class="comment">// ii. Set intlObj.[[MaximumSignificantDigits]] to ?</span></div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span>      <span class="comment">// DefaultNumberOption(mxsd, intlObj.[[MinimumSignificantDigits]], 21,</span></div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>      <span class="comment">// 21).</span></div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span>      <span class="keywordtype">int</span> mxsd;</div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespacev8_1_1internal.html#a4ca2672965adf60b4e89bc4c9f19387c">DefaultNumberOption</a>(isolate, mxsd_obj, mnsd, 21, 21,</div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span>                               factory-&gt;maximumSignificantDigits_string())</div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span>               .To(&amp;mxsd)) {</div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span>        <span class="keywordflow">return</span> Nothing&lt;NumberFormatDigitOptions&gt;();</div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span>      }</div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span>      digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a34c5e2dfe19eefa67ad19d5b251ef771">maximum_significant_digits</a> = mxsd;</div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>      <span class="comment">// 24.b Else</span></div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span>      <span class="comment">// 24.b.i Set intlObj.[[MinimumSignificantDigits]] to 1.</span></div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span>      digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a671c290d7264d312006706adedea180d">minimum_significant_digits</a> = 1;</div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>      <span class="comment">// 24.b.ii Set intlObj.[[MaximumSignificantDigits]] to 21.</span></div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>      digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a34c5e2dfe19eefa67ad19d5b251ef771">maximum_significant_digits</a> = 21;</div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>    }</div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span>  }</div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span> </div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> mxfd_str = factory-&gt;maximumFractionDigits_string();</div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span>  <span class="comment">// 25. If needFd is true, then</span></div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span>  <span class="keywordflow">if</span> (need_fd) {</div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span>    <span class="comment">// a. If hasFd is true, then</span></div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span>    <span class="keywordflow">if</span> (has_fd) {</div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span>      <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> mnfd_str = factory-&gt;minimumFractionDigits_string();</div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span>      <span class="comment">// i. Let mnfd be ? DefaultNumberOption(mnfd, 0, 100, undefined).</span></div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>      <span class="keywordtype">int</span> mnfd;</div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespacev8_1_1internal.html#a4ca2672965adf60b4e89bc4c9f19387c">DefaultNumberOption</a>(isolate, mnfd_obj, 0, 100, -1, mnfd_str)</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>               .To(&amp;mnfd)) {</div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span>        <span class="keywordflow">return</span> Nothing&lt;NumberFormatDigitOptions&gt;();</div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span>      }</div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span>      <span class="comment">// ii. Let mxfd be ? DefaultNumberOption(mxfd, 0, 100, undefined).</span></div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span>      <span class="keywordtype">int</span> mxfd;</div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespacev8_1_1internal.html#a4ca2672965adf60b4e89bc4c9f19387c">DefaultNumberOption</a>(isolate, mxfd_obj, 0, 100, -1, mxfd_str)</div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span>               .To(&amp;mxfd)) {</div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>        <span class="keywordflow">return</span> Nothing&lt;NumberFormatDigitOptions&gt;();</div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span>      }</div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span>      <span class="comment">// iii. If mnfd is undefined, set mnfd to min(mnfdDefault, mxfd).</span></div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span>      <span class="keywordflow">if</span> (IsUndefined(*mnfd_obj, isolate)) {</div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span>        mnfd = std::min(mnfd_default, mxfd);</div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsUndefined(*mxfd_obj, isolate)) {</div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>        <span class="comment">// iv. Else if mxfd is undefined, set mxfd to max(mxfdDefault,</span></div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>        <span class="comment">// mnfd).</span></div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span>        mxfd = std::max(mxfd_default, mnfd);</div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mnfd &gt; mxfd) {</div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span>        <span class="comment">// v. Else if mnfd is greater than mxfd, throw a RangeError</span></div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span>        <span class="comment">// exception.</span></div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span>        <a class="code hl_define" href="execution_2isolate_8h.html#a06699c63279f3987fe082aeaaab74b7e">THROW_NEW_ERROR_RETURN_VALUE</a>(</div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>            isolate,</div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>            NewRangeError(MessageTemplate::kPropertyValueOutOfRange, mxfd_str),</div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span>            Nothing&lt;NumberFormatDigitOptions&gt;());</div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span>      }</div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>      <span class="comment">// vi. Set intlObj.[[MinimumFractionDigits]] to mnfd.</span></div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span>      digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a29db9b8de54ea92b91831d4e5c4b0397">minimum_fraction_digits</a> = mnfd;</div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>      <span class="comment">// vii. Set intlObj.[[MaximumFractionDigits]] to mxfd.</span></div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>      digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#ac7f935d85499da2fc701e17b5b38f2c6">maximum_fraction_digits</a> = mxfd;</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>    } <span class="keywordflow">else</span> {  <span class="comment">// b. Else</span></div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>      <span class="comment">// i. Set intlObj.[[MinimumFractionDigits]] to mnfdDefault.</span></div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>      digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a29db9b8de54ea92b91831d4e5c4b0397">minimum_fraction_digits</a> = mnfd_default;</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>      <span class="comment">// ii. Set intlObj.[[MaximumFractionDigits]] to mxfdDefault.</span></div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>      digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#ac7f935d85499da2fc701e17b5b38f2c6">maximum_fraction_digits</a> = mxfd_default;</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>    }</div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span>  }</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span> </div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span>  <span class="comment">// 26. If needSd is false and needFd is false, then</span></div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span>  <span class="keywordflow">if</span> ((!need_sd) &amp;&amp; (!need_fd)) {</div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span>    <span class="comment">// a. Set intlObj.[[MinimumFractionDigits]] to 0.</span></div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span>    digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a29db9b8de54ea92b91831d4e5c4b0397">minimum_fraction_digits</a> = 0;</div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span>    <span class="comment">// b. Set intlObj.[[MaximumFractionDigits]] to 0.</span></div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span>    digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#ac7f935d85499da2fc701e17b5b38f2c6">maximum_fraction_digits</a> = 0;</div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span>    <span class="comment">// c. Set intlObj.[[MinimumSignificantDigits]] to 1.</span></div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span>    digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a671c290d7264d312006706adedea180d">minimum_significant_digits</a> = 1;</div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span>    <span class="comment">// d. Set intlObj.[[MaximumSignificantDigits]] to 2.</span></div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span>    digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a34c5e2dfe19eefa67ad19d5b251ef771">maximum_significant_digits</a> = 2;</div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span>    <span class="comment">// e. Set intlObj.[[RoundingType]] to morePrecision.</span></div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>    digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a543929e5920bd97e031bcafd6c0df380">rounding_type</a> = <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a175a7d1e22cce990e90c096528167d42abb772b3c2c544aa6d0a482eb24e4d589">RoundingType::kMorePrecision</a>;</div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>    <span class="comment">// 27. Else if roundingPriority is &quot;morePrecision&quot;, then</span></div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#aff8837e30ab983f97473c39d7091e3dc">rounding_priority</a> ==</div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span>             <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a23ad75ba90ae0e48390c08db0fb9081fabb772b3c2c544aa6d0a482eb24e4d589">RoundingPriority::kMorePrecision</a>) {</div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>    <span class="comment">// i. Set intlObj.[[RoundingType]] to morePrecision.</span></div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>    digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a543929e5920bd97e031bcafd6c0df380">rounding_type</a> = <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a175a7d1e22cce990e90c096528167d42abb772b3c2c544aa6d0a482eb24e4d589">RoundingType::kMorePrecision</a>;</div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span>    <span class="comment">// 28. Else if roundingPriority is &quot;lessPrecision&quot;, then</span></div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#aff8837e30ab983f97473c39d7091e3dc">rounding_priority</a> ==</div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span>             <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a23ad75ba90ae0e48390c08db0fb9081faf47fa8c4ec094aa64107255c2ce33278">RoundingPriority::kLessPrecision</a>) {</div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>    <span class="comment">// i. Set intlObj.[[RoundingType]] to lessPrecision.</span></div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>    digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a543929e5920bd97e031bcafd6c0df380">rounding_type</a> = <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a175a7d1e22cce990e90c096528167d42af47fa8c4ec094aa64107255c2ce33278">RoundingType::kLessPrecision</a>;</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>    <span class="comment">// 29. Else if hasSd, then</span></div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (has_sd) {</div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>    <span class="comment">// i. Set intlObj.[[RoundingType]] to significantDigits.</span></div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span>    digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a543929e5920bd97e031bcafd6c0df380">rounding_type</a> = <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a175a7d1e22cce990e90c096528167d42a41a9505c24e60bd38c8d8954188da351">RoundingType::kSignificantDigits</a>;</div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span>    <span class="comment">// 30. Else,</span></div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>    <span class="comment">// i.Set intlObj.[[RoundingType]] to fractionDigits.</span></div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span>    digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a543929e5920bd97e031bcafd6c0df380">rounding_type</a> = <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a175a7d1e22cce990e90c096528167d42af0e0a75cea206a2f713c653c09bc7155">RoundingType::kFractionDigits</a>;</div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span>  }</div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span>  <span class="comment">// 31. If roundingIncrement is not 1, then</span></div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span>  <span class="keywordflow">if</span> (digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a6555c8c869cf4da5738e099dd9525ca1">rounding_increment</a> != 1) {</div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span>    <span class="comment">// a. If intlObj.[[RoundingType]] is not fractionDigits, throw a TypeError</span></div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span>    <span class="comment">// exception.</span></div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span>    <span class="keywordflow">if</span> (digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a543929e5920bd97e031bcafd6c0df380">rounding_type</a> != <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a175a7d1e22cce990e90c096528167d42af0e0a75cea206a2f713c653c09bc7155">RoundingType::kFractionDigits</a>) {</div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span>      <a class="code hl_define" href="execution_2isolate_8h.html#a06699c63279f3987fe082aeaaab74b7e">THROW_NEW_ERROR_RETURN_VALUE</a>(</div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span>          isolate, NewTypeError(MessageTemplate::kBadRoundingType),</div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span>          Nothing&lt;NumberFormatDigitOptions&gt;());</div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span>    }</div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span>    <span class="comment">// b. If intlObj.[[MaximumFractionDigits]] is not equal to</span></div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span>    <span class="comment">// intlObj.[[MinimumFractionDigits]], throw a RangeError exception.</span></div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span>    <span class="keywordflow">if</span> (digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#ac7f935d85499da2fc701e17b5b38f2c6">maximum_fraction_digits</a> !=</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>        digit_options.<a class="code hl_variable" href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a29db9b8de54ea92b91831d4e5c4b0397">minimum_fraction_digits</a>) {</div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span>      <a class="code hl_define" href="execution_2isolate_8h.html#a06699c63279f3987fe082aeaaab74b7e">THROW_NEW_ERROR_RETURN_VALUE</a>(</div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>          isolate,</div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>          NewRangeError(MessageTemplate::kPropertyValueOutOfRange, mxfd_str),</div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>          Nothing&lt;NumberFormatDigitOptions&gt;());</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>    }</div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>  }</div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span>  <span class="keywordflow">return</span> Just(digit_options);</div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>}</div>
</div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span> </div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span> </div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span><span class="comment">// ecma402/#sec-bestavailablelocale</span></div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span>std::string BestAvailableLocale(<span class="keyword">const</span> std::set&lt;std::string&gt;&amp; available_locales,</div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span>                                <span class="keyword">const</span> std::string&amp; locale) {</div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span>  <span class="comment">// 1. Let candidate be locale.</span></div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span>  std::string candidate = locale;</div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span> </div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>  <span class="comment">// 2. Repeat,</span></div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span>  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>    <span class="comment">// 2.a. If availableLocales contains an element equal to candidate, return</span></div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span>    <span class="comment">//      candidate.</span></div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span>    <span class="keywordflow">if</span> (available_locales.find(candidate) != available_locales.end()) {</div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span>      <span class="keywordflow">return</span> candidate;</div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span>    }</div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span> </div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span>    <span class="comment">// 2.b. Let pos be the character index of the last occurrence of &quot;-&quot;</span></div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span>    <span class="comment">//      (U+002D) within candidate. If that character does not occur, return</span></div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span>    <span class="comment">//      undefined.</span></div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="class-debug-reader-generator_8cc.html#aede818ff693a0360e722300214ad6a52">pos</a> = candidate.rfind(<span class="charliteral">&#39;-&#39;</span>);</div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class-debug-reader-generator_8cc.html#aede818ff693a0360e722300214ad6a52">pos</a> == std::string::npos) {</div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span>      <span class="keywordflow">return</span> std::string();</div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span>    }</div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span> </div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span>    <span class="comment">// 2.c. If pos â‰¥ 2 and the character &quot;-&quot; occurs at index pos-2 of candidate,</span></div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span>    <span class="comment">//      decrease pos by 2.</span></div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class-debug-reader-generator_8cc.html#aede818ff693a0360e722300214ad6a52">pos</a> &gt;= 2 &amp;&amp; candidate[<a class="code hl_variable" href="class-debug-reader-generator_8cc.html#aede818ff693a0360e722300214ad6a52">pos</a> - 2] == <span class="charliteral">&#39;-&#39;</span>) {</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span>      <a class="code hl_variable" href="class-debug-reader-generator_8cc.html#aede818ff693a0360e722300214ad6a52">pos</a> -= 2;</div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span>    }</div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span> </div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span>    <span class="comment">// 2.d. Let candidate be the substring of candidate from position 0,</span></div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span>    <span class="comment">//      inclusive, to position pos, exclusive.</span></div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span>    candidate = candidate.substr(0, <a class="code hl_variable" href="class-debug-reader-generator_8cc.html#aede818ff693a0360e722300214ad6a52">pos</a>);</div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>  }</div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span>}</div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span> </div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span><span class="keyword">struct </span>ParsedLocale {</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"><a class="line" href="intl-objects_8cc.html#a3090b930e45d2f4abc4b54e95cf32056"> 1882</a></span>  std::string <a class="code hl_variable" href="intl-objects_8cc.html#a3090b930e45d2f4abc4b54e95cf32056">no_extensions_locale</a>;</div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"><a class="line" href="intl-objects_8cc.html#a110d0f63b1860324c40bae0391908f88"> 1883</a></span>  std::string <a class="code hl_variable" href="intl-objects_8cc.html#a110d0f63b1860324c40bae0391908f88">extension</a>;</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>};</div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span> </div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span><span class="comment">// Returns a struct containing a bcp47 tag without unicode extensions</span></div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span><span class="comment">// and the removed unicode extensions.</span></div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span><span class="comment">//</span></div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span><span class="comment">// For example, given &#39;en-US-u-co-emoji&#39; returns &#39;en-US&#39; and</span></div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span><span class="comment">// &#39;u-co-emoji&#39;.</span></div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span>ParsedLocale ParseBCP47Locale(<span class="keyword">const</span> std::string&amp; locale) {</div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span>  <span class="keywordtype">size_t</span> length = locale.length();</div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span>  ParsedLocale parsed_locale;</div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span> </div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span>  <span class="comment">// Privateuse or grandfathered locales have no extension sequences.</span></div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span>  <span class="keywordflow">if</span> ((length &gt; 1) &amp;&amp; (locale[1] == <span class="charliteral">&#39;-&#39;</span>)) {</div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span>    <span class="comment">// Check to make sure that this really is a grandfathered or</span></div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span>    <span class="comment">// privateuse extension. ICU can sometimes mess up the</span></div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span>    <span class="comment">// canonicalization.</span></div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span>    <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(locale[0] == <span class="charliteral">&#39;x&#39;</span> || locale[0] == <span class="charliteral">&#39;i&#39;</span>);</div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span>    parsed_locale.no_extensions_locale = locale;</div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span>    <span class="keywordflow">return</span> parsed_locale;</div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span>  }</div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span> </div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span>  <span class="keywordtype">size_t</span> unicode_extension_start = locale.find(<span class="stringliteral">&quot;-u-&quot;</span>);</div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span> </div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span>  <span class="comment">// No unicode extensions found.</span></div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span>  <span class="keywordflow">if</span> (unicode_extension_start == std::string::npos) {</div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"> 1909</span>    parsed_locale.no_extensions_locale = locale;</div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span>    <span class="keywordflow">return</span> parsed_locale;</div>
<div class="line"><a id="l01911" name="l01911"></a><span class="lineno"> 1911</span>  }</div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span> </div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>  <span class="keywordtype">size_t</span> private_extension_start = locale.find(<span class="stringliteral">&quot;-x-&quot;</span>);</div>
<div class="line"><a id="l01914" name="l01914"></a><span class="lineno"> 1914</span> </div>
<div class="line"><a id="l01915" name="l01915"></a><span class="lineno"> 1915</span>  <span class="comment">// Unicode extensions found within privateuse subtags don&#39;t count.</span></div>
<div class="line"><a id="l01916" name="l01916"></a><span class="lineno"> 1916</span>  <span class="keywordflow">if</span> (private_extension_start != std::string::npos &amp;&amp;</div>
<div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span>      private_extension_start &lt; unicode_extension_start) {</div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span>    parsed_locale.no_extensions_locale = locale;</div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span>    <span class="keywordflow">return</span> parsed_locale;</div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"> 1920</span>  }</div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"> 1921</span> </div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span>  <span class="keyword">const</span> std::string beginning = locale.substr(0, unicode_extension_start);</div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span>  <span class="keywordtype">size_t</span> unicode_extension_end = <a class="code hl_variable" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"> 1924</span>  <a class="code hl_define" href="logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a>(length, 2);</div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"> 1925</span> </div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"> 1926</span>  <span class="comment">// Find the end of the extension production as per the bcp47 grammar</span></div>
<div class="line"><a id="l01927" name="l01927"></a><span class="lineno"> 1927</span>  <span class="comment">// by looking for &#39;-&#39; followed by 2 chars and then another &#39;-&#39;.</span></div>
<div class="line"><a id="l01928" name="l01928"></a><span class="lineno"> 1928</span>  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = unicode_extension_start + 1; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; length - 2; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span>    <span class="keywordflow">if</span> (locale[<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>] != <span class="charliteral">&#39;-&#39;</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span> </div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"> 1931</span>    <span class="keywordflow">if</span> (locale[<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> + 2] == <span class="charliteral">&#39;-&#39;</span>) {</div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span>      unicode_extension_end = <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>;</div>
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"> 1933</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01934" name="l01934"></a><span class="lineno"> 1934</span>    }</div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span> </div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span>    <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> += 2;</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span>  }</div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span> </div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span>  <span class="keyword">const</span> std::string <a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a> = locale.substr(unicode_extension_end);</div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span>  parsed_locale.no_extensions_locale = beginning + <a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a>;</div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span>  parsed_locale.extension = locale.substr(</div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span>      unicode_extension_start, unicode_extension_end - unicode_extension_start);</div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span>  <span class="keywordflow">return</span> parsed_locale;</div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>}</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span> </div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span><span class="comment">// ecma402/#sec-lookupsupportedlocales</span></div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span>std::vector&lt;std::string&gt; LookupSupportedLocales(</div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span>    <span class="keyword">const</span> std::set&lt;std::string&gt;&amp; available_locales,</div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span>    <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; requested_locales) {</div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span>  <span class="comment">// 1. Let subset be a new empty List.</span></div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span>  std::vector&lt;std::string&gt; subset;</div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span> </div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span>  <span class="comment">// 2. For each element locale of requestedLocales in List order, do</span></div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> std::string&amp; locale : requested_locales) {</div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span>    <span class="comment">// 2. a. Let noExtensionsLocale be the String value that is locale</span></div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span>    <span class="comment">//       with all Unicode locale extension sequences removed.</span></div>
<div class="line"><a id="l01957" name="l01957"></a><span class="lineno"> 1957</span>    std::string no_extension_locale =</div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span>        ParseBCP47Locale(locale).no_extensions_locale;</div>
<div class="line"><a id="l01959" name="l01959"></a><span class="lineno"> 1959</span> </div>
<div class="line"><a id="l01960" name="l01960"></a><span class="lineno"> 1960</span>    <span class="comment">// 2. b. Let availableLocale be</span></div>
<div class="line"><a id="l01961" name="l01961"></a><span class="lineno"> 1961</span>    <span class="comment">//       BestAvailableLocale(availableLocales, noExtensionsLocale).</span></div>
<div class="line"><a id="l01962" name="l01962"></a><span class="lineno"> 1962</span>    std::string available_locale =</div>
<div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span>        BestAvailableLocale(available_locales, no_extension_locale);</div>
<div class="line"><a id="l01964" name="l01964"></a><span class="lineno"> 1964</span> </div>
<div class="line"><a id="l01965" name="l01965"></a><span class="lineno"> 1965</span>    <span class="comment">// 2. c. If availableLocale is not undefined, append locale to the</span></div>
<div class="line"><a id="l01966" name="l01966"></a><span class="lineno"> 1966</span>    <span class="comment">//       end of subset.</span></div>
<div class="line"><a id="l01967" name="l01967"></a><span class="lineno"> 1967</span>    <span class="keywordflow">if</span> (!available_locale.empty()) {</div>
<div class="line"><a id="l01968" name="l01968"></a><span class="lineno"> 1968</span>      subset.push_back(locale);</div>
<div class="line"><a id="l01969" name="l01969"></a><span class="lineno"> 1969</span>    }</div>
<div class="line"><a id="l01970" name="l01970"></a><span class="lineno"> 1970</span>  }</div>
<div class="line"><a id="l01971" name="l01971"></a><span class="lineno"> 1971</span> </div>
<div class="line"><a id="l01972" name="l01972"></a><span class="lineno"> 1972</span>  <span class="comment">// 3. Return subset.</span></div>
<div class="line"><a id="l01973" name="l01973"></a><span class="lineno"> 1973</span>  <span class="keywordflow">return</span> subset;</div>
<div class="line"><a id="l01974" name="l01974"></a><span class="lineno"> 1974</span>}</div>
<div class="line"><a id="l01975" name="l01975"></a><span class="lineno"> 1975</span> </div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"> 1976</span>icu::LocaleMatcher BuildLocaleMatcher(</div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span>    Isolate* isolate, <span class="keyword">const</span> std::set&lt;std::string&gt;&amp; available_locales,</div>
<div class="line"><a id="l01978" name="l01978"></a><span class="lineno"> 1978</span>    UErrorCode* status) {</div>
<div class="line"><a id="l01979" name="l01979"></a><span class="lineno"> 1979</span>  icu::Locale default_locale =</div>
<div class="line"><a id="l01980" name="l01980"></a><span class="lineno"> 1980</span>      icu::Locale::forLanguageTag(isolate-&gt;DefaultLocale(), *status);</div>
<div class="line"><a id="l01981" name="l01981"></a><span class="lineno"> 1981</span>  icu::LocaleMatcher::Builder builder;</div>
<div class="line"><a id="l01982" name="l01982"></a><span class="lineno"> 1982</span>  <span class="keywordflow">if</span> (U_FAILURE(*status)) {</div>
<div class="line"><a id="l01983" name="l01983"></a><span class="lineno"> 1983</span>    <span class="keywordflow">return</span> builder.build(*status);</div>
<div class="line"><a id="l01984" name="l01984"></a><span class="lineno"> 1984</span>  }</div>
<div class="line"><a id="l01985" name="l01985"></a><span class="lineno"> 1985</span>  builder.setDefaultLocale(&amp;default_locale);</div>
<div class="line"><a id="l01986" name="l01986"></a><span class="lineno"> 1986</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = available_locales.begin(); it != available_locales.end();</div>
<div class="line"><a id="l01987" name="l01987"></a><span class="lineno"> 1987</span>       ++it) {</div>
<div class="line"><a id="l01988" name="l01988"></a><span class="lineno"> 1988</span>    *status = U_ZERO_ERROR;</div>
<div class="line"><a id="l01989" name="l01989"></a><span class="lineno"> 1989</span>    icu::Locale l = icu::Locale::forLanguageTag(it-&gt;c_str(), *status);</div>
<div class="line"><a id="l01990" name="l01990"></a><span class="lineno"> 1990</span>    <span class="comment">// skip invalid locale such as no-NO-NY</span></div>
<div class="line"><a id="l01991" name="l01991"></a><span class="lineno"> 1991</span>    <span class="keywordflow">if</span> (U_SUCCESS(*status)) {</div>
<div class="line"><a id="l01992" name="l01992"></a><span class="lineno"> 1992</span>      builder.addSupportedLocale(l);</div>
<div class="line"><a id="l01993" name="l01993"></a><span class="lineno"> 1993</span>    }</div>
<div class="line"><a id="l01994" name="l01994"></a><span class="lineno"> 1994</span>  }</div>
<div class="line"><a id="l01995" name="l01995"></a><span class="lineno"> 1995</span>  <span class="keywordflow">return</span> builder.build(*status);</div>
<div class="line"><a id="l01996" name="l01996"></a><span class="lineno"> 1996</span>}</div>
<div class="line"><a id="l01997" name="l01997"></a><span class="lineno"> 1997</span> </div>
<div class="line"><a id="l01998" name="l01998"></a><span class="lineno"> 1998</span><span class="keyword">class </span>Iterator : <span class="keyword">public</span> icu::Locale::Iterator {</div>
<div class="line"><a id="l01999" name="l01999"></a><span class="lineno"> 1999</span> <span class="keyword">public</span>:</div>
<div class="line"><a id="l02000" name="l02000"></a><span class="lineno"> 2000</span>  Iterator(std::vector&lt;std::string&gt;::const_iterator begin,</div>
<div class="line"><a id="l02001" name="l02001"></a><span class="lineno"> 2001</span>           std::vector&lt;std::string&gt;::const_iterator <a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a>)</div>
<div class="line"><a id="l02002" name="l02002"></a><span class="lineno"> 2002</span>      : <a class="code hl_variable" href="intl-objects_8cc.html#ac3130bc83e33bde22d12e1fea548ee69">iter_</a>(<a class="code hl_function" href="namespacev8_1_1internal_1_1compiler.html#ae72af9053b45630a01be9a6140820b5a">begin</a>), <a class="code hl_variable" href="cppgc_2sweeper_8cc.html#a69a1b0005c5803e98bd8cbe2ef95d570">end_</a>(<a class="code hl_variable" href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a>) {}</div>
<div class="line"><a id="l02003" name="l02003"></a><span class="lineno"> 2003</span>  ~Iterator() <span class="keyword">override</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l02004" name="l02004"></a><span class="lineno"> 2004</span> </div>
<div class="line"><a id="l02005" name="l02005"></a><span class="lineno"> 2005</span>  UBool hasNext()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="intl-objects_8cc.html#ac3130bc83e33bde22d12e1fea548ee69">iter_</a> != <a class="code hl_variable" href="cppgc_2sweeper_8cc.html#a69a1b0005c5803e98bd8cbe2ef95d570">end_</a>; }</div>
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"> 2006</span> </div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"> 2007</span>  <span class="keyword">const</span> icu::Locale&amp; next()<span class="keyword"> override </span>{</div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span>    UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"> 2009</span>    <a class="code hl_variable" href="intl-objects_8cc.html#abd0d4e8fc7ac940c35a627fec8727529">locale_</a> = icu::Locale::forLanguageTag(<a class="code hl_variable" href="intl-objects_8cc.html#ac3130bc83e33bde22d12e1fea548ee69">iter_</a>-&gt;c_str(), status);</div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"> 2010</span>    <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"> 2011</span>    ++<a class="code hl_variable" href="intl-objects_8cc.html#ac3130bc83e33bde22d12e1fea548ee69">iter_</a>;</div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"> 2012</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="intl-objects_8cc.html#abd0d4e8fc7ac940c35a627fec8727529">locale_</a>;</div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"> 2013</span>  }</div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"> 2014</span> </div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"> 2015</span> <span class="keyword">private</span>:</div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"><a class="line" href="intl-objects_8cc.html#ac3130bc83e33bde22d12e1fea548ee69"> 2016</a></span>  std::vector&lt;std::string&gt;::const_iterator <a class="code hl_variable" href="intl-objects_8cc.html#ac3130bc83e33bde22d12e1fea548ee69">iter_</a>;</div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"><a class="line" href="intl-objects_8cc.html#ae3e484d1d5c52965535992cf1ad90596"> 2017</a></span>  std::vector&lt;std::string&gt;::const_iterator <a class="code hl_variable" href="cppgc_2sweeper_8cc.html#a69a1b0005c5803e98bd8cbe2ef95d570">end_</a>;</div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"><a class="line" href="intl-objects_8cc.html#abd0d4e8fc7ac940c35a627fec8727529"> 2018</a></span>  icu::Locale <a class="code hl_variable" href="intl-objects_8cc.html#abd0d4e8fc7ac940c35a627fec8727529">locale_</a>;</div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"> 2019</span>};</div>
<div class="line"><a id="l02020" name="l02020"></a><span class="lineno"> 2020</span> </div>
<div class="line"><a id="l02021" name="l02021"></a><span class="lineno"> 2021</span><span class="comment">// ecma402/#sec-bestfitmatcher</span></div>
<div class="line"><a id="l02022" name="l02022"></a><span class="lineno"> 2022</span><span class="comment">// The BestFitMatcher abstract operation compares requestedLocales, which must</span></div>
<div class="line"><a id="l02023" name="l02023"></a><span class="lineno"> 2023</span><span class="comment">// be a List as returned by CanonicalizeLocaleList, against the locales in</span></div>
<div class="line"><a id="l02024" name="l02024"></a><span class="lineno"> 2024</span><span class="comment">// availableLocales and determines the best available language to meet the</span></div>
<div class="line"><a id="l02025" name="l02025"></a><span class="lineno"> 2025</span><span class="comment">// request. The algorithm is implementation dependent, but should produce</span></div>
<div class="line"><a id="l02026" name="l02026"></a><span class="lineno"> 2026</span><span class="comment">// results that a typical user of the requested locales would perceive</span></div>
<div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span><span class="comment">// as at least as good as those produced by the LookupMatcher abstract</span></div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span><span class="comment">// operation. Options specified through Unicode locale extension sequences must</span></div>
<div class="line"><a id="l02029" name="l02029"></a><span class="lineno"> 2029</span><span class="comment">// be ignored by the algorithm. Information about such subsequences is returned</span></div>
<div class="line"><a id="l02030" name="l02030"></a><span class="lineno"> 2030</span><span class="comment">// separately. The abstract operation returns a record with a [[locale]] field,</span></div>
<div class="line"><a id="l02031" name="l02031"></a><span class="lineno"> 2031</span><span class="comment">// whose value is the language tag of the selected locale, which must be an</span></div>
<div class="line"><a id="l02032" name="l02032"></a><span class="lineno"> 2032</span><span class="comment">// element of availableLocales. If the language tag of the request locale that</span></div>
<div class="line"><a id="l02033" name="l02033"></a><span class="lineno"> 2033</span><span class="comment">// led to the selected locale contained a Unicode locale extension sequence,</span></div>
<div class="line"><a id="l02034" name="l02034"></a><span class="lineno"> 2034</span><span class="comment">// then the returned record also contains an [[extension]] field whose value is</span></div>
<div class="line"><a id="l02035" name="l02035"></a><span class="lineno"> 2035</span><span class="comment">// the first Unicode locale extension sequence within the request locale</span></div>
<div class="line"><a id="l02036" name="l02036"></a><span class="lineno"> 2036</span><span class="comment">// language tag.</span></div>
<div class="line"><a id="l02037" name="l02037"></a><span class="lineno"> 2037</span>std::string BestFitMatcher(Isolate* isolate,</div>
<div class="line"><a id="l02038" name="l02038"></a><span class="lineno"> 2038</span>                           <span class="keyword">const</span> std::set&lt;std::string&gt;&amp; available_locales,</div>
<div class="line"><a id="l02039" name="l02039"></a><span class="lineno"> 2039</span>                           <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; requested_locales) {</div>
<div class="line"><a id="l02040" name="l02040"></a><span class="lineno"> 2040</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02041" name="l02041"></a><span class="lineno"> 2041</span>  Iterator iter(requested_locales.cbegin(), requested_locales.cend());</div>
<div class="line"><a id="l02042" name="l02042"></a><span class="lineno"> 2042</span>  std::string bestfit = BuildLocaleMatcher(isolate, available_locales, &amp;status)</div>
<div class="line"><a id="l02043" name="l02043"></a><span class="lineno"> 2043</span>                            .getBestMatchResult(iter, status)</div>
<div class="line"><a id="l02044" name="l02044"></a><span class="lineno"> 2044</span>                            .makeResolvedLocale(status)</div>
<div class="line"><a id="l02045" name="l02045"></a><span class="lineno"> 2045</span>                            .toLanguageTag&lt;std::string&gt;(<a class="code hl_variable" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a>);</div>
<div class="line"><a id="l02046" name="l02046"></a><span class="lineno"> 2046</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l02047" name="l02047"></a><span class="lineno"> 2047</span>  <span class="keywordflow">return</span> bestfit;</div>
<div class="line"><a id="l02048" name="l02048"></a><span class="lineno"> 2048</span>}</div>
<div class="line"><a id="l02049" name="l02049"></a><span class="lineno"> 2049</span> </div>
<div class="line"><a id="l02050" name="l02050"></a><span class="lineno"> 2050</span><span class="comment">// ECMA 402 9.2.8 BestFitSupportedLocales(availableLocales, requestedLocales)</span></div>
<div class="line"><a id="l02051" name="l02051"></a><span class="lineno"> 2051</span><span class="comment">// https://tc39.github.io/ecma402/#sec-bestfitsupportedlocales</span></div>
<div class="line"><a id="l02052" name="l02052"></a><span class="lineno"> 2052</span>std::vector&lt;std::string&gt; BestFitSupportedLocales(</div>
<div class="line"><a id="l02053" name="l02053"></a><span class="lineno"> 2053</span>    Isolate* isolate, <span class="keyword">const</span> std::set&lt;std::string&gt;&amp; available_locales,</div>
<div class="line"><a id="l02054" name="l02054"></a><span class="lineno"> 2054</span>    <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; requested_locales) {</div>
<div class="line"><a id="l02055" name="l02055"></a><span class="lineno"> 2055</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02056" name="l02056"></a><span class="lineno"> 2056</span>  icu::LocaleMatcher matcher =</div>
<div class="line"><a id="l02057" name="l02057"></a><span class="lineno"> 2057</span>      BuildLocaleMatcher(isolate, available_locales, &amp;status);</div>
<div class="line"><a id="l02058" name="l02058"></a><span class="lineno"> 2058</span>  std::vector&lt;std::string&gt; <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>;</div>
<div class="line"><a id="l02059" name="l02059"></a><span class="lineno"> 2059</span>  <span class="keywordflow">if</span> (U_SUCCESS(status)) {</div>
<div class="line"><a id="l02060" name="l02060"></a><span class="lineno"> 2060</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = requested_locales.cbegin(); it != requested_locales.cend();</div>
<div class="line"><a id="l02061" name="l02061"></a><span class="lineno"> 2061</span>         it++) {</div>
<div class="line"><a id="l02062" name="l02062"></a><span class="lineno"> 2062</span>      status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02063" name="l02063"></a><span class="lineno"> 2063</span>      icu::Locale desired = icu::Locale::forLanguageTag(it-&gt;c_str(), status);</div>
<div class="line"><a id="l02064" name="l02064"></a><span class="lineno"> 2064</span>      icu::LocaleMatcher::Result matched =</div>
<div class="line"><a id="l02065" name="l02065"></a><span class="lineno"> 2065</span>          matcher.getBestMatchResult(desired, status);</div>
<div class="line"><a id="l02066" name="l02066"></a><span class="lineno"> 2066</span>      <span class="keywordflow">if</span> (U_FAILURE(status)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02067" name="l02067"></a><span class="lineno"> 2067</span>      <span class="keywordflow">if</span> (matched.getSupportedIndex() &lt; 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02068" name="l02068"></a><span class="lineno"> 2068</span> </div>
<div class="line"><a id="l02069" name="l02069"></a><span class="lineno"> 2069</span>      <span class="comment">// The BestFitSupportedLocales abstract operation returns the *SUBSET* of</span></div>
<div class="line"><a id="l02070" name="l02070"></a><span class="lineno"> 2070</span>      <span class="comment">// the provided BCP 47 language priority list requestedLocales for which</span></div>
<div class="line"><a id="l02071" name="l02071"></a><span class="lineno"> 2071</span>      <span class="comment">// availableLocales has a matching locale when using the Best Fit Matcher</span></div>
<div class="line"><a id="l02072" name="l02072"></a><span class="lineno"> 2072</span>      <span class="comment">// algorithm. Locales appear in the same order in the returned list as in</span></div>
<div class="line"><a id="l02073" name="l02073"></a><span class="lineno"> 2073</span>      <span class="comment">// requestedLocales. The steps taken are implementation dependent.</span></div>
<div class="line"><a id="l02074" name="l02074"></a><span class="lineno"> 2074</span>      std::string bestfit = desired.toLanguageTag&lt;std::string&gt;(<a class="code hl_variable" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a>);</div>
<div class="line"><a id="l02075" name="l02075"></a><span class="lineno"> 2075</span>      <span class="keywordflow">if</span> (U_FAILURE(status)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02076" name="l02076"></a><span class="lineno"> 2076</span>      <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.<a class="code hl_function" href="classv8_1_1internal_1_1ZoneVector.html#af4d3701d605c7c9ed301a2ef3880784f">push_back</a>(bestfit);</div>
<div class="line"><a id="l02077" name="l02077"></a><span class="lineno"> 2077</span>    }</div>
<div class="line"><a id="l02078" name="l02078"></a><span class="lineno"> 2078</span>  }</div>
<div class="line"><a id="l02079" name="l02079"></a><span class="lineno"> 2079</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>;</div>
<div class="line"><a id="l02080" name="l02080"></a><span class="lineno"> 2080</span>}</div>
<div class="line"><a id="l02081" name="l02081"></a><span class="lineno"> 2081</span> </div>
<div class="line"><a id="l02082" name="l02082"></a><span class="lineno"> 2082</span><span class="comment">// ecma262 #sec-createarrayfromlist</span></div>
<div class="line"><a id="l02083" name="l02083"></a><span class="lineno"> 2083</span>MaybeHandle&lt;JSArray&gt; CreateArrayFromList(Isolate* isolate,</div>
<div class="line"><a id="l02084" name="l02084"></a><span class="lineno"> 2084</span>                                         std::vector&lt;std::string&gt; elements,</div>
<div class="line"><a id="l02085" name="l02085"></a><span class="lineno"> 2085</span>                                         <a class="code hl_enumeration" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">PropertyAttributes</a> attr) {</div>
<div class="line"><a id="l02086" name="l02086"></a><span class="lineno"> 2086</span>  Factory* factory = isolate-&gt;factory();</div>
<div class="line"><a id="l02087" name="l02087"></a><span class="lineno"> 2087</span>  <span class="comment">// Let array be ! ArrayCreate(0).</span></div>
<div class="line"><a id="l02088" name="l02088"></a><span class="lineno"> 2088</span>  Handle&lt;JSArray&gt; array = factory-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Factory.html#a2cca5dfd9ad147ec35310255a69be9d1">NewJSArray</a>(0);</div>
<div class="line"><a id="l02089" name="l02089"></a><span class="lineno"> 2089</span> </div>
<div class="line"><a id="l02090" name="l02090"></a><span class="lineno"> 2090</span>  uint32_t length = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(elements.size());</div>
<div class="line"><a id="l02091" name="l02091"></a><span class="lineno"> 2091</span>  <span class="comment">// 3. Let n be 0.</span></div>
<div class="line"><a id="l02092" name="l02092"></a><span class="lineno"> 2092</span>  <span class="comment">// 4. For each element e of elements, do</span></div>
<div class="line"><a id="l02093" name="l02093"></a><span class="lineno"> 2093</span>  <span class="keywordflow">for</span> (uint32_t <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code hl_variable" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a id="l02094" name="l02094"></a><span class="lineno"> 2094</span>    <span class="comment">// a. Let status be CreateDataProperty(array, ! ToString(n), e).</span></div>
<div class="line"><a id="l02095" name="l02095"></a><span class="lineno"> 2095</span>    <span class="keyword">const</span> std::string&amp; part = elements[<a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>];</div>
<div class="line"><a id="l02096" name="l02096"></a><span class="lineno"> 2096</span>    DirectHandle&lt;String&gt; value =</div>
<div class="line"><a id="l02097" name="l02097"></a><span class="lineno"> 2097</span>        factory-&gt;NewStringFromUtf8(<a class="code hl_function" href="namespacev8_1_1base.html#ab7bb05a38073e903d44170c3fed70276">base::CStrVector</a>(part.c_str()))</div>
<div class="line"><a id="l02098" name="l02098"></a><span class="lineno"> 2098</span>            .ToHandleChecked();</div>
<div class="line"><a id="l02099" name="l02099"></a><span class="lineno"> 2099</span>    <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(<a class="code hl_function" href="classv8_1_1internal_1_1JSObject.html#a9830a0e3f5177b6f3051c826c1a76007">JSObject::AddDataElement</a>(array, <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>, value, attr), {});</div>
<div class="line"><a id="l02100" name="l02100"></a><span class="lineno"> 2100</span>  }</div>
<div class="line"><a id="l02101" name="l02101"></a><span class="lineno"> 2101</span>  <span class="comment">// 5. Return array.</span></div>
<div class="line"><a id="l02102" name="l02102"></a><span class="lineno"> 2102</span>  <span class="keywordflow">return</span> array;</div>
<div class="line"><a id="l02103" name="l02103"></a><span class="lineno"> 2103</span>}</div>
<div class="line"><a id="l02104" name="l02104"></a><span class="lineno"> 2104</span> </div>
<div class="line"><a id="l02105" name="l02105"></a><span class="lineno"> 2105</span><span class="comment">// ECMA 402 9.2.9 SupportedLocales(availableLocales, requestedLocales, options)</span></div>
<div class="line"><a id="l02106" name="l02106"></a><span class="lineno"> 2106</span><span class="comment">// https://tc39.github.io/ecma402/#sec-supportedlocales</span></div>
<div class="line"><a id="l02107" name="l02107"></a><span class="lineno"> 2107</span>MaybeHandle&lt;JSObject&gt; SupportedLocales(</div>
<div class="line"><a id="l02108" name="l02108"></a><span class="lineno"> 2108</span>    Isolate* isolate, <span class="keyword">const</span> <span class="keywordtype">char</span>* method_name,</div>
<div class="line"><a id="l02109" name="l02109"></a><span class="lineno"> 2109</span>    <span class="keyword">const</span> std::set&lt;std::string&gt;&amp; available_locales,</div>
<div class="line"><a id="l02110" name="l02110"></a><span class="lineno"> 2110</span>    <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; requested_locales,</div>
<div class="line"><a id="l02111" name="l02111"></a><span class="lineno"> 2111</span>    DirectHandle&lt;Object&gt; <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>) {</div>
<div class="line"><a id="l02112" name="l02112"></a><span class="lineno"> 2112</span>  std::vector&lt;std::string&gt; supported_locales;</div>
<div class="line"><a id="l02113" name="l02113"></a><span class="lineno"> 2113</span> </div>
<div class="line"><a id="l02114" name="l02114"></a><span class="lineno"> 2114</span>  <span class="comment">// 1. Set options to ? CoerceOptionsToObject(options).</span></div>
<div class="line"><a id="l02115" name="l02115"></a><span class="lineno"> 2115</span>  DirectHandle&lt;JSReceiver&gt; options_obj;</div>
<div class="line"><a id="l02116" name="l02116"></a><span class="lineno"> 2116</span>  <a class="code hl_define" href="execution_2isolate_8h.html#a45bb81ab232e9f2663545ec92dc0b950">ASSIGN_RETURN_ON_EXCEPTION</a>(</div>
<div class="line"><a id="l02117" name="l02117"></a><span class="lineno"> 2117</span>      isolate, options_obj,</div>
<div class="line"><a id="l02118" name="l02118"></a><span class="lineno"> 2118</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#ac4b6b53060a2878af798e2a2ce4e0295">CoerceOptionsToObject</a>(isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, method_name));</div>
<div class="line"><a id="l02119" name="l02119"></a><span class="lineno"> 2119</span> </div>
<div class="line"><a id="l02120" name="l02120"></a><span class="lineno"> 2120</span>  <span class="comment">// 2. Let matcher be ? GetOption(options, &quot;localeMatcher&quot;, &quot;string&quot;,</span></div>
<div class="line"><a id="l02121" name="l02121"></a><span class="lineno"> 2121</span>  <span class="comment">//       Â« &quot;lookup&quot;, &quot;best fit&quot; Â», &quot;best fit&quot;).</span></div>
<div class="line"><a id="l02122" name="l02122"></a><span class="lineno"> 2122</span>  Maybe&lt;Intl::MatcherOption&gt; maybe_locale_matcher =</div>
<div class="line"><a id="l02123" name="l02123"></a><span class="lineno"> 2123</span>      <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#aa65b5c1f434fe74d5fd3e3ac87ca193f">Intl::GetLocaleMatcher</a>(isolate, options_obj, method_name);</div>
<div class="line"><a id="l02124" name="l02124"></a><span class="lineno"> 2124</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_locale_matcher, {});</div>
<div class="line"><a id="l02125" name="l02125"></a><span class="lineno"> 2125</span>  <a class="code hl_enumeration" href="classv8_1_1internal_1_1Intl.html#afb4cf72c66834096fbb2f5c4761d9695">Intl::MatcherOption</a> matcher = maybe_locale_matcher.FromJust();</div>
<div class="line"><a id="l02126" name="l02126"></a><span class="lineno"> 2126</span> </div>
<div class="line"><a id="l02127" name="l02127"></a><span class="lineno"> 2127</span>  <span class="comment">// 3. If matcher is &quot;best fit&quot;, then</span></div>
<div class="line"><a id="l02128" name="l02128"></a><span class="lineno"> 2128</span>  <span class="comment">//    a. Let supportedLocales be BestFitSupportedLocales(availableLocales,</span></div>
<div class="line"><a id="l02129" name="l02129"></a><span class="lineno"> 2129</span>  <span class="comment">//       requestedLocales).</span></div>
<div class="line"><a id="l02130" name="l02130"></a><span class="lineno"> 2130</span>  <span class="keywordflow">if</span> (matcher == <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#afb4cf72c66834096fbb2f5c4761d9695a30fc3b89c9e257abb29b1b1ebf3bd94b">Intl::MatcherOption::kBestFit</a> &amp;&amp;</div>
<div class="line"><a id="l02131" name="l02131"></a><span class="lineno"> 2131</span>      <a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.harmony_intl_best_fit_matcher) {</div>
<div class="line"><a id="l02132" name="l02132"></a><span class="lineno"> 2132</span>    supported_locales =</div>
<div class="line"><a id="l02133" name="l02133"></a><span class="lineno"> 2133</span>        BestFitSupportedLocales(isolate, available_locales, requested_locales);</div>
<div class="line"><a id="l02134" name="l02134"></a><span class="lineno"> 2134</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02135" name="l02135"></a><span class="lineno"> 2135</span>    <span class="comment">// 4. Else,</span></div>
<div class="line"><a id="l02136" name="l02136"></a><span class="lineno"> 2136</span>    <span class="comment">//    a. Let supportedLocales be LookupSupportedLocales(availableLocales,</span></div>
<div class="line"><a id="l02137" name="l02137"></a><span class="lineno"> 2137</span>    <span class="comment">//       requestedLocales).</span></div>
<div class="line"><a id="l02138" name="l02138"></a><span class="lineno"> 2138</span>    supported_locales =</div>
<div class="line"><a id="l02139" name="l02139"></a><span class="lineno"> 2139</span>        LookupSupportedLocales(available_locales, requested_locales);</div>
<div class="line"><a id="l02140" name="l02140"></a><span class="lineno"> 2140</span>  }</div>
<div class="line"><a id="l02141" name="l02141"></a><span class="lineno"> 2141</span> </div>
<div class="line"><a id="l02142" name="l02142"></a><span class="lineno"> 2142</span>  <span class="comment">// 5. Return CreateArrayFromList(supportedLocales).</span></div>
<div class="line"><a id="l02143" name="l02143"></a><span class="lineno"> 2143</span>  <span class="keywordflow">return</span> CreateArrayFromList(isolate, supported_locales,</div>
<div class="line"><a id="l02144" name="l02144"></a><span class="lineno"> 2144</span>                             <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">PropertyAttributes::NONE</a>);</div>
<div class="line"><a id="l02145" name="l02145"></a><span class="lineno"> 2145</span>}</div>
<div class="line"><a id="l02146" name="l02146"></a><span class="lineno"> 2146</span> </div>
<div class="line"><a id="l02147" name="l02147"></a><span class="lineno"> 2147</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l02148" name="l02148"></a><span class="lineno"> 2148</span> </div>
<div class="line"><a id="l02149" name="l02149"></a><span class="lineno"> 2149</span><span class="comment">// ecma-402 #sec-intl.getcanonicallocales</span></div>
<div class="foldopen" id="foldopen02150" data-start="{" data-end="}">
<div class="line"><a id="l02150" name="l02150"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a3dc6a6130251a7802c39faff56732289"> 2150</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;JSArray&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a3dc6a6130251a7802c39faff56732289">Intl::GetCanonicalLocales</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l02151" name="l02151"></a><span class="lineno"> 2151</span>                                               <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> locales) {</div>
<div class="line"><a id="l02152" name="l02152"></a><span class="lineno"> 2152</span>  <span class="comment">// 1. Let ll be ? CanonicalizeLocaleList(locales).</span></div>
<div class="line"><a id="l02153" name="l02153"></a><span class="lineno"> 2153</span>  Maybe&lt;std::vector&lt;std::string&gt;&gt; maybe_ll =</div>
<div class="line"><a id="l02154" name="l02154"></a><span class="lineno"> 2154</span>      <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a48ffe5df7fd26755481624ec3fbc2bd8">CanonicalizeLocaleList</a>(isolate, locales, <span class="keyword">false</span>);</div>
<div class="line"><a id="l02155" name="l02155"></a><span class="lineno"> 2155</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_ll, {});</div>
<div class="line"><a id="l02156" name="l02156"></a><span class="lineno"> 2156</span> </div>
<div class="line"><a id="l02157" name="l02157"></a><span class="lineno"> 2157</span>  <span class="comment">// 2. Return CreateArrayFromList(ll).</span></div>
<div class="line"><a id="l02158" name="l02158"></a><span class="lineno"> 2158</span>  <span class="keywordflow">return</span> CreateArrayFromList(isolate, maybe_ll.FromJust(),</div>
<div class="line"><a id="l02159" name="l02159"></a><span class="lineno"> 2159</span>                             <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">PropertyAttributes::NONE</a>);</div>
<div class="line"><a id="l02160" name="l02160"></a><span class="lineno"> 2160</span>}</div>
</div>
<div class="line"><a id="l02161" name="l02161"></a><span class="lineno"> 2161</span> </div>
<div class="line"><a id="l02162" name="l02162"></a><span class="lineno"> 2162</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l02163" name="l02163"></a><span class="lineno"> 2163</span> </div>
<div class="line"><a id="l02164" name="l02164"></a><span class="lineno"> 2164</span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;JSArray&gt;</a> AvailableCollations(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a id="l02165" name="l02165"></a><span class="lineno"> 2165</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02166" name="l02166"></a><span class="lineno"> 2166</span>  std::unique_ptr&lt;icu::StringEnumeration&gt; enumeration(</div>
<div class="line"><a id="l02167" name="l02167"></a><span class="lineno"> 2167</span>      icu::Collator::getKeywordValues(<span class="stringliteral">&quot;collation&quot;</span>, status));</div>
<div class="line"><a id="l02168" name="l02168"></a><span class="lineno"> 2168</span>  <span class="keywordflow">if</span> (U_FAILURE(status)) {</div>
<div class="line"><a id="l02169" name="l02169"></a><span class="lineno"> 2169</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a6557667dd5be0768bd92d4bfd9a4d70f">THROW_NEW_ERROR</a>(isolate, NewRangeError(MessageTemplate::kIcuError));</div>
<div class="line"><a id="l02170" name="l02170"></a><span class="lineno"> 2170</span>  }</div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"> 2171</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a2cb733cf947e33ffdd766513a091d97f">Intl::ToJSArray</a>(isolate, <span class="stringliteral">&quot;co&quot;</span>, enumeration.get(),</div>
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"> 2172</span>                         <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a46f3677691cf17d37dc4334b72058088">Intl::RemoveCollation</a>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l02173" name="l02173"></a><span class="lineno"> 2173</span>}</div>
<div class="line"><a id="l02174" name="l02174"></a><span class="lineno"> 2174</span> </div>
<div class="line"><a id="l02175" name="l02175"></a><span class="lineno"> 2175</span>MaybeHandle&lt;JSArray&gt; VectorToJSArray(Isolate* isolate,</div>
<div class="line"><a id="l02176" name="l02176"></a><span class="lineno"> 2176</span>                                     <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; array) {</div>
<div class="line"><a id="l02177" name="l02177"></a><span class="lineno"> 2177</span>  Factory* factory = isolate-&gt;factory();</div>
<div class="line"><a id="l02178" name="l02178"></a><span class="lineno"> 2178</span>  DirectHandle&lt;FixedArray&gt; fixed_array =</div>
<div class="line"><a id="l02179" name="l02179"></a><span class="lineno"> 2179</span>      factory-&gt;NewFixedArray(<span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(array.size()));</div>
<div class="line"><a id="l02180" name="l02180"></a><span class="lineno"> 2180</span>  int32_t <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = 0;</div>
<div class="line"><a id="l02181" name="l02181"></a><span class="lineno"> 2181</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> std::string&amp; item : array) {</div>
<div class="line"><a id="l02182" name="l02182"></a><span class="lineno"> 2182</span>    DirectHandle&lt;String&gt; str = factory-&gt;NewStringFromAsciiChecked(item.c_str());</div>
<div class="line"><a id="l02183" name="l02183"></a><span class="lineno"> 2183</span>    fixed_array-&gt;set(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>++, *str);</div>
<div class="line"><a id="l02184" name="l02184"></a><span class="lineno"> 2184</span>  }</div>
<div class="line"><a id="l02185" name="l02185"></a><span class="lineno"> 2185</span>  <span class="keywordflow">return</span> factory-&gt;NewJSArrayWithElements(fixed_array);</div>
<div class="line"><a id="l02186" name="l02186"></a><span class="lineno"> 2186</span>}</div>
<div class="line"><a id="l02187" name="l02187"></a><span class="lineno"> 2187</span> </div>
<div class="line"><a id="l02188" name="l02188"></a><span class="lineno"> 2188</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l02189" name="l02189"></a><span class="lineno"> 2189</span> </div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span><span class="keyword">class </span>ResourceAvailableCurrencies {</div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span> <span class="keyword">public</span>:</div>
<div class="line"><a id="l02192" name="l02192"></a><span class="lineno"> 2192</span>  ResourceAvailableCurrencies() {</div>
<div class="line"><a id="l02193" name="l02193"></a><span class="lineno"> 2193</span>    UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02194" name="l02194"></a><span class="lineno"> 2194</span>    UEnumeration* uenum =</div>
<div class="line"><a id="l02195" name="l02195"></a><span class="lineno"> 2195</span>        ucurr_openISOCurrencies(UCURR_COMMON | UCURR_NON_DEPRECATED, &amp;status);</div>
<div class="line"><a id="l02196" name="l02196"></a><span class="lineno"> 2196</span>    <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l02197" name="l02197"></a><span class="lineno"> 2197</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* next = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l02198" name="l02198"></a><span class="lineno"> 2198</span>    <span class="keywordflow">while</span> (U_SUCCESS(status) &amp;&amp;</div>
<div class="line"><a id="l02199" name="l02199"></a><span class="lineno"> 2199</span>           (next = uenum_next(uenum, <span class="keyword">nullptr</span>, &amp;status)) != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l02200" name="l02200"></a><span class="lineno"> 2200</span>      <span class="comment">// Work around the issue that we do not support VEF currency code</span></div>
<div class="line"><a id="l02201" name="l02201"></a><span class="lineno"> 2201</span>      <span class="comment">// in DisplayNames by not reporting it.</span></div>
<div class="line"><a id="l02202" name="l02202"></a><span class="lineno"> 2202</span>      <span class="keywordflow">if</span> (strcmp(next, <span class="stringliteral">&quot;VEF&quot;</span>) == 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02203" name="l02203"></a><span class="lineno"> 2203</span>      AddIfAvailable(next);</div>
<div class="line"><a id="l02204" name="l02204"></a><span class="lineno"> 2204</span>    }</div>
<div class="line"><a id="l02205" name="l02205"></a><span class="lineno"> 2205</span>    <span class="comment">// Work around the issue that we do support the following currency codes</span></div>
<div class="line"><a id="l02206" name="l02206"></a><span class="lineno"> 2206</span>    <span class="comment">// in DisplayNames but the ICU API is not reporting it.</span></div>
<div class="line"><a id="l02207" name="l02207"></a><span class="lineno"> 2207</span>    AddIfAvailable(<span class="stringliteral">&quot;SVC&quot;</span>);</div>
<div class="line"><a id="l02208" name="l02208"></a><span class="lineno"> 2208</span>    AddIfAvailable(<span class="stringliteral">&quot;XDR&quot;</span>);</div>
<div class="line"><a id="l02209" name="l02209"></a><span class="lineno"> 2209</span>    AddIfAvailable(<span class="stringliteral">&quot;XSU&quot;</span>);</div>
<div class="line"><a id="l02210" name="l02210"></a><span class="lineno"> 2210</span>    AddIfAvailable(<span class="stringliteral">&quot;ZWL&quot;</span>);</div>
<div class="line"><a id="l02211" name="l02211"></a><span class="lineno"> 2211</span>    std::sort(<a class="code hl_variable" href="intl-objects_8cc.html#a536d73933533b7bcb772081438fa8dae">list_</a>.begin(), <a class="code hl_variable" href="intl-objects_8cc.html#a536d73933533b7bcb772081438fa8dae">list_</a>.end());</div>
<div class="line"><a id="l02212" name="l02212"></a><span class="lineno"> 2212</span>    uenum_close(uenum);</div>
<div class="line"><a id="l02213" name="l02213"></a><span class="lineno"> 2213</span>  }</div>
<div class="line"><a id="l02214" name="l02214"></a><span class="lineno"> 2214</span> </div>
<div class="line"><a id="l02215" name="l02215"></a><span class="lineno"> 2215</span>  <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; <a class="code hl_function" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">Get</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="intl-objects_8cc.html#a536d73933533b7bcb772081438fa8dae">list_</a>; }</div>
<div class="line"><a id="l02216" name="l02216"></a><span class="lineno"> 2216</span> </div>
<div class="line"><a id="l02217" name="l02217"></a><span class="lineno"> 2217</span>  <span class="keywordtype">void</span> AddIfAvailable(<span class="keyword">const</span> <span class="keywordtype">char</span>* currency) {</div>
<div class="line"><a id="l02218" name="l02218"></a><span class="lineno"> 2218</span>    icu::UnicodeString <a class="code hl_variable" href="code-reference_8cc.html#aeaf31c189d3b2a89ff45fedfceb87d9d">code</a>(currency, -1, US_INV);</div>
<div class="line"><a id="l02219" name="l02219"></a><span class="lineno"> 2219</span>    UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02220" name="l02220"></a><span class="lineno"> 2220</span>    <a class="code hl_typedef" href="namespaceunibrow.html#a67de744730c9fed24aa185ab5747772c">int32_t</a> len = 0;</div>
<div class="line"><a id="l02221" name="l02221"></a><span class="lineno"> 2221</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="namespacev8__inspector.html#a1eb8efdf7c70d986fee8e0dea03ff534">UChar</a>* <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> =</div>
<div class="line"><a id="l02222" name="l02222"></a><span class="lineno"> 2222</span>        ucurr_getName(code.getTerminatedBuffer(), <span class="stringliteral">&quot;en&quot;</span>, UCURR_LONG_NAME,</div>
<div class="line"><a id="l02223" name="l02223"></a><span class="lineno"> 2223</span>                      <span class="keyword">nullptr</span>, &amp;len, &amp;status);</div>
<div class="line"><a id="l02224" name="l02224"></a><span class="lineno"> 2224</span>    <span class="keywordflow">if</span> (U_SUCCESS(status) &amp;&amp;</div>
<div class="line"><a id="l02225" name="l02225"></a><span class="lineno"> 2225</span>        u_strcmp(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>, code.getTerminatedBuffer()) != 0) {</div>
<div class="line"><a id="l02226" name="l02226"></a><span class="lineno"> 2226</span>      <a class="code hl_variable" href="intl-objects_8cc.html#a536d73933533b7bcb772081438fa8dae">list_</a>.push_back(currency);</div>
<div class="line"><a id="l02227" name="l02227"></a><span class="lineno"> 2227</span>    }</div>
<div class="line"><a id="l02228" name="l02228"></a><span class="lineno"> 2228</span>  }</div>
<div class="line"><a id="l02229" name="l02229"></a><span class="lineno"> 2229</span> </div>
<div class="line"><a id="l02230" name="l02230"></a><span class="lineno"> 2230</span> <span class="keyword">private</span>:</div>
<div class="line"><a id="l02231" name="l02231"></a><span class="lineno"><a class="line" href="intl-objects_8cc.html#a536d73933533b7bcb772081438fa8dae"> 2231</a></span>  std::vector&lt;std::string&gt; <a class="code hl_variable" href="intl-objects_8cc.html#a536d73933533b7bcb772081438fa8dae">list_</a>;</div>
<div class="line"><a id="l02232" name="l02232"></a><span class="lineno"> 2232</span>};</div>
<div class="line"><a id="l02233" name="l02233"></a><span class="lineno"> 2233</span> </div>
<div class="line"><a id="l02234" name="l02234"></a><span class="lineno"> 2234</span><span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; GetAvailableCurrencies() {</div>
<div class="line"><a id="l02235" name="l02235"></a><span class="lineno"> 2235</span>  <span class="keyword">static</span> <a class="code hl_typedef" href="structv8_1_1base_1_1LazyInstance.html#a646dc09a6f18981f98a113cfbbefb8c8">base::LazyInstance&lt;ResourceAvailableCurrencies&gt;::type</a></div>
<div class="line"><a id="l02236" name="l02236"></a><span class="lineno"> 2236</span>      available_currencies = <a class="code hl_define" href="lazy-instance_8h.html#a1e27ae5d78f6269b5cbe602f43c91377">LAZY_INSTANCE_INITIALIZER</a>;</div>
<div class="line"><a id="l02237" name="l02237"></a><span class="lineno"> 2237</span>  <span class="keywordflow">return</span> available_currencies.Pointer()-&gt;Get();</div>
<div class="line"><a id="l02238" name="l02238"></a><span class="lineno"> 2238</span>}</div>
<div class="line"><a id="l02239" name="l02239"></a><span class="lineno"> 2239</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l02240" name="l02240"></a><span class="lineno"> 2240</span> </div>
<div class="line"><a id="l02241" name="l02241"></a><span class="lineno"> 2241</span>MaybeHandle&lt;JSArray&gt; AvailableCurrencies(Isolate* isolate) {</div>
<div class="line"><a id="l02242" name="l02242"></a><span class="lineno"> 2242</span>  <span class="keywordflow">return</span> VectorToJSArray(isolate, GetAvailableCurrencies());</div>
<div class="line"><a id="l02243" name="l02243"></a><span class="lineno"> 2243</span>}</div>
<div class="line"><a id="l02244" name="l02244"></a><span class="lineno"> 2244</span> </div>
<div class="line"><a id="l02245" name="l02245"></a><span class="lineno"> 2245</span>MaybeHandle&lt;JSArray&gt; AvailableNumberingSystems(Isolate* isolate) {</div>
<div class="line"><a id="l02246" name="l02246"></a><span class="lineno"> 2246</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02247" name="l02247"></a><span class="lineno"> 2247</span>  std::unique_ptr&lt;icu::StringEnumeration&gt; enumeration(</div>
<div class="line"><a id="l02248" name="l02248"></a><span class="lineno"> 2248</span>      icu::NumberingSystem::getAvailableNames(status));</div>
<div class="line"><a id="l02249" name="l02249"></a><span class="lineno"> 2249</span>  <span class="keywordflow">if</span> (U_FAILURE(status)) {</div>
<div class="line"><a id="l02250" name="l02250"></a><span class="lineno"> 2250</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a6557667dd5be0768bd92d4bfd9a4d70f">THROW_NEW_ERROR</a>(isolate, NewRangeError(MessageTemplate::kIcuError));</div>
<div class="line"><a id="l02251" name="l02251"></a><span class="lineno"> 2251</span>  }</div>
<div class="line"><a id="l02252" name="l02252"></a><span class="lineno"> 2252</span>  <span class="comment">// Need to filter out isAlgorithmic</span></div>
<div class="line"><a id="l02253" name="l02253"></a><span class="lineno"> 2253</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a2cb733cf947e33ffdd766513a091d97f">Intl::ToJSArray</a>(</div>
<div class="line"><a id="l02254" name="l02254"></a><span class="lineno"> 2254</span>      isolate, <span class="stringliteral">&quot;nu&quot;</span>, enumeration.get(),</div>
<div class="line"><a id="l02255" name="l02255"></a><span class="lineno"> 2255</span>      [](<span class="keyword">const</span> <span class="keywordtype">char</span>* value) {</div>
<div class="line"><a id="l02256" name="l02256"></a><span class="lineno"> 2256</span>        UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02257" name="l02257"></a><span class="lineno"> 2257</span>        std::unique_ptr&lt;icu::NumberingSystem&gt; numbering_system(</div>
<div class="line"><a id="l02258" name="l02258"></a><span class="lineno"> 2258</span>            icu::NumberingSystem::createInstanceByName(value, status));</div>
<div class="line"><a id="l02259" name="l02259"></a><span class="lineno"> 2259</span>        <span class="comment">// Skip algorithmic one since chrome filter out the resource.</span></div>
<div class="line"><a id="l02260" name="l02260"></a><span class="lineno"> 2260</span>        return U_FAILURE(status) || numbering_system-&gt;isAlgorithmic();</div>
<div class="line"><a id="l02261" name="l02261"></a><span class="lineno"> 2261</span>      },</div>
<div class="line"><a id="l02262" name="l02262"></a><span class="lineno"> 2262</span>      <span class="keyword">true</span>);</div>
<div class="line"><a id="l02263" name="l02263"></a><span class="lineno"> 2263</span>}</div>
<div class="line"><a id="l02264" name="l02264"></a><span class="lineno"> 2264</span> </div>
<div class="line"><a id="l02265" name="l02265"></a><span class="lineno"> 2265</span>MaybeHandle&lt;JSArray&gt; AvailableTimeZones(Isolate* isolate) {</div>
<div class="line"><a id="l02266" name="l02266"></a><span class="lineno"> 2266</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02267" name="l02267"></a><span class="lineno"> 2267</span>  std::unique_ptr&lt;icu::StringEnumeration&gt; enumeration(</div>
<div class="line"><a id="l02268" name="l02268"></a><span class="lineno"> 2268</span>      icu::TimeZone::createTimeZoneIDEnumeration(</div>
<div class="line"><a id="l02269" name="l02269"></a><span class="lineno"> 2269</span>          UCAL_ZONE_TYPE_CANONICAL_LOCATION, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, status));</div>
<div class="line"><a id="l02270" name="l02270"></a><span class="lineno"> 2270</span>  <span class="keywordflow">if</span> (U_FAILURE(status)) {</div>
<div class="line"><a id="l02271" name="l02271"></a><span class="lineno"> 2271</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a6557667dd5be0768bd92d4bfd9a4d70f">THROW_NEW_ERROR</a>(isolate, NewRangeError(MessageTemplate::kIcuError));</div>
<div class="line"><a id="l02272" name="l02272"></a><span class="lineno"> 2272</span>  }</div>
<div class="line"><a id="l02273" name="l02273"></a><span class="lineno"> 2273</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a2cb733cf947e33ffdd766513a091d97f">Intl::ToJSArray</a>(isolate, <span class="keyword">nullptr</span>, enumeration.get(), <span class="keyword">nullptr</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l02274" name="l02274"></a><span class="lineno"> 2274</span>}</div>
<div class="line"><a id="l02275" name="l02275"></a><span class="lineno"> 2275</span> </div>
<div class="line"><a id="l02276" name="l02276"></a><span class="lineno"> 2276</span>MaybeHandle&lt;JSArray&gt; AvailableUnits(Isolate* isolate) {</div>
<div class="line"><a id="l02277" name="l02277"></a><span class="lineno"> 2277</span>  Factory* factory = isolate-&gt;factory();</div>
<div class="line"><a id="l02278" name="l02278"></a><span class="lineno"> 2278</span>  std::set&lt;std::string&gt; sanctioned(<a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a67e63e5924b051ec9a421a7180f04dbc">Intl::SanctionedSimpleUnits</a>());</div>
<div class="line"><a id="l02279" name="l02279"></a><span class="lineno"> 2279</span>  DirectHandle&lt;FixedArray&gt; fixed_array =</div>
<div class="line"><a id="l02280" name="l02280"></a><span class="lineno"> 2280</span>      factory-&gt;NewFixedArray(<span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="namespaceunibrow.html#a67de744730c9fed24aa185ab5747772c">int32_t</a><span class="keyword">&gt;</span>(sanctioned.size()));</div>
<div class="line"><a id="l02281" name="l02281"></a><span class="lineno"> 2281</span>  <a class="code hl_typedef" href="namespaceunibrow.html#a67de744730c9fed24aa185ab5747772c">int32_t</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = 0;</div>
<div class="line"><a id="l02282" name="l02282"></a><span class="lineno"> 2282</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> std::string&amp; item : sanctioned) {</div>
<div class="line"><a id="l02283" name="l02283"></a><span class="lineno"> 2283</span>    DirectHandle&lt;String&gt; str = factory-&gt;NewStringFromAsciiChecked(item.c_str());</div>
<div class="line"><a id="l02284" name="l02284"></a><span class="lineno"> 2284</span>    fixed_array-&gt;set(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>++, *str);</div>
<div class="line"><a id="l02285" name="l02285"></a><span class="lineno"> 2285</span>  }</div>
<div class="line"><a id="l02286" name="l02286"></a><span class="lineno"> 2286</span>  <span class="keywordflow">return</span> factory-&gt;NewJSArrayWithElements(fixed_array);</div>
<div class="line"><a id="l02287" name="l02287"></a><span class="lineno"> 2287</span>}</div>
<div class="line"><a id="l02288" name="l02288"></a><span class="lineno"> 2288</span> </div>
<div class="line"><a id="l02289" name="l02289"></a><span class="lineno"> 2289</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l02290" name="l02290"></a><span class="lineno"> 2290</span> </div>
<div class="line"><a id="l02291" name="l02291"></a><span class="lineno"> 2291</span><span class="comment">// ecma-402 #sec-intl.supportedvaluesof</span></div>
<div class="foldopen" id="foldopen02292" data-start="{" data-end="}">
<div class="line"><a id="l02292" name="l02292"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#ae621a902ca8fbf3f22e080a8e77218b6"> 2292</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;JSArray&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#ae621a902ca8fbf3f22e080a8e77218b6">Intl::SupportedValuesOf</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l02293" name="l02293"></a><span class="lineno"> 2293</span>                                             <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> key_obj) {</div>
<div class="line"><a id="l02294" name="l02294"></a><span class="lineno"> 2294</span>  <a class="code hl_class" href="classv8_1_1internal_1_1Factory.html">Factory</a>* factory = isolate-&gt;factory();</div>
<div class="line"><a id="l02295" name="l02295"></a><span class="lineno"> 2295</span>  <span class="comment">// 1. 1. Let key be ? ToString(key).</span></div>
<div class="line"><a id="l02296" name="l02296"></a><span class="lineno"> 2296</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> key_str;</div>
<div class="line"><a id="l02297" name="l02297"></a><span class="lineno"> 2297</span>  <a class="code hl_define" href="execution_2isolate_8h.html#a45bb81ab232e9f2663545ec92dc0b950">ASSIGN_RETURN_ON_EXCEPTION</a>(isolate, key_str,</div>
<div class="line"><a id="l02298" name="l02298"></a><span class="lineno"> 2298</span>                             <a class="code hl_function" href="classv8_1_1internal_1_1Object.html#a24c860a62ca3b03ee46753897d04a1ec">Object::ToString</a>(isolate, key_obj));</div>
<div class="line"><a id="l02299" name="l02299"></a><span class="lineno"> 2299</span>  <span class="comment">// 2. If key is &quot;calendar&quot;, then</span></div>
<div class="line"><a id="l02300" name="l02300"></a><span class="lineno"> 2300</span>  <span class="keywordflow">if</span> (factory-&gt;calendar_string()-&gt;Equals(*key_str)) {</div>
<div class="line"><a id="l02301" name="l02301"></a><span class="lineno"> 2301</span>    <span class="comment">// a. Let list be ! AvailableCalendars( ).</span></div>
<div class="line"><a id="l02302" name="l02302"></a><span class="lineno"> 2302</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#ae29398af686a057949f69be62aff7de2">Intl::AvailableCalendars</a>(isolate);</div>
<div class="line"><a id="l02303" name="l02303"></a><span class="lineno"> 2303</span>  }</div>
<div class="line"><a id="l02304" name="l02304"></a><span class="lineno"> 2304</span>  <span class="comment">// 3. Else if key is &quot;collation&quot;, then</span></div>
<div class="line"><a id="l02305" name="l02305"></a><span class="lineno"> 2305</span>  <span class="keywordflow">if</span> (factory-&gt;collation_string()-&gt;Equals(*key_str)) {</div>
<div class="line"><a id="l02306" name="l02306"></a><span class="lineno"> 2306</span>    <span class="comment">// a. Let list be ! AvailableCollations( ).</span></div>
<div class="line"><a id="l02307" name="l02307"></a><span class="lineno"> 2307</span>    <span class="keywordflow">return</span> AvailableCollations(isolate);</div>
<div class="line"><a id="l02308" name="l02308"></a><span class="lineno"> 2308</span>  }</div>
<div class="line"><a id="l02309" name="l02309"></a><span class="lineno"> 2309</span>  <span class="comment">// 4. Else if key is &quot;currency&quot;, then</span></div>
<div class="line"><a id="l02310" name="l02310"></a><span class="lineno"> 2310</span>  <span class="keywordflow">if</span> (factory-&gt;currency_string()-&gt;Equals(*key_str)) {</div>
<div class="line"><a id="l02311" name="l02311"></a><span class="lineno"> 2311</span>    <span class="comment">// a. Let list be ! AvailableCurrencies( ).</span></div>
<div class="line"><a id="l02312" name="l02312"></a><span class="lineno"> 2312</span>    <span class="keywordflow">return</span> AvailableCurrencies(isolate);</div>
<div class="line"><a id="l02313" name="l02313"></a><span class="lineno"> 2313</span>  }</div>
<div class="line"><a id="l02314" name="l02314"></a><span class="lineno"> 2314</span>  <span class="comment">// 5. Else if key is &quot;numberingSystem&quot;, then</span></div>
<div class="line"><a id="l02315" name="l02315"></a><span class="lineno"> 2315</span>  <span class="keywordflow">if</span> (factory-&gt;numberingSystem_string()-&gt;Equals(*key_str)) {</div>
<div class="line"><a id="l02316" name="l02316"></a><span class="lineno"> 2316</span>    <span class="comment">// a. Let list be ! AvailableNumberingSystems( ).</span></div>
<div class="line"><a id="l02317" name="l02317"></a><span class="lineno"> 2317</span>    <span class="keywordflow">return</span> AvailableNumberingSystems(isolate);</div>
<div class="line"><a id="l02318" name="l02318"></a><span class="lineno"> 2318</span>  }</div>
<div class="line"><a id="l02319" name="l02319"></a><span class="lineno"> 2319</span>  <span class="comment">// 6. Else if key is &quot;timeZone&quot;, then</span></div>
<div class="line"><a id="l02320" name="l02320"></a><span class="lineno"> 2320</span>  <span class="keywordflow">if</span> (factory-&gt;timeZone_string()-&gt;Equals(*key_str)) {</div>
<div class="line"><a id="l02321" name="l02321"></a><span class="lineno"> 2321</span>    <span class="comment">// a. Let list be ! AvailableTimeZones( ).</span></div>
<div class="line"><a id="l02322" name="l02322"></a><span class="lineno"> 2322</span>    <span class="keywordflow">return</span> AvailableTimeZones(isolate);</div>
<div class="line"><a id="l02323" name="l02323"></a><span class="lineno"> 2323</span>  }</div>
<div class="line"><a id="l02324" name="l02324"></a><span class="lineno"> 2324</span>  <span class="comment">// 7. Else if key is &quot;unit&quot;, then</span></div>
<div class="line"><a id="l02325" name="l02325"></a><span class="lineno"> 2325</span>  <span class="keywordflow">if</span> (factory-&gt;unit_string()-&gt;Equals(*key_str)) {</div>
<div class="line"><a id="l02326" name="l02326"></a><span class="lineno"> 2326</span>    <span class="comment">// a. Let list be ! AvailableUnits( ).</span></div>
<div class="line"><a id="l02327" name="l02327"></a><span class="lineno"> 2327</span>    <span class="keywordflow">return</span> AvailableUnits(isolate);</div>
<div class="line"><a id="l02328" name="l02328"></a><span class="lineno"> 2328</span>  }</div>
<div class="line"><a id="l02329" name="l02329"></a><span class="lineno"> 2329</span>  <span class="comment">// 8. Else,</span></div>
<div class="line"><a id="l02330" name="l02330"></a><span class="lineno"> 2330</span>  <span class="comment">// a. Throw a RangeError exception.</span></div>
<div class="line"><a id="l02331" name="l02331"></a><span class="lineno"> 2331</span>  <span class="comment">// 9. Return ! CreateArrayFromList( list ).</span></div>
<div class="line"><a id="l02332" name="l02332"></a><span class="lineno"> 2332</span> </div>
<div class="line"><a id="l02333" name="l02333"></a><span class="lineno"> 2333</span>  <a class="code hl_define" href="execution_2isolate_8h.html#a6557667dd5be0768bd92d4bfd9a4d70f">THROW_NEW_ERROR</a>(</div>
<div class="line"><a id="l02334" name="l02334"></a><span class="lineno"> 2334</span>      isolate,</div>
<div class="line"><a id="l02335" name="l02335"></a><span class="lineno"> 2335</span>      NewRangeError(MessageTemplate::kInvalid,</div>
<div class="line"><a id="l02336" name="l02336"></a><span class="lineno"> 2336</span>                    factory-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1Factory.html#ace270af0020cf32252f584a9608ded99">NewStringFromStaticChars</a>(<span class="stringliteral">&quot;key&quot;</span>), key_str));</div>
<div class="line"><a id="l02337" name="l02337"></a><span class="lineno"> 2337</span>}</div>
</div>
<div class="line"><a id="l02338" name="l02338"></a><span class="lineno"> 2338</span> </div>
<div class="line"><a id="l02339" name="l02339"></a><span class="lineno"> 2339</span><span class="comment">// ECMA 402 Intl.*.supportedLocalesOf</span></div>
<div class="foldopen" id="foldopen02340" data-start="{" data-end="}">
<div class="line"><a id="l02340" name="l02340"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#ac3300d725bcaca7c458354187ec56c4d"> 2340</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;JSObject&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#ac3300d725bcaca7c458354187ec56c4d">Intl::SupportedLocalesOf</a>(</div>
<div class="line"><a id="l02341" name="l02341"></a><span class="lineno"> 2341</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> <span class="keywordtype">char</span>* method_name,</div>
<div class="line"><a id="l02342" name="l02342"></a><span class="lineno"> 2342</span>    <span class="keyword">const</span> std::set&lt;std::string&gt;&amp; available_locales,</div>
<div class="line"><a id="l02343" name="l02343"></a><span class="lineno"> 2343</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> locales, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>) {</div>
<div class="line"><a id="l02344" name="l02344"></a><span class="lineno"> 2344</span>  <span class="comment">// Let availableLocales be %Collator%.[[AvailableLocales]].</span></div>
<div class="line"><a id="l02345" name="l02345"></a><span class="lineno"> 2345</span> </div>
<div class="line"><a id="l02346" name="l02346"></a><span class="lineno"> 2346</span>  <span class="comment">// Let requestedLocales be ? CanonicalizeLocaleList(locales).</span></div>
<div class="line"><a id="l02347" name="l02347"></a><span class="lineno"> 2347</span>  Maybe&lt;std::vector&lt;std::string&gt;&gt; requested_locales =</div>
<div class="line"><a id="l02348" name="l02348"></a><span class="lineno"> 2348</span>      <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a48ffe5df7fd26755481624ec3fbc2bd8">CanonicalizeLocaleList</a>(isolate, locales, <span class="keyword">false</span>);</div>
<div class="line"><a id="l02349" name="l02349"></a><span class="lineno"> 2349</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(requested_locales, {});</div>
<div class="line"><a id="l02350" name="l02350"></a><span class="lineno"> 2350</span> </div>
<div class="line"><a id="l02351" name="l02351"></a><span class="lineno"> 2351</span>  <span class="comment">// Return ? SupportedLocales(availableLocales, requestedLocales, options).</span></div>
<div class="line"><a id="l02352" name="l02352"></a><span class="lineno"> 2352</span>  <span class="keywordflow">return</span> SupportedLocales(isolate, method_name, available_locales,</div>
<div class="line"><a id="l02353" name="l02353"></a><span class="lineno"> 2353</span>                          requested_locales.FromJust(), <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>);</div>
<div class="line"><a id="l02354" name="l02354"></a><span class="lineno"> 2354</span>}</div>
</div>
<div class="line"><a id="l02355" name="l02355"></a><span class="lineno"> 2355</span> </div>
<div class="line"><a id="l02356" name="l02356"></a><span class="lineno"> 2356</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l02357" name="l02357"></a><span class="lineno"> 2357</span> </div>
<div class="line"><a id="l02358" name="l02358"></a><span class="lineno"> 2358</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a id="l02359" name="l02359"></a><span class="lineno"> 2359</span><span class="keywordtype">bool</span> IsValidExtension(<span class="keyword">const</span> icu::Locale&amp; locale, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>,</div>
<div class="line"><a id="l02360" name="l02360"></a><span class="lineno"> 2360</span>                      <span class="keyword">const</span> std::string&amp; value) {</div>
<div class="line"><a id="l02361" name="l02361"></a><span class="lineno"> 2361</span>  <span class="keyword">const</span> <span class="keywordtype">char</span>* legacy_type = uloc_toLegacyType(<a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, value.c_str());</div>
<div class="line"><a id="l02362" name="l02362"></a><span class="lineno"> 2362</span>  <span class="keywordflow">if</span> (legacy_type == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l02363" name="l02363"></a><span class="lineno"> 2363</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02364" name="l02364"></a><span class="lineno"> 2364</span>  }</div>
<div class="line"><a id="l02365" name="l02365"></a><span class="lineno"> 2365</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02366" name="l02366"></a><span class="lineno"> 2366</span>  std::unique_ptr&lt;icu::StringEnumeration&gt; enumeration(</div>
<div class="line"><a id="l02367" name="l02367"></a><span class="lineno"> 2367</span>      T::getKeywordValuesForLocale(<a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, icu::Locale(locale.getBaseName()),</div>
<div class="line"><a id="l02368" name="l02368"></a><span class="lineno"> 2368</span>                                   <span class="keyword">false</span>, status));</div>
<div class="line"><a id="l02369" name="l02369"></a><span class="lineno"> 2369</span>  <span class="keywordflow">if</span> (U_FAILURE(status)) {</div>
<div class="line"><a id="l02370" name="l02370"></a><span class="lineno"> 2370</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02371" name="l02371"></a><span class="lineno"> 2371</span>  }</div>
<div class="line"><a id="l02372" name="l02372"></a><span class="lineno"> 2372</span>  int32_t <a class="code hl_variable" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a id="l02373" name="l02373"></a><span class="lineno"> 2373</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keywordtype">char</span>* item = enumeration-&gt;next(&amp;length, status);</div>
<div class="line"><a id="l02374" name="l02374"></a><span class="lineno"> 2374</span>       U_SUCCESS(status) &amp;&amp; item != <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l02375" name="l02375"></a><span class="lineno"> 2375</span>       item = enumeration-&gt;next(&amp;length, status)) {</div>
<div class="line"><a id="l02376" name="l02376"></a><span class="lineno"> 2376</span>    <span class="keywordflow">if</span> (strcmp(legacy_type, item) == 0) {</div>
<div class="line"><a id="l02377" name="l02377"></a><span class="lineno"> 2377</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02378" name="l02378"></a><span class="lineno"> 2378</span>    }</div>
<div class="line"><a id="l02379" name="l02379"></a><span class="lineno"> 2379</span>  }</div>
<div class="line"><a id="l02380" name="l02380"></a><span class="lineno"> 2380</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02381" name="l02381"></a><span class="lineno"> 2381</span>}</div>
<div class="line"><a id="l02382" name="l02382"></a><span class="lineno"> 2382</span> </div>
<div class="line"><a id="l02383" name="l02383"></a><span class="lineno"> 2383</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l02384" name="l02384"></a><span class="lineno"> 2384</span> </div>
<div class="foldopen" id="foldopen02385" data-start="{" data-end="}">
<div class="line"><a id="l02385" name="l02385"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a4e83e9ef05e4eb5b5377ad723fbbbb72"> 2385</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a4e83e9ef05e4eb5b5377ad723fbbbb72">Intl::IsValidCollation</a>(<span class="keyword">const</span> icu::Locale&amp; locale,</div>
<div class="line"><a id="l02386" name="l02386"></a><span class="lineno"> 2386</span>                            <span class="keyword">const</span> std::string&amp; value) {</div>
<div class="line"><a id="l02387" name="l02387"></a><span class="lineno"> 2387</span>  std::set&lt;std::string&gt; invalid_values = {<span class="stringliteral">&quot;standard&quot;</span>, <span class="stringliteral">&quot;search&quot;</span>};</div>
<div class="line"><a id="l02388" name="l02388"></a><span class="lineno"> 2388</span>  <span class="keywordflow">if</span> (invalid_values.find(value) != invalid_values.end()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02389" name="l02389"></a><span class="lineno"> 2389</span>  <span class="keywordflow">return</span> IsValidExtension&lt;icu::Collator&gt;(locale, <span class="stringliteral">&quot;collation&quot;</span>, value);</div>
<div class="line"><a id="l02390" name="l02390"></a><span class="lineno"> 2390</span>}</div>
</div>
<div class="line"><a id="l02391" name="l02391"></a><span class="lineno"> 2391</span> </div>
<div class="foldopen" id="foldopen02392" data-start="{" data-end="}">
<div class="line"><a id="l02392" name="l02392"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#ab6258287e9866b1ce2d333b9a9602031"> 2392</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#ab6258287e9866b1ce2d333b9a9602031">Intl::IsWellFormedCalendar</a>(<span class="keyword">const</span> std::string&amp; value) {</div>
<div class="line"><a id="l02393" name="l02393"></a><span class="lineno"> 2393</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1JSLocale.html#a0ed8253c2e078ad80fe06d4337235941">JSLocale::Is38AlphaNumList</a>(value);</div>
<div class="line"><a id="l02394" name="l02394"></a><span class="lineno"> 2394</span>}</div>
</div>
<div class="line"><a id="l02395" name="l02395"></a><span class="lineno"> 2395</span> </div>
<div class="line"><a id="l02396" name="l02396"></a><span class="lineno"> 2396</span><span class="comment">// ecma402/#sec-iswellformedcurrencycode</span></div>
<div class="foldopen" id="foldopen02397" data-start="{" data-end="}">
<div class="line"><a id="l02397" name="l02397"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a1a9d3c69c5e35a6477cdcaa0a7797695"> 2397</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a1a9d3c69c5e35a6477cdcaa0a7797695">Intl::IsWellFormedCurrency</a>(<span class="keyword">const</span> std::string&amp; currency) {</div>
<div class="line"><a id="l02398" name="l02398"></a><span class="lineno"> 2398</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1JSLocale.html#a65817bbdc2e2092f28d30edf504df961">JSLocale::Is3Alpha</a>(currency);</div>
<div class="line"><a id="l02399" name="l02399"></a><span class="lineno"> 2399</span>}</div>
</div>
<div class="line"><a id="l02400" name="l02400"></a><span class="lineno"> 2400</span> </div>
<div class="foldopen" id="foldopen02401" data-start="{" data-end="}">
<div class="line"><a id="l02401" name="l02401"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a1770adc9a80ea7435b80af94572d6e1d"> 2401</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a1770adc9a80ea7435b80af94572d6e1d">Intl::IsValidCalendar</a>(<span class="keyword">const</span> icu::Locale&amp; locale,</div>
<div class="line"><a id="l02402" name="l02402"></a><span class="lineno"> 2402</span>                           <span class="keyword">const</span> std::string&amp; value) {</div>
<div class="line"><a id="l02403" name="l02403"></a><span class="lineno"> 2403</span>  <span class="keywordflow">return</span> IsValidExtension&lt;icu::Calendar&gt;(locale, <span class="stringliteral">&quot;calendar&quot;</span>, value);</div>
<div class="line"><a id="l02404" name="l02404"></a><span class="lineno"> 2404</span>}</div>
</div>
<div class="line"><a id="l02405" name="l02405"></a><span class="lineno"> 2405</span> </div>
<div class="foldopen" id="foldopen02406" data-start="{" data-end="}">
<div class="line"><a id="l02406" name="l02406"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#acd5725c1d2477bad869c377aeb5152d1"> 2406</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#acd5725c1d2477bad869c377aeb5152d1">Intl::IsValidNumberingSystem</a>(<span class="keyword">const</span> std::string&amp; value) {</div>
<div class="line"><a id="l02407" name="l02407"></a><span class="lineno"> 2407</span>  std::set&lt;std::string&gt; invalid_values = {<span class="stringliteral">&quot;native&quot;</span>, <span class="stringliteral">&quot;traditio&quot;</span>, <span class="stringliteral">&quot;finance&quot;</span>};</div>
<div class="line"><a id="l02408" name="l02408"></a><span class="lineno"> 2408</span>  <span class="keywordflow">if</span> (invalid_values.find(value) != invalid_values.end()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02409" name="l02409"></a><span class="lineno"> 2409</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02410" name="l02410"></a><span class="lineno"> 2410</span>  std::unique_ptr&lt;icu::NumberingSystem&gt; numbering_system(</div>
<div class="line"><a id="l02411" name="l02411"></a><span class="lineno"> 2411</span>      icu::NumberingSystem::createInstanceByName(value.c_str(), status));</div>
<div class="line"><a id="l02412" name="l02412"></a><span class="lineno"> 2412</span>  <span class="keywordflow">return</span> U_SUCCESS(status) &amp;&amp; numbering_system != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><a id="l02413" name="l02413"></a><span class="lineno"> 2413</span>         !numbering_system-&gt;isAlgorithmic();</div>
<div class="line"><a id="l02414" name="l02414"></a><span class="lineno"> 2414</span>}</div>
</div>
<div class="line"><a id="l02415" name="l02415"></a><span class="lineno"> 2415</span> </div>
<div class="line"><a id="l02416" name="l02416"></a><span class="lineno"> 2416</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l02417" name="l02417"></a><span class="lineno"> 2417</span> </div>
<div class="line"><a id="l02418" name="l02418"></a><span class="lineno"> 2418</span><span class="keywordtype">bool</span> IsWellFormedNumberingSystem(<span class="keyword">const</span> std::string&amp; value) {</div>
<div class="line"><a id="l02419" name="l02419"></a><span class="lineno"> 2419</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1JSLocale.html#a0ed8253c2e078ad80fe06d4337235941">JSLocale::Is38AlphaNumList</a>(value);</div>
<div class="line"><a id="l02420" name="l02420"></a><span class="lineno"> 2420</span>}</div>
<div class="line"><a id="l02421" name="l02421"></a><span class="lineno"> 2421</span> </div>
<div class="line"><a id="l02422" name="l02422"></a><span class="lineno"> 2422</span>std::map&lt;std::string, std::string&gt; LookupAndValidateUnicodeExtensions(</div>
<div class="line"><a id="l02423" name="l02423"></a><span class="lineno"> 2423</span>    icu::Locale* icu_locale, <span class="keyword">const</span> std::set&lt;std::string&gt;&amp; relevant_keys) {</div>
<div class="line"><a id="l02424" name="l02424"></a><span class="lineno"> 2424</span>  std::map&lt;std::string, std::string&gt; extensions;</div>
<div class="line"><a id="l02425" name="l02425"></a><span class="lineno"> 2425</span> </div>
<div class="line"><a id="l02426" name="l02426"></a><span class="lineno"> 2426</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02427" name="l02427"></a><span class="lineno"> 2427</span>  icu::LocaleBuilder builder;</div>
<div class="line"><a id="l02428" name="l02428"></a><span class="lineno"> 2428</span>  builder.setLocale(*icu_locale).clearExtensions();</div>
<div class="line"><a id="l02429" name="l02429"></a><span class="lineno"> 2429</span>  std::unique_ptr&lt;icu::StringEnumeration&gt; keywords(</div>
<div class="line"><a id="l02430" name="l02430"></a><span class="lineno"> 2430</span>      icu_locale-&gt;createKeywords(status));</div>
<div class="line"><a id="l02431" name="l02431"></a><span class="lineno"> 2431</span>  <span class="keywordflow">if</span> (U_FAILURE(status)) <span class="keywordflow">return</span> extensions;</div>
<div class="line"><a id="l02432" name="l02432"></a><span class="lineno"> 2432</span> </div>
<div class="line"><a id="l02433" name="l02433"></a><span class="lineno"> 2433</span>  <span class="keywordflow">if</span> (!keywords) <span class="keywordflow">return</span> extensions;</div>
<div class="line"><a id="l02434" name="l02434"></a><span class="lineno"> 2434</span>  <span class="keywordtype">char</span> value[ULOC_FULLNAME_CAPACITY];</div>
<div class="line"><a id="l02435" name="l02435"></a><span class="lineno"> 2435</span> </div>
<div class="line"><a id="l02436" name="l02436"></a><span class="lineno"> 2436</span>  int32_t <a class="code hl_variable" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a id="l02437" name="l02437"></a><span class="lineno"> 2437</span>  status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02438" name="l02438"></a><span class="lineno"> 2438</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keywordtype">char</span>* keyword = keywords-&gt;next(&amp;length, status);</div>
<div class="line"><a id="l02439" name="l02439"></a><span class="lineno"> 2439</span>       keyword != <span class="keyword">nullptr</span>; keyword = keywords-&gt;next(&amp;length, status)) {</div>
<div class="line"><a id="l02440" name="l02440"></a><span class="lineno"> 2440</span>    <span class="comment">// Ignore failures in ICU and skip to the next keyword.</span></div>
<div class="line"><a id="l02441" name="l02441"></a><span class="lineno"> 2441</span>    <span class="comment">//</span></div>
<div class="line"><a id="l02442" name="l02442"></a><span class="lineno"> 2442</span>    <span class="comment">// This is fine.â„¢</span></div>
<div class="line"><a id="l02443" name="l02443"></a><span class="lineno"> 2443</span>    <span class="keywordflow">if</span> (U_FAILURE(status)) {</div>
<div class="line"><a id="l02444" name="l02444"></a><span class="lineno"> 2444</span>      status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02445" name="l02445"></a><span class="lineno"> 2445</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02446" name="l02446"></a><span class="lineno"> 2446</span>    }</div>
<div class="line"><a id="l02447" name="l02447"></a><span class="lineno"> 2447</span> </div>
<div class="line"><a id="l02448" name="l02448"></a><span class="lineno"> 2448</span>    icu_locale-&gt;getKeywordValue(keyword, value, ULOC_FULLNAME_CAPACITY, status);</div>
<div class="line"><a id="l02449" name="l02449"></a><span class="lineno"> 2449</span> </div>
<div class="line"><a id="l02450" name="l02450"></a><span class="lineno"> 2450</span>    <span class="comment">// Ignore failures in ICU and skip to the next keyword.</span></div>
<div class="line"><a id="l02451" name="l02451"></a><span class="lineno"> 2451</span>    <span class="comment">//</span></div>
<div class="line"><a id="l02452" name="l02452"></a><span class="lineno"> 2452</span>    <span class="comment">// This is fine.â„¢</span></div>
<div class="line"><a id="l02453" name="l02453"></a><span class="lineno"> 2453</span>    <span class="keywordflow">if</span> (U_FAILURE(status)) {</div>
<div class="line"><a id="l02454" name="l02454"></a><span class="lineno"> 2454</span>      status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02455" name="l02455"></a><span class="lineno"> 2455</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02456" name="l02456"></a><span class="lineno"> 2456</span>    }</div>
<div class="line"><a id="l02457" name="l02457"></a><span class="lineno"> 2457</span> </div>
<div class="line"><a id="l02458" name="l02458"></a><span class="lineno"> 2458</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* bcp47_key = uloc_toUnicodeLocaleKey(keyword);</div>
<div class="line"><a id="l02459" name="l02459"></a><span class="lineno"> 2459</span> </div>
<div class="line"><a id="l02460" name="l02460"></a><span class="lineno"> 2460</span>    <span class="keywordflow">if</span> (bcp47_key &amp;&amp; (relevant_keys.find(bcp47_key) != relevant_keys.end())) {</div>
<div class="line"><a id="l02461" name="l02461"></a><span class="lineno"> 2461</span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* bcp47_value = uloc_toUnicodeLocaleType(bcp47_key, value);</div>
<div class="line"><a id="l02462" name="l02462"></a><span class="lineno"> 2462</span>      <span class="keywordtype">bool</span> is_valid_value = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02463" name="l02463"></a><span class="lineno"> 2463</span>      <span class="comment">// 8.h.ii.1.a If keyLocaleData contains requestedValue, then</span></div>
<div class="line"><a id="l02464" name="l02464"></a><span class="lineno"> 2464</span>      <span class="keywordflow">if</span> (strcmp(<span class="stringliteral">&quot;ca&quot;</span>, bcp47_key) == 0) {</div>
<div class="line"><a id="l02465" name="l02465"></a><span class="lineno"> 2465</span>        is_valid_value = <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a1770adc9a80ea7435b80af94572d6e1d">Intl::IsValidCalendar</a>(*icu_locale, bcp47_value);</div>
<div class="line"><a id="l02466" name="l02466"></a><span class="lineno"> 2466</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(<span class="stringliteral">&quot;co&quot;</span>, bcp47_key) == 0) {</div>
<div class="line"><a id="l02467" name="l02467"></a><span class="lineno"> 2467</span>        is_valid_value = <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a4e83e9ef05e4eb5b5377ad723fbbbb72">Intl::IsValidCollation</a>(*icu_locale, bcp47_value);</div>
<div class="line"><a id="l02468" name="l02468"></a><span class="lineno"> 2468</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(<span class="stringliteral">&quot;hc&quot;</span>, bcp47_key) == 0) {</div>
<div class="line"><a id="l02469" name="l02469"></a><span class="lineno"> 2469</span>        <span class="comment">// https://www.unicode.org/repos/cldr/tags/latest/common/bcp47/calendar.xml</span></div>
<div class="line"><a id="l02470" name="l02470"></a><span class="lineno"> 2470</span>        std::set&lt;std::string&gt; valid_values = {<span class="stringliteral">&quot;h11&quot;</span>, <span class="stringliteral">&quot;h12&quot;</span>, <span class="stringliteral">&quot;h23&quot;</span>, <span class="stringliteral">&quot;h24&quot;</span>};</div>
<div class="line"><a id="l02471" name="l02471"></a><span class="lineno"> 2471</span>        is_valid_value = valid_values.find(bcp47_value) != valid_values.end();</div>
<div class="line"><a id="l02472" name="l02472"></a><span class="lineno"> 2472</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(<span class="stringliteral">&quot;lb&quot;</span>, bcp47_key) == 0) {</div>
<div class="line"><a id="l02473" name="l02473"></a><span class="lineno"> 2473</span>        <span class="comment">// https://www.unicode.org/repos/cldr/tags/latest/common/bcp47/segmentation.xml</span></div>
<div class="line"><a id="l02474" name="l02474"></a><span class="lineno"> 2474</span>        std::set&lt;std::string&gt; valid_values = {<span class="stringliteral">&quot;strict&quot;</span>, <span class="stringliteral">&quot;normal&quot;</span>, <span class="stringliteral">&quot;loose&quot;</span>};</div>
<div class="line"><a id="l02475" name="l02475"></a><span class="lineno"> 2475</span>        is_valid_value = valid_values.find(bcp47_value) != valid_values.end();</div>
<div class="line"><a id="l02476" name="l02476"></a><span class="lineno"> 2476</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(<span class="stringliteral">&quot;kn&quot;</span>, bcp47_key) == 0) {</div>
<div class="line"><a id="l02477" name="l02477"></a><span class="lineno"> 2477</span>        <span class="comment">// https://www.unicode.org/repos/cldr/tags/latest/common/bcp47/collation.xml</span></div>
<div class="line"><a id="l02478" name="l02478"></a><span class="lineno"> 2478</span>        std::set&lt;std::string&gt; valid_values = {<span class="stringliteral">&quot;true&quot;</span>, <span class="stringliteral">&quot;false&quot;</span>};</div>
<div class="line"><a id="l02479" name="l02479"></a><span class="lineno"> 2479</span>        is_valid_value = valid_values.find(bcp47_value) != valid_values.end();</div>
<div class="line"><a id="l02480" name="l02480"></a><span class="lineno"> 2480</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(<span class="stringliteral">&quot;kf&quot;</span>, bcp47_key) == 0) {</div>
<div class="line"><a id="l02481" name="l02481"></a><span class="lineno"> 2481</span>        <span class="comment">// https://www.unicode.org/repos/cldr/tags/latest/common/bcp47/collation.xml</span></div>
<div class="line"><a id="l02482" name="l02482"></a><span class="lineno"> 2482</span>        std::set&lt;std::string&gt; valid_values = {<span class="stringliteral">&quot;upper&quot;</span>, <span class="stringliteral">&quot;lower&quot;</span>, <span class="stringliteral">&quot;false&quot;</span>};</div>
<div class="line"><a id="l02483" name="l02483"></a><span class="lineno"> 2483</span>        is_valid_value = valid_values.find(bcp47_value) != valid_values.end();</div>
<div class="line"><a id="l02484" name="l02484"></a><span class="lineno"> 2484</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(<span class="stringliteral">&quot;nu&quot;</span>, bcp47_key) == 0) {</div>
<div class="line"><a id="l02485" name="l02485"></a><span class="lineno"> 2485</span>        is_valid_value = <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#acd5725c1d2477bad869c377aeb5152d1">Intl::IsValidNumberingSystem</a>(bcp47_value);</div>
<div class="line"><a id="l02486" name="l02486"></a><span class="lineno"> 2486</span>      }</div>
<div class="line"><a id="l02487" name="l02487"></a><span class="lineno"> 2487</span>      <span class="keywordflow">if</span> (is_valid_value) {</div>
<div class="line"><a id="l02488" name="l02488"></a><span class="lineno"> 2488</span>        extensions.insert(</div>
<div class="line"><a id="l02489" name="l02489"></a><span class="lineno"> 2489</span>            std::pair&lt;std::string, std::string&gt;(bcp47_key, bcp47_value));</div>
<div class="line"><a id="l02490" name="l02490"></a><span class="lineno"> 2490</span>        builder.setUnicodeLocaleKeyword(bcp47_key, bcp47_value);</div>
<div class="line"><a id="l02491" name="l02491"></a><span class="lineno"> 2491</span>      }</div>
<div class="line"><a id="l02492" name="l02492"></a><span class="lineno"> 2492</span>    }</div>
<div class="line"><a id="l02493" name="l02493"></a><span class="lineno"> 2493</span>  }</div>
<div class="line"><a id="l02494" name="l02494"></a><span class="lineno"> 2494</span> </div>
<div class="line"><a id="l02495" name="l02495"></a><span class="lineno"> 2495</span>  status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02496" name="l02496"></a><span class="lineno"> 2496</span>  *icu_locale = builder.build(status);</div>
<div class="line"><a id="l02497" name="l02497"></a><span class="lineno"> 2497</span> </div>
<div class="line"><a id="l02498" name="l02498"></a><span class="lineno"> 2498</span>  <span class="keywordflow">return</span> extensions;</div>
<div class="line"><a id="l02499" name="l02499"></a><span class="lineno"> 2499</span>}</div>
<div class="line"><a id="l02500" name="l02500"></a><span class="lineno"> 2500</span> </div>
<div class="line"><a id="l02501" name="l02501"></a><span class="lineno"> 2501</span><span class="comment">// ecma402/#sec-lookupmatcher</span></div>
<div class="line"><a id="l02502" name="l02502"></a><span class="lineno"> 2502</span>std::string LookupMatcher(Isolate* isolate,</div>
<div class="line"><a id="l02503" name="l02503"></a><span class="lineno"> 2503</span>                          <span class="keyword">const</span> std::set&lt;std::string&gt;&amp; available_locales,</div>
<div class="line"><a id="l02504" name="l02504"></a><span class="lineno"> 2504</span>                          <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; requested_locales) {</div>
<div class="line"><a id="l02505" name="l02505"></a><span class="lineno"> 2505</span>  <span class="comment">// 1. Let result be a new Record.</span></div>
<div class="line"><a id="l02506" name="l02506"></a><span class="lineno"> 2506</span>  std::string <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>;</div>
<div class="line"><a id="l02507" name="l02507"></a><span class="lineno"> 2507</span> </div>
<div class="line"><a id="l02508" name="l02508"></a><span class="lineno"> 2508</span>  <span class="comment">// 2. For each element locale of requestedLocales in List order, do</span></div>
<div class="line"><a id="l02509" name="l02509"></a><span class="lineno"> 2509</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> std::string&amp; locale : requested_locales) {</div>
<div class="line"><a id="l02510" name="l02510"></a><span class="lineno"> 2510</span>    <span class="comment">// 2. a. Let noExtensionsLocale be the String value that is locale</span></div>
<div class="line"><a id="l02511" name="l02511"></a><span class="lineno"> 2511</span>    <span class="comment">//       with all Unicode locale extension sequences removed.</span></div>
<div class="line"><a id="l02512" name="l02512"></a><span class="lineno"> 2512</span>    ParsedLocale parsed_locale = ParseBCP47Locale(locale);</div>
<div class="line"><a id="l02513" name="l02513"></a><span class="lineno"> 2513</span>    std::string <a class="code hl_variable" href="intl-objects_8cc.html#a3090b930e45d2f4abc4b54e95cf32056">no_extensions_locale</a> = parsed_locale.no_extensions_locale;</div>
<div class="line"><a id="l02514" name="l02514"></a><span class="lineno"> 2514</span> </div>
<div class="line"><a id="l02515" name="l02515"></a><span class="lineno"> 2515</span>    <span class="comment">// 2. b. Let availableLocale be</span></div>
<div class="line"><a id="l02516" name="l02516"></a><span class="lineno"> 2516</span>    <span class="comment">//       BestAvailableLocale(availableLocales, noExtensionsLocale).</span></div>
<div class="line"><a id="l02517" name="l02517"></a><span class="lineno"> 2517</span>    std::string available_locale =</div>
<div class="line"><a id="l02518" name="l02518"></a><span class="lineno"> 2518</span>        BestAvailableLocale(available_locales, <a class="code hl_variable" href="intl-objects_8cc.html#a3090b930e45d2f4abc4b54e95cf32056">no_extensions_locale</a>);</div>
<div class="line"><a id="l02519" name="l02519"></a><span class="lineno"> 2519</span> </div>
<div class="line"><a id="l02520" name="l02520"></a><span class="lineno"> 2520</span>    <span class="comment">// 2. c. If availableLocale is not undefined, append locale to the</span></div>
<div class="line"><a id="l02521" name="l02521"></a><span class="lineno"> 2521</span>    <span class="comment">//       end of subset.</span></div>
<div class="line"><a id="l02522" name="l02522"></a><span class="lineno"> 2522</span>    <span class="keywordflow">if</span> (!available_locale.empty()) {</div>
<div class="line"><a id="l02523" name="l02523"></a><span class="lineno"> 2523</span>      <span class="comment">// Note: The following steps are not performed here because we</span></div>
<div class="line"><a id="l02524" name="l02524"></a><span class="lineno"> 2524</span>      <span class="comment">// can use ICU to parse the unicode locale extension sequence</span></div>
<div class="line"><a id="l02525" name="l02525"></a><span class="lineno"> 2525</span>      <span class="comment">// as part of Intl::ResolveLocale.</span></div>
<div class="line"><a id="l02526" name="l02526"></a><span class="lineno"> 2526</span>      <span class="comment">//</span></div>
<div class="line"><a id="l02527" name="l02527"></a><span class="lineno"> 2527</span>      <span class="comment">// There&#39;s no need to separate the unicode locale extensions</span></div>
<div class="line"><a id="l02528" name="l02528"></a><span class="lineno"> 2528</span>      <span class="comment">// right here. Instead just return the available locale with the</span></div>
<div class="line"><a id="l02529" name="l02529"></a><span class="lineno"> 2529</span>      <span class="comment">// extensions.</span></div>
<div class="line"><a id="l02530" name="l02530"></a><span class="lineno"> 2530</span>      <span class="comment">//</span></div>
<div class="line"><a id="l02531" name="l02531"></a><span class="lineno"> 2531</span>      <span class="comment">// 2. c. i. Set result.[[locale]] to availableLocale.</span></div>
<div class="line"><a id="l02532" name="l02532"></a><span class="lineno"> 2532</span>      <span class="comment">// 2. c. ii. If locale and noExtensionsLocale are not the same</span></div>
<div class="line"><a id="l02533" name="l02533"></a><span class="lineno"> 2533</span>      <span class="comment">// String value, then</span></div>
<div class="line"><a id="l02534" name="l02534"></a><span class="lineno"> 2534</span>      <span class="comment">// 2. c. ii. 1. Let extension be the String value consisting of</span></div>
<div class="line"><a id="l02535" name="l02535"></a><span class="lineno"> 2535</span>      <span class="comment">// the first substring of locale that is a Unicode locale</span></div>
<div class="line"><a id="l02536" name="l02536"></a><span class="lineno"> 2536</span>      <span class="comment">// extension sequence.</span></div>
<div class="line"><a id="l02537" name="l02537"></a><span class="lineno"> 2537</span>      <span class="comment">// 2. c. ii. 2. Set result.[[extension]] to extension.</span></div>
<div class="line"><a id="l02538" name="l02538"></a><span class="lineno"> 2538</span>      <span class="comment">// 2. c. iii. Return result.</span></div>
<div class="line"><a id="l02539" name="l02539"></a><span class="lineno"> 2539</span>      <span class="keywordflow">return</span> available_locale + parsed_locale.extension;</div>
<div class="line"><a id="l02540" name="l02540"></a><span class="lineno"> 2540</span>    }</div>
<div class="line"><a id="l02541" name="l02541"></a><span class="lineno"> 2541</span>  }</div>
<div class="line"><a id="l02542" name="l02542"></a><span class="lineno"> 2542</span> </div>
<div class="line"><a id="l02543" name="l02543"></a><span class="lineno"> 2543</span>  <span class="comment">// 3. Let defLocale be DefaultLocale();</span></div>
<div class="line"><a id="l02544" name="l02544"></a><span class="lineno"> 2544</span>  <span class="comment">// 4. Set result.[[locale]] to defLocale.</span></div>
<div class="line"><a id="l02545" name="l02545"></a><span class="lineno"> 2545</span>  <span class="comment">// 5. Return result.</span></div>
<div class="line"><a id="l02546" name="l02546"></a><span class="lineno"> 2546</span>  <span class="keywordflow">return</span> isolate-&gt;DefaultLocale();</div>
<div class="line"><a id="l02547" name="l02547"></a><span class="lineno"> 2547</span>}</div>
<div class="line"><a id="l02548" name="l02548"></a><span class="lineno"> 2548</span> </div>
<div class="line"><a id="l02549" name="l02549"></a><span class="lineno"> 2549</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l02550" name="l02550"></a><span class="lineno"> 2550</span> </div>
<div class="line"><a id="l02551" name="l02551"></a><span class="lineno"> 2551</span><span class="comment">// This function doesn&#39;t correspond exactly with the spec. Instead</span></div>
<div class="line"><a id="l02552" name="l02552"></a><span class="lineno"> 2552</span><span class="comment">// we use ICU to do all the string manipulations that the spec</span></div>
<div class="line"><a id="l02553" name="l02553"></a><span class="lineno"> 2553</span><span class="comment">// peforms.</span></div>
<div class="line"><a id="l02554" name="l02554"></a><span class="lineno"> 2554</span><span class="comment">//</span></div>
<div class="line"><a id="l02555" name="l02555"></a><span class="lineno"> 2555</span><span class="comment">// The spec uses this function to normalize values for various</span></div>
<div class="line"><a id="l02556" name="l02556"></a><span class="lineno"> 2556</span><span class="comment">// relevant extension keys (such as disallowing &quot;search&quot; for</span></div>
<div class="line"><a id="l02557" name="l02557"></a><span class="lineno"> 2557</span><span class="comment">// collation). Instead of doing this here, we let the callers of</span></div>
<div class="line"><a id="l02558" name="l02558"></a><span class="lineno"> 2558</span><span class="comment">// this method perform such normalization.</span></div>
<div class="line"><a id="l02559" name="l02559"></a><span class="lineno"> 2559</span><span class="comment">//</span></div>
<div class="line"><a id="l02560" name="l02560"></a><span class="lineno"> 2560</span><span class="comment">// ecma402/#sec-resolvelocale</span></div>
<div class="foldopen" id="foldopen02561" data-start="{" data-end="}">
<div class="line"><a id="l02561" name="l02561"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a57e751885fa0a74dd3f6c0a150857d65"> 2561</a></span>Maybe&lt;Intl::ResolvedLocale&gt; <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a57e751885fa0a74dd3f6c0a150857d65">Intl::ResolveLocale</a>(</div>
<div class="line"><a id="l02562" name="l02562"></a><span class="lineno"> 2562</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> std::set&lt;std::string&gt;&amp; available_locales,</div>
<div class="line"><a id="l02563" name="l02563"></a><span class="lineno"> 2563</span>    <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; requested_locales, <a class="code hl_enumeration" href="classv8_1_1internal_1_1Intl.html#afb4cf72c66834096fbb2f5c4761d9695">MatcherOption</a> matcher,</div>
<div class="line"><a id="l02564" name="l02564"></a><span class="lineno"> 2564</span>    <span class="keyword">const</span> std::set&lt;std::string&gt;&amp; relevant_extension_keys) {</div>
<div class="line"><a id="l02565" name="l02565"></a><span class="lineno"> 2565</span>  std::string locale;</div>
<div class="line"><a id="l02566" name="l02566"></a><span class="lineno"> 2566</span>  <span class="keywordflow">if</span> (matcher == <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#afb4cf72c66834096fbb2f5c4761d9695a30fc3b89c9e257abb29b1b1ebf3bd94b">Intl::MatcherOption::kBestFit</a> &amp;&amp;</div>
<div class="line"><a id="l02567" name="l02567"></a><span class="lineno"> 2567</span>      <a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.harmony_intl_best_fit_matcher) {</div>
<div class="line"><a id="l02568" name="l02568"></a><span class="lineno"> 2568</span>    locale = BestFitMatcher(isolate, available_locales, requested_locales);</div>
<div class="line"><a id="l02569" name="l02569"></a><span class="lineno"> 2569</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02570" name="l02570"></a><span class="lineno"> 2570</span>    locale = LookupMatcher(isolate, available_locales, requested_locales);</div>
<div class="line"><a id="l02571" name="l02571"></a><span class="lineno"> 2571</span>  }</div>
<div class="line"><a id="l02572" name="l02572"></a><span class="lineno"> 2572</span> </div>
<div class="line"><a id="l02573" name="l02573"></a><span class="lineno"> 2573</span>  Maybe&lt;icu::Locale&gt; maybe_icu_locale = CreateICULocale(locale);</div>
<div class="line"><a id="l02574" name="l02574"></a><span class="lineno"> 2574</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_icu_locale, Nothing&lt;Intl::ResolvedLocale&gt;());</div>
<div class="line"><a id="l02575" name="l02575"></a><span class="lineno"> 2575</span>  icu::Locale icu_locale = maybe_icu_locale.FromJust();</div>
<div class="line"><a id="l02576" name="l02576"></a><span class="lineno"> 2576</span>  std::map&lt;std::string, std::string&gt; extensions =</div>
<div class="line"><a id="l02577" name="l02577"></a><span class="lineno"> 2577</span>      LookupAndValidateUnicodeExtensions(&amp;icu_locale, relevant_extension_keys);</div>
<div class="line"><a id="l02578" name="l02578"></a><span class="lineno"> 2578</span> </div>
<div class="line"><a id="l02579" name="l02579"></a><span class="lineno"> 2579</span>  std::string canonicalized_locale = <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#ab8ac80a3c3afe22c8e3cfd6f9beb33be">Intl::ToLanguageTag</a>(icu_locale).FromJust();</div>
<div class="line"><a id="l02580" name="l02580"></a><span class="lineno"> 2580</span> </div>
<div class="line"><a id="l02581" name="l02581"></a><span class="lineno"> 2581</span>  <span class="comment">// TODO(gsathya): Remove privateuse subtags from extensions.</span></div>
<div class="line"><a id="l02582" name="l02582"></a><span class="lineno"> 2582</span> </div>
<div class="line"><a id="l02583" name="l02583"></a><span class="lineno"> 2583</span>  <span class="keywordflow">return</span> Just(</div>
<div class="line"><a id="l02584" name="l02584"></a><span class="lineno"> 2584</span>      <a class="code hl_struct" href="structv8_1_1internal_1_1Intl_1_1ResolvedLocale.html">Intl::ResolvedLocale</a>{canonicalized_locale, icu_locale, extensions});</div>
<div class="line"><a id="l02585" name="l02585"></a><span class="lineno"> 2585</span>}</div>
</div>
<div class="line"><a id="l02586" name="l02586"></a><span class="lineno"> 2586</span> </div>
<div class="foldopen" id="foldopen02587" data-start="{" data-end="}">
<div class="line"><a id="l02587" name="l02587"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#ae395f306fe7e35e23f8b6c421d6cbda0"> 2587</a></span><a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Managed&lt;icu::UnicodeString&gt;</a>&gt; <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#ae395f306fe7e35e23f8b6c421d6cbda0">Intl::SetTextToBreakIterator</a>(</div>
<div class="line"><a id="l02588" name="l02588"></a><span class="lineno"> 2588</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> text,</div>
<div class="line"><a id="l02589" name="l02589"></a><span class="lineno"> 2589</span>    icu::BreakIterator* break_iterator) {</div>
<div class="line"><a id="l02590" name="l02590"></a><span class="lineno"> 2590</span>  text = <a class="code hl_function" href="classv8_1_1internal_1_1String.html#a21049fc49218b6cf593fc03fabf42656">String::Flatten</a>(isolate, text);</div>
<div class="line"><a id="l02591" name="l02591"></a><span class="lineno"> 2591</span>  std::shared_ptr&lt;icu::UnicodeString&gt; u_text{<span class="keyword">static_cast&lt;</span>icu::UnicodeString*<span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l02592" name="l02592"></a><span class="lineno"> 2592</span>      <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a8dc43da169430c3077c3a335ec50a23d">Intl::ToICUUnicodeString</a>(isolate, text).clone())};</div>
<div class="line"><a id="l02593" name="l02593"></a><span class="lineno"> 2593</span> </div>
<div class="line"><a id="l02594" name="l02594"></a><span class="lineno"> 2594</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Managed&lt;icu::UnicodeString&gt;</a>&gt; new_u_text =</div>
<div class="line"><a id="l02595" name="l02595"></a><span class="lineno"> 2595</span>      <a class="code hl_function" href="classv8_1_1internal_1_1Managed.html#a1c10cb948281b864db32d8af25a7b7d9">Managed&lt;icu::UnicodeString&gt;::From</a>(isolate, 0, u_text);</div>
<div class="line"><a id="l02596" name="l02596"></a><span class="lineno"> 2596</span> </div>
<div class="line"><a id="l02597" name="l02597"></a><span class="lineno"> 2597</span>  break_iterator-&gt;setText(*u_text);</div>
<div class="line"><a id="l02598" name="l02598"></a><span class="lineno"> 2598</span>  <span class="keywordflow">return</span> new_u_text;</div>
<div class="line"><a id="l02599" name="l02599"></a><span class="lineno"> 2599</span>}</div>
</div>
<div class="line"><a id="l02600" name="l02600"></a><span class="lineno"> 2600</span> </div>
<div class="line"><a id="l02601" name="l02601"></a><span class="lineno"> 2601</span><span class="comment">// ecma262 #sec-string.prototype.normalize</span></div>
<div class="foldopen" id="foldopen02602" data-start="{" data-end="}">
<div class="line"><a id="l02602" name="l02602"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a04e57c34b76118f075ad3bbcf8e7dcc7"> 2602</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;String&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a04e57c34b76118f075ad3bbcf8e7dcc7">Intl::Normalize</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l02603" name="l02603"></a><span class="lineno"> 2603</span>                                    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <span class="keywordtype">string</span>,</div>
<div class="line"><a id="l02604" name="l02604"></a><span class="lineno"> 2604</span>                                    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> form_input) {</div>
<div class="line"><a id="l02605" name="l02605"></a><span class="lineno"> 2605</span>  <span class="keyword">const</span> <span class="keywordtype">char</span>* form_name;</div>
<div class="line"><a id="l02606" name="l02606"></a><span class="lineno"> 2606</span>  UNormalization2Mode form_mode;</div>
<div class="line"><a id="l02607" name="l02607"></a><span class="lineno"> 2607</span>  <span class="keywordflow">if</span> (IsUndefined(*form_input, isolate)) {</div>
<div class="line"><a id="l02608" name="l02608"></a><span class="lineno"> 2608</span>    <span class="comment">// default is FNC</span></div>
<div class="line"><a id="l02609" name="l02609"></a><span class="lineno"> 2609</span>    form_name = <span class="stringliteral">&quot;nfc&quot;</span>;</div>
<div class="line"><a id="l02610" name="l02610"></a><span class="lineno"> 2610</span>    form_mode = UNORM2_COMPOSE;</div>
<div class="line"><a id="l02611" name="l02611"></a><span class="lineno"> 2611</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02612" name="l02612"></a><span class="lineno"> 2612</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> form;</div>
<div class="line"><a id="l02613" name="l02613"></a><span class="lineno"> 2613</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a45bb81ab232e9f2663545ec92dc0b950">ASSIGN_RETURN_ON_EXCEPTION</a>(isolate, form,</div>
<div class="line"><a id="l02614" name="l02614"></a><span class="lineno"> 2614</span>                               <a class="code hl_function" href="classv8_1_1internal_1_1Object.html#a24c860a62ca3b03ee46753897d04a1ec">Object::ToString</a>(isolate, form_input));</div>
<div class="line"><a id="l02615" name="l02615"></a><span class="lineno"> 2615</span> </div>
<div class="line"><a id="l02616" name="l02616"></a><span class="lineno"> 2616</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classv8_1_1internal_1_1String.html#adea5c3479309ca6bac778d4497f923ab">String::Equals</a>(isolate, form, isolate-&gt;factory()-&gt;NFC_string())) {</div>
<div class="line"><a id="l02617" name="l02617"></a><span class="lineno"> 2617</span>      form_name = <span class="stringliteral">&quot;nfc&quot;</span>;</div>
<div class="line"><a id="l02618" name="l02618"></a><span class="lineno"> 2618</span>      form_mode = UNORM2_COMPOSE;</div>
<div class="line"><a id="l02619" name="l02619"></a><span class="lineno"> 2619</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="classv8_1_1internal_1_1String.html#adea5c3479309ca6bac778d4497f923ab">String::Equals</a>(isolate, form,</div>
<div class="line"><a id="l02620" name="l02620"></a><span class="lineno"> 2620</span>                              isolate-&gt;factory()-&gt;NFD_string())) {</div>
<div class="line"><a id="l02621" name="l02621"></a><span class="lineno"> 2621</span>      form_name = <span class="stringliteral">&quot;nfc&quot;</span>;</div>
<div class="line"><a id="l02622" name="l02622"></a><span class="lineno"> 2622</span>      form_mode = UNORM2_DECOMPOSE;</div>
<div class="line"><a id="l02623" name="l02623"></a><span class="lineno"> 2623</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="classv8_1_1internal_1_1String.html#adea5c3479309ca6bac778d4497f923ab">String::Equals</a>(isolate, form,</div>
<div class="line"><a id="l02624" name="l02624"></a><span class="lineno"> 2624</span>                              isolate-&gt;factory()-&gt;NFKC_string())) {</div>
<div class="line"><a id="l02625" name="l02625"></a><span class="lineno"> 2625</span>      form_name = <span class="stringliteral">&quot;nfkc&quot;</span>;</div>
<div class="line"><a id="l02626" name="l02626"></a><span class="lineno"> 2626</span>      form_mode = UNORM2_COMPOSE;</div>
<div class="line"><a id="l02627" name="l02627"></a><span class="lineno"> 2627</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="classv8_1_1internal_1_1String.html#adea5c3479309ca6bac778d4497f923ab">String::Equals</a>(isolate, form,</div>
<div class="line"><a id="l02628" name="l02628"></a><span class="lineno"> 2628</span>                              isolate-&gt;factory()-&gt;NFKD_string())) {</div>
<div class="line"><a id="l02629" name="l02629"></a><span class="lineno"> 2629</span>      form_name = <span class="stringliteral">&quot;nfkc&quot;</span>;</div>
<div class="line"><a id="l02630" name="l02630"></a><span class="lineno"> 2630</span>      form_mode = UNORM2_DECOMPOSE;</div>
<div class="line"><a id="l02631" name="l02631"></a><span class="lineno"> 2631</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02632" name="l02632"></a><span class="lineno"> 2632</span>      <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> valid_forms =</div>
<div class="line"><a id="l02633" name="l02633"></a><span class="lineno"> 2633</span>          isolate-&gt;factory()-&gt;NewStringFromStaticChars(<span class="stringliteral">&quot;NFC, NFD, NFKC, NFKD&quot;</span>);</div>
<div class="line"><a id="l02634" name="l02634"></a><span class="lineno"> 2634</span>      <a class="code hl_define" href="execution_2isolate_8h.html#a6557667dd5be0768bd92d4bfd9a4d70f">THROW_NEW_ERROR</a>(</div>
<div class="line"><a id="l02635" name="l02635"></a><span class="lineno"> 2635</span>          isolate,</div>
<div class="line"><a id="l02636" name="l02636"></a><span class="lineno"> 2636</span>          NewRangeError(MessageTemplate::kNormalizationForm, valid_forms));</div>
<div class="line"><a id="l02637" name="l02637"></a><span class="lineno"> 2637</span>    }</div>
<div class="line"><a id="l02638" name="l02638"></a><span class="lineno"> 2638</span>  }</div>
<div class="line"><a id="l02639" name="l02639"></a><span class="lineno"> 2639</span> </div>
<div class="line"><a id="l02640" name="l02640"></a><span class="lineno"> 2640</span>  uint32_t length = <span class="keywordtype">string</span>-&gt;length();</div>
<div class="line"><a id="l02641" name="l02641"></a><span class="lineno"> 2641</span>  <span class="keywordtype">string</span> = <a class="code hl_function" href="classv8_1_1internal_1_1String.html#a21049fc49218b6cf593fc03fabf42656">String::Flatten</a>(isolate, <span class="keywordtype">string</span>);</div>
<div class="line"><a id="l02642" name="l02642"></a><span class="lineno"> 2642</span>  icu::UnicodeString <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>;</div>
<div class="line"><a id="l02643" name="l02643"></a><span class="lineno"> 2643</span>  std::unique_ptr&lt;base::uc16[]&gt; sap;</div>
<div class="line"><a id="l02644" name="l02644"></a><span class="lineno"> 2644</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02645" name="l02645"></a><span class="lineno"> 2645</span>  icu::UnicodeString input = <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a8dc43da169430c3077c3a335ec50a23d">ToICUUnicodeString</a>(isolate, <span class="keywordtype">string</span>);</div>
<div class="line"><a id="l02646" name="l02646"></a><span class="lineno"> 2646</span>  <span class="comment">// Getting a singleton. Should not free it.</span></div>
<div class="line"><a id="l02647" name="l02647"></a><span class="lineno"> 2647</span>  <span class="keyword">const</span> icu::Normalizer2* normalizer =</div>
<div class="line"><a id="l02648" name="l02648"></a><span class="lineno"> 2648</span>      icu::Normalizer2::getInstance(<span class="keyword">nullptr</span>, form_name, form_mode, status);</div>
<div class="line"><a id="l02649" name="l02649"></a><span class="lineno"> 2649</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l02650" name="l02650"></a><span class="lineno"> 2650</span>  <a class="code hl_define" href="logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(normalizer);</div>
<div class="line"><a id="l02651" name="l02651"></a><span class="lineno"> 2651</span>  uint32_t normalized_prefix_length =</div>
<div class="line"><a id="l02652" name="l02652"></a><span class="lineno"> 2652</span>      normalizer-&gt;spanQuickCheckYes(input, status);</div>
<div class="line"><a id="l02653" name="l02653"></a><span class="lineno"> 2653</span>  <span class="comment">// Quick return if the input is already normalized.</span></div>
<div class="line"><a id="l02654" name="l02654"></a><span class="lineno"> 2654</span>  <span class="keywordflow">if</span> (length == normalized_prefix_length)</div>
<div class="line"><a id="l02655" name="l02655"></a><span class="lineno"> 2655</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#a51b86a492912e93aefb78796892c363b">indirect_handle</a>(<span class="keywordtype">string</span>, isolate);</div>
<div class="line"><a id="l02656" name="l02656"></a><span class="lineno"> 2656</span>  icu::UnicodeString unnormalized =</div>
<div class="line"><a id="l02657" name="l02657"></a><span class="lineno"> 2657</span>      input.tempSubString(normalized_prefix_length);</div>
<div class="line"><a id="l02658" name="l02658"></a><span class="lineno"> 2658</span>  <span class="comment">// Read-only alias of the normalized prefix.</span></div>
<div class="line"><a id="l02659" name="l02659"></a><span class="lineno"> 2659</span>  <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.setTo(<span class="keyword">false</span>, input.getBuffer(), normalized_prefix_length);</div>
<div class="line"><a id="l02660" name="l02660"></a><span class="lineno"> 2660</span>  <span class="comment">// copy-on-write; normalize the suffix and append to |result|.</span></div>
<div class="line"><a id="l02661" name="l02661"></a><span class="lineno"> 2661</span>  normalizer-&gt;normalizeSecondAndAppend(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>, unnormalized, status);</div>
<div class="line"><a id="l02662" name="l02662"></a><span class="lineno"> 2662</span> </div>
<div class="line"><a id="l02663" name="l02663"></a><span class="lineno"> 2663</span>  <span class="keywordflow">if</span> (U_FAILURE(status)) {</div>
<div class="line"><a id="l02664" name="l02664"></a><span class="lineno"> 2664</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a6557667dd5be0768bd92d4bfd9a4d70f">THROW_NEW_ERROR</a>(isolate, NewTypeError(MessageTemplate::kIcuError));</div>
<div class="line"><a id="l02665" name="l02665"></a><span class="lineno"> 2665</span>  }</div>
<div class="line"><a id="l02666" name="l02666"></a><span class="lineno"> 2666</span> </div>
<div class="line"><a id="l02667" name="l02667"></a><span class="lineno"> 2667</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a31799f9a30b4169d1ea6919debdc6591">Intl::ToString</a>(isolate, <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>);</div>
<div class="line"><a id="l02668" name="l02668"></a><span class="lineno"> 2668</span>}</div>
</div>
<div class="line"><a id="l02669" name="l02669"></a><span class="lineno"> 2669</span> </div>
<div class="line"><a id="l02670" name="l02670"></a><span class="lineno"> 2670</span><span class="comment">// ICUTimezoneCache calls out to ICU for TimezoneCache</span></div>
<div class="line"><a id="l02671" name="l02671"></a><span class="lineno"> 2671</span><span class="comment">// functionality in a straightforward way.</span></div>
<div class="foldopen" id="foldopen02672" data-start="{" data-end="};">
<div class="line"><a id="l02672" name="l02672"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ICUTimezoneCache.html"> 2672</a></span><span class="keyword">class </span><a class="code hl_class" href="classv8_1_1internal_1_1ICUTimezoneCache.html">ICUTimezoneCache</a> : <span class="keyword">public</span> <a class="code hl_class" href="classv8_1_1base_1_1TimezoneCache.html">base::TimezoneCache</a> {</div>
<div class="line"><a id="l02673" name="l02673"></a><span class="lineno"> 2673</span> <span class="keyword">public</span>:</div>
<div class="line"><a id="l02674" name="l02674"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a38f6678a098408be5042c733bff75656"> 2674</a></span>  <a class="code hl_function" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a38f6678a098408be5042c733bff75656">ICUTimezoneCache</a>() : <a class="code hl_variable" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a6d6956ebdbb9735e9db62fc12900acb5">timezone_</a>(nullptr) { <a class="code hl_function" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a2232745dedd2c77d3eef273f6f65cc7b">Clear</a>(<a class="code hl_enumvalue" href="classv8_1_1base_1_1TimezoneCache.html#a966797625d4ff2cdd7e2efb6fa0dd6f9ac88bd8ce07240b0611d5ae619c1aa088">TimeZoneDetection::kSkip</a>); }</div>
<div class="line"><a id="l02675" name="l02675"></a><span class="lineno"> 2675</span> </div>
<div class="line"><a id="l02676" name="l02676"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ICUTimezoneCache.html#af24398dd2054eeb5a0098bf9a075eaa6"> 2676</a></span>  <a class="code hl_function" href="classv8_1_1internal_1_1ICUTimezoneCache.html#af24398dd2054eeb5a0098bf9a075eaa6">~ICUTimezoneCache</a>()<span class="keyword"> override </span>{ <a class="code hl_function" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a2232745dedd2c77d3eef273f6f65cc7b">Clear</a>(<a class="code hl_enumvalue" href="classv8_1_1base_1_1TimezoneCache.html#a966797625d4ff2cdd7e2efb6fa0dd6f9ac88bd8ce07240b0611d5ae619c1aa088">TimeZoneDetection::kSkip</a>); }</div>
<div class="line"><a id="l02677" name="l02677"></a><span class="lineno"> 2677</span> </div>
<div class="line"><a id="l02678" name="l02678"></a><span class="lineno"> 2678</span>  <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classv8_1_1internal_1_1ICUTimezoneCache.html#ac69ff0adf27bffd005e0a91975809c4f">LocalTimezone</a>(<span class="keywordtype">double</span> time_ms) <span class="keyword">override</span>;</div>
<div class="line"><a id="l02679" name="l02679"></a><span class="lineno"> 2679</span> </div>
<div class="line"><a id="l02680" name="l02680"></a><span class="lineno"> 2680</span>  <span class="keywordtype">double</span> <a class="code hl_function" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a28e8e649d26072ec06d1b3b0147eaee1">DaylightSavingsOffset</a>(<span class="keywordtype">double</span> time_ms) <span class="keyword">override</span>;</div>
<div class="line"><a id="l02681" name="l02681"></a><span class="lineno"> 2681</span> </div>
<div class="line"><a id="l02682" name="l02682"></a><span class="lineno"> 2682</span>  <span class="keywordtype">double</span> <a class="code hl_function" href="classv8_1_1internal_1_1ICUTimezoneCache.html#ae21dbc103eae2d4ee225d6c68c9667c8">LocalTimeOffset</a>(<span class="keywordtype">double</span> time_ms, <span class="keywordtype">bool</span> is_utc) <span class="keyword">override</span>;</div>
<div class="line"><a id="l02683" name="l02683"></a><span class="lineno"> 2683</span> </div>
<div class="line"><a id="l02684" name="l02684"></a><span class="lineno"> 2684</span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a2232745dedd2c77d3eef273f6f65cc7b">Clear</a>(<a class="code hl_enumeration" href="classv8_1_1base_1_1TimezoneCache.html#a966797625d4ff2cdd7e2efb6fa0dd6f9">TimeZoneDetection</a> time_zone_detection) <span class="keyword">override</span>;</div>
<div class="line"><a id="l02685" name="l02685"></a><span class="lineno"> 2685</span> </div>
<div class="line"><a id="l02686" name="l02686"></a><span class="lineno"> 2686</span> <span class="keyword">private</span>:</div>
<div class="line"><a id="l02687" name="l02687"></a><span class="lineno"> 2687</span>  icu::TimeZone* <a class="code hl_function" href="classv8_1_1internal_1_1ICUTimezoneCache.html#ab82c797ed23e3bf1461a1da911093ee1">GetTimeZone</a>();</div>
<div class="line"><a id="l02688" name="l02688"></a><span class="lineno"> 2688</span> </div>
<div class="line"><a id="l02689" name="l02689"></a><span class="lineno"> 2689</span>  <span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a5028f4221fbdb91f3e48463db2cd66e8">GetOffsets</a>(<span class="keywordtype">double</span> time_ms, <span class="keywordtype">bool</span> is_utc, int32_t* raw_offset,</div>
<div class="line"><a id="l02690" name="l02690"></a><span class="lineno"> 2690</span>                  int32_t* dst_offset);</div>
<div class="line"><a id="l02691" name="l02691"></a><span class="lineno"> 2691</span> </div>
<div class="line"><a id="l02692" name="l02692"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a6d6956ebdbb9735e9db62fc12900acb5"> 2692</a></span>  icu::TimeZone* <a class="code hl_variable" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a6d6956ebdbb9735e9db62fc12900acb5">timezone_</a>;</div>
<div class="line"><a id="l02693" name="l02693"></a><span class="lineno"> 2693</span> </div>
<div class="line"><a id="l02694" name="l02694"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a079b6b98447b3f0510f7182df10c2c0f"> 2694</a></span>  std::string <a class="code hl_variable" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a079b6b98447b3f0510f7182df10c2c0f">timezone_name_</a>;</div>
<div class="line"><a id="l02695" name="l02695"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a0e88e9886a144ae2d8c80e12e06c0afb"> 2695</a></span>  std::string <a class="code hl_variable" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a0e88e9886a144ae2d8c80e12e06c0afb">dst_timezone_name_</a>;</div>
<div class="line"><a id="l02696" name="l02696"></a><span class="lineno"> 2696</span>};</div>
</div>
<div class="line"><a id="l02697" name="l02697"></a><span class="lineno"> 2697</span> </div>
<div class="foldopen" id="foldopen02698" data-start="{" data-end="}">
<div class="line"><a id="l02698" name="l02698"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ICUTimezoneCache.html#ac69ff0adf27bffd005e0a91975809c4f"> 2698</a></span><span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classv8_1_1internal_1_1ICUTimezoneCache.html#ac69ff0adf27bffd005e0a91975809c4f">ICUTimezoneCache::LocalTimezone</a>(<span class="keywordtype">double</span> time_ms) {</div>
<div class="line"><a id="l02699" name="l02699"></a><span class="lineno"> 2699</span>  <span class="keywordtype">bool</span> is_dst = <a class="code hl_function" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a28e8e649d26072ec06d1b3b0147eaee1">DaylightSavingsOffset</a>(time_ms) != 0;</div>
<div class="line"><a id="l02700" name="l02700"></a><span class="lineno"> 2700</span>  std::string* name = is_dst ? &amp;<a class="code hl_variable" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a0e88e9886a144ae2d8c80e12e06c0afb">dst_timezone_name_</a> : &amp;<a class="code hl_variable" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a079b6b98447b3f0510f7182df10c2c0f">timezone_name_</a>;</div>
<div class="line"><a id="l02701" name="l02701"></a><span class="lineno"> 2701</span>  <span class="keywordflow">if</span> (name-&gt;empty()) {</div>
<div class="line"><a id="l02702" name="l02702"></a><span class="lineno"> 2702</span>    icu::UnicodeString <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>;</div>
<div class="line"><a id="l02703" name="l02703"></a><span class="lineno"> 2703</span>    <a class="code hl_function" href="classv8_1_1internal_1_1ICUTimezoneCache.html#ab82c797ed23e3bf1461a1da911093ee1">GetTimeZone</a>()-&gt;getDisplayName(is_dst, icu::TimeZone::LONG, <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>);</div>
<div class="line"><a id="l02704" name="l02704"></a><span class="lineno"> 2704</span>    <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> += <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a id="l02705" name="l02705"></a><span class="lineno"> 2705</span> </div>
<div class="line"><a id="l02706" name="l02706"></a><span class="lineno"> 2706</span>    icu::StringByteSink&lt;std::string&gt; byte_sink(name);</div>
<div class="line"><a id="l02707" name="l02707"></a><span class="lineno"> 2707</span>    <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.toUTF8(byte_sink);</div>
<div class="line"><a id="l02708" name="l02708"></a><span class="lineno"> 2708</span>  }</div>
<div class="line"><a id="l02709" name="l02709"></a><span class="lineno"> 2709</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!name-&gt;empty());</div>
<div class="line"><a id="l02710" name="l02710"></a><span class="lineno"> 2710</span>  <span class="keywordflow">return</span> name-&gt;c_str();</div>
<div class="line"><a id="l02711" name="l02711"></a><span class="lineno"> 2711</span>}</div>
</div>
<div class="line"><a id="l02712" name="l02712"></a><span class="lineno"> 2712</span> </div>
<div class="foldopen" id="foldopen02713" data-start="{" data-end="}">
<div class="line"><a id="l02713" name="l02713"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ICUTimezoneCache.html#ab82c797ed23e3bf1461a1da911093ee1"> 2713</a></span>icu::TimeZone* <a class="code hl_function" href="classv8_1_1internal_1_1ICUTimezoneCache.html#ab82c797ed23e3bf1461a1da911093ee1">ICUTimezoneCache::GetTimeZone</a>() {</div>
<div class="line"><a id="l02714" name="l02714"></a><span class="lineno"> 2714</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a6d6956ebdbb9735e9db62fc12900acb5">timezone_</a> == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l02715" name="l02715"></a><span class="lineno"> 2715</span>    <a class="code hl_variable" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a6d6956ebdbb9735e9db62fc12900acb5">timezone_</a> = icu::TimeZone::createDefault();</div>
<div class="line"><a id="l02716" name="l02716"></a><span class="lineno"> 2716</span>  }</div>
<div class="line"><a id="l02717" name="l02717"></a><span class="lineno"> 2717</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a6d6956ebdbb9735e9db62fc12900acb5">timezone_</a>;</div>
<div class="line"><a id="l02718" name="l02718"></a><span class="lineno"> 2718</span>}</div>
</div>
<div class="line"><a id="l02719" name="l02719"></a><span class="lineno"> 2719</span> </div>
<div class="foldopen" id="foldopen02720" data-start="{" data-end="}">
<div class="line"><a id="l02720" name="l02720"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a5028f4221fbdb91f3e48463db2cd66e8"> 2720</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a5028f4221fbdb91f3e48463db2cd66e8">ICUTimezoneCache::GetOffsets</a>(<span class="keywordtype">double</span> time_ms, <span class="keywordtype">bool</span> is_utc,</div>
<div class="line"><a id="l02721" name="l02721"></a><span class="lineno"> 2721</span>                                  int32_t* raw_offset, int32_t* dst_offset) {</div>
<div class="line"><a id="l02722" name="l02722"></a><span class="lineno"> 2722</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02723" name="l02723"></a><span class="lineno"> 2723</span>  <span class="keywordflow">if</span> (is_utc) {</div>
<div class="line"><a id="l02724" name="l02724"></a><span class="lineno"> 2724</span>    <a class="code hl_function" href="classv8_1_1internal_1_1ICUTimezoneCache.html#ab82c797ed23e3bf1461a1da911093ee1">GetTimeZone</a>()-&gt;getOffset(time_ms, <span class="keyword">false</span>, *raw_offset, *dst_offset, status);</div>
<div class="line"><a id="l02725" name="l02725"></a><span class="lineno"> 2725</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02726" name="l02726"></a><span class="lineno"> 2726</span>    <span class="comment">// Note that casting TimeZone to BasicTimeZone is safe because we know that</span></div>
<div class="line"><a id="l02727" name="l02727"></a><span class="lineno"> 2727</span>    <span class="comment">// icu::TimeZone used here is a BasicTimeZone.</span></div>
<div class="line"><a id="l02728" name="l02728"></a><span class="lineno"> 2728</span>    <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>icu::BasicTimeZone*<span class="keyword">&gt;</span>(<a class="code hl_function" href="classv8_1_1internal_1_1ICUTimezoneCache.html#ab82c797ed23e3bf1461a1da911093ee1">GetTimeZone</a>())</div>
<div class="line"><a id="l02729" name="l02729"></a><span class="lineno"> 2729</span>        -&gt;getOffsetFromLocal(time_ms, UCAL_TZ_LOCAL_FORMER,</div>
<div class="line"><a id="l02730" name="l02730"></a><span class="lineno"> 2730</span>                             UCAL_TZ_LOCAL_FORMER, *raw_offset, *dst_offset,</div>
<div class="line"><a id="l02731" name="l02731"></a><span class="lineno"> 2731</span>                             status);</div>
<div class="line"><a id="l02732" name="l02732"></a><span class="lineno"> 2732</span>  }</div>
<div class="line"><a id="l02733" name="l02733"></a><span class="lineno"> 2733</span> </div>
<div class="line"><a id="l02734" name="l02734"></a><span class="lineno"> 2734</span>  <span class="keywordflow">return</span> U_SUCCESS(status);</div>
<div class="line"><a id="l02735" name="l02735"></a><span class="lineno"> 2735</span>}</div>
</div>
<div class="line"><a id="l02736" name="l02736"></a><span class="lineno"> 2736</span> </div>
<div class="foldopen" id="foldopen02737" data-start="{" data-end="}">
<div class="line"><a id="l02737" name="l02737"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a28e8e649d26072ec06d1b3b0147eaee1"> 2737</a></span><span class="keywordtype">double</span> <a class="code hl_function" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a28e8e649d26072ec06d1b3b0147eaee1">ICUTimezoneCache::DaylightSavingsOffset</a>(<span class="keywordtype">double</span> time_ms) {</div>
<div class="line"><a id="l02738" name="l02738"></a><span class="lineno"> 2738</span>  int32_t raw_offset, dst_offset;</div>
<div class="line"><a id="l02739" name="l02739"></a><span class="lineno"> 2739</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a5028f4221fbdb91f3e48463db2cd66e8">GetOffsets</a>(time_ms, <span class="keyword">true</span>, &amp;raw_offset, &amp;dst_offset)) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02740" name="l02740"></a><span class="lineno"> 2740</span>  <span class="keywordflow">return</span> dst_offset;</div>
<div class="line"><a id="l02741" name="l02741"></a><span class="lineno"> 2741</span>}</div>
</div>
<div class="line"><a id="l02742" name="l02742"></a><span class="lineno"> 2742</span> </div>
<div class="foldopen" id="foldopen02743" data-start="{" data-end="}">
<div class="line"><a id="l02743" name="l02743"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ICUTimezoneCache.html#ae21dbc103eae2d4ee225d6c68c9667c8"> 2743</a></span><span class="keywordtype">double</span> <a class="code hl_function" href="classv8_1_1internal_1_1ICUTimezoneCache.html#ae21dbc103eae2d4ee225d6c68c9667c8">ICUTimezoneCache::LocalTimeOffset</a>(<span class="keywordtype">double</span> time_ms, <span class="keywordtype">bool</span> is_utc) {</div>
<div class="line"><a id="l02744" name="l02744"></a><span class="lineno"> 2744</span>  int32_t raw_offset, dst_offset;</div>
<div class="line"><a id="l02745" name="l02745"></a><span class="lineno"> 2745</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a5028f4221fbdb91f3e48463db2cd66e8">GetOffsets</a>(time_ms, is_utc, &amp;raw_offset, &amp;dst_offset)) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02746" name="l02746"></a><span class="lineno"> 2746</span>  <span class="keywordflow">return</span> raw_offset + dst_offset;</div>
<div class="line"><a id="l02747" name="l02747"></a><span class="lineno"> 2747</span>}</div>
</div>
<div class="line"><a id="l02748" name="l02748"></a><span class="lineno"> 2748</span> </div>
<div class="foldopen" id="foldopen02749" data-start="{" data-end="}">
<div class="line"><a id="l02749" name="l02749"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a2232745dedd2c77d3eef273f6f65cc7b"> 2749</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a2232745dedd2c77d3eef273f6f65cc7b">ICUTimezoneCache::Clear</a>(<a class="code hl_enumeration" href="classv8_1_1base_1_1TimezoneCache.html#a966797625d4ff2cdd7e2efb6fa0dd6f9">TimeZoneDetection</a> time_zone_detection) {</div>
<div class="line"><a id="l02750" name="l02750"></a><span class="lineno"> 2750</span>  <span class="keyword">delete</span> <a class="code hl_variable" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a6d6956ebdbb9735e9db62fc12900acb5">timezone_</a>;</div>
<div class="line"><a id="l02751" name="l02751"></a><span class="lineno"> 2751</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a6d6956ebdbb9735e9db62fc12900acb5">timezone_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l02752" name="l02752"></a><span class="lineno"> 2752</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a079b6b98447b3f0510f7182df10c2c0f">timezone_name_</a>.clear();</div>
<div class="line"><a id="l02753" name="l02753"></a><span class="lineno"> 2753</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1ICUTimezoneCache.html#a0e88e9886a144ae2d8c80e12e06c0afb">dst_timezone_name_</a>.clear();</div>
<div class="line"><a id="l02754" name="l02754"></a><span class="lineno"> 2754</span>  <span class="keywordflow">if</span> (time_zone_detection == <a class="code hl_enumvalue" href="classv8_1_1base_1_1TimezoneCache.html#a966797625d4ff2cdd7e2efb6fa0dd6f9a3602c4905274c94d02d73ccf6cc26478">TimeZoneDetection::kRedetect</a>) {</div>
<div class="line"><a id="l02755" name="l02755"></a><span class="lineno"> 2755</span>    icu::TimeZone::adoptDefault(icu::TimeZone::detectHostTimeZone());</div>
<div class="line"><a id="l02756" name="l02756"></a><span class="lineno"> 2756</span>  }</div>
<div class="line"><a id="l02757" name="l02757"></a><span class="lineno"> 2757</span>}</div>
</div>
<div class="line"><a id="l02758" name="l02758"></a><span class="lineno"> 2758</span> </div>
<div class="foldopen" id="foldopen02759" data-start="{" data-end="}">
<div class="line"><a id="l02759" name="l02759"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a1060302fe4f7f80ba2d122324a5a7e21"> 2759</a></span><a class="code hl_class" href="classv8_1_1base_1_1TimezoneCache.html">base::TimezoneCache</a>* <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a1060302fe4f7f80ba2d122324a5a7e21">Intl::CreateTimeZoneCache</a>() {</div>
<div class="line"><a id="l02760" name="l02760"></a><span class="lineno"> 2760</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.icu_timezone_data ? <span class="keyword">new</span> <a class="code hl_class" href="classv8_1_1internal_1_1ICUTimezoneCache.html">ICUTimezoneCache</a>()</div>
<div class="line"><a id="l02761" name="l02761"></a><span class="lineno"> 2761</span>                                    : <a class="code hl_function" href="classv8_1_1base_1_1OS.html#ad481e6ce21d8194ec47b14e59e8aadaf">base::OS::CreateTimezoneCache</a>();</div>
<div class="line"><a id="l02762" name="l02762"></a><span class="lineno"> 2762</span>}</div>
</div>
<div class="line"><a id="l02763" name="l02763"></a><span class="lineno"> 2763</span> </div>
<div class="foldopen" id="foldopen02764" data-start="{" data-end="}">
<div class="line"><a id="l02764" name="l02764"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#aa65b5c1f434fe74d5fd3e3ac87ca193f"> 2764</a></span>Maybe&lt;Intl::MatcherOption&gt; <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#aa65b5c1f434fe74d5fd3e3ac87ca193f">Intl::GetLocaleMatcher</a>(</div>
<div class="line"><a id="l02765" name="l02765"></a><span class="lineno"> 2765</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSReceiver&gt;</a> <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>,</div>
<div class="line"><a id="l02766" name="l02766"></a><span class="lineno"> 2766</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* method_name) {</div>
<div class="line"><a id="l02767" name="l02767"></a><span class="lineno"> 2767</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal.html#ae032dca06e882540eca629ad340d45b2">GetStringOption&lt;Intl::MatcherOption&gt;</a>(</div>
<div class="line"><a id="l02768" name="l02768"></a><span class="lineno"> 2768</span>      isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, <span class="stringliteral">&quot;localeMatcher&quot;</span>, method_name, {<span class="stringliteral">&quot;best fit&quot;</span>, <span class="stringliteral">&quot;lookup&quot;</span>},</div>
<div class="line"><a id="l02769" name="l02769"></a><span class="lineno"> 2769</span>      {<a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#afb4cf72c66834096fbb2f5c4761d9695a30fc3b89c9e257abb29b1b1ebf3bd94b">Intl::MatcherOption::kBestFit</a>, <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#afb4cf72c66834096fbb2f5c4761d9695a0c2a5cdacf8be7c37db4d51c1ef9566b">Intl::MatcherOption::kLookup</a>},</div>
<div class="line"><a id="l02770" name="l02770"></a><span class="lineno"> 2770</span>      <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#afb4cf72c66834096fbb2f5c4761d9695a30fc3b89c9e257abb29b1b1ebf3bd94b">Intl::MatcherOption::kBestFit</a>);</div>
<div class="line"><a id="l02771" name="l02771"></a><span class="lineno"> 2771</span>}</div>
</div>
<div class="line"><a id="l02772" name="l02772"></a><span class="lineno"> 2772</span> </div>
<div class="foldopen" id="foldopen02773" data-start="{" data-end="}">
<div class="line"><a id="l02773" name="l02773"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#af104b7ba89e54c66a2ec0db593b4e32c"> 2773</a></span>Maybe&lt;bool&gt; <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a2091add6bc73b348d3ec7807cb0d2f9c">Intl::GetNumberingSystem</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l02774" name="l02774"></a><span class="lineno"> 2774</span>                                     <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSReceiver&gt;</a> <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>,</div>
<div class="line"><a id="l02775" name="l02775"></a><span class="lineno"> 2775</span>                                     <span class="keyword">const</span> <span class="keywordtype">char</span>* method_name,</div>
<div class="line"><a id="l02776" name="l02776"></a><span class="lineno"> 2776</span>                                     std::unique_ptr&lt;<span class="keywordtype">char</span>[]&gt;* <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>) {</div>
<div class="line"><a id="l02777" name="l02777"></a><span class="lineno"> 2777</span>  <span class="keyword">const</span> std::vector&lt;const char*&gt; empty_values = {};</div>
<div class="line"><a id="l02778" name="l02778"></a><span class="lineno"> 2778</span>  Maybe&lt;bool&gt; maybe = <a class="code hl_function" href="namespacev8_1_1internal.html#ae032dca06e882540eca629ad340d45b2">GetStringOption</a>(isolate, <a class="code hl_variable" href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a>, <span class="stringliteral">&quot;numberingSystem&quot;</span>,</div>
<div class="line"><a id="l02779" name="l02779"></a><span class="lineno"> 2779</span>                                      empty_values, method_name, <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>);</div>
<div class="line"><a id="l02780" name="l02780"></a><span class="lineno"> 2780</span>  <a class="code hl_define" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe, Nothing&lt;bool&gt;());</div>
<div class="line"><a id="l02781" name="l02781"></a><span class="lineno"> 2781</span>  <span class="keywordflow">if</span> (maybe.FromJust() &amp;&amp; *<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l02782" name="l02782"></a><span class="lineno"> 2782</span>    <span class="keywordflow">if</span> (!IsWellFormedNumberingSystem(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>-&gt;get())) {</div>
<div class="line"><a id="l02783" name="l02783"></a><span class="lineno"> 2783</span>      <a class="code hl_define" href="execution_2isolate_8h.html#a06699c63279f3987fe082aeaaab74b7e">THROW_NEW_ERROR_RETURN_VALUE</a>(</div>
<div class="line"><a id="l02784" name="l02784"></a><span class="lineno"> 2784</span>          isolate,</div>
<div class="line"><a id="l02785" name="l02785"></a><span class="lineno"> 2785</span>          NewRangeError(</div>
<div class="line"><a id="l02786" name="l02786"></a><span class="lineno"> 2786</span>              MessageTemplate::kInvalid,</div>
<div class="line"><a id="l02787" name="l02787"></a><span class="lineno"> 2787</span>              isolate-&gt;factory()-&gt;numberingSystem_string(),</div>
<div class="line"><a id="l02788" name="l02788"></a><span class="lineno"> 2788</span>              isolate-&gt;factory()-&gt;NewStringFromAsciiChecked(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>-&gt;get())),</div>
<div class="line"><a id="l02789" name="l02789"></a><span class="lineno"> 2789</span>          Nothing&lt;bool&gt;());</div>
<div class="line"><a id="l02790" name="l02790"></a><span class="lineno"> 2790</span>    }</div>
<div class="line"><a id="l02791" name="l02791"></a><span class="lineno"> 2791</span>    <span class="keywordflow">return</span> Just(<span class="keyword">true</span>);</div>
<div class="line"><a id="l02792" name="l02792"></a><span class="lineno"> 2792</span>  }</div>
<div class="line"><a id="l02793" name="l02793"></a><span class="lineno"> 2793</span>  <span class="keywordflow">return</span> Just(<span class="keyword">false</span>);</div>
<div class="line"><a id="l02794" name="l02794"></a><span class="lineno"> 2794</span>}</div>
</div>
<div class="line"><a id="l02795" name="l02795"></a><span class="lineno"> 2795</span> </div>
<div class="foldopen" id="foldopen02796" data-start="{" data-end="}">
<div class="line"><a id="l02796" name="l02796"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a2cdb18d5a573124dfb87bb26316c4859"> 2796</a></span><span class="keyword">const</span> std::set&lt;std::string&gt;&amp; <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a2cdb18d5a573124dfb87bb26316c4859">Intl::GetAvailableLocales</a>() {</div>
<div class="line"><a id="l02797" name="l02797"></a><span class="lineno"> 2797</span>  <span class="keyword">static</span> <a class="code hl_struct" href="structv8_1_1base_1_1LazyInstance.html">base::LazyInstance&lt;Intl::AvailableLocales&lt;&gt;</a>&gt;::type available_locales =</div>
<div class="line"><a id="l02798" name="l02798"></a><span class="lineno"> 2798</span>      <a class="code hl_define" href="lazy-instance_8h.html#a1e27ae5d78f6269b5cbe602f43c91377">LAZY_INSTANCE_INITIALIZER</a>;</div>
<div class="line"><a id="l02799" name="l02799"></a><span class="lineno"> 2799</span>  <span class="keywordflow">return</span> available_locales.Pointer()-&gt;Get();</div>
<div class="line"><a id="l02800" name="l02800"></a><span class="lineno"> 2800</span>}</div>
</div>
<div class="line"><a id="l02801" name="l02801"></a><span class="lineno"> 2801</span> </div>
<div class="line"><a id="l02802" name="l02802"></a><span class="lineno"> 2802</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l02803" name="l02803"></a><span class="lineno"> 2803</span> </div>
<div class="line"><a id="l02804" name="l02804"></a><span class="lineno"> 2804</span><span class="keyword">struct </span>CheckCalendar {</div>
<div class="line"><a id="l02805" name="l02805"></a><span class="lineno"> 2805</span>  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>() { <span class="keywordflow">return</span> <span class="stringliteral">&quot;calendar&quot;</span>; }</div>
<div class="line"><a id="l02806" name="l02806"></a><span class="lineno"> 2806</span>  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* path() { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }</div>
<div class="line"><a id="l02807" name="l02807"></a><span class="lineno"> 2807</span>};</div>
<div class="line"><a id="l02808" name="l02808"></a><span class="lineno"> 2808</span> </div>
<div class="line"><a id="l02809" name="l02809"></a><span class="lineno"> 2809</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l02810" name="l02810"></a><span class="lineno"> 2810</span> </div>
<div class="foldopen" id="foldopen02811" data-start="{" data-end="}">
<div class="line"><a id="l02811" name="l02811"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a54117e018d9ca60498914e60a7e9c41e"> 2811</a></span><span class="keyword">const</span> std::set&lt;std::string&gt;&amp; <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a54117e018d9ca60498914e60a7e9c41e">Intl::GetAvailableLocalesForDateFormat</a>() {</div>
<div class="line"><a id="l02812" name="l02812"></a><span class="lineno"> 2812</span>  <span class="keyword">static</span> <a class="code hl_struct" href="structv8_1_1base_1_1LazyInstance.html">base::LazyInstance&lt;Intl::AvailableLocales&lt;CheckCalendar&gt;</a>&gt;::type</div>
<div class="line"><a id="l02813" name="l02813"></a><span class="lineno"> 2813</span>      available_locales = <a class="code hl_define" href="lazy-instance_8h.html#a1e27ae5d78f6269b5cbe602f43c91377">LAZY_INSTANCE_INITIALIZER</a>;</div>
<div class="line"><a id="l02814" name="l02814"></a><span class="lineno"> 2814</span>  <span class="keywordflow">return</span> available_locales.Pointer()-&gt;Get();</div>
<div class="line"><a id="l02815" name="l02815"></a><span class="lineno"> 2815</span>}</div>
</div>
<div class="line"><a id="l02816" name="l02816"></a><span class="lineno"> 2816</span> </div>
<div class="line"><a id="l02817" name="l02817"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#aedc9028b75e38df2a951699100d46b5b"> 2817</a></span><span class="keyword">constexpr</span> uint16_t <a class="code hl_variable" href="namespacev8_1_1internal.html#aedc9028b75e38df2a951699100d46b5b">kInfinityChar</a> = 0x221e;</div>
<div class="line"><a id="l02818" name="l02818"></a><span class="lineno"> 2818</span> </div>
<div class="foldopen" id="foldopen02819" data-start="{" data-end="}">
<div class="line"><a id="l02819" name="l02819"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a660a051a260ed6308f6a944c8a0ff66a"> 2819</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;String&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a660a051a260ed6308f6a944c8a0ff66a">Intl::NumberFieldToType</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l02820" name="l02820"></a><span class="lineno"> 2820</span>                                       <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1NumberFormatSpan.html">NumberFormatSpan</a>&amp; part,</div>
<div class="line"><a id="l02821" name="l02821"></a><span class="lineno"> 2821</span>                                       <span class="keyword">const</span> icu::UnicodeString&amp; text,</div>
<div class="line"><a id="l02822" name="l02822"></a><span class="lineno"> 2822</span>                                       <span class="keywordtype">bool</span> is_nan) {</div>
<div class="line"><a id="l02823" name="l02823"></a><span class="lineno"> 2823</span>  <span class="keywordflow">switch</span> (<span class="keyword">static_cast&lt;</span>UNumberFormatFields<span class="keyword">&gt;</span>(part.<a class="code hl_variable" href="structv8_1_1internal_1_1NumberFormatSpan.html#aef8bb101ffd6024ff51765aaf8f127d1">field_id</a>)) {</div>
<div class="line"><a id="l02824" name="l02824"></a><span class="lineno"> 2824</span>    <span class="keywordflow">case</span> UNUM_INTEGER_FIELD:</div>
<div class="line"><a id="l02825" name="l02825"></a><span class="lineno"> 2825</span>      <span class="keywordflow">if</span> (is_nan) <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;nan_string();</div>
<div class="line"><a id="l02826" name="l02826"></a><span class="lineno"> 2826</span>      <span class="keywordflow">if</span> (text.charAt(part.<a class="code hl_variable" href="structv8_1_1internal_1_1NumberFormatSpan.html#a567ad8ef941d96a8cca122e2393d81ec">begin_pos</a>) == <a class="code hl_variable" href="namespacev8_1_1internal.html#aedc9028b75e38df2a951699100d46b5b">kInfinityChar</a> ||</div>
<div class="line"><a id="l02827" name="l02827"></a><span class="lineno"> 2827</span>          <span class="comment">// en-US-POSIX output &quot;INF&quot; for Infinity</span></div>
<div class="line"><a id="l02828" name="l02828"></a><span class="lineno"> 2828</span>          (part.<a class="code hl_variable" href="structv8_1_1internal_1_1NumberFormatSpan.html#a7d8317cafec38fa6bea3c95535097ec6">end_pos</a> - part.<a class="code hl_variable" href="structv8_1_1internal_1_1NumberFormatSpan.html#a567ad8ef941d96a8cca122e2393d81ec">begin_pos</a> == 3 &amp;&amp;</div>
<div class="line"><a id="l02829" name="l02829"></a><span class="lineno"> 2829</span>           text.tempSubString(part.<a class="code hl_variable" href="structv8_1_1internal_1_1NumberFormatSpan.html#a567ad8ef941d96a8cca122e2393d81ec">begin_pos</a>, 3) == <span class="stringliteral">&quot;INF&quot;</span>)) {</div>
<div class="line"><a id="l02830" name="l02830"></a><span class="lineno"> 2830</span>        <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;infinity_string();</div>
<div class="line"><a id="l02831" name="l02831"></a><span class="lineno"> 2831</span>      }</div>
<div class="line"><a id="l02832" name="l02832"></a><span class="lineno"> 2832</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;integer_string();</div>
<div class="line"><a id="l02833" name="l02833"></a><span class="lineno"> 2833</span>    <span class="keywordflow">case</span> UNUM_FRACTION_FIELD:</div>
<div class="line"><a id="l02834" name="l02834"></a><span class="lineno"> 2834</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;fraction_string();</div>
<div class="line"><a id="l02835" name="l02835"></a><span class="lineno"> 2835</span>    <span class="keywordflow">case</span> UNUM_DECIMAL_SEPARATOR_FIELD:</div>
<div class="line"><a id="l02836" name="l02836"></a><span class="lineno"> 2836</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;decimal_string();</div>
<div class="line"><a id="l02837" name="l02837"></a><span class="lineno"> 2837</span>    <span class="keywordflow">case</span> UNUM_GROUPING_SEPARATOR_FIELD:</div>
<div class="line"><a id="l02838" name="l02838"></a><span class="lineno"> 2838</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;group_string();</div>
<div class="line"><a id="l02839" name="l02839"></a><span class="lineno"> 2839</span>    <span class="keywordflow">case</span> UNUM_CURRENCY_FIELD:</div>
<div class="line"><a id="l02840" name="l02840"></a><span class="lineno"> 2840</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;currency_string();</div>
<div class="line"><a id="l02841" name="l02841"></a><span class="lineno"> 2841</span>    <span class="keywordflow">case</span> UNUM_PERCENT_FIELD:</div>
<div class="line"><a id="l02842" name="l02842"></a><span class="lineno"> 2842</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;percentSign_string();</div>
<div class="line"><a id="l02843" name="l02843"></a><span class="lineno"> 2843</span>    <span class="keywordflow">case</span> UNUM_SIGN_FIELD:</div>
<div class="line"><a id="l02844" name="l02844"></a><span class="lineno"> 2844</span>      <span class="keywordflow">return</span> (text.charAt(part.<a class="code hl_variable" href="structv8_1_1internal_1_1NumberFormatSpan.html#a567ad8ef941d96a8cca122e2393d81ec">begin_pos</a>) == <span class="charliteral">&#39;+&#39;</span>)</div>
<div class="line"><a id="l02845" name="l02845"></a><span class="lineno"> 2845</span>                 ? isolate-&gt;factory()-&gt;plusSign_string()</div>
<div class="line"><a id="l02846" name="l02846"></a><span class="lineno"> 2846</span>                 : isolate-&gt;factory()-&gt;minusSign_string();</div>
<div class="line"><a id="l02847" name="l02847"></a><span class="lineno"> 2847</span>    <span class="keywordflow">case</span> UNUM_EXPONENT_SYMBOL_FIELD:</div>
<div class="line"><a id="l02848" name="l02848"></a><span class="lineno"> 2848</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;exponentSeparator_string();</div>
<div class="line"><a id="l02849" name="l02849"></a><span class="lineno"> 2849</span> </div>
<div class="line"><a id="l02850" name="l02850"></a><span class="lineno"> 2850</span>    <span class="keywordflow">case</span> UNUM_EXPONENT_SIGN_FIELD:</div>
<div class="line"><a id="l02851" name="l02851"></a><span class="lineno"> 2851</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;exponentMinusSign_string();</div>
<div class="line"><a id="l02852" name="l02852"></a><span class="lineno"> 2852</span> </div>
<div class="line"><a id="l02853" name="l02853"></a><span class="lineno"> 2853</span>    <span class="keywordflow">case</span> UNUM_EXPONENT_FIELD:</div>
<div class="line"><a id="l02854" name="l02854"></a><span class="lineno"> 2854</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;exponentInteger_string();</div>
<div class="line"><a id="l02855" name="l02855"></a><span class="lineno"> 2855</span> </div>
<div class="line"><a id="l02856" name="l02856"></a><span class="lineno"> 2856</span>    <span class="keywordflow">case</span> UNUM_PERMILL_FIELD:</div>
<div class="line"><a id="l02857" name="l02857"></a><span class="lineno"> 2857</span>      <span class="comment">// We&#39;re not creating any permill formatter, and it&#39;s not even clear how</span></div>
<div class="line"><a id="l02858" name="l02858"></a><span class="lineno"> 2858</span>      <span class="comment">// that would be possible with the ICU API.</span></div>
<div class="line"><a id="l02859" name="l02859"></a><span class="lineno"> 2859</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a id="l02860" name="l02860"></a><span class="lineno"> 2860</span> </div>
<div class="line"><a id="l02861" name="l02861"></a><span class="lineno"> 2861</span>    <span class="keywordflow">case</span> UNUM_COMPACT_FIELD:</div>
<div class="line"><a id="l02862" name="l02862"></a><span class="lineno"> 2862</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;compact_string();</div>
<div class="line"><a id="l02863" name="l02863"></a><span class="lineno"> 2863</span>    <span class="keywordflow">case</span> UNUM_MEASURE_UNIT_FIELD:</div>
<div class="line"><a id="l02864" name="l02864"></a><span class="lineno"> 2864</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;unit_string();</div>
<div class="line"><a id="l02865" name="l02865"></a><span class="lineno"> 2865</span> </div>
<div class="line"><a id="l02866" name="l02866"></a><span class="lineno"> 2866</span>    <span class="keywordflow">case</span> UNUM_APPROXIMATELY_SIGN_FIELD:</div>
<div class="line"><a id="l02867" name="l02867"></a><span class="lineno"> 2867</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;approximatelySign_string();</div>
<div class="line"><a id="l02868" name="l02868"></a><span class="lineno"> 2868</span> </div>
<div class="line"><a id="l02869" name="l02869"></a><span class="lineno"> 2869</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l02870" name="l02870"></a><span class="lineno"> 2870</span>      <a class="code hl_function" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a id="l02871" name="l02871"></a><span class="lineno"> 2871</span>  }</div>
<div class="line"><a id="l02872" name="l02872"></a><span class="lineno"> 2872</span>}</div>
</div>
<div class="line"><a id="l02873" name="l02873"></a><span class="lineno"> 2873</span> </div>
<div class="line"><a id="l02874" name="l02874"></a><span class="lineno"> 2874</span><span class="comment">// A helper function to convert the FormattedValue for several Intl objects.</span></div>
<div class="foldopen" id="foldopen02875" data-start="{" data-end="}">
<div class="line"><a id="l02875" name="l02875"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#af72e5aa0953297418b5ef1f7a75069db"> 2875</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;String&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#af72e5aa0953297418b5ef1f7a75069db">Intl::FormattedToString</a>(</div>
<div class="line"><a id="l02876" name="l02876"></a><span class="lineno"> 2876</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> icu::FormattedValue&amp; <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a>) {</div>
<div class="line"><a id="l02877" name="l02877"></a><span class="lineno"> 2877</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02878" name="l02878"></a><span class="lineno"> 2878</span>  icu::UnicodeString <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> = <a class="code hl_variable" href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a>.toString(status);</div>
<div class="line"><a id="l02879" name="l02879"></a><span class="lineno"> 2879</span>  <span class="keywordflow">if</span> (U_FAILURE(status)) {</div>
<div class="line"><a id="l02880" name="l02880"></a><span class="lineno"> 2880</span>    <a class="code hl_define" href="execution_2isolate_8h.html#a6557667dd5be0768bd92d4bfd9a4d70f">THROW_NEW_ERROR</a>(isolate, NewTypeError(MessageTemplate::kIcuError));</div>
<div class="line"><a id="l02881" name="l02881"></a><span class="lineno"> 2881</span>  }</div>
<div class="line"><a id="l02882" name="l02882"></a><span class="lineno"> 2882</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a31799f9a30b4169d1ea6919debdc6591">Intl::ToString</a>(isolate, <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>);</div>
<div class="line"><a id="l02883" name="l02883"></a><span class="lineno"> 2883</span>}</div>
</div>
<div class="line"><a id="l02884" name="l02884"></a><span class="lineno"> 2884</span> </div>
<div class="foldopen" id="foldopen02885" data-start="{" data-end="}">
<div class="line"><a id="l02885" name="l02885"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a2cb733cf947e33ffdd766513a091d97f"> 2885</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;JSArray&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a2cb733cf947e33ffdd766513a091d97f">Intl::ToJSArray</a>(</div>
<div class="line"><a id="l02886" name="l02886"></a><span class="lineno"> 2886</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> <span class="keywordtype">char</span>* unicode_key,</div>
<div class="line"><a id="l02887" name="l02887"></a><span class="lineno"> 2887</span>    icu::StringEnumeration* enumeration,</div>
<div class="line"><a id="l02888" name="l02888"></a><span class="lineno"> 2888</span>    <span class="keyword">const</span> std::function&lt;<span class="keywordtype">bool</span>(<span class="keyword">const</span> <span class="keywordtype">char</span>*)&gt;&amp; removes, <span class="keywordtype">bool</span> sort) {</div>
<div class="line"><a id="l02889" name="l02889"></a><span class="lineno"> 2889</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02890" name="l02890"></a><span class="lineno"> 2890</span>  std::vector&lt;std::string&gt; array;</div>
<div class="line"><a id="l02891" name="l02891"></a><span class="lineno"> 2891</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keywordtype">char</span>* item = enumeration-&gt;next(<span class="keyword">nullptr</span>, status);</div>
<div class="line"><a id="l02892" name="l02892"></a><span class="lineno"> 2892</span>       U_SUCCESS(status) &amp;&amp; item != <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l02893" name="l02893"></a><span class="lineno"> 2893</span>       item = enumeration-&gt;next(<span class="keyword">nullptr</span>, status)) {</div>
<div class="line"><a id="l02894" name="l02894"></a><span class="lineno"> 2894</span>    <span class="keywordflow">if</span> (unicode_key != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l02895" name="l02895"></a><span class="lineno"> 2895</span>      item = uloc_toUnicodeLocaleType(unicode_key, item);</div>
<div class="line"><a id="l02896" name="l02896"></a><span class="lineno"> 2896</span>    }</div>
<div class="line"><a id="l02897" name="l02897"></a><span class="lineno"> 2897</span>    <span class="keywordflow">if</span> (removes == <span class="keyword">nullptr</span> || !(removes)(item)) {</div>
<div class="line"><a id="l02898" name="l02898"></a><span class="lineno"> 2898</span>      array.push_back(item);</div>
<div class="line"><a id="l02899" name="l02899"></a><span class="lineno"> 2899</span>    }</div>
<div class="line"><a id="l02900" name="l02900"></a><span class="lineno"> 2900</span>  }</div>
<div class="line"><a id="l02901" name="l02901"></a><span class="lineno"> 2901</span> </div>
<div class="line"><a id="l02902" name="l02902"></a><span class="lineno"> 2902</span>  <span class="keywordflow">if</span> (sort) {</div>
<div class="line"><a id="l02903" name="l02903"></a><span class="lineno"> 2903</span>    std::sort(array.begin(), array.end());</div>
<div class="line"><a id="l02904" name="l02904"></a><span class="lineno"> 2904</span>  }</div>
<div class="line"><a id="l02905" name="l02905"></a><span class="lineno"> 2905</span>  <span class="keywordflow">return</span> VectorToJSArray(isolate, array);</div>
<div class="line"><a id="l02906" name="l02906"></a><span class="lineno"> 2906</span>}</div>
</div>
<div class="line"><a id="l02907" name="l02907"></a><span class="lineno"> 2907</span> </div>
<div class="foldopen" id="foldopen02908" data-start="{" data-end="}">
<div class="line"><a id="l02908" name="l02908"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a46f3677691cf17d37dc4334b72058088"> 2908</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a46f3677691cf17d37dc4334b72058088">Intl::RemoveCollation</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* collation) {</div>
<div class="line"><a id="l02909" name="l02909"></a><span class="lineno"> 2909</span>  <span class="keywordflow">return</span> strcmp(<span class="stringliteral">&quot;standard&quot;</span>, collation) == 0 || strcmp(<span class="stringliteral">&quot;search&quot;</span>, collation) == 0;</div>
<div class="line"><a id="l02910" name="l02910"></a><span class="lineno"> 2910</span>}</div>
</div>
<div class="line"><a id="l02911" name="l02911"></a><span class="lineno"> 2911</span> </div>
<div class="line"><a id="l02912" name="l02912"></a><span class="lineno"> 2912</span><span class="comment">// See the list in ecma402 #sec-issanctionedsimpleunitidentifier</span></div>
<div class="foldopen" id="foldopen02913" data-start="{" data-end="}">
<div class="line"><a id="l02913" name="l02913"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a67e63e5924b051ec9a421a7180f04dbc"> 2913</a></span>std::set&lt;std::string&gt; <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a67e63e5924b051ec9a421a7180f04dbc">Intl::SanctionedSimpleUnits</a>() {</div>
<div class="line"><a id="l02914" name="l02914"></a><span class="lineno"> 2914</span>  <span class="keywordflow">return</span> std::set&lt;std::string&gt;(</div>
<div class="line"><a id="l02915" name="l02915"></a><span class="lineno"> 2915</span>      {<span class="stringliteral">&quot;acre&quot;</span>,        <span class="stringliteral">&quot;bit&quot;</span>,         <span class="stringliteral">&quot;byte&quot;</span>,        <span class="stringliteral">&quot;celsius&quot;</span>,</div>
<div class="line"><a id="l02916" name="l02916"></a><span class="lineno"> 2916</span>       <span class="stringliteral">&quot;centimeter&quot;</span>,  <span class="stringliteral">&quot;day&quot;</span>,         <span class="stringliteral">&quot;degree&quot;</span>,      <span class="stringliteral">&quot;fahrenheit&quot;</span>,</div>
<div class="line"><a id="l02917" name="l02917"></a><span class="lineno"> 2917</span>       <span class="stringliteral">&quot;fluid-ounce&quot;</span>, <span class="stringliteral">&quot;foot&quot;</span>,        <span class="stringliteral">&quot;gallon&quot;</span>,      <span class="stringliteral">&quot;gigabit&quot;</span>,</div>
<div class="line"><a id="l02918" name="l02918"></a><span class="lineno"> 2918</span>       <span class="stringliteral">&quot;gigabyte&quot;</span>,    <span class="stringliteral">&quot;gram&quot;</span>,        <span class="stringliteral">&quot;hectare&quot;</span>,     <span class="stringliteral">&quot;hour&quot;</span>,</div>
<div class="line"><a id="l02919" name="l02919"></a><span class="lineno"> 2919</span>       <span class="stringliteral">&quot;inch&quot;</span>,        <span class="stringliteral">&quot;kilobit&quot;</span>,     <span class="stringliteral">&quot;kilobyte&quot;</span>,    <span class="stringliteral">&quot;kilogram&quot;</span>,</div>
<div class="line"><a id="l02920" name="l02920"></a><span class="lineno"> 2920</span>       <span class="stringliteral">&quot;kilometer&quot;</span>,   <span class="stringliteral">&quot;liter&quot;</span>,       <span class="stringliteral">&quot;megabit&quot;</span>,     <span class="stringliteral">&quot;megabyte&quot;</span>,</div>
<div class="line"><a id="l02921" name="l02921"></a><span class="lineno"> 2921</span>       <span class="stringliteral">&quot;meter&quot;</span>,       <span class="stringliteral">&quot;microsecond&quot;</span>, <span class="stringliteral">&quot;mile&quot;</span>,        <span class="stringliteral">&quot;mile-scandinavian&quot;</span>,</div>
<div class="line"><a id="l02922" name="l02922"></a><span class="lineno"> 2922</span>       <span class="stringliteral">&quot;millimeter&quot;</span>,  <span class="stringliteral">&quot;milliliter&quot;</span>,  <span class="stringliteral">&quot;millisecond&quot;</span>, <span class="stringliteral">&quot;minute&quot;</span>,</div>
<div class="line"><a id="l02923" name="l02923"></a><span class="lineno"> 2923</span>       <span class="stringliteral">&quot;month&quot;</span>,       <span class="stringliteral">&quot;nanosecond&quot;</span>,  <span class="stringliteral">&quot;ounce&quot;</span>,       <span class="stringliteral">&quot;percent&quot;</span>,</div>
<div class="line"><a id="l02924" name="l02924"></a><span class="lineno"> 2924</span>       <span class="stringliteral">&quot;petabyte&quot;</span>,    <span class="stringliteral">&quot;pound&quot;</span>,       <span class="stringliteral">&quot;second&quot;</span>,      <span class="stringliteral">&quot;stone&quot;</span>,</div>
<div class="line"><a id="l02925" name="l02925"></a><span class="lineno"> 2925</span>       <span class="stringliteral">&quot;terabit&quot;</span>,     <span class="stringliteral">&quot;terabyte&quot;</span>,    <span class="stringliteral">&quot;week&quot;</span>,        <span class="stringliteral">&quot;yard&quot;</span>,</div>
<div class="line"><a id="l02926" name="l02926"></a><span class="lineno"> 2926</span>       <span class="stringliteral">&quot;year&quot;</span>});</div>
<div class="line"><a id="l02927" name="l02927"></a><span class="lineno"> 2927</span>}</div>
</div>
<div class="line"><a id="l02928" name="l02928"></a><span class="lineno"> 2928</span> </div>
<div class="line"><a id="l02929" name="l02929"></a><span class="lineno"> 2929</span><span class="comment">// ecma-402/#sec-isvalidtimezonename</span></div>
<div class="line"><a id="l02930" name="l02930"></a><span class="lineno"> 2930</span> </div>
<div class="line"><a id="l02931" name="l02931"></a><span class="lineno"> 2931</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l02932" name="l02932"></a><span class="lineno"> 2932</span><span class="keywordtype">bool</span> IsUnicodeStringValidTimeZoneName(<span class="keyword">const</span> icu::UnicodeString&amp; <span class="keywordtype">id</span>) {</div>
<div class="line"><a id="l02933" name="l02933"></a><span class="lineno"> 2933</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02934" name="l02934"></a><span class="lineno"> 2934</span>  icu::UnicodeString canonical;</div>
<div class="line"><a id="l02935" name="l02935"></a><span class="lineno"> 2935</span>  icu::TimeZone::getCanonicalID(<span class="keywordtype">id</span>, canonical, status);</div>
<div class="line"><a id="l02936" name="l02936"></a><span class="lineno"> 2936</span>  <span class="keywordflow">return</span> U_SUCCESS(status) &amp;&amp;</div>
<div class="line"><a id="l02937" name="l02937"></a><span class="lineno"> 2937</span>         canonical != icu::UnicodeString(<span class="stringliteral">&quot;Etc/Unknown&quot;</span>, -1, US_INV);</div>
<div class="line"><a id="l02938" name="l02938"></a><span class="lineno"> 2938</span>}</div>
<div class="line"><a id="l02939" name="l02939"></a><span class="lineno"> 2939</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l02940" name="l02940"></a><span class="lineno"> 2940</span> </div>
<div class="foldopen" id="foldopen02941" data-start="{" data-end="}">
<div class="line"><a id="l02941" name="l02941"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#aa32b9ca40489136ec46afea146651758"> 2941</a></span><a class="code hl_class" href="classv8_1_1internal_1_1MaybeHandle.html">MaybeHandle&lt;String&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#aa32b9ca40489136ec46afea146651758">Intl::CanonicalizeTimeZoneName</a>(</div>
<div class="line"><a id="l02942" name="l02942"></a><span class="lineno"> 2942</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code hl_variable" href="torque-parser_8cc.html#a1fa4d8a9b87189550e463b8da741b333">identifier</a>) {</div>
<div class="line"><a id="l02943" name="l02943"></a><span class="lineno"> 2943</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02944" name="l02944"></a><span class="lineno"> 2944</span>  std::string <a class="code hl_variable" href="js-temporal-objects_8cc.html#ad0f668580d18bf2169eb3fc59fb2dfc5">time_zone</a> =</div>
<div class="line"><a id="l02945" name="l02945"></a><span class="lineno"> 2945</span>      <a class="code hl_function" href="classv8_1_1internal_1_1JSDateTimeFormat.html#aeeb516c14b25e1191bcdd464887de0e4">JSDateTimeFormat::CanonicalizeTimeZoneID</a>(<a class="code hl_variable" href="torque-parser_8cc.html#a1fa4d8a9b87189550e463b8da741b333">identifier</a>-&gt;ToCString().get());</div>
<div class="line"><a id="l02946" name="l02946"></a><span class="lineno"> 2946</span>  icu::UnicodeString time_zone_ustring =</div>
<div class="line"><a id="l02947" name="l02947"></a><span class="lineno"> 2947</span>      icu::UnicodeString(<a class="code hl_variable" href="js-temporal-objects_8cc.html#ad0f668580d18bf2169eb3fc59fb2dfc5">time_zone</a>.c_str(), -1, US_INV);</div>
<div class="line"><a id="l02948" name="l02948"></a><span class="lineno"> 2948</span>  icu::UnicodeString canonical;</div>
<div class="line"><a id="l02949" name="l02949"></a><span class="lineno"> 2949</span>  icu::TimeZone::getCanonicalID(time_zone_ustring, canonical, status);</div>
<div class="line"><a id="l02950" name="l02950"></a><span class="lineno"> 2950</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l02951" name="l02951"></a><span class="lineno"> 2951</span> </div>
<div class="line"><a id="l02952" name="l02952"></a><span class="lineno"> 2952</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1JSDateTimeFormat.html#a759b2ab29903eb783323354a4dcc2818">JSDateTimeFormat::TimeZoneIdToString</a>(isolate, canonical);</div>
<div class="line"><a id="l02953" name="l02953"></a><span class="lineno"> 2953</span>}</div>
</div>
<div class="line"><a id="l02954" name="l02954"></a><span class="lineno"> 2954</span> </div>
<div class="foldopen" id="foldopen02955" data-start="{" data-end="}">
<div class="line"><a id="l02955" name="l02955"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a8c10d6bfc4bf35d2b05a873fcb7e27ea"> 2955</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a9b06f5add0eff4873aca885482241c87">Intl::IsValidTimeZoneName</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <span class="keywordtype">id</span>) {</div>
<div class="line"><a id="l02956" name="l02956"></a><span class="lineno"> 2956</span>  std::string <a class="code hl_variable" href="js-temporal-objects_8cc.html#ad0f668580d18bf2169eb3fc59fb2dfc5">time_zone</a> =</div>
<div class="line"><a id="l02957" name="l02957"></a><span class="lineno"> 2957</span>      <a class="code hl_function" href="classv8_1_1internal_1_1JSDateTimeFormat.html#aeeb516c14b25e1191bcdd464887de0e4">JSDateTimeFormat::CanonicalizeTimeZoneID</a>(id-&gt;ToCString().get());</div>
<div class="line"><a id="l02958" name="l02958"></a><span class="lineno"> 2958</span>  icu::UnicodeString time_zone_ustring =</div>
<div class="line"><a id="l02959" name="l02959"></a><span class="lineno"> 2959</span>      icu::UnicodeString(<a class="code hl_variable" href="js-temporal-objects_8cc.html#ad0f668580d18bf2169eb3fc59fb2dfc5">time_zone</a>.c_str(), -1, US_INV);</div>
<div class="line"><a id="l02960" name="l02960"></a><span class="lineno"> 2960</span>  <span class="keywordflow">return</span> IsUnicodeStringValidTimeZoneName(time_zone_ustring);</div>
<div class="line"><a id="l02961" name="l02961"></a><span class="lineno"> 2961</span>}</div>
</div>
<div class="line"><a id="l02962" name="l02962"></a><span class="lineno"> 2962</span> </div>
<div class="foldopen" id="foldopen02963" data-start="{" data-end="}">
<div class="line"><a id="l02963" name="l02963"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a9b06f5add0eff4873aca885482241c87"> 2963</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a9b06f5add0eff4873aca885482241c87">Intl::IsValidTimeZoneName</a>(<span class="keyword">const</span> icu::TimeZone&amp; tz) {</div>
<div class="line"><a id="l02964" name="l02964"></a><span class="lineno"> 2964</span>  icu::UnicodeString id;</div>
<div class="line"><a id="l02965" name="l02965"></a><span class="lineno"> 2965</span>  tz.getID(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l02966" name="l02966"></a><span class="lineno"> 2966</span>  <span class="keywordflow">return</span> IsUnicodeStringValidTimeZoneName(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l02967" name="l02967"></a><span class="lineno"> 2967</span>}</div>
</div>
<div class="line"><a id="l02968" name="l02968"></a><span class="lineno"> 2968</span> </div>
<div class="line"><a id="l02969" name="l02969"></a><span class="lineno"> 2969</span><span class="comment">// Function to support Temporal</span></div>
<div class="foldopen" id="foldopen02970" data-start="{" data-end="}">
<div class="line"><a id="l02970" name="l02970"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#aa0b76820cd9c7b5a1f0a14c30e4a7288"> 2970</a></span>std::string <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#aa0b76820cd9c7b5a1f0a14c30e4a7288">Intl::TimeZoneIdFromIndex</a>(int32_t <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a id="l02971" name="l02971"></a><span class="lineno"> 2971</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> == <a class="code hl_variable" href="classv8_1_1internal_1_1JSTemporalTimeZone.html#afc37cad9a324852c6bfb117837dd6969">JSTemporalTimeZone::kUTCTimeZoneIndex</a>) {</div>
<div class="line"><a id="l02972" name="l02972"></a><span class="lineno"> 2972</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;UTC&quot;</span>;</div>
<div class="line"><a id="l02973" name="l02973"></a><span class="lineno"> 2973</span>  }</div>
<div class="line"><a id="l02974" name="l02974"></a><span class="lineno"> 2974</span>  std::unique_ptr&lt;icu::StringEnumeration&gt; enumeration(</div>
<div class="line"><a id="l02975" name="l02975"></a><span class="lineno"> 2975</span>      icu::TimeZone::createEnumeration());</div>
<div class="line"><a id="l02976" name="l02976"></a><span class="lineno"> 2976</span>  int32_t curr = 0;</div>
<div class="line"><a id="l02977" name="l02977"></a><span class="lineno"> 2977</span>  <span class="keyword">const</span> <span class="keywordtype">char</span>* id;</div>
<div class="line"><a id="l02978" name="l02978"></a><span class="lineno"> 2978</span> </div>
<div class="line"><a id="l02979" name="l02979"></a><span class="lineno"> 2979</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l02980" name="l02980"></a><span class="lineno"> 2980</span>  <span class="keywordflow">while</span> (U_SUCCESS(status) &amp;&amp; curr &lt; <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &amp;&amp;</div>
<div class="line"><a id="l02981" name="l02981"></a><span class="lineno"> 2981</span>         ((<span class="keywordtype">id</span> = enumeration-&gt;next(<span class="keyword">nullptr</span>, status)) != <span class="keyword">nullptr</span>)) {</div>
<div class="line"><a id="l02982" name="l02982"></a><span class="lineno"> 2982</span>    <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l02983" name="l02983"></a><span class="lineno"> 2983</span>    curr++;</div>
<div class="line"><a id="l02984" name="l02984"></a><span class="lineno"> 2984</span>  }</div>
<div class="line"><a id="l02985" name="l02985"></a><span class="lineno"> 2985</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l02986" name="l02986"></a><span class="lineno"> 2986</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<span class="keywordtype">id</span> != <span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l02987" name="l02987"></a><span class="lineno"> 2987</span>  <span class="keywordflow">return</span> id;</div>
<div class="line"><a id="l02988" name="l02988"></a><span class="lineno"> 2988</span>}</div>
</div>
<div class="line"><a id="l02989" name="l02989"></a><span class="lineno"> 2989</span> </div>
<div class="foldopen" id="foldopen02990" data-start="{" data-end="}">
<div class="line"><a id="l02990" name="l02990"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a42cc2613b850020bd949b62220690205"> 2990</a></span>int32_t <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a42cc2613b850020bd949b62220690205">Intl::GetTimeZoneIndex</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a id="l02991" name="l02991"></a><span class="lineno"> 2991</span>                               <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code hl_variable" href="torque-parser_8cc.html#a1fa4d8a9b87189550e463b8da741b333">identifier</a>) {</div>
<div class="line"><a id="l02992" name="l02992"></a><span class="lineno"> 2992</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="torque-parser_8cc.html#a1fa4d8a9b87189550e463b8da741b333">identifier</a>-&gt;Equals(*isolate-&gt;factory()-&gt;UTC_string())) {</div>
<div class="line"><a id="l02993" name="l02993"></a><span class="lineno"> 2993</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02994" name="l02994"></a><span class="lineno"> 2994</span>  }</div>
<div class="line"><a id="l02995" name="l02995"></a><span class="lineno"> 2995</span> </div>
<div class="line"><a id="l02996" name="l02996"></a><span class="lineno"> 2996</span>  std::string identifier_str(<a class="code hl_variable" href="torque-parser_8cc.html#a1fa4d8a9b87189550e463b8da741b333">identifier</a>-&gt;ToCString().get());</div>
<div class="line"><a id="l02997" name="l02997"></a><span class="lineno"> 2997</span>  std::unique_ptr&lt;icu::TimeZone&gt; tz(</div>
<div class="line"><a id="l02998" name="l02998"></a><span class="lineno"> 2998</span>      icu::TimeZone::createTimeZone(identifier_str.c_str()));</div>
<div class="line"><a id="l02999" name="l02999"></a><span class="lineno"> 2999</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a9b06f5add0eff4873aca885482241c87">IsValidTimeZoneName</a>(*tz)) {</div>
<div class="line"><a id="l03000" name="l03000"></a><span class="lineno"> 3000</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a id="l03001" name="l03001"></a><span class="lineno"> 3001</span>  }</div>
<div class="line"><a id="l03002" name="l03002"></a><span class="lineno"> 3002</span> </div>
<div class="line"><a id="l03003" name="l03003"></a><span class="lineno"> 3003</span>  std::unique_ptr&lt;icu::StringEnumeration&gt; enumeration(</div>
<div class="line"><a id="l03004" name="l03004"></a><span class="lineno"> 3004</span>      icu::TimeZone::createEnumeration());</div>
<div class="line"><a id="l03005" name="l03005"></a><span class="lineno"> 3005</span>  int32_t curr = 0;</div>
<div class="line"><a id="l03006" name="l03006"></a><span class="lineno"> 3006</span>  <span class="keyword">const</span> <span class="keywordtype">char</span>* id;</div>
<div class="line"><a id="l03007" name="l03007"></a><span class="lineno"> 3007</span> </div>
<div class="line"><a id="l03008" name="l03008"></a><span class="lineno"> 3008</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l03009" name="l03009"></a><span class="lineno"> 3009</span>  <span class="keywordflow">while</span> (U_SUCCESS(status) &amp;&amp;</div>
<div class="line"><a id="l03010" name="l03010"></a><span class="lineno"> 3010</span>         (<span class="keywordtype">id</span> = enumeration-&gt;next(<span class="keyword">nullptr</span>, status)) != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l03011" name="l03011"></a><span class="lineno"> 3011</span>    curr++;</div>
<div class="line"><a id="l03012" name="l03012"></a><span class="lineno"> 3012</span>    <span class="keywordflow">if</span> (identifier_str == <span class="keywordtype">id</span>) {</div>
<div class="line"><a id="l03013" name="l03013"></a><span class="lineno"> 3013</span>      <span class="keywordflow">return</span> curr;</div>
<div class="line"><a id="l03014" name="l03014"></a><span class="lineno"> 3014</span>    }</div>
<div class="line"><a id="l03015" name="l03015"></a><span class="lineno"> 3015</span>  }</div>
<div class="line"><a id="l03016" name="l03016"></a><span class="lineno"> 3016</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l03017" name="l03017"></a><span class="lineno"> 3017</span>  <span class="comment">// We should not reach here, the !IsValidTimeZoneName should return earlier</span></div>
<div class="line"><a id="l03018" name="l03018"></a><span class="lineno"> 3018</span>  <a class="code hl_function" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a id="l03019" name="l03019"></a><span class="lineno"> 3019</span>}</div>
</div>
<div class="line"><a id="l03020" name="l03020"></a><span class="lineno"> 3020</span> </div>
<div class="foldopen" id="foldopen03021" data-start="{" data-end="}">
<div class="line"><a id="l03021" name="l03021"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker.html#a1c3f41f166f39e7464c27adfd2c1240b"> 3021</a></span><a class="code hl_function" href="classv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker.html#a1c3f41f166f39e7464c27adfd2c1240b">Intl::FormatRangeSourceTracker::FormatRangeSourceTracker</a>() {</div>
<div class="line"><a id="l03022" name="l03022"></a><span class="lineno"> 3022</span>  <a class="code hl_variable" href="classv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker.html#a43fa4e03966addd99fcdc7ed324b8412">start_</a>[0] = <a class="code hl_variable" href="classv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker.html#a43fa4e03966addd99fcdc7ed324b8412">start_</a>[1] = <a class="code hl_variable" href="classv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker.html#ac8011a933f6d1e50f809bd74a9f48b65">limit_</a>[0] = <a class="code hl_variable" href="classv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker.html#ac8011a933f6d1e50f809bd74a9f48b65">limit_</a>[1] = 0;</div>
<div class="line"><a id="l03023" name="l03023"></a><span class="lineno"> 3023</span>}</div>
</div>
<div class="line"><a id="l03024" name="l03024"></a><span class="lineno"> 3024</span> </div>
<div class="foldopen" id="foldopen03025" data-start="{" data-end="}">
<div class="line"><a id="l03025" name="l03025"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker.html#aefe0829021506f82c9d8172be604e0c1"> 3025</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker.html#aefe0829021506f82c9d8172be604e0c1">Intl::FormatRangeSourceTracker::Add</a>(int32_t field, int32_t <a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a>,</div>
<div class="line"><a id="l03026" name="l03026"></a><span class="lineno"> 3026</span>                                         int32_t limit) {</div>
<div class="line"><a id="l03027" name="l03027"></a><span class="lineno"> 3027</span>  <a class="code hl_define" href="logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(field, 2);</div>
<div class="line"><a id="l03028" name="l03028"></a><span class="lineno"> 3028</span>  <a class="code hl_variable" href="codegen_2assembler_8cc.html#ae4cca67e9b8b6a39d8f53185f2569a05">start_</a>[field] = <a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a>;</div>
<div class="line"><a id="l03029" name="l03029"></a><span class="lineno"> 3029</span>  <a class="code hl_variable" href="isolate_8cc.html#a787a832ab591758654210dd93e0b6a1b">limit_</a>[field] = limit;</div>
<div class="line"><a id="l03030" name="l03030"></a><span class="lineno"> 3030</span>}</div>
</div>
<div class="line"><a id="l03031" name="l03031"></a><span class="lineno"> 3031</span> </div>
<div class="foldopen" id="foldopen03032" data-start="{" data-end="}">
<div class="line"><a id="l03032" name="l03032"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker.html#a794e47fa4365f2e602645221104aa78c"> 3032</a></span><a class="code hl_enumeration" href="classv8_1_1internal_1_1Intl.html#a6f128d42eed47a53dd1daa6021e9009f">Intl::FormatRangeSource</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker.html#a794e47fa4365f2e602645221104aa78c">Intl::FormatRangeSourceTracker::GetSource</a>(</div>
<div class="line"><a id="l03033" name="l03033"></a><span class="lineno"> 3033</span>    int32_t <a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a>, int32_t limit)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l03034" name="l03034"></a><span class="lineno"> 3034</span>  <a class="code hl_enumeration" href="classv8_1_1internal_1_1Intl.html#a6f128d42eed47a53dd1daa6021e9009f">FormatRangeSource</a> source = <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a6f128d42eed47a53dd1daa6021e9009fa767e1337acb2aa20d7ce4e903a75ca16">FormatRangeSource::kShared</a>;</div>
<div class="line"><a id="l03035" name="l03035"></a><span class="lineno"> 3035</span>  <span class="keywordflow">if</span> (FieldContains(0, <a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a>, limit)) {</div>
<div class="line"><a id="l03036" name="l03036"></a><span class="lineno"> 3036</span>    source = <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a6f128d42eed47a53dd1daa6021e9009fa8606f3c4649f7a08f35e43768c3c0339">FormatRangeSource::kStartRange</a>;</div>
<div class="line"><a id="l03037" name="l03037"></a><span class="lineno"> 3037</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (FieldContains(1, <a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a>, limit)) {</div>
<div class="line"><a id="l03038" name="l03038"></a><span class="lineno"> 3038</span>    source = <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a6f128d42eed47a53dd1daa6021e9009fa2086d027f0227c73a76505b5b6107958">FormatRangeSource::kEndRange</a>;</div>
<div class="line"><a id="l03039" name="l03039"></a><span class="lineno"> 3039</span>  }</div>
<div class="line"><a id="l03040" name="l03040"></a><span class="lineno"> 3040</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="move-optimizer_8cc.html#a93b84296d9854b2ab5bd18f69c3f8768">source</a>;</div>
<div class="line"><a id="l03041" name="l03041"></a><span class="lineno"> 3041</span>}</div>
</div>
<div class="line"><a id="l03042" name="l03042"></a><span class="lineno"> 3042</span> </div>
<div class="foldopen" id="foldopen03043" data-start="{" data-end="}">
<div class="line"><a id="l03043" name="l03043"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker.html#a385d90eab44419d2c5d2ad472c3381f7"> 3043</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker.html#a385d90eab44419d2c5d2ad472c3381f7">Intl::FormatRangeSourceTracker::FieldContains</a>(int32_t field, int32_t <a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a>,</div>
<div class="line"><a id="l03044" name="l03044"></a><span class="lineno"> 3044</span>                                                   int32_t limit)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l03045" name="l03045"></a><span class="lineno"> 3045</span>  <a class="code hl_define" href="logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(field, 2);</div>
<div class="line"><a id="l03046" name="l03046"></a><span class="lineno"> 3046</span>  <span class="keywordflow">return</span> (<a class="code hl_variable" href="codegen_2assembler_8cc.html#ae4cca67e9b8b6a39d8f53185f2569a05">start_</a>[field] &lt;= <a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a>) &amp;&amp; (<a class="code hl_variable" href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a> &lt;= <a class="code hl_variable" href="isolate_8cc.html#a787a832ab591758654210dd93e0b6a1b">limit_</a>[field]) &amp;&amp;</div>
<div class="line"><a id="l03047" name="l03047"></a><span class="lineno"> 3047</span>         (<a class="code hl_variable" href="codegen_2assembler_8cc.html#ae4cca67e9b8b6a39d8f53185f2569a05">start_</a>[field] &lt;= limit) &amp;&amp; (limit &lt;= <a class="code hl_variable" href="isolate_8cc.html#a787a832ab591758654210dd93e0b6a1b">limit_</a>[field]);</div>
<div class="line"><a id="l03048" name="l03048"></a><span class="lineno"> 3048</span>}</div>
</div>
<div class="line"><a id="l03049" name="l03049"></a><span class="lineno"> 3049</span> </div>
<div class="foldopen" id="foldopen03050" data-start="{" data-end="}">
<div class="line"><a id="l03050" name="l03050"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#abaa86e49b219f33b0185c47996ca5006"> 3050</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;String&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#abaa86e49b219f33b0185c47996ca5006">Intl::SourceString</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code hl_enumeration" href="classv8_1_1internal_1_1Intl.html#a6f128d42eed47a53dd1daa6021e9009f">FormatRangeSource</a> source) {</div>
<div class="line"><a id="l03051" name="l03051"></a><span class="lineno"> 3051</span>  <span class="keywordflow">switch</span> (source) {</div>
<div class="line"><a id="l03052" name="l03052"></a><span class="lineno"> 3052</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a6f128d42eed47a53dd1daa6021e9009fa767e1337acb2aa20d7ce4e903a75ca16">FormatRangeSource::kShared</a>:</div>
<div class="line"><a id="l03053" name="l03053"></a><span class="lineno"> 3053</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;shared_string();</div>
<div class="line"><a id="l03054" name="l03054"></a><span class="lineno"> 3054</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a6f128d42eed47a53dd1daa6021e9009fa8606f3c4649f7a08f35e43768c3c0339">FormatRangeSource::kStartRange</a>:</div>
<div class="line"><a id="l03055" name="l03055"></a><span class="lineno"> 3055</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;startRange_string();</div>
<div class="line"><a id="l03056" name="l03056"></a><span class="lineno"> 3056</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a6f128d42eed47a53dd1daa6021e9009fa2086d027f0227c73a76505b5b6107958">FormatRangeSource::kEndRange</a>:</div>
<div class="line"><a id="l03057" name="l03057"></a><span class="lineno"> 3057</span>      <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;endRange_string();</div>
<div class="line"><a id="l03058" name="l03058"></a><span class="lineno"> 3058</span>  }</div>
<div class="line"><a id="l03059" name="l03059"></a><span class="lineno"> 3059</span>}</div>
</div>
<div class="line"><a id="l03060" name="l03060"></a><span class="lineno"> 3060</span> </div>
<div class="foldopen" id="foldopen03061" data-start="{" data-end="}">
<div class="line"><a id="l03061" name="l03061"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a0aff3eaed885d7606aca49c6720647f9"> 3061</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;String&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a0aff3eaed885d7606aca49c6720647f9">Intl::DefaultTimeZone</a>(<a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a id="l03062" name="l03062"></a><span class="lineno"> 3062</span>  icu::UnicodeString id;</div>
<div class="line"><a id="l03063" name="l03063"></a><span class="lineno"> 3063</span>  {</div>
<div class="line"><a id="l03064" name="l03064"></a><span class="lineno"> 3064</span>    std::unique_ptr&lt;icu::TimeZone&gt; tz(icu::TimeZone::createDefault());</div>
<div class="line"><a id="l03065" name="l03065"></a><span class="lineno"> 3065</span>    tz-&gt;getID(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l03066" name="l03066"></a><span class="lineno"> 3066</span>  }</div>
<div class="line"><a id="l03067" name="l03067"></a><span class="lineno"> 3067</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l03068" name="l03068"></a><span class="lineno"> 3068</span>  icu::UnicodeString canonical;</div>
<div class="line"><a id="l03069" name="l03069"></a><span class="lineno"> 3069</span>  icu::TimeZone::getCanonicalID(<span class="keywordtype">id</span>, canonical, status);</div>
<div class="line"><a id="l03070" name="l03070"></a><span class="lineno"> 3070</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l03071" name="l03071"></a><span class="lineno"> 3071</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1JSDateTimeFormat.html#a759b2ab29903eb783323354a4dcc2818">JSDateTimeFormat::TimeZoneIdToString</a>(isolate, canonical)</div>
<div class="line"><a id="l03072" name="l03072"></a><span class="lineno"> 3072</span>      .ToHandleChecked();</div>
<div class="line"><a id="l03073" name="l03073"></a><span class="lineno"> 3073</span>}</div>
</div>
<div class="line"><a id="l03074" name="l03074"></a><span class="lineno"> 3074</span> </div>
<div class="line"><a id="l03075" name="l03075"></a><span class="lineno"> 3075</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l03076" name="l03076"></a><span class="lineno"> 3076</span> </div>
<div class="line"><a id="l03077" name="l03077"></a><span class="lineno"> 3077</span><span class="keyword">const</span> icu::BasicTimeZone* CreateBasicTimeZoneFromIndex(</div>
<div class="line"><a id="l03078" name="l03078"></a><span class="lineno"> 3078</span>    int32_t time_zone_index) {</div>
<div class="line"><a id="l03079" name="l03079"></a><span class="lineno"> 3079</span>  <a class="code hl_define" href="logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(time_zone_index, 0);</div>
<div class="line"><a id="l03080" name="l03080"></a><span class="lineno"> 3080</span>  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>icu::BasicTimeZone*<span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l03081" name="l03081"></a><span class="lineno"> 3081</span>      icu::TimeZone::createTimeZone(icu::UnicodeString(</div>
<div class="line"><a id="l03082" name="l03082"></a><span class="lineno"> 3082</span>          <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#aa0b76820cd9c7b5a1f0a14c30e4a7288">Intl::TimeZoneIdFromIndex</a>(time_zone_index).c_str(), -1, US_INV)));</div>
<div class="line"><a id="l03083" name="l03083"></a><span class="lineno"> 3083</span>}</div>
<div class="line"><a id="l03084" name="l03084"></a><span class="lineno"> 3084</span> </div>
<div class="line"><a id="l03085" name="l03085"></a><span class="lineno"> 3085</span><span class="comment">// ICU only support TimeZone information in millisecond but Temporal require</span></div>
<div class="line"><a id="l03086" name="l03086"></a><span class="lineno"> 3086</span><span class="comment">// nanosecond. For most of the case, we find an approximate millisecond by</span></div>
<div class="line"><a id="l03087" name="l03087"></a><span class="lineno"> 3087</span><span class="comment">// floor to the millisecond just past the nanosecond_epoch. For negative epoch</span></div>
<div class="line"><a id="l03088" name="l03088"></a><span class="lineno"> 3088</span><span class="comment">// value, the BigInt Divide will floor closer to zero so we need to minus 1 if</span></div>
<div class="line"><a id="l03089" name="l03089"></a><span class="lineno"> 3089</span><span class="comment">// the remainder is not zero. For the case of finding previous transition, we</span></div>
<div class="line"><a id="l03090" name="l03090"></a><span class="lineno"> 3090</span><span class="comment">// need to ceil to the millisecond in the near future of the nanosecond_epoch.</span></div>
<div class="line"><a id="l03091" name="l03091"></a><span class="lineno"> 3091</span><span class="keyword">enum class</span> Direction { kPast, kFuture };</div>
<div class="line"><a id="l03092" name="l03092"></a><span class="lineno"> 3092</span>int64_t ApproximateMillisecondEpoch(Isolate* isolate,</div>
<div class="line"><a id="l03093" name="l03093"></a><span class="lineno"> 3093</span>                                    DirectHandle&lt;BigInt&gt; nanosecond_epoch,</div>
<div class="line"><a id="l03094" name="l03094"></a><span class="lineno"> 3094</span>                                    Direction <a class="code hl_variable" href="js-call-reducer_8cc.html#a90c9411d2f3b478b9cb3fe5a9814959e">direction</a> = Direction::kPast) {</div>
<div class="line"><a id="l03095" name="l03095"></a><span class="lineno"> 3095</span>  DirectHandle&lt;BigInt&gt; one_million = <a class="code hl_function" href="classv8_1_1internal_1_1BigInt.html#a7df25eb1750797b26ce9588754f919c3">BigInt::FromUint64</a>(isolate, 1000000);</div>
<div class="line"><a id="l03096" name="l03096"></a><span class="lineno"> 3096</span>  int64_t ms = <a class="code hl_function" href="classv8_1_1internal_1_1BigInt.html#a6a7f9339c40b076624e5b3fb4626e80f">BigInt::Divide</a>(isolate, nanosecond_epoch, one_million)</div>
<div class="line"><a id="l03097" name="l03097"></a><span class="lineno"> 3097</span>                   .ToHandleChecked()</div>
<div class="line"><a id="l03098" name="l03098"></a><span class="lineno"> 3098</span>                   -&gt;AsInt64();</div>
<div class="line"><a id="l03099" name="l03099"></a><span class="lineno"> 3099</span>  DirectHandle&lt;BigInt&gt; <a class="code hl_variable" href="js-temporal-objects_8cc.html#a171b4bcf022a10159f27162dac007763">remainder</a> =</div>
<div class="line"><a id="l03100" name="l03100"></a><span class="lineno"> 3100</span>      <a class="code hl_function" href="classv8_1_1internal_1_1BigInt.html#a147415bae92680ecf91116c2750697ad">BigInt::Remainder</a>(isolate, nanosecond_epoch, one_million)</div>
<div class="line"><a id="l03101" name="l03101"></a><span class="lineno"> 3101</span>          .ToHandleChecked();</div>
<div class="line"><a id="l03102" name="l03102"></a><span class="lineno"> 3102</span>  <span class="comment">// If the nanosecond_epoch is not on the exact millisecond</span></div>
<div class="line"><a id="l03103" name="l03103"></a><span class="lineno"> 3103</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="js-temporal-objects_8cc.html#a171b4bcf022a10159f27162dac007763">remainder</a>-&gt;ToBoolean()) {</div>
<div class="line"><a id="l03104" name="l03104"></a><span class="lineno"> 3104</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="js-call-reducer_8cc.html#a90c9411d2f3b478b9cb3fe5a9814959e">direction</a> == Direction::kPast) {</div>
<div class="line"><a id="l03105" name="l03105"></a><span class="lineno"> 3105</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="js-temporal-objects_8cc.html#a171b4bcf022a10159f27162dac007763">remainder</a>-&gt;IsNegative()) {</div>
<div class="line"><a id="l03106" name="l03106"></a><span class="lineno"> 3106</span>        <span class="comment">// If the remaninder is negative, we know we have an negative epoch</span></div>
<div class="line"><a id="l03107" name="l03107"></a><span class="lineno"> 3107</span>        <span class="comment">// We need to decrease one millisecond.</span></div>
<div class="line"><a id="l03108" name="l03108"></a><span class="lineno"> 3108</span>        <span class="comment">// Move to the previous millisecond</span></div>
<div class="line"><a id="l03109" name="l03109"></a><span class="lineno"> 3109</span>        ms -= 1;</div>
<div class="line"><a id="l03110" name="l03110"></a><span class="lineno"> 3110</span>      }</div>
<div class="line"><a id="l03111" name="l03111"></a><span class="lineno"> 3111</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03112" name="l03112"></a><span class="lineno"> 3112</span>      <span class="keywordflow">if</span> (!<a class="code hl_variable" href="js-temporal-objects_8cc.html#a171b4bcf022a10159f27162dac007763">remainder</a>-&gt;IsNegative()) {</div>
<div class="line"><a id="l03113" name="l03113"></a><span class="lineno"> 3113</span>        <span class="comment">// Move to the future millisecond</span></div>
<div class="line"><a id="l03114" name="l03114"></a><span class="lineno"> 3114</span>        ms += 1;</div>
<div class="line"><a id="l03115" name="l03115"></a><span class="lineno"> 3115</span>      }</div>
<div class="line"><a id="l03116" name="l03116"></a><span class="lineno"> 3116</span>    }</div>
<div class="line"><a id="l03117" name="l03117"></a><span class="lineno"> 3117</span>  }</div>
<div class="line"><a id="l03118" name="l03118"></a><span class="lineno"> 3118</span>  <span class="keywordflow">return</span> ms;</div>
<div class="line"><a id="l03119" name="l03119"></a><span class="lineno"> 3119</span>}</div>
<div class="line"><a id="l03120" name="l03120"></a><span class="lineno"> 3120</span> </div>
<div class="line"><a id="l03121" name="l03121"></a><span class="lineno"> 3121</span><span class="comment">// Helper function to convert the milliseconds in int64_t</span></div>
<div class="line"><a id="l03122" name="l03122"></a><span class="lineno"> 3122</span><span class="comment">// to a BigInt in nanoseconds.</span></div>
<div class="line"><a id="l03123" name="l03123"></a><span class="lineno"> 3123</span>Handle&lt;BigInt&gt; MillisecondToNanosecond(Isolate* isolate, int64_t ms) {</div>
<div class="line"><a id="l03124" name="l03124"></a><span class="lineno"> 3124</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1BigInt.html#a2ea964b6275e1f02d34c9627c1a28ac2">BigInt::Multiply</a>(isolate, <a class="code hl_function" href="classv8_1_1internal_1_1BigInt.html#a92f1266cb08a3cb5f75b768e474943a1">BigInt::FromInt64</a>(isolate, ms),</div>
<div class="line"><a id="l03125" name="l03125"></a><span class="lineno"> 3125</span>                          <a class="code hl_function" href="classv8_1_1internal_1_1BigInt.html#a7df25eb1750797b26ce9588754f919c3">BigInt::FromUint64</a>(isolate, 1000000))</div>
<div class="line"><a id="l03126" name="l03126"></a><span class="lineno"> 3126</span>      .ToHandleChecked();</div>
<div class="line"><a id="l03127" name="l03127"></a><span class="lineno"> 3127</span>}</div>
<div class="line"><a id="l03128" name="l03128"></a><span class="lineno"> 3128</span> </div>
<div class="line"><a id="l03129" name="l03129"></a><span class="lineno"> 3129</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l03130" name="l03130"></a><span class="lineno"> 3130</span> </div>
<div class="foldopen" id="foldopen03131" data-start="{" data-end="}">
<div class="line"><a id="l03131" name="l03131"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#ad38ab004f759d0e7f4b64d28944367ef"> 3131</a></span><a class="code hl_class" href="classv8_1_1internal_1_1Handle.html">Handle&lt;Object&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#ad38ab004f759d0e7f4b64d28944367ef">Intl::GetTimeZoneOffsetTransitionNanoseconds</a>(</div>
<div class="line"><a id="l03132" name="l03132"></a><span class="lineno"> 3132</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, int32_t time_zone_index,</div>
<div class="line"><a id="l03133" name="l03133"></a><span class="lineno"> 3133</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;BigInt&gt;</a> nanosecond_epoch, <a class="code hl_enumeration" href="classv8_1_1internal_1_1Intl.html#a18c30c611305744151d15945cc915f5a">Intl::Transition</a> transition) {</div>
<div class="line"><a id="l03134" name="l03134"></a><span class="lineno"> 3134</span>  std::unique_ptr&lt;const icu::BasicTimeZone&gt; basic_time_zone(</div>
<div class="line"><a id="l03135" name="l03135"></a><span class="lineno"> 3135</span>      CreateBasicTimeZoneFromIndex(time_zone_index));</div>
<div class="line"><a id="l03136" name="l03136"></a><span class="lineno"> 3136</span> </div>
<div class="line"><a id="l03137" name="l03137"></a><span class="lineno"> 3137</span>  icu::TimeZoneTransition icu_transition;</div>
<div class="line"><a id="l03138" name="l03138"></a><span class="lineno"> 3138</span>  UBool has_transition;</div>
<div class="line"><a id="l03139" name="l03139"></a><span class="lineno"> 3139</span>  <span class="keywordflow">switch</span> (transition) {</div>
<div class="line"><a id="l03140" name="l03140"></a><span class="lineno"> 3140</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a18c30c611305744151d15945cc915f5aac5312de02506bba2de2101d52c5107ff">Intl::Transition::kNext</a>:</div>
<div class="line"><a id="l03141" name="l03141"></a><span class="lineno"> 3141</span>      has_transition = basic_time_zone-&gt;getNextTransition(</div>
<div class="line"><a id="l03142" name="l03142"></a><span class="lineno"> 3142</span>          ApproximateMillisecondEpoch(isolate, nanosecond_epoch), <span class="keyword">false</span>,</div>
<div class="line"><a id="l03143" name="l03143"></a><span class="lineno"> 3143</span>          icu_transition);</div>
<div class="line"><a id="l03144" name="l03144"></a><span class="lineno"> 3144</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03145" name="l03145"></a><span class="lineno"> 3145</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classv8_1_1internal_1_1Intl.html#a18c30c611305744151d15945cc915f5aaf8592f8ed8f28974b275c9c396700a85">Intl::Transition::kPrevious</a>:</div>
<div class="line"><a id="l03146" name="l03146"></a><span class="lineno"> 3146</span>      has_transition = basic_time_zone-&gt;getPreviousTransition(</div>
<div class="line"><a id="l03147" name="l03147"></a><span class="lineno"> 3147</span>          ApproximateMillisecondEpoch(isolate, nanosecond_epoch,</div>
<div class="line"><a id="l03148" name="l03148"></a><span class="lineno"> 3148</span>                                      Direction::kFuture),</div>
<div class="line"><a id="l03149" name="l03149"></a><span class="lineno"> 3149</span>          <span class="keyword">false</span>, icu_transition);</div>
<div class="line"><a id="l03150" name="l03150"></a><span class="lineno"> 3150</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03151" name="l03151"></a><span class="lineno"> 3151</span>  }</div>
<div class="line"><a id="l03152" name="l03152"></a><span class="lineno"> 3152</span> </div>
<div class="line"><a id="l03153" name="l03153"></a><span class="lineno"> 3153</span>  <span class="keywordflow">if</span> (!has_transition) {</div>
<div class="line"><a id="l03154" name="l03154"></a><span class="lineno"> 3154</span>    <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;null_value();</div>
<div class="line"><a id="l03155" name="l03155"></a><span class="lineno"> 3155</span>  }</div>
<div class="line"><a id="l03156" name="l03156"></a><span class="lineno"> 3156</span>  <span class="comment">// #sec-temporal-getianatimezonenexttransition and</span></div>
<div class="line"><a id="l03157" name="l03157"></a><span class="lineno"> 3157</span>  <span class="comment">// #sec-temporal-getianatimezoneprevioustransition states:</span></div>
<div class="line"><a id="l03158" name="l03158"></a><span class="lineno"> 3158</span>  <span class="comment">// &quot;The operation returns null if no such transition exists for which t â‰¤</span></div>
<div class="line"><a id="l03159" name="l03159"></a><span class="lineno"> 3159</span>  <span class="comment">// â„¤(nsMaxInstant).&quot; and &quot;The operation returns null if no such transition</span></div>
<div class="line"><a id="l03160" name="l03160"></a><span class="lineno"> 3160</span>  <span class="comment">// exists for which t â‰¥ â„¤(nsMinInstant).&quot;</span></div>
<div class="line"><a id="l03161" name="l03161"></a><span class="lineno"> 3161</span>  <span class="comment">//</span></div>
<div class="line"><a id="l03162" name="l03162"></a><span class="lineno"> 3162</span>  <span class="comment">// nsMinInstant = -nsMaxInstant = -8.64 Ã— 10^21 =&gt; msMinInstant = -8.64 x</span></div>
<div class="line"><a id="l03163" name="l03163"></a><span class="lineno"> 3163</span>  <span class="comment">// 10^15</span></div>
<div class="line"><a id="l03164" name="l03164"></a><span class="lineno"> 3164</span>  <span class="keyword">constexpr</span> int64_t kMsMinInstant = -8.64e15;</div>
<div class="line"><a id="l03165" name="l03165"></a><span class="lineno"> 3165</span>  <span class="comment">// nsMaxInstant = 10^8 Ã— nsPerDay = 8.64 Ã— 10^21 =&gt; msMaxInstant = 8.64 x</span></div>
<div class="line"><a id="l03166" name="l03166"></a><span class="lineno"> 3166</span>  <span class="comment">// 10^15</span></div>
<div class="line"><a id="l03167" name="l03167"></a><span class="lineno"> 3167</span>  <span class="keyword">constexpr</span> int64_t kMsMaxInstant = 8.64e15;</div>
<div class="line"><a id="l03168" name="l03168"></a><span class="lineno"> 3168</span>  int64_t time_ms = <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(icu_transition.getTime());</div>
<div class="line"><a id="l03169" name="l03169"></a><span class="lineno"> 3169</span>  <span class="keywordflow">if</span> (time_ms &lt; kMsMinInstant || time_ms &gt; kMsMaxInstant) {</div>
<div class="line"><a id="l03170" name="l03170"></a><span class="lineno"> 3170</span>    <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;null_value();</div>
<div class="line"><a id="l03171" name="l03171"></a><span class="lineno"> 3171</span>  }</div>
<div class="line"><a id="l03172" name="l03172"></a><span class="lineno"> 3172</span>  <span class="keywordflow">return</span> MillisecondToNanosecond(isolate, time_ms);</div>
<div class="line"><a id="l03173" name="l03173"></a><span class="lineno"> 3173</span>}</div>
</div>
<div class="line"><a id="l03174" name="l03174"></a><span class="lineno"> 3174</span> </div>
<div class="foldopen" id="foldopen03175" data-start="{" data-end="}">
<div class="line"><a id="l03175" name="l03175"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#a3e3b6fc684955e7418e95be45152ae4e"> 3175</a></span><a class="code hl_class" href="classv8_1_1internal_1_1DirectHandleVector.html">DirectHandleVector&lt;BigInt&gt;</a> <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#a3e3b6fc684955e7418e95be45152ae4e">Intl::GetTimeZonePossibleOffsetNanoseconds</a>(</div>
<div class="line"><a id="l03176" name="l03176"></a><span class="lineno"> 3176</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, int32_t time_zone_index,</div>
<div class="line"><a id="l03177" name="l03177"></a><span class="lineno"> 3177</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;BigInt&gt;</a> nanosecond_epoch) {</div>
<div class="line"><a id="l03178" name="l03178"></a><span class="lineno"> 3178</span>  std::unique_ptr&lt;const icu::BasicTimeZone&gt; basic_time_zone(</div>
<div class="line"><a id="l03179" name="l03179"></a><span class="lineno"> 3179</span>      CreateBasicTimeZoneFromIndex(time_zone_index));</div>
<div class="line"><a id="l03180" name="l03180"></a><span class="lineno"> 3180</span>  int64_t time_ms = ApproximateMillisecondEpoch(isolate, nanosecond_epoch);</div>
<div class="line"><a id="l03181" name="l03181"></a><span class="lineno"> 3181</span>  int32_t raw_offset;</div>
<div class="line"><a id="l03182" name="l03182"></a><span class="lineno"> 3182</span>  int32_t dst_offset;</div>
<div class="line"><a id="l03183" name="l03183"></a><span class="lineno"> 3183</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l03184" name="l03184"></a><span class="lineno"> 3184</span>  basic_time_zone-&gt;getOffsetFromLocal(time_ms, UCAL_TZ_LOCAL_FORMER,</div>
<div class="line"><a id="l03185" name="l03185"></a><span class="lineno"> 3185</span>                                      UCAL_TZ_LOCAL_FORMER, raw_offset,</div>
<div class="line"><a id="l03186" name="l03186"></a><span class="lineno"> 3186</span>                                      dst_offset, status);</div>
<div class="line"><a id="l03187" name="l03187"></a><span class="lineno"> 3187</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l03188" name="l03188"></a><span class="lineno"> 3188</span>  <span class="comment">// offset for time_ms interpretted as before a time zone</span></div>
<div class="line"><a id="l03189" name="l03189"></a><span class="lineno"> 3189</span>  <span class="comment">// transition</span></div>
<div class="line"><a id="l03190" name="l03190"></a><span class="lineno"> 3190</span>  int64_t offset_former = raw_offset + dst_offset;</div>
<div class="line"><a id="l03191" name="l03191"></a><span class="lineno"> 3191</span> </div>
<div class="line"><a id="l03192" name="l03192"></a><span class="lineno"> 3192</span>  basic_time_zone-&gt;getOffsetFromLocal(time_ms, UCAL_TZ_LOCAL_LATTER,</div>
<div class="line"><a id="l03193" name="l03193"></a><span class="lineno"> 3193</span>                                      UCAL_TZ_LOCAL_LATTER, raw_offset,</div>
<div class="line"><a id="l03194" name="l03194"></a><span class="lineno"> 3194</span>                                      dst_offset, status);</div>
<div class="line"><a id="l03195" name="l03195"></a><span class="lineno"> 3195</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l03196" name="l03196"></a><span class="lineno"> 3196</span>  <span class="comment">// offset for time_ms interpretted as after a time zone</span></div>
<div class="line"><a id="l03197" name="l03197"></a><span class="lineno"> 3197</span>  <span class="comment">// transition</span></div>
<div class="line"><a id="l03198" name="l03198"></a><span class="lineno"> 3198</span>  int64_t offset_latter = raw_offset + dst_offset;</div>
<div class="line"><a id="l03199" name="l03199"></a><span class="lineno"> 3199</span> </div>
<div class="line"><a id="l03200" name="l03200"></a><span class="lineno"> 3200</span>  <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandleVector.html">DirectHandleVector&lt;BigInt&gt;</a> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>(isolate);</div>
<div class="line"><a id="l03201" name="l03201"></a><span class="lineno"> 3201</span>  <span class="keywordflow">if</span> (offset_former == offset_latter) {</div>
<div class="line"><a id="l03202" name="l03202"></a><span class="lineno"> 3202</span>    <span class="comment">// For most of the time, when either interpretation are the same, we are not</span></div>
<div class="line"><a id="l03203" name="l03203"></a><span class="lineno"> 3203</span>    <span class="comment">// in a moment of offset transition based on rule changing: Just return that</span></div>
<div class="line"><a id="l03204" name="l03204"></a><span class="lineno"> 3204</span>    <span class="comment">// value.</span></div>
<div class="line"><a id="l03205" name="l03205"></a><span class="lineno"> 3205</span>    <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.push_back(MillisecondToNanosecond(isolate, offset_former));</div>
<div class="line"><a id="l03206" name="l03206"></a><span class="lineno"> 3206</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (offset_former &gt; offset_latter) {</div>
<div class="line"><a id="l03207" name="l03207"></a><span class="lineno"> 3207</span>    <span class="comment">// When the input represents a local time repeating multiple times at a</span></div>
<div class="line"><a id="l03208" name="l03208"></a><span class="lineno"> 3208</span>    <span class="comment">// negative time zone transition (e.g. when the daylight saving time ends</span></div>
<div class="line"><a id="l03209" name="l03209"></a><span class="lineno"> 3209</span>    <span class="comment">// or the time zone offset is decreased due to a time zone rule change).</span></div>
<div class="line"><a id="l03210" name="l03210"></a><span class="lineno"> 3210</span>    <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.push_back(MillisecondToNanosecond(isolate, offset_former));</div>
<div class="line"><a id="l03211" name="l03211"></a><span class="lineno"> 3211</span>    <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.push_back(MillisecondToNanosecond(isolate, offset_latter));</div>
<div class="line"><a id="l03212" name="l03212"></a><span class="lineno"> 3212</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03213" name="l03213"></a><span class="lineno"> 3213</span>    <span class="comment">// If the offset after the transition is greater than the offset before the</span></div>
<div class="line"><a id="l03214" name="l03214"></a><span class="lineno"> 3214</span>    <span class="comment">// transition, that mean it is in the moment the time &quot;skip&quot; an hour, or two</span></div>
<div class="line"><a id="l03215" name="l03215"></a><span class="lineno"> 3215</span>    <span class="comment">// (or six in a Time Zone in south pole) in that case there are no possible</span></div>
<div class="line"><a id="l03216" name="l03216"></a><span class="lineno"> 3216</span>    <span class="comment">// Time Zone offset for that moment and nothing will be added to the result.</span></div>
<div class="line"><a id="l03217" name="l03217"></a><span class="lineno"> 3217</span>  }</div>
<div class="line"><a id="l03218" name="l03218"></a><span class="lineno"> 3218</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>;</div>
<div class="line"><a id="l03219" name="l03219"></a><span class="lineno"> 3219</span>}</div>
</div>
<div class="line"><a id="l03220" name="l03220"></a><span class="lineno"> 3220</span> </div>
<div class="foldopen" id="foldopen03221" data-start="{" data-end="}">
<div class="line"><a id="l03221" name="l03221"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Intl.html#aa40bc65c06e56341a265db5ff0f1bf6d"> 3221</a></span>int64_t <a class="code hl_function" href="classv8_1_1internal_1_1Intl.html#aa40bc65c06e56341a265db5ff0f1bf6d">Intl::GetTimeZoneOffsetNanoseconds</a>(</div>
<div class="line"><a id="l03222" name="l03222"></a><span class="lineno"> 3222</span>    <a class="code hl_class" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, int32_t time_zone_index,</div>
<div class="line"><a id="l03223" name="l03223"></a><span class="lineno"> 3223</span>    <a class="code hl_class" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;BigInt&gt;</a> nanosecond_epoch) {</div>
<div class="line"><a id="l03224" name="l03224"></a><span class="lineno"> 3224</span>  std::unique_ptr&lt;const icu::BasicTimeZone&gt; basic_time_zone(</div>
<div class="line"><a id="l03225" name="l03225"></a><span class="lineno"> 3225</span>      CreateBasicTimeZoneFromIndex(time_zone_index));</div>
<div class="line"><a id="l03226" name="l03226"></a><span class="lineno"> 3226</span>  int64_t time_ms = ApproximateMillisecondEpoch(isolate, nanosecond_epoch);</div>
<div class="line"><a id="l03227" name="l03227"></a><span class="lineno"> 3227</span>  int32_t raw_offset;</div>
<div class="line"><a id="l03228" name="l03228"></a><span class="lineno"> 3228</span>  int32_t dst_offset;</div>
<div class="line"><a id="l03229" name="l03229"></a><span class="lineno"> 3229</span>  UErrorCode status = U_ZERO_ERROR;</div>
<div class="line"><a id="l03230" name="l03230"></a><span class="lineno"> 3230</span>  basic_time_zone-&gt;getOffset(time_ms, <span class="keyword">false</span>, raw_offset, dst_offset, status);</div>
<div class="line"><a id="l03231" name="l03231"></a><span class="lineno"> 3231</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(U_SUCCESS(status));</div>
<div class="line"><a id="l03232" name="l03232"></a><span class="lineno"> 3232</span>  <span class="comment">// Turn ms into ns</span></div>
<div class="line"><a id="l03233" name="l03233"></a><span class="lineno"> 3233</span>  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(raw_offset + dst_offset) * 1000000;</div>
<div class="line"><a id="l03234" name="l03234"></a><span class="lineno"> 3234</span>}</div>
</div>
<div class="line"><a id="l03235" name="l03235"></a><span class="lineno"> 3235</span> </div>
<div class="line"><a id="l03236" name="l03236"></a><span class="lineno"> 3236</span>}  <span class="comment">// namespace v8::internal</span></div>
<div class="ttc" id="aapi-inl_8h_html"><div class="ttname"><a href="api-inl_8h.html">api-inl.h</a></div></div>
<div class="ttc" id="achecks_8h_html_a8c8b326bb3d6944234eb74fbd0952061"><div class="ttname"><a href="checks_8h.html#a8c8b326bb3d6944234eb74fbd0952061">SLOW_DCHECK</a></div><div class="ttdeci">#define SLOW_DCHECK(condition)</div><div class="ttdef"><b>Definition</b> <a href="checks_8h_source.html#l00021">checks.h:21</a></div></div>
<div class="ttc" id="aclass-debug-reader-generator_8cc_html_aede818ff693a0360e722300214ad6a52"><div class="ttname"><a href="class-debug-reader-generator_8cc.html#aede818ff693a0360e722300214ad6a52">pos</a></div><div class="ttdeci">SourcePosition pos</div><div class="ttdef"><b>Definition</b> <a href="class-debug-reader-generator_8cc_source.html#l00034">class-debug-reader-generator.cc:34</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_ad481e6ce21d8194ec47b14e59e8aadaf"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#ad481e6ce21d8194ec47b14e59e8aadaf">v8::base::OS::CreateTimezoneCache</a></div><div class="ttdeci">static TimezoneCache * CreateTimezoneCache()</div><div class="ttdef"><b>Definition</b> <a href="platform-aix_8cc_source.html#l00082">platform-aix.cc:82</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimezoneCache_html"><div class="ttname"><a href="classv8_1_1base_1_1TimezoneCache.html">v8::base::TimezoneCache</a></div><div class="ttdef"><b>Definition</b> <a href="timezone-cache_8h_source.html#l00011">timezone-cache.h:11</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimezoneCache_html_a966797625d4ff2cdd7e2efb6fa0dd6f9"><div class="ttname"><a href="classv8_1_1base_1_1TimezoneCache.html#a966797625d4ff2cdd7e2efb6fa0dd6f9">v8::base::TimezoneCache::TimeZoneDetection</a></div><div class="ttdeci">TimeZoneDetection</div><div class="ttdef"><b>Definition</b> <a href="timezone-cache_8h_source.html#l00038">timezone-cache.h:38</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimezoneCache_html_a966797625d4ff2cdd7e2efb6fa0dd6f9a3602c4905274c94d02d73ccf6cc26478"><div class="ttname"><a href="classv8_1_1base_1_1TimezoneCache.html#a966797625d4ff2cdd7e2efb6fa0dd6f9a3602c4905274c94d02d73ccf6cc26478">v8::base::TimezoneCache::TimeZoneDetection::kRedetect</a></div><div class="ttdeci">@ kRedetect</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimezoneCache_html_a966797625d4ff2cdd7e2efb6fa0dd6f9ac88bd8ce07240b0611d5ae619c1aa088"><div class="ttname"><a href="classv8_1_1base_1_1TimezoneCache.html#a966797625d4ff2cdd7e2efb6fa0dd6f9ac88bd8ce07240b0611d5ae619c1aa088">v8::base::TimezoneCache::TimeZoneDetection::kSkip</a></div><div class="ttdeci">@ kSkip</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html">v8::base::Vector</a></div><div class="ttdef"><b>Definition</b> <a href="zone-list_8h_source.html#l00015">zone-list.h:15</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_ad0021e2947c974d78adbbc1d543d43a5"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#ad0021e2947c974d78adbbc1d543d43a5">v8::base::Vector::begin</a></div><div class="ttdeci">constexpr T * begin() const</div><div class="ttdef"><b>Definition</b> <a href="vector_8h_source.html#l00096">vector.h:96</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1BigInt_html_a147415bae92680ecf91116c2750697ad"><div class="ttname"><a href="classv8_1_1internal_1_1BigInt.html#a147415bae92680ecf91116c2750697ad">v8::internal::BigInt::Remainder</a></div><div class="ttdeci">static MaybeHandle&lt; BigInt &gt; Remainder(Isolate *isolate, DirectHandle&lt; BigInt &gt; x, DirectHandle&lt; BigInt &gt; y)</div><div class="ttdef"><b>Definition</b> <a href="bigint_8cc_source.html#l00488">bigint.cc:488</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1BigInt_html_a2ea964b6275e1f02d34c9627c1a28ac2"><div class="ttname"><a href="classv8_1_1internal_1_1BigInt.html#a2ea964b6275e1f02d34c9627c1a28ac2">v8::internal::BigInt::Multiply</a></div><div class="ttdeci">static MaybeHandle&lt; BigInt &gt; Multiply(Isolate *isolate, DirectHandle&lt; BigInt &gt; x, DirectHandle&lt; BigInt &gt; y)</div><div class="ttdef"><b>Definition</b> <a href="bigint_8cc_source.html#l00432">bigint.cc:432</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1BigInt_html_a6a7f9339c40b076624e5b3fb4626e80f"><div class="ttname"><a href="classv8_1_1internal_1_1BigInt.html#a6a7f9339c40b076624e5b3fb4626e80f">v8::internal::BigInt::Divide</a></div><div class="ttdeci">static MaybeHandle&lt; BigInt &gt; Divide(Isolate *isolate, DirectHandle&lt; BigInt &gt; x, DirectHandle&lt; BigInt &gt; y)</div><div class="ttdef"><b>Definition</b> <a href="bigint_8cc_source.html#l00454">bigint.cc:454</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1BigInt_html_a7df25eb1750797b26ce9588754f919c3"><div class="ttname"><a href="classv8_1_1internal_1_1BigInt.html#a7df25eb1750797b26ce9588754f919c3">v8::internal::BigInt::FromUint64</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Handle&lt; BigInt &gt; FromUint64(Isolate *isolate, uint64_t n)</div><div class="ttdef"><b>Definition</b> <a href="bigint_8cc_source.html#l01348">bigint.cc:1348</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1BigInt_html_a92f1266cb08a3cb5f75b768e474943a1"><div class="ttname"><a href="classv8_1_1internal_1_1BigInt.html#a92f1266cb08a3cb5f75b768e474943a1">v8::internal::BigInt::FromInt64</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Handle&lt; BigInt &gt; FromInt64(Isolate *isolate, int64_t n)</div><div class="ttdef"><b>Definition</b> <a href="bigint_8cc_source.html#l01326">bigint.cc:1326</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DirectHandleVector_html"><div class="ttname"><a href="classv8_1_1internal_1_1DirectHandleVector.html">v8::internal::DirectHandleVector</a></div><div class="ttdef"><b>Definition</b> <a href="handles_8h_source.html#l00825">handles.h:825</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DirectHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1DirectHandle.html">v8::internal::DirectHandle</a></div><div class="ttdef"><b>Definition</b> <a href="handles_8h_source.html#l00643">handles.h:652</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DirectHandle_html_a1e15d76143f507fd5d70299609178a9e"><div class="ttname"><a href="classv8_1_1internal_1_1DirectHandle.html#a1e15d76143f507fd5d70299609178a9e">v8::internal::DirectHandle::is_identical_to</a></div><div class="ttdeci">V8_INLINE bool is_identical_to(Handle&lt; S &gt; other) const</div><div class="ttdef"><b>Definition</b> <a href="handles_8h_source.html#l00705">handles.h:705</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_html"><div class="ttname"><a href="classv8_1_1internal_1_1Factory.html">v8::internal::Factory</a></div><div class="ttdef"><b>Definition</b> <a href="factory_8h_source.html#l00139">factory.h:139</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_html_a2cca5dfd9ad147ec35310255a69be9d1"><div class="ttname"><a href="classv8_1_1internal_1_1Factory.html#a2cca5dfd9ad147ec35310255a69be9d1">v8::internal::Factory::NewJSArray</a></div><div class="ttdeci">Handle&lt; JSArray &gt; NewJSArray(ElementsKind elements_kind, int length, int capacity, ArrayStorageAllocationMode mode=ArrayStorageAllocationMode::DONT_INITIALIZE_ARRAY_ELEMENTS, AllocationType allocation=AllocationType::kYoung)</div><div class="ttdef"><b>Definition</b> <a href="factory_8cc_source.html#l03177">factory.cc:3177</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_html_a54c843caad6266415afc266860855cdb"><div class="ttname"><a href="classv8_1_1internal_1_1Factory.html#a54c843caad6266415afc266860855cdb">v8::internal::Factory::NewJSObject</a></div><div class="ttdeci">Handle&lt; JSObject &gt; NewJSObject(DirectHandle&lt; JSFunction &gt; constructor, AllocationType allocation=AllocationType::kYoung, NewJSObjectType=NewJSObjectType::kNoAPIWrapper)</div><div class="ttdef"><b>Definition</b> <a href="factory_8cc_source.html#l02951">factory.cc:2951</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_html_ace270af0020cf32252f584a9608ded99"><div class="ttname"><a href="classv8_1_1internal_1_1Factory.html#ace270af0020cf32252f584a9608ded99">v8::internal::Factory::NewStringFromStaticChars</a></div><div class="ttdeci">Handle&lt; String &gt; NewStringFromStaticChars(const char(&amp;str)[N], AllocationType allocation=AllocationType::kYoung)</div><div class="ttdef"><b>Definition</b> <a href="factory-inl_8h_source.html#l00077">factory-inl.h:77</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Handle_html"><div class="ttname"><a href="classv8_1_1internal_1_1Handle.html">v8::internal::Handle</a></div><div class="ttdef"><b>Definition</b> <a href="handles_8h_source.html#l00145">handles.h:145</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ICUTimezoneCache_html"><div class="ttname"><a href="classv8_1_1internal_1_1ICUTimezoneCache.html">v8::internal::ICUTimezoneCache</a></div><div class="ttdef"><b>Definition</b> <a href="#l02672">intl-objects.cc:2672</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ICUTimezoneCache_html_a079b6b98447b3f0510f7182df10c2c0f"><div class="ttname"><a href="classv8_1_1internal_1_1ICUTimezoneCache.html#a079b6b98447b3f0510f7182df10c2c0f">v8::internal::ICUTimezoneCache::timezone_name_</a></div><div class="ttdeci">std::string timezone_name_</div><div class="ttdef"><b>Definition</b> <a href="#l02694">intl-objects.cc:2694</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ICUTimezoneCache_html_a0e88e9886a144ae2d8c80e12e06c0afb"><div class="ttname"><a href="classv8_1_1internal_1_1ICUTimezoneCache.html#a0e88e9886a144ae2d8c80e12e06c0afb">v8::internal::ICUTimezoneCache::dst_timezone_name_</a></div><div class="ttdeci">std::string dst_timezone_name_</div><div class="ttdef"><b>Definition</b> <a href="#l02695">intl-objects.cc:2695</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ICUTimezoneCache_html_a2232745dedd2c77d3eef273f6f65cc7b"><div class="ttname"><a href="classv8_1_1internal_1_1ICUTimezoneCache.html#a2232745dedd2c77d3eef273f6f65cc7b">v8::internal::ICUTimezoneCache::Clear</a></div><div class="ttdeci">void Clear(TimeZoneDetection time_zone_detection) override</div><div class="ttdef"><b>Definition</b> <a href="#l02749">intl-objects.cc:2749</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ICUTimezoneCache_html_a28e8e649d26072ec06d1b3b0147eaee1"><div class="ttname"><a href="classv8_1_1internal_1_1ICUTimezoneCache.html#a28e8e649d26072ec06d1b3b0147eaee1">v8::internal::ICUTimezoneCache::DaylightSavingsOffset</a></div><div class="ttdeci">double DaylightSavingsOffset(double time_ms) override</div><div class="ttdef"><b>Definition</b> <a href="#l02737">intl-objects.cc:2737</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ICUTimezoneCache_html_a38f6678a098408be5042c733bff75656"><div class="ttname"><a href="classv8_1_1internal_1_1ICUTimezoneCache.html#a38f6678a098408be5042c733bff75656">v8::internal::ICUTimezoneCache::ICUTimezoneCache</a></div><div class="ttdeci">ICUTimezoneCache()</div><div class="ttdef"><b>Definition</b> <a href="#l02674">intl-objects.cc:2674</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ICUTimezoneCache_html_a5028f4221fbdb91f3e48463db2cd66e8"><div class="ttname"><a href="classv8_1_1internal_1_1ICUTimezoneCache.html#a5028f4221fbdb91f3e48463db2cd66e8">v8::internal::ICUTimezoneCache::GetOffsets</a></div><div class="ttdeci">bool GetOffsets(double time_ms, bool is_utc, int32_t *raw_offset, int32_t *dst_offset)</div><div class="ttdef"><b>Definition</b> <a href="#l02720">intl-objects.cc:2720</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ICUTimezoneCache_html_a6d6956ebdbb9735e9db62fc12900acb5"><div class="ttname"><a href="classv8_1_1internal_1_1ICUTimezoneCache.html#a6d6956ebdbb9735e9db62fc12900acb5">v8::internal::ICUTimezoneCache::timezone_</a></div><div class="ttdeci">icu::TimeZone * timezone_</div><div class="ttdef"><b>Definition</b> <a href="#l02692">intl-objects.cc:2692</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ICUTimezoneCache_html_ab82c797ed23e3bf1461a1da911093ee1"><div class="ttname"><a href="classv8_1_1internal_1_1ICUTimezoneCache.html#ab82c797ed23e3bf1461a1da911093ee1">v8::internal::ICUTimezoneCache::GetTimeZone</a></div><div class="ttdeci">icu::TimeZone * GetTimeZone()</div><div class="ttdef"><b>Definition</b> <a href="#l02713">intl-objects.cc:2713</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ICUTimezoneCache_html_ac69ff0adf27bffd005e0a91975809c4f"><div class="ttname"><a href="classv8_1_1internal_1_1ICUTimezoneCache.html#ac69ff0adf27bffd005e0a91975809c4f">v8::internal::ICUTimezoneCache::LocalTimezone</a></div><div class="ttdeci">const char * LocalTimezone(double time_ms) override</div><div class="ttdef"><b>Definition</b> <a href="#l02698">intl-objects.cc:2698</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ICUTimezoneCache_html_ae21dbc103eae2d4ee225d6c68c9667c8"><div class="ttname"><a href="classv8_1_1internal_1_1ICUTimezoneCache.html#ae21dbc103eae2d4ee225d6c68c9667c8">v8::internal::ICUTimezoneCache::LocalTimeOffset</a></div><div class="ttdeci">double LocalTimeOffset(double time_ms, bool is_utc) override</div><div class="ttdef"><b>Definition</b> <a href="#l02743">intl-objects.cc:2743</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ICUTimezoneCache_html_af24398dd2054eeb5a0098bf9a075eaa6"><div class="ttname"><a href="classv8_1_1internal_1_1ICUTimezoneCache.html#af24398dd2054eeb5a0098bf9a075eaa6">v8::internal::ICUTimezoneCache::~ICUTimezoneCache</a></div><div class="ttdeci">~ICUTimezoneCache() override</div><div class="ttdef"><b>Definition</b> <a href="#l02676">intl-objects.cc:2676</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker_html_a1c3f41f166f39e7464c27adfd2c1240b"><div class="ttname"><a href="classv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker.html#a1c3f41f166f39e7464c27adfd2c1240b">v8::internal::Intl::FormatRangeSourceTracker::FormatRangeSourceTracker</a></div><div class="ttdeci">FormatRangeSourceTracker()</div><div class="ttdef"><b>Definition</b> <a href="#l03021">intl-objects.cc:3021</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker_html_a385d90eab44419d2c5d2ad472c3381f7"><div class="ttname"><a href="classv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker.html#a385d90eab44419d2c5d2ad472c3381f7">v8::internal::Intl::FormatRangeSourceTracker::FieldContains</a></div><div class="ttdeci">bool FieldContains(int32_t field, int32_t start, int32_t limit) const</div><div class="ttdef"><b>Definition</b> <a href="#l03043">intl-objects.cc:3043</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker_html_a43fa4e03966addd99fcdc7ed324b8412"><div class="ttname"><a href="classv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker.html#a43fa4e03966addd99fcdc7ed324b8412">v8::internal::Intl::FormatRangeSourceTracker::start_</a></div><div class="ttdeci">int32_t start_[2]</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00092">intl-objects.h:92</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker_html_a794e47fa4365f2e602645221104aa78c"><div class="ttname"><a href="classv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker.html#a794e47fa4365f2e602645221104aa78c">v8::internal::Intl::FormatRangeSourceTracker::GetSource</a></div><div class="ttdeci">FormatRangeSource GetSource(int32_t start, int32_t limit) const</div><div class="ttdef"><b>Definition</b> <a href="#l03032">intl-objects.cc:3032</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker_html_ac8011a933f6d1e50f809bd74a9f48b65"><div class="ttname"><a href="classv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker.html#ac8011a933f6d1e50f809bd74a9f48b65">v8::internal::Intl::FormatRangeSourceTracker::limit_</a></div><div class="ttdeci">int32_t limit_[2]</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00093">intl-objects.h:93</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker_html_aefe0829021506f82c9d8172be604e0c1"><div class="ttname"><a href="classv8_1_1internal_1_1Intl_1_1FormatRangeSourceTracker.html#aefe0829021506f82c9d8172be604e0c1">v8::internal::Intl::FormatRangeSourceTracker::Add</a></div><div class="ttdeci">void Add(int32_t field, int32_t start, int32_t limit)</div><div class="ttdef"><b>Definition</b> <a href="#l03025">intl-objects.cc:3025</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a02ee18559848f15ba923b502faaa1912"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a02ee18559848f15ba923b502faaa1912">v8::internal::Intl::AddElement</a></div><div class="ttdeci">static void AddElement(Isolate *isolate, DirectHandle&lt; JSArray &gt; array, int index, DirectHandle&lt; String &gt; field_type_string, DirectHandle&lt; String &gt; value)</div><div class="ttdef"><b>Definition</b> <a href="#l00526">intl-objects.cc:526</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a04e57c34b76118f075ad3bbcf8e7dcc7"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a04e57c34b76118f075ad3bbcf8e7dcc7">v8::internal::Intl::Normalize</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; String &gt; Normalize(Isolate *isolate, DirectHandle&lt; String &gt; string, DirectHandle&lt; Object &gt; form_input)</div><div class="ttdef"><b>Definition</b> <a href="#l02602">intl-objects.cc:2602</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a0aff3eaed885d7606aca49c6720647f9"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a0aff3eaed885d7606aca49c6720647f9">v8::internal::Intl::DefaultTimeZone</a></div><div class="ttdeci">static Handle&lt; String &gt; DefaultTimeZone(Isolate *isolate)</div><div class="ttdef"><b>Definition</b> <a href="#l03061">intl-objects.cc:3061</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a1060302fe4f7f80ba2d122324a5a7e21"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a1060302fe4f7f80ba2d122324a5a7e21">v8::internal::Intl::CreateTimeZoneCache</a></div><div class="ttdeci">static base::TimezoneCache * CreateTimeZoneCache()</div><div class="ttdef"><b>Definition</b> <a href="#l02759">intl-objects.cc:2759</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a175a7d1e22cce990e90c096528167d42a41a9505c24e60bd38c8d8954188da351"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a175a7d1e22cce990e90c096528167d42a41a9505c24e60bd38c8d8954188da351">v8::internal::Intl::RoundingType::kSignificantDigits</a></div><div class="ttdeci">@ kSignificantDigits</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a175a7d1e22cce990e90c096528167d42abb772b3c2c544aa6d0a482eb24e4d589"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a175a7d1e22cce990e90c096528167d42abb772b3c2c544aa6d0a482eb24e4d589">v8::internal::Intl::RoundingType::kMorePrecision</a></div><div class="ttdeci">@ kMorePrecision</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a175a7d1e22cce990e90c096528167d42af0e0a75cea206a2f713c653c09bc7155"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a175a7d1e22cce990e90c096528167d42af0e0a75cea206a2f713c653c09bc7155">v8::internal::Intl::RoundingType::kFractionDigits</a></div><div class="ttdeci">@ kFractionDigits</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a175a7d1e22cce990e90c096528167d42af47fa8c4ec094aa64107255c2ce33278"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a175a7d1e22cce990e90c096528167d42af47fa8c4ec094aa64107255c2ce33278">v8::internal::Intl::RoundingType::kLessPrecision</a></div><div class="ttdeci">@ kLessPrecision</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a1770adc9a80ea7435b80af94572d6e1d"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a1770adc9a80ea7435b80af94572d6e1d">v8::internal::Intl::IsValidCalendar</a></div><div class="ttdeci">static bool IsValidCalendar(const icu::Locale &amp;locale, const std::string &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="#l02401">intl-objects.cc:2401</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a18c30c611305744151d15945cc915f5a"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a18c30c611305744151d15945cc915f5a">v8::internal::Intl::Transition</a></div><div class="ttdeci">Transition</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00426">intl-objects.h:426</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a18c30c611305744151d15945cc915f5aac5312de02506bba2de2101d52c5107ff"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a18c30c611305744151d15945cc915f5aac5312de02506bba2de2101d52c5107ff">v8::internal::Intl::Transition::kNext</a></div><div class="ttdeci">@ kNext</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a18c30c611305744151d15945cc915f5aaf8592f8ed8f28974b275c9c396700a85"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a18c30c611305744151d15945cc915f5aaf8592f8ed8f28974b275c9c396700a85">v8::internal::Intl::Transition::kPrevious</a></div><div class="ttdeci">@ kPrevious</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a1a9d3c69c5e35a6477cdcaa0a7797695"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a1a9d3c69c5e35a6477cdcaa0a7797695">v8::internal::Intl::IsWellFormedCurrency</a></div><div class="ttdeci">static bool IsWellFormedCurrency(const std::string &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="#l02397">intl-objects.cc:2397</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a2091add6bc73b348d3ec7807cb0d2f9c"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a2091add6bc73b348d3ec7807cb0d2f9c">v8::internal::Intl::GetNumberingSystem</a></div><div class="ttdeci">static std::string GetNumberingSystem(const icu::Locale &amp;icu_locale)</div><div class="ttdef"><b>Definition</b> <a href="#l00453">intl-objects.cc:453</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a23ad75ba90ae0e48390c08db0fb9081faa8c857c2f1b000c92f9794ebf53888d7"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a23ad75ba90ae0e48390c08db0fb9081faa8c857c2f1b000c92f9794ebf53888d7">v8::internal::Intl::RoundingPriority::kAuto</a></div><div class="ttdeci">@ kAuto</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a23ad75ba90ae0e48390c08db0fb9081fabb772b3c2c544aa6d0a482eb24e4d589"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a23ad75ba90ae0e48390c08db0fb9081fabb772b3c2c544aa6d0a482eb24e4d589">v8::internal::Intl::RoundingPriority::kMorePrecision</a></div><div class="ttdeci">@ kMorePrecision</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a23ad75ba90ae0e48390c08db0fb9081faf47fa8c4ec094aa64107255c2ce33278"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a23ad75ba90ae0e48390c08db0fb9081faf47fa8c4ec094aa64107255c2ce33278">v8::internal::Intl::RoundingPriority::kLessPrecision</a></div><div class="ttdeci">@ kLessPrecision</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a2cb733cf947e33ffdd766513a091d97f"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a2cb733cf947e33ffdd766513a091d97f">v8::internal::Intl::ToJSArray</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; JSArray &gt; ToJSArray(Isolate *isolate, const char *unicode_key, icu::StringEnumeration *enumeration, const std::function&lt; bool(const char *)&gt; &amp;removes, bool sort)</div><div class="ttdef"><b>Definition</b> <a href="#l02885">intl-objects.cc:2885</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a2cdb18d5a573124dfb87bb26316c4859"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a2cdb18d5a573124dfb87bb26316c4859">v8::internal::Intl::GetAvailableLocales</a></div><div class="ttdeci">static const std::set&lt; std::string &gt; &amp; GetAvailableLocales()</div><div class="ttdef"><b>Definition</b> <a href="#l02796">intl-objects.cc:2796</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a2d6c5d4921c2e3c33090ee28a942efb0"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a2d6c5d4921c2e3c33090ee28a942efb0">v8::internal::Intl::CompareStrings</a></div><div class="ttdeci">V8_EXPORT_PRIVATE static V8_WARN_UNUSED_RESULT int CompareStrings(Isolate *isolate, const icu::Collator &amp;collator, DirectHandle&lt; String &gt; s1, DirectHandle&lt; String &gt; s2, CompareStringsOptions compare_strings_options=CompareStringsOptions::kNone)</div><div class="ttdef"><b>Definition</b> <a href="#l01440">intl-objects.cc:1440</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a31799f9a30b4169d1ea6919debdc6591"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a31799f9a30b4169d1ea6919debdc6591">v8::internal::Intl::ToString</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; String &gt; ToString(Isolate *isolate, const icu::UnicodeString &amp;string)</div><div class="ttdef"><b>Definition</b> <a href="#l00486">intl-objects.cc:486</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a35f41c8231f03ef7b219e38ea9f25857"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a35f41c8231f03ef7b219e38ea9f25857">v8::internal::Intl::LegacyUnwrapReceiver</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; Object &gt; LegacyUnwrapReceiver(Isolate *isolate, Handle&lt; JSReceiver &gt; receiver, DirectHandle&lt; JSFunction &gt; constructor, bool has_initialized_slot)</div><div class="ttdef"><b>Definition</b> <a href="#l00642">intl-objects.cc:642</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a3a711510c92a944d7b58df0c8268ee33"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a3a711510c92a944d7b58df0c8268ee33">v8::internal::Intl::ConvertToLower</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; String &gt; ConvertToLower(Isolate *isolate, DirectHandle&lt; String &gt; s)</div><div class="ttdef"><b>Definition</b> <a href="#l00357">intl-objects.cc:357</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a3dc6a6130251a7802c39faff56732289"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a3dc6a6130251a7802c39faff56732289">v8::internal::Intl::GetCanonicalLocales</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; JSArray &gt; GetCanonicalLocales(Isolate *isolate, DirectHandle&lt; Object &gt; locales)</div><div class="ttdef"><b>Definition</b> <a href="#l02150">intl-objects.cc:2150</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a3e015d1771491dedb5a8f3de7294e997"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a3e015d1771491dedb5a8f3de7294e997">v8::internal::Intl::kAsciiCollationWeightsLength</a></div><div class="ttdeci">static const int kAsciiCollationWeightsLength</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00389">intl-objects.h:389</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a3e3b6fc684955e7418e95be45152ae4e"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a3e3b6fc684955e7418e95be45152ae4e">v8::internal::Intl::GetTimeZonePossibleOffsetNanoseconds</a></div><div class="ttdeci">static DirectHandleVector&lt; BigInt &gt; GetTimeZonePossibleOffsetNanoseconds(Isolate *isolate, int32_t time_zone_index, DirectHandle&lt; BigInt &gt; nanosecond_epoch)</div><div class="ttdef"><b>Definition</b> <a href="#l03175">intl-objects.cc:3175</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a42cc2613b850020bd949b62220690205"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a42cc2613b850020bd949b62220690205">v8::internal::Intl::GetTimeZoneIndex</a></div><div class="ttdeci">static int32_t GetTimeZoneIndex(Isolate *isolate, DirectHandle&lt; String &gt; identifier)</div><div class="ttdef"><b>Definition</b> <a href="#l02990">intl-objects.cc:2990</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a4320aa33497ff049775900445335049d"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a4320aa33497ff049775900445335049d">v8::internal::Intl::ConvertOneByteToLower</a></div><div class="ttdeci">static Tagged&lt; String &gt; ConvertOneByteToLower(Tagged&lt; String &gt; src, Tagged&lt; String &gt; dst)</div><div class="ttdef"><b>Definition</b> <a href="#l00307">intl-objects.cc:307</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a46f3677691cf17d37dc4334b72058088"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a46f3677691cf17d37dc4334b72058088">v8::internal::Intl::RemoveCollation</a></div><div class="ttdeci">static bool RemoveCollation(const char *collation)</div><div class="ttdef"><b>Definition</b> <a href="#l02908">intl-objects.cc:2908</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a48ffe5df7fd26755481624ec3fbc2bd8"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a48ffe5df7fd26755481624ec3fbc2bd8">v8::internal::Intl::CanonicalizeLocaleList</a></div><div class="ttdeci">static Maybe&lt; std::vector&lt; std::string &gt; &gt; CanonicalizeLocaleList(Isolate *isolate, DirectHandle&lt; Object &gt; locales, bool only_return_one_result=false)</div><div class="ttdef"><b>Definition</b> <a href="#l00798">intl-objects.cc:798</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a4e83e9ef05e4eb5b5377ad723fbbbb72"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a4e83e9ef05e4eb5b5377ad723fbbbb72">v8::internal::Intl::IsValidCollation</a></div><div class="ttdeci">static bool IsValidCollation(const icu::Locale &amp;locale, const std::string &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="#l02385">intl-objects.cc:2385</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a54117e018d9ca60498914e60a7e9c41e"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a54117e018d9ca60498914e60a7e9c41e">v8::internal::Intl::GetAvailableLocalesForDateFormat</a></div><div class="ttdeci">static const std::set&lt; std::string &gt; &amp; GetAvailableLocalesForDateFormat()</div><div class="ttdef"><b>Definition</b> <a href="#l02811">intl-objects.cc:2811</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a57e751885fa0a74dd3f6c0a150857d65"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a57e751885fa0a74dd3f6c0a150857d65">v8::internal::Intl::ResolveLocale</a></div><div class="ttdeci">static Maybe&lt; ResolvedLocale &gt; ResolveLocale(Isolate *isolate, const std::set&lt; std::string &gt; &amp;available_locales, const std::vector&lt; std::string &gt; &amp;requested_locales, MatcherOption options, const std::set&lt; std::string &gt; &amp;relevant_extension_keys)</div><div class="ttdef"><b>Definition</b> <a href="#l02561">intl-objects.cc:2561</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a660a051a260ed6308f6a944c8a0ff66a"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a660a051a260ed6308f6a944c8a0ff66a">v8::internal::Intl::NumberFieldToType</a></div><div class="ttdeci">static Handle&lt; String &gt; NumberFieldToType(Isolate *isolate, const NumberFormatSpan &amp;part, const icu::UnicodeString &amp;text, bool is_nan)</div><div class="ttdef"><b>Definition</b> <a href="#l02819">intl-objects.cc:2819</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a67e63e5924b051ec9a421a7180f04dbc"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a67e63e5924b051ec9a421a7180f04dbc">v8::internal::Intl::SanctionedSimpleUnits</a></div><div class="ttdeci">static std::set&lt; std::string &gt; SanctionedSimpleUnits()</div><div class="ttdef"><b>Definition</b> <a href="#l02913">intl-objects.cc:2913</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a6e55fe101e7dcd1cdf3b7ccc3d757899"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a6e55fe101e7dcd1cdf3b7ccc3d757899">v8::internal::Intl::ConvertToUpper</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; String &gt; ConvertToUpper(Isolate *isolate, DirectHandle&lt; String &gt; s)</div><div class="ttdef"><b>Definition</b> <a href="#l00389">intl-objects.cc:389</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a6e8294d5bff6085431c7c09a9bfc66dc"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a6e8294d5bff6085431c7c09a9bfc66dc">v8::internal::Intl::ToLatin1LowerTable</a></div><div class="ttdeci">static const uint8_t * ToLatin1LowerTable()</div><div class="ttdef"><b>Definition</b> <a href="#l00211">intl-objects.cc:211</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a6f128d42eed47a53dd1daa6021e9009f"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a6f128d42eed47a53dd1daa6021e9009f">v8::internal::Intl::FormatRangeSource</a></div><div class="ttdeci">FormatRangeSource</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00083">intl-objects.h:83</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a6f128d42eed47a53dd1daa6021e9009fa2086d027f0227c73a76505b5b6107958"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a6f128d42eed47a53dd1daa6021e9009fa2086d027f0227c73a76505b5b6107958">v8::internal::Intl::FormatRangeSource::kEndRange</a></div><div class="ttdeci">@ kEndRange</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a6f128d42eed47a53dd1daa6021e9009fa767e1337acb2aa20d7ce4e903a75ca16"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a6f128d42eed47a53dd1daa6021e9009fa767e1337acb2aa20d7ce4e903a75ca16">v8::internal::Intl::FormatRangeSource::kShared</a></div><div class="ttdeci">@ kShared</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a6f128d42eed47a53dd1daa6021e9009fa8606f3c4649f7a08f35e43768c3c0339"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a6f128d42eed47a53dd1daa6021e9009fa8606f3c4649f7a08f35e43768c3c0339">v8::internal::Intl::FormatRangeSource::kStartRange</a></div><div class="ttdeci">@ kStartRange</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a7006e54a63d6fa59b210e832ecb3bf87"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a7006e54a63d6fa59b210e832ecb3bf87">v8::internal::Intl::NumberToLocaleString</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; String &gt; NumberToLocaleString(Isolate *isolate, Handle&lt; Object &gt; num, DirectHandle&lt; Object &gt; locales, DirectHandle&lt; Object &gt; options, const char *method_name)</div><div class="ttdef"><b>Definition</b> <a href="#l01486">intl-objects.cc:1486</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a7172a86dd3fbcfbbef0a5d20a3d2bdbfa3e8fcef7c821e3a56700fb5aff331198"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a7172a86dd3fbcfbbef0a5d20a3d2bdbfa3e8fcef7c821e3a56700fb5aff331198">v8::internal::Intl::TrailingZeroDisplay::kStripIfInteger</a></div><div class="ttdeci">@ kStripIfInteger</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a7172a86dd3fbcfbbef0a5d20a3d2bdbfaa8c857c2f1b000c92f9794ebf53888d7"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a7172a86dd3fbcfbbef0a5d20a3d2bdbfaa8c857c2f1b000c92f9794ebf53888d7">v8::internal::Intl::TrailingZeroDisplay::kAuto</a></div><div class="ttdeci">@ kAuto</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a816b90b832412424b5853827a263b25f"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a816b90b832412424b5853827a263b25f">v8::internal::Intl::StringLocaleCompare</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT std::optional&lt; int &gt; StringLocaleCompare(Isolate *isolate, DirectHandle&lt; String &gt; s1, DirectHandle&lt; String &gt; s2, DirectHandle&lt; Object &gt; locales, DirectHandle&lt; Object &gt; options, const char *method_name)</div><div class="ttdef"><b>Definition</b> <a href="#l00989">intl-objects.cc:989</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a8dc43da169430c3077c3a335ec50a23d"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a8dc43da169430c3077c3a335ec50a23d">v8::internal::Intl::ToICUUnicodeString</a></div><div class="ttdeci">static icu::UnicodeString ToICUUnicodeString(Isolate *isolate, DirectHandle&lt; String &gt; string, int offset=0)</div><div class="ttdef"><b>Definition</b> <a href="#l00213">intl-objects.cc:213</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a93b80f7b193cb2f57700be41e844cef6"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a93b80f7b193cb2f57700be41e844cef6">v8::internal::Intl::CompareStringsOptionsFor</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE CompareStringsOptions CompareStringsOptionsFor(IsolateT *isolate, DirectHandle&lt; Object &gt; locales, DirectHandle&lt; Object &gt; options)</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a9b06f5add0eff4873aca885482241c87"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a9b06f5add0eff4873aca885482241c87">v8::internal::Intl::IsValidTimeZoneName</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT bool IsValidTimeZoneName(const icu::TimeZone &amp;tz)</div><div class="ttdef"><b>Definition</b> <a href="#l02963">intl-objects.cc:2963</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_a9b7ead8085f0954cf3ae76436b77df37"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#a9b7ead8085f0954cf3ae76436b77df37">v8::internal::Intl::BuildLocaleSet</a></div><div class="ttdeci">static std::set&lt; std::string &gt; BuildLocaleSet(const std::vector&lt; std::string &gt; &amp;locales, const char *path, const char *validate_key)</div><div class="ttdef"><b>Definition</b> <a href="#l00604">intl-objects.cc:604</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_aa0b76820cd9c7b5a1f0a14c30e4a7288"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#aa0b76820cd9c7b5a1f0a14c30e4a7288">v8::internal::Intl::TimeZoneIdFromIndex</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT std::string TimeZoneIdFromIndex(int32_t index)</div><div class="ttdef"><b>Definition</b> <a href="#l02970">intl-objects.cc:2970</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_aa32b9ca40489136ec46afea146651758"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#aa32b9ca40489136ec46afea146651758">v8::internal::Intl::CanonicalizeTimeZoneName</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; String &gt; CanonicalizeTimeZoneName(Isolate *isolate, DirectHandle&lt; String &gt; identifier)</div><div class="ttdef"><b>Definition</b> <a href="#l02941">intl-objects.cc:2941</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_aa40bc65c06e56341a265db5ff0f1bf6d"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#aa40bc65c06e56341a265db5ff0f1bf6d">v8::internal::Intl::GetTimeZoneOffsetNanoseconds</a></div><div class="ttdeci">static int64_t GetTimeZoneOffsetNanoseconds(Isolate *isolate, int32_t time_zone_index, DirectHandle&lt; BigInt &gt; nanosecond_epoch)</div><div class="ttdef"><b>Definition</b> <a href="#l03221">intl-objects.cc:3221</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_aa65b5c1f434fe74d5fd3e3ac87ca193f"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#aa65b5c1f434fe74d5fd3e3ac87ca193f">v8::internal::Intl::GetLocaleMatcher</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT Maybe&lt; MatcherOption &gt; GetLocaleMatcher(Isolate *isolate, DirectHandle&lt; JSReceiver &gt; options, const char *method_name)</div><div class="ttdef"><b>Definition</b> <a href="#l02764">intl-objects.cc:2764</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ab6258287e9866b1ce2d333b9a9602031"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ab6258287e9866b1ce2d333b9a9602031">v8::internal::Intl::IsWellFormedCalendar</a></div><div class="ttdeci">static bool IsWellFormedCalendar(const std::string &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="#l02392">intl-objects.cc:2392</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ab8ac80a3c3afe22c8e3cfd6f9beb33be"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ab8ac80a3c3afe22c8e3cfd6f9beb33be">v8::internal::Intl::ToLanguageTag</a></div><div class="ttdeci">static Maybe&lt; std::string &gt; ToLanguageTag(const icu::Locale &amp;locale)</div><div class="ttdef"><b>Definition</b> <a href="#l00631">intl-objects.cc:631</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_abaa86e49b219f33b0185c47996ca5006"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#abaa86e49b219f33b0185c47996ca5006">v8::internal::Intl::SourceString</a></div><div class="ttdeci">static Handle&lt; String &gt; SourceString(Isolate *isolate, FormatRangeSource source)</div><div class="ttdef"><b>Definition</b> <a href="#l03050">intl-objects.cc:3050</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_abe48ef11f33ba3c7b76e3310f147dc0f"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#abe48ef11f33ba3c7b76e3310f147dc0f">v8::internal::Intl::CompareStringsOptions</a></div><div class="ttdeci">CompareStringsOptions</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00153">intl-objects.h:153</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_abe48ef11f33ba3c7b76e3310f147dc0fa35c3ace1970663a16e5c65baa5941b13"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#abe48ef11f33ba3c7b76e3310f147dc0fa35c3ace1970663a16e5c65baa5941b13">v8::internal::Intl::CompareStringsOptions::kNone</a></div><div class="ttdeci">@ kNone</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_abe48ef11f33ba3c7b76e3310f147dc0fa8bf126aed9f95f483bb9a2e1848c6954"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#abe48ef11f33ba3c7b76e3310f147dc0fa8bf126aed9f95f483bb9a2e1848c6954">v8::internal::Intl::CompareStringsOptions::kTryFastPath</a></div><div class="ttdeci">@ kTryFastPath</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_abeb0cafbbff2bce4bdf42cdfb84c0bb4"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#abeb0cafbbff2bce4bdf42cdfb84c0bb4">v8::internal::Intl::SetNumberFormatDigitOptions</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT Maybe&lt; NumberFormatDigitOptions &gt; SetNumberFormatDigitOptions(Isolate *isolate, DirectHandle&lt; JSReceiver &gt; options, int mnfd_default, int mxfd_default, bool notation_is_compact, const char *service)</div><div class="ttdef"><b>Definition</b> <a href="#l01572">intl-objects.cc:1572</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ac3300d725bcaca7c458354187ec56c4d"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ac3300d725bcaca7c458354187ec56c4d">v8::internal::Intl::SupportedLocalesOf</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; JSObject &gt; SupportedLocalesOf(Isolate *isolate, const char *method_name, const std::set&lt; std::string &gt; &amp;available_locales, DirectHandle&lt; Object &gt; locales_in, DirectHandle&lt; Object &gt; options_in)</div><div class="ttdef"><b>Definition</b> <a href="#l02340">intl-objects.cc:2340</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_aca52206bc94eda82615fd74544e81daf"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#aca52206bc94eda82615fd74544e81daf">v8::internal::Intl::AsciiCollationWeightsL1</a></div><div class="ttdeci">static const uint8_t * AsciiCollationWeightsL1()</div><div class="ttdef"><b>Definition</b> <a href="#l01427">intl-objects.cc:1427</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_acd5725c1d2477bad869c377aeb5152d1"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#acd5725c1d2477bad869c377aeb5152d1">v8::internal::Intl::IsValidNumberingSystem</a></div><div class="ttdeci">static bool IsValidNumberingSystem(const std::string &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="#l02406">intl-objects.cc:2406</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ad38ab004f759d0e7f4b64d28944367ef"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ad38ab004f759d0e7f4b64d28944367ef">v8::internal::Intl::GetTimeZoneOffsetTransitionNanoseconds</a></div><div class="ttdeci">static Handle&lt; Object &gt; GetTimeZoneOffsetTransitionNanoseconds(Isolate *isolate, int32_t time_zone_index, DirectHandle&lt; BigInt &gt; nanosecond_epoch, Transition transition)</div><div class="ttdef"><b>Definition</b> <a href="#l03131">intl-objects.cc:3131</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_adcba8b99a0f15de3fffc2777c8a8d918"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#adcba8b99a0f15de3fffc2777c8a8d918">v8::internal::Intl::StringLocaleConvertCase</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; String &gt; StringLocaleConvertCase(Isolate *isolate, DirectHandle&lt; String &gt; s, bool is_upper, DirectHandle&lt; Object &gt; locales)</div><div class="ttdef"><b>Definition</b> <a href="#l00893">intl-objects.cc:893</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ae29398af686a057949f69be62aff7de2"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ae29398af686a057949f69be62aff7de2">v8::internal::Intl::AvailableCalendars</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; JSArray &gt; AvailableCalendars(Isolate *isolate)</div><div class="ttdef"><b>Definition</b> <a href="js-locale_8cc_source.html#l00545">js-locale.cc:545</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ae30282dcb4aa2d73beedee4233d12134a02b231839e1cf75e3c60f3bfda014c32"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a02b231839e1cf75e3c60f3bfda014c32">v8::internal::Intl::RoundingMode::kHalfFloor</a></div><div class="ttdeci">@ kHalfFloor</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ae30282dcb4aa2d73beedee4233d12134a219dd653185709793daafbe7cb7ca474"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a219dd653185709793daafbe7cb7ca474">v8::internal::Intl::RoundingMode::kFloor</a></div><div class="ttdeci">@ kFloor</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ae30282dcb4aa2d73beedee4233d12134a2e58aeadf36bdafb4745a679e90f737b"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a2e58aeadf36bdafb4745a679e90f737b">v8::internal::Intl::RoundingMode::kHalfTrunc</a></div><div class="ttdeci">@ kHalfTrunc</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ae30282dcb4aa2d73beedee4233d12134a6dd5ac7edc473d77304d95358f0a334e"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a6dd5ac7edc473d77304d95358f0a334e">v8::internal::Intl::RoundingMode::kHalfEven</a></div><div class="ttdeci">@ kHalfEven</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ae30282dcb4aa2d73beedee4233d12134a8681e538866553847bf291189392344e"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a8681e538866553847bf291189392344e">v8::internal::Intl::RoundingMode::kTrunc</a></div><div class="ttdeci">@ kTrunc</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ae30282dcb4aa2d73beedee4233d12134a95e20eb827cd738ef3a2b9551135da09"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134a95e20eb827cd738ef3a2b9551135da09">v8::internal::Intl::RoundingMode::kExpand</a></div><div class="ttdeci">@ kExpand</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ae30282dcb4aa2d73beedee4233d12134ad471e97bd5d8e38b1d883328971d0db1"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134ad471e97bd5d8e38b1d883328971d0db1">v8::internal::Intl::RoundingMode::kHalfCeil</a></div><div class="ttdeci">@ kHalfCeil</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ae30282dcb4aa2d73beedee4233d12134ad4c30122f68b63cc00eecc121998a716"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134ad4c30122f68b63cc00eecc121998a716">v8::internal::Intl::RoundingMode::kHalfExpand</a></div><div class="ttdeci">@ kHalfExpand</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ae30282dcb4aa2d73beedee4233d12134af8dcb6e55d5a46167c82507ea027848e"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ae30282dcb4aa2d73beedee4233d12134af8dcb6e55d5a46167c82507ea027848e">v8::internal::Intl::RoundingMode::kCeil</a></div><div class="ttdeci">@ kCeil</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ae395f306fe7e35e23f8b6c421d6cbda0"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ae395f306fe7e35e23f8b6c421d6cbda0">v8::internal::Intl::SetTextToBreakIterator</a></div><div class="ttdeci">static DirectHandle&lt; Managed&lt; icu::UnicodeString &gt; &gt; SetTextToBreakIterator(Isolate *isolate, DirectHandle&lt; String &gt; text, icu::BreakIterator *break_iterator)</div><div class="ttdef"><b>Definition</b> <a href="#l02587">intl-objects.cc:2587</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_ae621a902ca8fbf3f22e080a8e77218b6"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#ae621a902ca8fbf3f22e080a8e77218b6">v8::internal::Intl::SupportedValuesOf</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; JSArray &gt; SupportedValuesOf(Isolate *isolate, DirectHandle&lt; Object &gt; key)</div><div class="ttdef"><b>Definition</b> <a href="#l02292">intl-objects.cc:2292</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_aebeda36f2f86075f1dd5b54205b50854"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#aebeda36f2f86075f1dd5b54205b50854">v8::internal::Intl::AsciiCollationWeightsL3</a></div><div class="ttdeci">static const uint8_t * AsciiCollationWeightsL3()</div><div class="ttdef"><b>Definition</b> <a href="#l01432">intl-objects.cc:1432</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_af72e5aa0953297418b5ef1f7a75069db"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#af72e5aa0953297418b5ef1f7a75069db">v8::internal::Intl::FormattedToString</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; String &gt; FormattedToString(Isolate *isolate, const icu::FormattedValue &amp;formatted)</div><div class="ttdef"><b>Definition</b> <a href="#l02875">intl-objects.cc:2875</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_afb4cf72c66834096fbb2f5c4761d9695"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#afb4cf72c66834096fbb2f5c4761d9695">v8::internal::Intl::MatcherOption</a></div><div class="ttdeci">MatcherOption</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00287">intl-objects.h:287</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_afb4cf72c66834096fbb2f5c4761d9695a0c2a5cdacf8be7c37db4d51c1ef9566b"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#afb4cf72c66834096fbb2f5c4761d9695a0c2a5cdacf8be7c37db4d51c1ef9566b">v8::internal::Intl::MatcherOption::kLookup</a></div><div class="ttdeci">@ kLookup</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Intl_html_afb4cf72c66834096fbb2f5c4761d9695a30fc3b89c9e257abb29b1b1ebf3bd94b"><div class="ttname"><a href="classv8_1_1internal_1_1Intl.html#afb4cf72c66834096fbb2f5c4761d9695a30fc3b89c9e257abb29b1b1ebf3bd94b">v8::internal::Intl::MatcherOption::kBestFit</a></div><div class="ttdeci">@ kBestFit</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html">v8::internal::Isolate</a></div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l00575">isolate.h:575</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSDateTimeFormat_html_a759b2ab29903eb783323354a4dcc2818"><div class="ttname"><a href="classv8_1_1internal_1_1JSDateTimeFormat.html#a759b2ab29903eb783323354a4dcc2818">v8::internal::JSDateTimeFormat::TimeZoneIdToString</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; String &gt; TimeZoneIdToString(Isolate *isolate, const icu::UnicodeString &amp;id)</div><div class="ttdef"><b>Definition</b> <a href="js-date-time-format_8cc_source.html#l00552">js-date-time-format.cc:552</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSDateTimeFormat_html_aeeb516c14b25e1191bcdd464887de0e4"><div class="ttname"><a href="classv8_1_1internal_1_1JSDateTimeFormat.html#aeeb516c14b25e1191bcdd464887de0e4">v8::internal::JSDateTimeFormat::CanonicalizeTimeZoneID</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE std::string CanonicalizeTimeZoneID(const std::string &amp;input)</div><div class="ttdef"><b>Definition</b> <a href="js-date-time-format_8cc_source.html#l00476">js-date-time-format.cc:476</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSFunction_html_a88695dbdbe787d52df491c5001819d06"><div class="ttname"><a href="classv8_1_1internal_1_1JSFunction.html#a88695dbdbe787d52df491c5001819d06">v8::internal::JSFunction::GetDerivedMap</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE V8_WARN_UNUSED_RESULT MaybeHandle&lt; Map &gt; GetDerivedMap(Isolate *isolate, DirectHandle&lt; JSFunction &gt; constructor, DirectHandle&lt; JSReceiver &gt; new_target)</div><div class="ttdef"><b>Definition</b> <a href="js-function_8cc_source.html#l01136">js-function.cc:1136</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSLocale_html_a0ed8253c2e078ad80fe06d4337235941"><div class="ttname"><a href="classv8_1_1internal_1_1JSLocale.html#a0ed8253c2e078ad80fe06d4337235941">v8::internal::JSLocale::Is38AlphaNumList</a></div><div class="ttdeci">static bool Is38AlphaNumList(const std::string &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="js-locale_8cc_source.html#l00206">js-locale.cc:206</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSLocale_html_a246c2d069eed60302294a1a4f746ab09"><div class="ttname"><a href="classv8_1_1internal_1_1JSLocale.html#a246c2d069eed60302294a1a4f746ab09">v8::internal::JSLocale::ToString</a></div><div class="ttdeci">static Handle&lt; String &gt; ToString(Isolate *isolate, DirectHandle&lt; JSLocale &gt; locale)</div><div class="ttdef"><b>Definition</b> <a href="js-locale_8cc_source.html#l00858">js-locale.cc:858</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSLocale_html_a2f245d411f8d13980ef1a165c3d33aee"><div class="ttname"><a href="classv8_1_1internal_1_1JSLocale.html#a2f245d411f8d13980ef1a165c3d33aee">v8::internal::JSLocale::StartsWithUnicodeLanguageId</a></div><div class="ttdeci">static bool StartsWithUnicodeLanguageId(const std::string &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="js-locale_8cc_source.html#l00224">js-locale.cc:224</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSLocale_html_a65817bbdc2e2092f28d30edf504df961"><div class="ttname"><a href="classv8_1_1internal_1_1JSLocale.html#a65817bbdc2e2092f28d30edf504df961">v8::internal::JSLocale::Is3Alpha</a></div><div class="ttdeci">static bool Is3Alpha(const std::string &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="js-locale_8cc_source.html#l00218">js-locale.cc:218</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSNumberFormat_html_ab4416ed76390a90d09fbea2d8a68dd57"><div class="ttname"><a href="classv8_1_1internal_1_1JSNumberFormat.html#ab4416ed76390a90d09fbea2d8a68dd57">v8::internal::JSNumberFormat::FormatNumeric</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; String &gt; FormatNumeric(Isolate *isolate, const icu::number::LocalizedNumberFormatter &amp;number_format, Handle&lt; Object &gt; numeric_obj)</div><div class="ttdef"><b>Definition</b> <a href="js-number-format_8cc_source.html#l02115">js-number-format.cc:2115</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSObject_html_a16c9b19de5218c056da014960fba72ae"><div class="ttname"><a href="classv8_1_1internal_1_1JSObject.html#a16c9b19de5218c056da014960fba72ae">v8::internal::JSObject::AddProperty</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void AddProperty(Isolate *isolate, DirectHandle&lt; JSObject &gt; object, DirectHandle&lt; Name &gt; name, DirectHandle&lt; Object &gt; value, PropertyAttributes attributes)</div><div class="ttdef"><b>Definition</b> <a href="js-objects_8cc_source.html#l03606">js-objects.cc:3606</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSObject_html_a9830a0e3f5177b6f3051c826c1a76007"><div class="ttname"><a href="classv8_1_1internal_1_1JSObject.html#a9830a0e3f5177b6f3051c826c1a76007">v8::internal::JSObject::AddDataElement</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE Maybe&lt; bool &gt; AddDataElement(DirectHandle&lt; JSObject &gt; receiver, uint32_t index, DirectHandle&lt; Object &gt; value, PropertyAttributes attributes)</div><div class="ttdef"><b>Definition</b> <a href="js-objects_8cc_source.html#l05407">js-objects.cc:5407</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSReceiver_html_aba4a2cfb4946da1635ae2730b710ff00"><div class="ttname"><a href="classv8_1_1internal_1_1JSReceiver.html#aba4a2cfb4946da1635ae2730b710ff00">v8::internal::JSReceiver::GetProperty</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; Object &gt; GetProperty(Isolate *isolate, DirectHandle&lt; JSReceiver &gt; receiver, const char *key)</div><div class="ttdef"><b>Definition</b> <a href="js-objects-inl_8h_source.html#l00121">js-objects-inl.h:121</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSReceiver_html_ad0df2ef8ddcadcd2c2d7d96b19b7c3d3"><div class="ttname"><a href="classv8_1_1internal_1_1JSReceiver.html#ad0df2ef8ddcadcd2c2d7d96b19b7c3d3">v8::internal::JSReceiver::HasProperty</a></div><div class="ttdeci">V8_EXPORT_PRIVATE static V8_WARN_UNUSED_RESULT Maybe&lt; bool &gt; HasProperty(LookupIterator *it)</div><div class="ttdef"><b>Definition</b> <a href="js-objects_8cc_source.html#l00098">js-objects.cc:98</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSTemporalTimeZone_html_afc37cad9a324852c6bfb117837dd6969"><div class="ttname"><a href="classv8_1_1internal_1_1JSTemporalTimeZone.html#afc37cad9a324852c6bfb117837dd6969">v8::internal::JSTemporalTimeZone::kUTCTimeZoneIndex</a></div><div class="ttdeci">static constexpr int32_t kUTCTimeZoneIndex</div><div class="ttdef"><b>Definition</b> <a href="js-temporal-objects_8h_source.html#l00913">js-temporal-objects.h:913</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LocalIsolate_html"><div class="ttname"><a href="classv8_1_1internal_1_1LocalIsolate.html">v8::internal::LocalIsolate</a></div><div class="ttdef"><b>Definition</b> <a href="local-isolate_8h_source.html#l00045">local-isolate.h:45</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LookupIterator_html"><div class="ttname"><a href="classv8_1_1internal_1_1LookupIterator.html">v8::internal::LookupIterator</a></div><div class="ttdef"><b>Definition</b> <a href="lookup_8h_source.html#l00057">lookup.h:57</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Managed_html_a1c10cb948281b864db32d8af25a7b7d9"><div class="ttname"><a href="classv8_1_1internal_1_1Managed.html#a1c10cb948281b864db32d8af25a7b7d9">v8::internal::Managed::From</a></div><div class="ttdeci">static DirectHandle&lt; Managed&lt; CppType &gt; &gt; From(Isolate *isolate, size_t estimated_size, std::shared_ptr&lt; CppType &gt; shared_ptr, AllocationType allocation_type=AllocationType::kYoung)</div><div class="ttdef"><b>Definition</b> <a href="managed-inl_8h_source.html#l00025">managed-inl.h:25</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeDirectHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeDirectHandle.html">v8::internal::MaybeDirectHandle</a></div><div class="ttdef"><b>Definition</b> <a href="maybe-handles_8h_source.html#l00239">maybe-handles.h:239</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeDirectHandle_html_a76857e813e1bdb19bbb3cbbfad729f1c"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeDirectHandle.html#a76857e813e1bdb19bbb3cbbfad729f1c">v8::internal::MaybeDirectHandle::ToHandle</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT V8_INLINE bool ToHandle(DirectHandle&lt; S &gt; *out) const</div><div class="ttdef"><b>Definition</b> <a href="maybe-handles_8h_source.html#l00275">maybe-handles.h:275</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeHandle.html">v8::internal::MaybeHandle</a></div><div class="ttdef"><b>Definition</b> <a href="maybe-handles_8h_source.html#l00028">maybe-handles.h:28</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Object_html_a24c860a62ca3b03ee46753897d04a1ec"><div class="ttname"><a href="classv8_1_1internal_1_1Object.html#a24c860a62ca3b03ee46753897d04a1ec">v8::internal::Object::ToString</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT HandleType&lt; String &gt;::MaybeType ToString(Isolate *isolate, HandleType&lt; T &gt; input)</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Object_html_a571dce80e712629db56d149411023702"><div class="ttname"><a href="classv8_1_1internal_1_1Object.html#a571dce80e712629db56d149411023702">v8::internal::Object::OrdinaryHasInstance</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; Object &gt; OrdinaryHasInstance(Isolate *isolate, DirectHandle&lt; JSAny &gt; callable, DirectHandle&lt; JSAny &gt; object)</div><div class="ttdef"><b>Definition</b> <a href="objects_8cc_source.html#l01044">objects.cc:1044</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Object_html_a5cac49538cd5c519bab4d32d0d3c5ed9"><div class="ttname"><a href="classv8_1_1internal_1_1Object.html#a5cac49538cd5c519bab4d32d0d3c5ed9">v8::internal::Object::BooleanValue</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE bool BooleanValue(Tagged&lt; Object &gt; obj, IsolateT *isolate)</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Object_html_a67829f0b3b20513ae40538f3449a0765"><div class="ttname"><a href="classv8_1_1internal_1_1Object.html#a67829f0b3b20513ae40538f3449a0765">v8::internal::Object::ToObject</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT HandleType&lt; JSReceiver &gt;::MaybeType ToObject(Isolate *isolate, HandleType&lt; T &gt; object, const char *method_name=nullptr)</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Object_html_a8a6c6d9b71bb8f6bd6004b8f6f48c9f7"><div class="ttname"><a href="classv8_1_1internal_1_1Object.html#a8a6c6d9b71bb8f6bd6004b8f6f48c9f7">v8::internal::Object::NumberValue</a></div><div class="ttdeci">static double NumberValue(Tagged&lt; Number &gt; obj)</div><div class="ttdef"><b>Definition</b> <a href="objects-inl_8h_source.html#l00658">objects-inl.h:658</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Object_html_ad7dc2b339d7369929cc389421d491575"><div class="ttname"><a href="classv8_1_1internal_1_1Object.html#ad7dc2b339d7369929cc389421d491575">v8::internal::Object::GetProperty</a></div><div class="ttdeci">V8_EXPORT_PRIVATE static V8_WARN_UNUSED_RESULT MaybeHandle&lt; Object &gt; GetProperty(LookupIterator *it, bool is_global_reference=false)</div><div class="ttdef"><b>Definition</b> <a href="objects_8cc_source.html#l01247">objects.cc:1247</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Object_html_adc0be1139bee49c64f3ebe4aa92889de"><div class="ttname"><a href="classv8_1_1internal_1_1Object.html#adc0be1139bee49c64f3ebe4aa92889de">v8::internal::Object::GetLengthFromArrayLike</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; Object &gt; GetLengthFromArrayLike(Isolate *isolate, DirectHandle&lt; JSReceiver &gt; object)</div><div class="ttdef"><b>Definition</b> <a href="objects_8cc_source.html#l01237">objects.cc:1237</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Object_html_afdb773467445ba078de0e3fc7c655aaa"><div class="ttname"><a href="classv8_1_1internal_1_1Object.html#afdb773467445ba078de0e3fc7c655aaa">v8::internal::Object::ToNumeric</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT HandleType&lt; Object &gt;::MaybeType ToNumeric(Isolate *isolate, HandleType&lt; T &gt; input)</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PerThreadAssertScopeEmpty_html"><div class="ttname"><a href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">v8::internal::PerThreadAssertScopeEmpty&lt; kAllow, kTypes... &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SeqString_html_a1a79ce01c0cad9361948e6376581ba8e"><div class="ttname"><a href="classv8_1_1internal_1_1SeqString.html#a1a79ce01c0cad9361948e6376581ba8e">v8::internal::SeqString::Truncate</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT Handle&lt; String &gt; Truncate(Isolate *isolate, Handle&lt; SeqString &gt; string, uint32_t new_length)</div><div class="ttdef"><b>Definition</b> <a href="string_8cc_source.html#l01927">string.cc:1927</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SharedStringAccessGuardIfNeeded_html_a90c21c7e3cfb4babbfa1a35bf606d364"><div class="ttname"><a href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html#a90c21c7e3cfb4babbfa1a35bf606d364">v8::internal::SharedStringAccessGuardIfNeeded::IsNeeded</a></div><div class="ttdeci">static bool IsNeeded(Tagged&lt; String &gt; str, LocalIsolate *local_isolate)</div><div class="ttdef"><b>Definition</b> <a href="string-inl_8h_source.html#l00070">string-inl.h:70</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StackLimitCheck_html"><div class="ttname"><a href="classv8_1_1internal_1_1StackLimitCheck.html">v8::internal::StackLimitCheck</a></div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l02954">isolate.h:2954</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StackLimitCheck_html_a40c7532c8035444ef65343f6258ac201"><div class="ttname"><a href="classv8_1_1internal_1_1StackLimitCheck.html#a40c7532c8035444ef65343f6258ac201">v8::internal::StackLimitCheck::JsHasOverflowed</a></div><div class="ttdeci">bool JsHasOverflowed(uintptr_t gap=0) const</div><div class="ttdef"><b>Definition</b> <a href="isolate_8cc_source.html#l07249">isolate.cc:7249</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1FlatContent_html"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1FlatContent.html">v8::internal::String::FlatContent</a></div><div class="ttdef"><b>Definition</b> <a href="string_8h_source.html#l00131">string.h:131</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1FlatContent_html_a00d04cc56a894ba79373a521904b6a77"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1FlatContent.html#a00d04cc56a894ba79373a521904b6a77">v8::internal::String::FlatContent::IsTwoByte</a></div><div class="ttdeci">bool IsTwoByte() const</div><div class="ttdef"><b>Definition</b> <a href="string_8h_source.html#l00140">string.h:140</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1FlatContent_html_a14673593207f44394962fbf870d14c88"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1FlatContent.html#a14673593207f44394962fbf870d14c88">v8::internal::String::FlatContent::ToOneByteVector</a></div><div class="ttdeci">base::Vector&lt; const uint8_t &gt; ToOneByteVector() const</div><div class="ttdef"><b>Definition</b> <a href="string_8h_source.html#l00144">string.h:144</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1FlatContent_html_a3b4907c3447e7f474b0825b8db8138f0"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">v8::internal::String::FlatContent::IsOneByte</a></div><div class="ttdeci">bool IsOneByte() const</div><div class="ttdef"><b>Definition</b> <a href="string_8h_source.html#l00138">string.h:138</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1FlatContent_html_a3b9ea49752a2c9031c57e027a2ae72a6"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b9ea49752a2c9031c57e027a2ae72a6">v8::internal::String::FlatContent::length</a></div><div class="ttdeci">uint32_t length() const</div><div class="ttdef"><b>Definition</b> <a href="string_8h_source.html#l00177">string.h:177</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1FlatContent_html_ab758bb9904d5b922aec4f6830833bf26"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1FlatContent.html#ab758bb9904d5b922aec4f6830833bf26">v8::internal::String::FlatContent::ToUC16Vector</a></div><div class="ttdeci">base::Vector&lt; const base::uc16 &gt; ToUC16Vector() const</div><div class="ttdef"><b>Definition</b> <a href="string_8h_source.html#l00150">string.h:150</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_a21049fc49218b6cf593fc03fabf42656"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#a21049fc49218b6cf593fc03fabf42656">v8::internal::String::Flatten</a></div><div class="ttdeci">static V8_INLINE HandleType&lt; String &gt; Flatten(Isolate *isolate, HandleType&lt; T &gt; string, AllocationType allocation=AllocationType::kYoung)</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_a33a79c203e5bad51a55406ad58e412e0"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#a33a79c203e5bad51a55406ad58e412e0">v8::internal::String::IsAscii</a></div><div class="ttdeci">static bool IsAscii(const char *chars, uint32_t length)</div><div class="ttdef"><b>Definition</b> <a href="string_8h_source.html#l00569">string.h:569</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_adea5c3479309ca6bac778d4497f923ab"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#adea5c3479309ca6bac778d4497f923ab">v8::internal::String::Equals</a></div><div class="ttdeci">bool Equals(Tagged&lt; String &gt; other) const</div><div class="ttdef"><b>Definition</b> <a href="string-inl_8h_source.html#l00463">string-inl.h:463</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_html"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged.html">v8::internal::Tagged</a></div><div class="ttdef"><b>Definition</b> <a href="waiter-queue-node_8h_source.html#l00022">waiter-queue-node.h:22</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ZoneVector_html_af4d3701d605c7c9ed301a2ef3880784f"><div class="ttname"><a href="classv8_1_1internal_1_1ZoneVector.html#af4d3701d605c7c9ed301a2ef3880784f">v8::internal::ZoneVector::push_back</a></div><div class="ttdeci">void push_back(const T &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="zone-containers_8h_source.html#l00303">zone-containers.h:303</a></div></div>
<div class="ttc" id="acode-reference_8cc_html_aeaf31c189d3b2a89ff45fedfceb87d9d"><div class="ttname"><a href="code-reference_8cc.html#aeaf31c189d3b2a89ff45fedfceb87d9d">code</a></div><div class="ttdeci">Handle&lt; Code &gt; code</div><div class="ttdef"><b>Definition</b> <a href="code-reference_8cc_source.html#l00022">code-reference.cc:22</a></div></div>
<div class="ttc" id="acodegen_2assembler_8cc_html_ae4cca67e9b8b6a39d8f53185f2569a05"><div class="ttname"><a href="codegen_2assembler_8cc.html#ae4cca67e9b8b6a39d8f53185f2569a05">start_</a></div><div class="ttdeci">uint8_t *const start_</div><div class="ttdef"><b>Definition</b> <a href="codegen_2assembler_8cc_source.html#l00131">assembler.cc:131</a></div></div>
<div class="ttc" id="acommon_2globals_8h_html"><div class="ttname"><a href="common_2globals_8h.html">globals.h</a></div></div>
<div class="ttc" id="acppgc_2sweeper_8cc_html_a69a1b0005c5803e98bd8cbe2ef95d570"><div class="ttname"><a href="cppgc_2sweeper_8cc.html#a69a1b0005c5803e98bd8cbe2ef95d570">end_</a></div><div class="ttdeci">const v8::base::TimeTicks end_</div><div class="ttdef"><b>Definition</b> <a href="cppgc_2sweeper_8cc_source.html#l00054">sweeper.cc:54</a></div></div>
<div class="ttc" id="adate_8h_html"><div class="ttname"><a href="date_8h.html">date.h</a></div></div>
<div class="ttc" id="adebug-coverage_8cc_html_a37722a150250e2a5a98e5e0d11e53449"><div class="ttname"><a href="debug-coverage_8cc.html#a37722a150250e2a5a98e5e0d11e53449">start</a></div><div class="ttdeci">int start</div><div class="ttdef"><b>Definition</b> <a href="debug-coverage_8cc_source.html#l00595">debug-coverage.cc:595</a></div></div>
<div class="ttc" id="adebug-coverage_8cc_html_abce9f5dc9c83f2639b72024fdee5d388"><div class="ttname"><a href="debug-coverage_8cc.html#abce9f5dc9c83f2639b72024fdee5d388">end</a></div><div class="ttdeci">int end</div><div class="ttdef"><b>Definition</b> <a href="debug-coverage_8cc_source.html#l00596">debug-coverage.cc:596</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html"><div class="ttname"><a href="execution_2isolate_8h.html">isolate.h</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html_a06699c63279f3987fe082aeaaab74b7e"><div class="ttname"><a href="execution_2isolate_8h.html#a06699c63279f3987fe082aeaaab74b7e">THROW_NEW_ERROR_RETURN_VALUE</a></div><div class="ttdeci">#define THROW_NEW_ERROR_RETURN_VALUE(isolate, call, value)</div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l00298">isolate.h:298</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html_a45bb81ab232e9f2663545ec92dc0b950"><div class="ttname"><a href="execution_2isolate_8h.html#a45bb81ab232e9f2663545ec92dc0b950">ASSIGN_RETURN_ON_EXCEPTION</a></div><div class="ttdeci">#define ASSIGN_RETURN_ON_EXCEPTION(isolate, dst, call)</div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l00289">isolate.h:289</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html_a6557667dd5be0768bd92d4bfd9a4d70f"><div class="ttname"><a href="execution_2isolate_8h.html#a6557667dd5be0768bd92d4bfd9a4d70f">THROW_NEW_ERROR</a></div><div class="ttdeci">#define THROW_NEW_ERROR(isolate, call)</div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l00305">isolate.h:305</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html_a6a0c40de52f9f029945027e5834661ad"><div class="ttname"><a href="execution_2isolate_8h.html#a6a0c40de52f9f029945027e5834661ad">ASSIGN_RETURN_ON_EXCEPTION_VALUE</a></div><div class="ttdeci">#define ASSIGN_RETURN_ON_EXCEPTION_VALUE(isolate, dst, call, value)</div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l00274">isolate.h:274</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html_ab9c5f988388c2c537b8b161438e4ed31"><div class="ttname"><a href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a></div><div class="ttdeci">#define MAYBE_RETURN(call, value)</div><div class="ttdef"><b>Definition</b> <a href="execution_2isolate_8h_source.html#l00406">isolate.h:406</a></div></div>
<div class="ttc" id="afactory_8h_html"><div class="ttname"><a href="factory_8h.html">factory.h</a></div></div>
<div class="ttc" id="aglobal-handles_8h_html"><div class="ttname"><a href="global-handles_8h.html">global-handles.h</a></div></div>
<div class="ttc" id="ainstruction-selector-ia32_8cc_html_a97bd6c077f3c7769f575b82988b9b668"><div class="ttname"><a href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a></div><div class="ttdeci">int32_t offset</div><div class="ttdef"><b>Definition</b> <a href="instruction-selector-ia32_8cc_source.html#l00072">instruction-selector-ia32.cc:72</a></div></div>
<div class="ttc" id="aintl-objects_8cc_html_a03943706e48069237cd57f2d35ca987e"><div class="ttname"><a href="intl-objects_8cc.html#a03943706e48069237cd57f2d35ca987e">XSTR</a></div><div class="ttdeci">#define XSTR(s)</div><div class="ttdef"><b>Definition</b> <a href="#l00059">intl-objects.cc:59</a></div></div>
<div class="ttc" id="aintl-objects_8cc_html_a110d0f63b1860324c40bae0391908f88"><div class="ttname"><a href="intl-objects_8cc.html#a110d0f63b1860324c40bae0391908f88">extension</a></div><div class="ttdeci">std::string extension</div><div class="ttdef"><b>Definition</b> <a href="#l01883">intl-objects.cc:1883</a></div></div>
<div class="ttc" id="aintl-objects_8cc_html_a2750cbfa342c12a8ab8ffc67a864c40f"><div class="ttname"><a href="intl-objects_8cc.html#a2750cbfa342c12a8ab8ffc67a864c40f">l1_result</a></div><div class="ttdeci">UCollationResult l1_result</div><div class="ttdef"><b>Definition</b> <a href="#l01113">intl-objects.cc:1113</a></div></div>
<div class="ttc" id="aintl-objects_8cc_html_a2fcd17beeadf766bfb980161b1706334"><div class="ttname"><a href="intl-objects_8cc.html#a2fcd17beeadf766bfb980161b1706334">has_diff</a></div><div class="ttdeci">bool has_diff</div><div class="ttdef"><b>Definition</b> <a href="#l01117">intl-objects.cc:1117</a></div></div>
<div class="ttc" id="aintl-objects_8cc_html_a3090b930e45d2f4abc4b54e95cf32056"><div class="ttname"><a href="intl-objects_8cc.html#a3090b930e45d2f4abc4b54e95cf32056">no_extensions_locale</a></div><div class="ttdeci">std::string no_extensions_locale</div><div class="ttdef"><b>Definition</b> <a href="#l01882">intl-objects.cc:1882</a></div></div>
<div class="ttc" id="aintl-objects_8cc_html_a536d73933533b7bcb772081438fa8dae"><div class="ttname"><a href="intl-objects_8cc.html#a536d73933533b7bcb772081438fa8dae">list_</a></div><div class="ttdeci">std::vector&lt; std::string &gt; list_</div><div class="ttdef"><b>Definition</b> <a href="#l02231">intl-objects.cc:2231</a></div></div>
<div class="ttc" id="aintl-objects_8cc_html_a5cf4634fb18e25d6737d80e58bdb3ca4"><div class="ttname"><a href="intl-objects_8cc.html#a5cf4634fb18e25d6737d80e58bdb3ca4">l3_result</a></div><div class="ttdeci">UCollationResult l3_result</div><div class="ttdef"><b>Definition</b> <a href="#l01114">intl-objects.cc:1114</a></div></div>
<div class="ttc" id="aintl-objects_8cc_html_abd0d4e8fc7ac940c35a627fec8727529"><div class="ttname"><a href="intl-objects_8cc.html#abd0d4e8fc7ac940c35a627fec8727529">locale_</a></div><div class="ttdeci">icu::Locale locale_</div><div class="ttdef"><b>Definition</b> <a href="#l02018">intl-objects.cc:2018</a></div></div>
<div class="ttc" id="aintl-objects_8cc_html_ac3130bc83e33bde22d12e1fea548ee69"><div class="ttname"><a href="intl-objects_8cc.html#ac3130bc83e33bde22d12e1fea548ee69">iter_</a></div><div class="ttdeci">std::vector&lt; std::string &gt;::const_iterator iter_</div><div class="ttdef"><b>Definition</b> <a href="#l02016">intl-objects.cc:2016</a></div></div>
<div class="ttc" id="aintl-objects_8cc_html_adde048a62ade8e0ad336b33befcdf7d1"><div class="ttname"><a href="intl-objects_8cc.html#adde048a62ade8e0ad336b33befcdf7d1">first_diff_at</a></div><div class="ttdeci">int first_diff_at</div><div class="ttdef"><b>Definition</b> <a href="#l01116">intl-objects.cc:1116</a></div></div>
<div class="ttc" id="aintl-objects_8cc_html_ae5f582fe095917cfa878905a676abe64"><div class="ttname"><a href="intl-objects_8cc.html#ae5f582fe095917cfa878905a676abe64">processed_until</a></div><div class="ttdeci">int processed_until</div><div class="ttdef"><b>Definition</b> <a href="#l01115">intl-objects.cc:1115</a></div></div>
<div class="ttc" id="aintl-objects_8h_html"><div class="ttname"><a href="intl-objects_8h.html">intl-objects.h</a></div></div>
<div class="ttc" id="aintl-objects_8h_html_a3de4db913df859580e8af1f077321bdd"><div class="ttname"><a href="intl-objects_8h.html#a3de4db913df859580e8af1f077321bdd">V8_MINIMUM_ICU_VERSION</a></div><div class="ttdeci">#define V8_MINIMUM_ICU_VERSION</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00025">intl-objects.h:25</a></div></div>
<div class="ttc" id="aisolate_8cc_html_a787a832ab591758654210dd93e0b6a1b"><div class="ttname"><a href="isolate_8cc.html#a787a832ab591758654210dd93e0b6a1b">limit_</a></div><div class="ttdeci">const int limit_</div><div class="ttdef"><b>Definition</b> <a href="isolate_8cc_source.html#l01118">isolate.cc:1118</a></div></div>
<div class="ttc" id="ajs-call-reducer_8cc_html_a8aab47cc18f1dda0f6b8034f5c64d43d"><div class="ttname"><a href="js-call-reducer_8cc.html#a8aab47cc18f1dda0f6b8034f5c64d43d">receiver</a></div><div class="ttdeci">TNode&lt; Object &gt; receiver</div><div class="ttdef"><b>Definition</b> <a href="js-call-reducer_8cc_source.html#l01499">js-call-reducer.cc:1499</a></div></div>
<div class="ttc" id="ajs-call-reducer_8cc_html_a90c9411d2f3b478b9cb3fe5a9814959e"><div class="ttname"><a href="js-call-reducer_8cc.html#a90c9411d2f3b478b9cb3fe5a9814959e">direction</a></div><div class="ttdeci">ArrayReduceDirection direction</div><div class="ttdef"><b>Definition</b> <a href="js-call-reducer_8cc_source.html#l01577">js-call-reducer.cc:1577</a></div></div>
<div class="ttc" id="ajs-collator-inl_8h_html"><div class="ttname"><a href="js-collator-inl_8h.html">js-collator-inl.h</a></div></div>
<div class="ttc" id="ajs-date-time-format-inl_8h_html"><div class="ttname"><a href="js-date-time-format-inl_8h.html">js-date-time-format-inl.h</a></div></div>
<div class="ttc" id="ajs-date-time-format_8cc_html_a22ede25ca923109929a8dca3c225b2ad"><div class="ttname"><a href="js-date-time-format_8cc.html#a22ede25ca923109929a8dca3c225b2ad">map</a></div><div class="ttdeci">std::map&lt; const std::string, const std::string &gt; map</div><div class="ttdef"><b>Definition</b> <a href="js-date-time-format_8cc_source.html#l00268">js-date-time-format.cc:268</a></div></div>
<div class="ttc" id="ajs-duration-format_8cc_html_adb74ea3e2b4140e851f38471a6a6a91d"><div class="ttname"><a href="js-duration-format_8cc.html#adb74ea3e2b4140e851f38471a6a6a91d">formatted</a></div><div class="ttdeci">icu::number::FormattedNumber formatted</div><div class="ttdef"><b>Definition</b> <a href="js-duration-format_8cc_source.html#l00638">js-duration-format.cc:638</a></div></div>
<div class="ttc" id="ajs-locale-inl_8h_html"><div class="ttname"><a href="js-locale-inl_8h.html">js-locale-inl.h</a></div></div>
<div class="ttc" id="ajs-locale_8h_html"><div class="ttname"><a href="js-locale_8h.html">js-locale.h</a></div></div>
<div class="ttc" id="ajs-number-format-inl_8h_html"><div class="ttname"><a href="js-number-format-inl_8h.html">js-number-format-inl.h</a></div></div>
<div class="ttc" id="ajs-temporal-objects_8cc_html_a171b4bcf022a10159f27162dac007763"><div class="ttname"><a href="js-temporal-objects_8cc.html#a171b4bcf022a10159f27162dac007763">remainder</a></div><div class="ttdeci">double remainder</div><div class="ttdef"><b>Definition</b> <a href="js-temporal-objects_8cc_source.html#l00108">js-temporal-objects.cc:108</a></div></div>
<div class="ttc" id="ajs-temporal-objects_8cc_html_a5d1eaa4d00d65b745d493b4b8ae43b00"><div class="ttname"><a href="js-temporal-objects_8cc.html#a5d1eaa4d00d65b745d493b4b8ae43b00">options</a></div><div class="ttdeci">DirectHandle&lt; JSReceiver &gt; options</div><div class="ttdef"><b>Definition</b> <a href="js-temporal-objects_8cc_source.html#l00207">js-temporal-objects.cc:207</a></div></div>
<div class="ttc" id="ajs-temporal-objects_8cc_html_ad0f668580d18bf2169eb3fc59fb2dfc5"><div class="ttname"><a href="js-temporal-objects_8cc.html#ad0f668580d18bf2169eb3fc59fb2dfc5">time_zone</a></div><div class="ttdeci">TimeZoneRecord time_zone</div><div class="ttdef"><b>Definition</b> <a href="js-temporal-objects_8cc_source.html#l00092">js-temporal-objects.cc:92</a></div></div>
<div class="ttc" id="ajs-temporal-objects_8h_html"><div class="ttname"><a href="js-temporal-objects_8h.html">js-temporal-objects.h</a></div></div>
<div class="ttc" id="ajump-threading_8cc_html_a41f8c58d2c01bf65b8ee199c3f87fc80"><div class="ttname"><a href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a></div><div class="ttdeci">ZoneVector&lt; RpoNumber &gt; &amp; result</div><div class="ttdef"><b>Definition</b> <a href="jump-threading_8cc_source.html#l00021">jump-threading.cc:21</a></div></div>
<div class="ttc" id="alazy-instance_8h_html_a1e27ae5d78f6269b5cbe602f43c91377"><div class="ttname"><a href="lazy-instance_8h.html#a1e27ae5d78f6269b5cbe602f43c91377">LAZY_INSTANCE_INITIALIZER</a></div><div class="ttdeci">#define LAZY_INSTANCE_INITIALIZER</div><div class="ttdef"><b>Definition</b> <a href="lazy-instance_8h_source.html#l00083">lazy-instance.h:83</a></div></div>
<div class="ttc" id="alocal-isolate_8h_html"><div class="ttname"><a href="local-isolate_8h.html">local-isolate.h</a></div></div>
<div class="ttc" id="alogging_8h_html"><div class="ttname"><a href="logging_8h.html">logging.h</a></div></div>
<div class="ttc" id="alogging_8h_html_a0d093cb749cfc7ab5993726392df681f"><div class="ttname"><a href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a></div><div class="ttdeci">#define FATAL(...)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00047">logging.h:47</a></div></div>
<div class="ttc" id="alogging_8h_html_a16b382527f19b805fc8f856668f2270b"><div class="ttname"><a href="logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a></div><div class="ttdeci">#define DCHECK_LE(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00490">logging.h:490</a></div></div>
<div class="ttc" id="alogging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00124">logging.h:124</a></div></div>
<div class="ttc" id="alogging_8h_html_a7b9f9517fedacc2a1a56c2bbb9d03688"><div class="ttname"><a href="logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a></div><div class="ttdeci">#define DCHECK_NOT_NULL(val)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00492">logging.h:492</a></div></div>
<div class="ttc" id="alogging_8h_html_a986dc8f4ec6dcd0644efe205c13f8eb7"><div class="ttname"><a href="logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a></div><div class="ttdeci">#define DCHECK_NE(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00486">logging.h:486</a></div></div>
<div class="ttc" id="alogging_8h_html_aabec5c3b7a8628298a25f044dcf89c25"><div class="ttname"><a href="logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a></div><div class="ttdeci">#define DCHECK_GE(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00488">logging.h:488</a></div></div>
<div class="ttc" id="alogging_8h_html_ae17f8119c108cf3070bad3449c7e0006"><div class="ttname"><a href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a></div><div class="ttdeci">#define DCHECK(condition)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00482">logging.h:482</a></div></div>
<div class="ttc" id="alogging_8h_html_af1a711c8d5520dff78858ddefd2ad668"><div class="ttname"><a href="logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a></div><div class="ttdeci">#define DCHECK_LT(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00489">logging.h:489</a></div></div>
<div class="ttc" id="alogging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00485">logging.h:485</a></div></div>
<div class="ttc" id="alogging_8h_html_afd957f297df7e9ee36c46185e961485f"><div class="ttname"><a href="logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a></div><div class="ttdeci">#define DCHECK_GT(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00487">logging.h:487</a></div></div>
<div class="ttc" id="amacros_8h_html_a280b0798f270f4b3f361c9ab64832956"><div class="ttname"><a href="macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a></div><div class="ttdeci">#define USE(...)</div><div class="ttdef"><b>Definition</b> <a href="macros_8h_source.html#l00281">macros.h:281</a></div></div>
<div class="ttc" id="amacros_8h_html_ac55fdd6aa61539c49b1b1f5d38a0ed73"><div class="ttname"><a href="macros_8h.html#ac55fdd6aa61539c49b1b1f5d38a0ed73">arraysize</a></div><div class="ttdeci">#define arraysize(array)</div><div class="ttdef"><b>Definition</b> <a href="macros_8h_source.html#l00067">macros.h:67</a></div></div>
<div class="ttc" id="amanaged-inl_8h_html"><div class="ttname"><a href="managed-inl_8h.html">managed-inl.h</a></div></div>
<div class="ttc" id="amove-optimizer_8cc_html_a93b84296d9854b2ab5bd18f69c3f8768"><div class="ttname"><a href="move-optimizer_8cc.html#a93b84296d9854b2ab5bd18f69c3f8768">source</a></div><div class="ttdeci">InstructionOperand source</div><div class="ttdef"><b>Definition</b> <a href="move-optimizer_8cc_source.html#l00016">move-optimizer.cc:16</a></div></div>
<div class="ttc" id="amul-fft_8cc_html_acab531abaa74a7e664e3986f2522b33a"><div class="ttname"><a href="mul-fft_8cc.html#acab531abaa74a7e664e3986f2522b33a">r</a></div><div class="ttdeci">int r</div><div class="ttdef"><b>Definition</b> <a href="mul-fft_8cc_source.html#l00298">mul-fft.cc:298</a></div></div>
<div class="ttc" id="anamespaceunibrow_html_a67de744730c9fed24aa185ab5747772c"><div class="ttname"><a href="namespaceunibrow.html#a67de744730c9fed24aa185ab5747772c">unibrow::int32_t</a></div><div class="ttdeci">int int32_t</div><div class="ttdef"><b>Definition</b> <a href="unicode_8cc_source.html#l00040">unicode.cc:40</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a9b30a9dce9a646c03dd1fd6a409d9d7f"><div class="ttname"><a href="namespacev8_1_1base.html#a9b30a9dce9a646c03dd1fd6a409d9d7f">v8::base::uc16</a></div><div class="ttdeci">uint16_t uc16</div><div class="ttdef"><b>Definition</b> <a href="strings_8h_source.html#l00018">strings.h:18</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ab7bb05a38073e903d44170c3fed70276"><div class="ttname"><a href="namespacev8_1_1base.html#ab7bb05a38073e903d44170c3fed70276">v8::base::CStrVector</a></div><div class="ttdeci">Vector&lt; const char &gt; CStrVector(const char *data)</div><div class="ttdef"><b>Definition</b> <a href="vector_8h_source.html#l00331">vector.h:331</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_html_a2b5e79bd829824237e784a6cde29309e"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">v8::internal::compiler::turboshaft::Get</a></div><div class="ttdeci">V8_INLINE const Operation &amp; Get(const Graph &amp;graph, OpIndex index)</div><div class="ttdef"><b>Definition</b> <a href="graph_8h_source.html#l01231">graph.h:1231</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_ae72af9053b45630a01be9a6140820b5a"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#ae72af9053b45630a01be9a6140820b5a">v8::internal::compiler::begin</a></div><div class="ttdeci">Node::Uses::const_iterator begin(const Node::Uses &amp;uses)</div><div class="ttdef"><b>Definition</b> <a href="node_8h_source.html#l00709">node.h:709</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition</b> <a href="api-arguments-inl_8h_source.html#l00018">api-arguments-inl.h:18</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0cfab207d565dcf62ebf50f3987e05de"><div class="ttname"><a href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">v8::internal::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition</b> <a href="heap-snapshot-generator_8cc_source.html#l01584">heap-snapshot-generator.cc:1584</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a20971f8a9770697fdde08004c19035a3"><div class="ttname"><a href="namespacev8_1_1internal.html#a20971f8a9770697fdde08004c19035a3">v8::internal::DisallowGarbageCollection</a></div><div class="ttdeci">PerThreadAssertScopeDebugOnly&lt; false, SAFEPOINTS_ASSERT, HEAP_ALLOCATION_ASSERT &gt; DisallowGarbageCollection</div><div class="ttdef"><b>Definition</b> <a href="assert-scope_8h_source.html#l00236">assert-scope.h:236</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a28e017cd3ae9f15f34ea163d524b207c"><div class="ttname"><a href="namespacev8_1_1internal.html#a28e017cd3ae9f15f34ea163d524b207c">v8::internal::kMaxUInt8</a></div><div class="ttdeci">constexpr int kMaxUInt8</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l00370">globals.h:370</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">v8::internal::PropertyAttributes</a></div><div class="ttdeci">PropertyAttributes</div><div class="ttdef"><b>Definition</b> <a href="property-details_8h_source.html#l00018">property-details.h:18</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">v8::internal::NONE</a></div><div class="ttdeci">@ NONE</div><div class="ttdef"><b>Definition</b> <a href="property-details_8h_source.html#l00019">property-details.h:19</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a4382c244e839ce16a4beafabd1c6bd1d"><div class="ttname"><a href="namespacev8_1_1internal.html#a4382c244e839ce16a4beafabd1c6bd1d">v8::internal::Tagged</a></div><div class="ttdeci">Tagged(T object) -&gt; Tagged&lt; T &gt;</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a4c8cc72fb315e4b7ce9f492c1a23bda8"><div class="ttname"><a href="namespacev8_1_1internal.html#a4c8cc72fb315e4b7ce9f492c1a23bda8">v8::internal::IsAsciiLower</a></div><div class="ttdeci">constexpr bool IsAsciiLower(base::uc32 c)</div><div class="ttdef"><b>Definition</b> <a href="char-predicates-inl_8h_source.html#l00056">char-predicates-inl.h:56</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a4ca2672965adf60b4e89bc4c9f19387c"><div class="ttname"><a href="namespacev8_1_1internal.html#a4ca2672965adf60b4e89bc4c9f19387c">v8::internal::DefaultNumberOption</a></div><div class="ttdeci">Maybe&lt; int &gt; DefaultNumberOption(Isolate *isolate, DirectHandle&lt; Object &gt; value, int min, int max, int fallback, DirectHandle&lt; String &gt; property)</div><div class="ttdef"><b>Definition</b> <a href="option-utils_8cc_source.html#l00122">option-utils.cc:122</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a51b86a492912e93aefb78796892c363b"><div class="ttname"><a href="namespacev8_1_1internal.html#a51b86a492912e93aefb78796892c363b">v8::internal::indirect_handle</a></div><div class="ttdeci">V8_INLINE IndirectHandle&lt; T &gt; indirect_handle(DirectHandle&lt; T &gt; handle)</div><div class="ttdef"><b>Definition</b> <a href="handles_8h_source.html#l00746">handles.h:746</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a67a51b6314a9bc8a8c44c5fe14149e6c"><div class="ttname"><a href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">v8::internal::key</a></div><div class="ttdeci">int32_t key</div><div class="ttdef"><b>Definition</b> <a href="external-reference_8cc_source.html#l01345">external-reference.cc:1345</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a97a2bf2e1b8fac6ada79dd7ec47ffcfe"><div class="ttname"><a href="namespacev8_1_1internal.html#a97a2bf2e1b8fac6ada79dd7ec47ffcfe">v8::internal::CopyChars</a></div><div class="ttdeci">void CopyChars(DstType *dst, const SrcType *src, size_t count) V8_NONNULL(1</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab368fe5f67cc93158861582746107fec"><div class="ttname"><a href="namespacev8_1_1internal.html#ab368fe5f67cc93158861582746107fec">v8::internal::KB</a></div><div class="ttdeci">refactor address components for immediate indexing filter for tracing turbofan compilation trace turbo cfg trace TurboFan s graph trimmer trace TurboFan s control equivalence trace TurboFan s register allocator trace stack load store counters for optimized code in run fuzzing &amp;&amp;concurrent_recompilation trace_turbo trace_turbo_scheduled trace_turbo_stack_accesses verify TurboFan machine graph of code stubs enable FixedArray bounds checks print TurboFan statistics of wasm compilations maximum cumulative size of bytecode considered for inlining scale factor of bytecode size used to calculate the inlining budget * KB</div><div class="ttdef"><b>Definition</b> <a href="flags_8cc_source.html#l01294">flags.cc:1294</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab410c0f522a212c8406a17a9be420b77"><div class="ttname"><a href="namespacev8_1_1internal.html#ab410c0f522a212c8406a17a9be420b77">v8::internal::ToAsciiUpper</a></div><div class="ttdeci">constexpr base::uc32 ToAsciiUpper(base::uc32 c)</div><div class="ttdef"><b>Definition</b> <a href="char-predicates-inl_8h_source.html#l00064">char-predicates-inl.h:64</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab9df0bf289155b5ae1d6da682adf1d6f"><div class="ttname"><a href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">v8::internal::handle</a></div><div class="ttdeci">V8_INLINE Handle&lt; T &gt; handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition</b> <a href="handles-inl_8h_source.html#l00070">handles-inl.h:70</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_abc2b4bce3acde2722e6f4fa32ca8f954"><div class="ttname"><a href="namespacev8_1_1internal.html#abc2b4bce3acde2722e6f4fa32ca8f954">v8::internal::IsAsciiUpper</a></div><div class="ttdeci">constexpr bool IsAsciiUpper(base::uc32 c)</div><div class="ttdef"><b>Definition</b> <a href="char-predicates-inl_8h_source.html#l00060">char-predicates-inl.h:60</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_abc5df0d50b00f4871ba17e13bac3c0b0"><div class="ttname"><a href="namespacev8_1_1internal.html#abc5df0d50b00f4871ba17e13bac3c0b0">v8::internal::FastAsciiConvert&lt; true &gt;</a></div><div class="ttdeci">template uint32_t FastAsciiConvert&lt; true &gt;(char *dst, const char *src, uint32_t length, bool *changed_out)</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_abca78bea2a5192ea95336ff120595db1"><div class="ttname"><a href="namespacev8_1_1internal.html#abca78bea2a5192ea95336ff120595db1">v8::internal::GetNumberOption</a></div><div class="ttdeci">Maybe&lt; int &gt; GetNumberOption(Isolate *isolate, DirectHandle&lt; JSReceiver &gt; options, DirectHandle&lt; String &gt; property, int min, int max, int fallback)</div><div class="ttdef"><b>Definition</b> <a href="option-utils_8cc_source.html#l00154">option-utils.cc:154</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac4b6b53060a2878af798e2a2ce4e0295"><div class="ttname"><a href="namespacev8_1_1internal.html#ac4b6b53060a2878af798e2a2ce4e0295">v8::internal::CoerceOptionsToObject</a></div><div class="ttdeci">MaybeDirectHandle&lt; JSReceiver &gt; CoerceOptionsToObject(Isolate *isolate, DirectHandle&lt; Object &gt; options, const char *method_name)</div><div class="ttdef"><b>Definition</b> <a href="option-utils_8cc_source.html#l00032">option-utils.cc:32</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acdec713c25068019f935e35976f5b666"><div class="ttname"><a href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE</a></div><div class="ttdeci">UNREACHABLE()</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ad098dc2f53e029c046356d62b12ccd47"><div class="ttname"><a href="namespacev8_1_1internal.html#ad098dc2f53e029c046356d62b12ccd47">v8::internal::FastAsciiConvert&lt; false &gt;</a></div><div class="ttdeci">template uint32_t FastAsciiConvert&lt; false &gt;(char *dst, const char *src, uint32_t length, bool *changed_out)</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae032dca06e882540eca629ad340d45b2"><div class="ttname"><a href="namespacev8_1_1internal.html#ae032dca06e882540eca629ad340d45b2">v8::internal::GetStringOption</a></div><div class="ttdeci">Maybe&lt; bool &gt; GetStringOption(Isolate *isolate, DirectHandle&lt; JSReceiver &gt; options, const char *property, const std::vector&lt; const char * &gt; &amp;values, const char *method_name, std::unique_ptr&lt; char[]&gt; *result)</div><div class="ttdef"><b>Definition</b> <a href="option-utils_8cc_source.html#l00045">option-utils.cc:45</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae9b3d70a0b2f7c3c669d187fd9a9dae2"><div class="ttname"><a href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">v8::internal::kMaxUInt32</a></div><div class="ttdeci">constexpr uint32_t kMaxUInt32</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l00379">globals.h:379</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aed43b98c5ffa7f17cee0d8ed23ffd385"><div class="ttname"><a href="namespacev8_1_1internal.html#aed43b98c5ffa7f17cee0d8ed23ffd385">v8::internal::NewArray</a></div><div class="ttdeci">T * NewArray(size_t size)</div><div class="ttdef"><b>Definition</b> <a href="allocation_8h_source.html#l00043">allocation.h:43</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aedc9028b75e38df2a951699100d46b5b"><div class="ttname"><a href="namespacev8_1_1internal.html#aedc9028b75e38df2a951699100d46b5b">v8::internal::kInfinityChar</a></div><div class="ttdeci">constexpr uint16_t kInfinityChar</div><div class="ttdef"><b>Definition</b> <a href="#l02817">intl-objects.cc:2817</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af04f4104c077ccbaef7596e23816a254"><div class="ttname"><a href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">v8::internal::status</a></div><div class="ttdeci">status</div><div class="ttdef"><b>Definition</b> <a href="js-disposable-stack-inl_8h_source.html#l00032">js-disposable-stack-inl.h:32</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afa9ea55d792121fba92b4cfc8ef8c9d7"><div class="ttname"><a href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">v8::internal::length</a></div><div class="ttdeci">size_t length</div><div class="ttdef"><b>Definition</b> <a href="external-reference_8cc_source.html#l01421">external-reference.cc:1421</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afd84e2488c402eb6f315b1a94de8dea9"><div class="ttname"><a href="namespacev8_1_1internal.html#afd84e2488c402eb6f315b1a94de8dea9">v8::internal::ToAsciiLower</a></div><div class="ttdeci">constexpr base::uc32 ToAsciiLower(base::uc32 c)</div><div class="ttdef"><b>Definition</b> <a href="char-predicates-inl_8h_source.html#l00068">char-predicates-inl.h:68</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aff82af2c2f7b200915e30bcfedca6f85"><div class="ttname"><a href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">v8::internal::Cast</a></div><div class="ttdeci">Tagged&lt; To &gt; Cast(Tagged&lt; From &gt; value, const v8::SourceLocation &amp;loc=INIT_SOURCE_LOCATION_IN_DEBUG)</div><div class="ttdef"><b>Definition</b> <a href="casting_8h_source.html#l00148">casting.h:148</a></div></div>
<div class="ttc" id="anamespacev8__inspector_html_a1eb8efdf7c70d986fee8e0dea03ff534"><div class="ttname"><a href="namespacev8__inspector.html#a1eb8efdf7c70d986fee8e0dea03ff534">v8_inspector::UChar</a></div><div class="ttdeci">char16_t UChar</div><div class="ttdef"><b>Definition</b> <a href="string-16_8h_source.html#l00022">string-16.h:22</a></div></div>
<div class="ttc" id="aobjects-inl_8h_html"><div class="ttname"><a href="objects-inl_8h.html">objects-inl.h</a></div></div>
<div class="ttc" id="aoption-utils_8h_html"><div class="ttname"><a href="option-utils_8h.html">option-utils.h</a></div></div>
<div class="ttc" id="aproperty-descriptor_8h_html"><div class="ttname"><a href="property-descriptor_8h.html">property-descriptor.h</a></div></div>
<div class="ttc" id="asmi_8h_html"><div class="ttname"><a href="smi_8h.html">smi.h</a></div></div>
<div class="ttc" id="astring-case_8h_html"><div class="ttname"><a href="string-case_8h.html">string-case.h</a></div></div>
<div class="ttc" id="astring_8h_html"><div class="ttname"><a href="string_8h.html">string.h</a></div></div>
<div class="ttc" id="astrings_8h_html"><div class="ttname"><a href="strings_8h.html">strings.h</a></div></div>
<div class="ttc" id="astructv8_1_1base_1_1LazyInstance_html"><div class="ttname"><a href="structv8_1_1base_1_1LazyInstance.html">v8::base::LazyInstance</a></div><div class="ttdef"><b>Definition</b> <a href="lazy-instance_8h_source.html#l00211">lazy-instance.h:211</a></div></div>
<div class="ttc" id="astructv8_1_1base_1_1LazyInstance_html_a646dc09a6f18981f98a113cfbbefb8c8"><div class="ttname"><a href="structv8_1_1base_1_1LazyInstance.html#a646dc09a6f18981f98a113cfbbefb8c8">v8::base::LazyInstance::type</a></div><div class="ttdeci">typename LazyStaticInstance&lt; T, CreateTrait, InitOnceTrait, DestroyTrait &gt;::type type</div><div class="ttdef"><b>Definition</b> <a href="lazy-instance_8h_source.html#l00213">lazy-instance.h:213</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions_html"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html">v8::internal::Intl::NumberFormatDigitOptions</a></div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00211">intl-objects.h:211</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions_html_a29db9b8de54ea92b91831d4e5c4b0397"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a29db9b8de54ea92b91831d4e5c4b0397">v8::internal::Intl::NumberFormatDigitOptions::minimum_fraction_digits</a></div><div class="ttdeci">int minimum_fraction_digits</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00213">intl-objects.h:213</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions_html_a34c5e2dfe19eefa67ad19d5b251ef771"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a34c5e2dfe19eefa67ad19d5b251ef771">v8::internal::Intl::NumberFormatDigitOptions::maximum_significant_digits</a></div><div class="ttdeci">int maximum_significant_digits</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00216">intl-objects.h:216</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions_html_a365dda73e8405d7077bccb470dd607a8"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a365dda73e8405d7077bccb470dd607a8">v8::internal::Intl::NumberFormatDigitOptions::rounding_mode</a></div><div class="ttdeci">RoundingMode rounding_mode</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00220">intl-objects.h:220</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions_html_a40893b4f34d2ff2532114f96c7f11182"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a40893b4f34d2ff2532114f96c7f11182">v8::internal::Intl::NumberFormatDigitOptions::trailing_zero_display</a></div><div class="ttdeci">TrailingZeroDisplay trailing_zero_display</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00221">intl-objects.h:221</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions_html_a543929e5920bd97e031bcafd6c0df380"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a543929e5920bd97e031bcafd6c0df380">v8::internal::Intl::NumberFormatDigitOptions::rounding_type</a></div><div class="ttdeci">RoundingType rounding_type</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00218">intl-objects.h:218</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions_html_a6555c8c869cf4da5738e099dd9525ca1"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a6555c8c869cf4da5738e099dd9525ca1">v8::internal::Intl::NumberFormatDigitOptions::rounding_increment</a></div><div class="ttdeci">int rounding_increment</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00219">intl-objects.h:219</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions_html_a671c290d7264d312006706adedea180d"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#a671c290d7264d312006706adedea180d">v8::internal::Intl::NumberFormatDigitOptions::minimum_significant_digits</a></div><div class="ttdeci">int minimum_significant_digits</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00215">intl-objects.h:215</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions_html_ac7f935d85499da2fc701e17b5b38f2c6"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#ac7f935d85499da2fc701e17b5b38f2c6">v8::internal::Intl::NumberFormatDigitOptions::maximum_fraction_digits</a></div><div class="ttdeci">int maximum_fraction_digits</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00214">intl-objects.h:214</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions_html_adbd088b80ff32f4d4f4b5496f189ffa2"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#adbd088b80ff32f4d4f4b5496f189ffa2">v8::internal::Intl::NumberFormatDigitOptions::minimum_integer_digits</a></div><div class="ttdeci">int minimum_integer_digits</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00212">intl-objects.h:212</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions_html_aff8837e30ab983f97473c39d7091e3dc"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1NumberFormatDigitOptions.html#aff8837e30ab983f97473c39d7091e3dc">v8::internal::Intl::NumberFormatDigitOptions::rounding_priority</a></div><div class="ttdeci">RoundingPriority rounding_priority</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00217">intl-objects.h:217</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Intl_1_1ResolvedLocale_html"><div class="ttname"><a href="structv8_1_1internal_1_1Intl_1_1ResolvedLocale.html">v8::internal::Intl::ResolvedLocale</a></div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00316">intl-objects.h:316</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1NumberFormatSpan_html"><div class="ttname"><a href="structv8_1_1internal_1_1NumberFormatSpan.html">v8::internal::NumberFormatSpan</a></div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00061">intl-objects.h:61</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1NumberFormatSpan_html_a567ad8ef941d96a8cca122e2393d81ec"><div class="ttname"><a href="structv8_1_1internal_1_1NumberFormatSpan.html#a567ad8ef941d96a8cca122e2393d81ec">v8::internal::NumberFormatSpan::begin_pos</a></div><div class="ttdeci">int32_t begin_pos</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00063">intl-objects.h:63</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1NumberFormatSpan_html_a7d8317cafec38fa6bea3c95535097ec6"><div class="ttname"><a href="structv8_1_1internal_1_1NumberFormatSpan.html#a7d8317cafec38fa6bea3c95535097ec6">v8::internal::NumberFormatSpan::end_pos</a></div><div class="ttdeci">int32_t end_pos</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00064">intl-objects.h:64</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1NumberFormatSpan_html_aef8bb101ffd6024ff51765aaf8f127d1"><div class="ttname"><a href="structv8_1_1internal_1_1NumberFormatSpan.html#aef8bb101ffd6024ff51765aaf8f127d1">v8::internal::NumberFormatSpan::field_id</a></div><div class="ttdeci">int32_t field_id</div><div class="ttdef"><b>Definition</b> <a href="intl-objects_8h_source.html#l00062">intl-objects.h:62</a></div></div>
<div class="ttc" id="atorque-parser_8cc_html_a1fa4d8a9b87189550e463b8da741b333"><div class="ttname"><a href="torque-parser_8cc.html#a1fa4d8a9b87189550e463b8da741b333">identifier</a></div><div class="ttdeci">Symbol identifier</div><div class="ttdef"><b>Definition</b> <a href="torque-parser_8cc_source.html#l02390">torque-parser.cc:2390</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 3 2025 08:19:35 for v8 by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
