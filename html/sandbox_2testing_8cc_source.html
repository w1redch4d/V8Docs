<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>v8: src/sandbox/testing.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="v8.svg"/></td>
  <td id="projectalign">
   <div id="projectname">v8
   </div>
   <div id="projectbrief">V8 is Googleâ€™s open source high-performance JavaScript and WebAssembly engine, written in C++. It is used in Chrome and in Node.js, among others. It implements ECMAScript and WebAssembly, and runs on Windows, macOS, and Linux systems that use x64, IA-32, or ARM processors. V8 can be embedded into any C++ application.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('sandbox_2testing_8cc_source.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">testing.cc</div></div>
</div><!--header-->
<div class="contents">
<a href="sandbox_2testing_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">// Copyright 2022 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &quot;<a class="code" href="testing_8h.html">src/sandbox/testing.h</a>&quot;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span> </div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &quot;<a class="code" href="api-inl_8h.html">src/api/api-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &quot;<a class="code" href="api-natives_8h.html">src/api/api-natives.h</a>&quot;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &quot;<a class="code" href="common_2globals_8h.html">src/common/globals.h</a>&quot;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &quot;<a class="code" href="execution_2isolate-inl_8h.html">src/execution/isolate-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &quot;<a class="code" href="factory_8h.html">src/heap/factory.h</a>&quot;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &quot;<a class="code" href="backing-store_8h.html">src/objects/backing-store.h</a>&quot;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &quot;<a class="code" href="js-objects_8h.html">src/objects/js-objects.h</a>&quot;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &quot;<a class="code" href="templates_8h.html">src/objects/templates.h</a>&quot;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &quot;<a class="code" href="sandbox_8h.html">src/sandbox/sandbox.h</a>&quot;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span> </div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#ifdef V8_OS_LINUX</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &lt;signal.h&gt;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &lt;sys/mman.h&gt;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#endif  </span><span class="comment">// V8_OS_LINUX</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span> </div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#ifdef V8_USE_ADDRESS_SANITIZER</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &lt;sanitizer/asan_interface.h&gt;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#endif  </span><span class="comment">// V8_USE_ADDRESS_SANITIZER</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span> </div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacev8.html">v8</a> {</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="keyword">namespace </span><a class="code hl_variable" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a> {</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span> </div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span> </div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>SandboxTesting::Mode SandboxTesting::mode_ = SandboxTesting::Mode::kDisabled;</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span> </div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#ifdef V8_ENABLE_MEMORY_CORRUPTION_API</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span> </div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span> </div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="comment">// Sandbox.base</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="keywordtype">void</span> SandboxGetBase(<span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#a84fbbdbd472303acde12e2cc65e316f3">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>  v8::Isolate* isolate = info.GetIsolate();</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>  <span class="keywordtype">double</span> sandbox_base = Sandbox::current()-&gt;base();</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>  info.GetReturnValue().Set(v8::Number::New(isolate, sandbox_base));</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>}</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="comment">// Sandbox.byteLength</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="keywordtype">void</span> SandboxGetByteLength(<span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#a84fbbdbd472303acde12e2cc65e316f3">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>  v8::Isolate* isolate = info.GetIsolate();</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>  <span class="keywordtype">double</span> sandbox_size = Sandbox::current()-&gt;size();</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>  info.GetReturnValue().Set(v8::Number::New(isolate, sandbox_size));</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>}</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span> </div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="comment">// new Sandbox.MemoryView(info) -&gt; Sandbox.MemoryView</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="keywordtype">void</span> SandboxMemoryView(<span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#a84fbbdbd472303acde12e2cc65e316f3">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>  v8::Isolate* isolate = info.GetIsolate();</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>  Local&lt;v8::Context&gt; <a class="code hl_variable" href="js-call-reducer_8cc.html#a0835767fe473cead88c1afdf3175bce8">context</a> = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> </div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>  <span class="keywordflow">if</span> (!info.IsConstructCall()) {</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    isolate-&gt;ThrowError(<span class="stringliteral">&quot;Sandbox.MemoryView must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>  }</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span> </div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>  Local&lt;v8::Integer&gt; arg1, arg2;</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>  <span class="keywordflow">if</span> (!info[0]-&gt;ToInteger(<a class="code hl_variable" href="js-call-reducer_8cc.html#a0835767fe473cead88c1afdf3175bce8">context</a>).<a class="code hl_function" href="namespacev8.html#a4bce9e4e66d366fa8bd12770af5d4ae7">ToLocal</a>(&amp;arg1) ||</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>      !info[1]-&gt;ToInteger(<a class="code hl_variable" href="js-call-reducer_8cc.html#a0835767fe473cead88c1afdf3175bce8">context</a>).<a class="code hl_function" href="namespacev8.html#a4bce9e4e66d366fa8bd12770af5d4ae7">ToLocal</a>(&amp;arg2)) {</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    isolate-&gt;ThrowError(<span class="stringliteral">&quot;Expects two number arguments (start offset and size)&quot;</span>);</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>  }</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span> </div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>  Sandbox* sandbox = Sandbox::current();</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>  <a class="code hl_define" href="logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>(sandbox-&gt;size(), <a class="code hl_variable" href="namespacev8_1_1internal.html#a5c8372373f65497f1fb4414d5c0eaa36">kMaxSafeIntegerUint64</a>);</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span> </div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>  uint64_t <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> = arg1-&gt;Value();</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>  uint64_t size = arg2-&gt;Value();</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> &gt; sandbox-&gt;size() || size &gt; sandbox-&gt;size() ||</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>      (<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> + size) &gt; sandbox-&gt;size()) {</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>    isolate-&gt;ThrowError(</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>        <span class="stringliteral">&quot;The MemoryView must be entirely contained within the sandbox&quot;</span>);</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>  }</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span> </div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>  Factory* factory = <span class="keyword">reinterpret_cast&lt;</span>Isolate*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>)-&gt;factory();</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>  std::unique_ptr&lt;BackingStore&gt; memory = <a class="code hl_function" href="classv8_1_1internal_1_1BackingStore.html#a2067951c5d4377b698d7799bc63af02a">BackingStore::WrapAllocation</a>(</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>      <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(sandbox-&gt;base() + <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>), size,</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>      v8::BackingStore::EmptyDeleter, <span class="keyword">nullptr</span>, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160af80e42734f3024456dd90ae366cecf3e">SharedFlag::kNotShared</a>);</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>  <span class="keywordflow">if</span> (!memory) {</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    isolate-&gt;ThrowError(<span class="stringliteral">&quot;Out of memory: MemoryView backing store&quot;</span>);</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>  }</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>  Handle&lt;JSArrayBuffer&gt; buffer = factory-&gt;NewJSArrayBuffer(std::move(memory));</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>  info.GetReturnValue().Set(Utils::ToLocal(buffer));</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>}</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span> </div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span><span class="comment">// The methods below either take a HeapObject or the address of a HeapObject as</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span><span class="comment">// argument. These helper functions can be used to extract the argument object</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span><span class="comment">// in both cases.</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span><span class="keyword">using </span>ArgumentObjectExtractorFunction = std::function&lt;<a class="code hl_variable" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>(</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp;, <a class="code hl_variable" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a>* out)&gt;;</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span> </div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span><span class="keyword">static</span> <span class="keywordtype">bool</span> GetArgumentObjectPassedAsReference(</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info, <a class="code hl_variable" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a>* out) {</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>  v8::Isolate* isolate = info.GetIsolate();</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span> </div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>  <span class="keywordflow">if</span> (info.Length() == 0) {</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>    isolate-&gt;ThrowError(<span class="stringliteral">&quot;First argument must be provided&quot;</span>);</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>  }</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span> </div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>  Handle&lt;Object&gt; arg = <a class="code hl_function" href="classv8_1_1Utils.html#a09ad82a6479237cb1f3dab296eb0fd45">Utils::OpenHandle</a>(*info[0]);</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespacev8_1_1internal.html#aa8084566d0c455780c660ab2c7159062">IsHeapObject</a>(*arg)) {</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    isolate-&gt;ThrowError(<span class="stringliteral">&quot;First argument must be a HeapObject&quot;</span>);</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>  }</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span> </div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>  *out = <a class="code hl_function" href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">Cast&lt;HeapObject&gt;</a>(*arg);</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>}</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span> </div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span><span class="keyword">static</span> <span class="keywordtype">bool</span> GetArgumentObjectPassedAsAddress(</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info, <a class="code hl_variable" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a>* out) {</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>  Sandbox* sandbox = Sandbox::current();</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>  v8::Isolate* isolate = info.GetIsolate();</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>  Local&lt;v8::Context&gt; <a class="code hl_variable" href="js-call-reducer_8cc.html#a0835767fe473cead88c1afdf3175bce8">context</a> = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span> </div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>  <span class="keywordflow">if</span> (info.Length() == 0) {</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    isolate-&gt;ThrowError(<span class="stringliteral">&quot;First argument must be provided&quot;</span>);</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>  }</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>  Local&lt;v8::Uint32&gt; arg1;</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>  <span class="keywordflow">if</span> (!info[0]-&gt;ToUint32(<a class="code hl_variable" href="js-call-reducer_8cc.html#a0835767fe473cead88c1afdf3175bce8">context</a>).<a class="code hl_function" href="namespacev8.html#a4bce9e4e66d366fa8bd12770af5d4ae7">ToLocal</a>(&amp;arg1)) {</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    isolate-&gt;ThrowError(<span class="stringliteral">&quot;First argument must be the address of a HeapObject&quot;</span>);</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>  }</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span> </div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>  uint32_t address = arg1-&gt;Value();</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>  <span class="comment">// Allow tagged addresses by removing the kHeapObjectTag and</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>  <span class="comment">// kWeakHeapObjectTag. This allows clients to just read tagged pointers from</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>  <span class="comment">// the heap and use them for these APIs.</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>  address &amp;= ~kHeapObjectTagMask;</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>  *out = <a class="code hl_function" href="classv8_1_1internal_1_1HeapObject.html#a15742205ff1152213fb1a203c2859073">HeapObject::FromAddress</a>(sandbox-&gt;base() + address);</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>}</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span> </div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span><span class="comment">// Sandbox.getAddressOf(Object) -&gt; Number</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span><span class="keywordtype">void</span> SandboxGetAddressOf(<span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#a84fbbdbd472303acde12e2cc65e316f3">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>  v8::Isolate* isolate = info.GetIsolate();</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span> </div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> obj;</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>  <span class="keywordflow">if</span> (!GetArgumentObjectPassedAsReference(info, &amp;obj)) {</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>  }</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span> </div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>  <span class="comment">// HeapObjects must be allocated inside the pointer compression cage so their</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>  <span class="comment">// address relative to the start of the sandbox can be obtained simply by</span></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>  <span class="comment">// taking the lowest 32 bits of the absolute address.</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>  uint32_t address = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(obj-&gt;address());</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>  info.GetReturnValue().Set(v8::Integer::NewFromUnsigned(isolate, address));</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>}</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span> </div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span><span class="comment">// Sandbox.getObjectAt(Number) -&gt; Object</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span><span class="keywordtype">void</span> SandboxGetObjectAt(<span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#a84fbbdbd472303acde12e2cc65e316f3">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>  v8::Isolate* isolate = info.GetIsolate();</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span> </div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> obj;</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>  <span class="keywordflow">if</span> (!GetArgumentObjectPassedAsAddress(info, &amp;obj)) {</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>  }</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span> </div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>  Isolate* i_isolate = <span class="keyword">reinterpret_cast&lt;</span>Isolate*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>);</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>  Handle&lt;Object&gt; <a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>(obj, i_isolate);</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>  info.GetReturnValue().Set(<a class="code hl_function" href="namespacev8.html#acef90d7697062c30ad3fb7ee221e760d">ToApiHandle&lt;v8::Value&gt;</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">handle</a>));</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>}</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span> </div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span><span class="comment">// Sandbox.isValidObjectAt(Address) -&gt; Bool</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span><span class="keywordtype">void</span> SandboxIsValidObjectAt(<span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#a84fbbdbd472303acde12e2cc65e316f3">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>  v8::Isolate* isolate = info.GetIsolate();</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>  Sandbox* sandbox = Sandbox::current();</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>  Heap* <a class="code hl_namespace" href="namespaceheap.html">heap</a> = <span class="keyword">reinterpret_cast&lt;</span>Isolate*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>)-&gt;<a class="code hl_namespace" href="namespaceheap.html">heap</a>();</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>  <span class="keyword">auto</span> IsLocatedInMappedMemory = [&amp;](<a class="code hl_variable" href="namespacev8_1_1internal.html#a782acb70e9eabcd3faaccfb6a3bde48e">Address</a> address) {</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    <span class="comment">// Note that IsOutsideAllocatedSpace is imprecise and may return false for</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <span class="comment">// some addresses outside the allocated space. However, it&#39;s probably good</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    <span class="comment">// enough for our purposes.</span></div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    <span class="keywordflow">return</span> !<a class="code hl_namespace" href="namespaceheap.html">heap</a>-&gt;memory_allocator()-&gt;IsOutsideAllocatedSpace(address);</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>  };</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span> </div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> obj;</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>  <span class="keywordflow">if</span> (!GetArgumentObjectPassedAsAddress(info, &amp;obj)) {</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>  }</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span> </div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>  <span class="comment">// Simple heuristic: follow the Map chain three times until we find a MetaMap</span></div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>  <span class="comment">// (where the map pointer points to itself), or give up.</span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>  info.GetReturnValue().Set(<span class="keyword">false</span>);</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a782acb70e9eabcd3faaccfb6a3bde48e">Address</a> current = obj.address();</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a> &lt; 3; <a class="code hl_namespace" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>    <span class="keywordflow">if</span> (!IsLocatedInMappedMemory(current)) {</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    }</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    uint32_t map_word = *<span class="keyword">reinterpret_cast&lt;</span>uint32_t*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="earley-parser_8cc.html#a69620d3d0bf3441e9802e4853271cad4">current</a>);</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>    <span class="keywordflow">if</span> ((map_word &amp; kHeapObjectTag) != kHeapObjectTag) {</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    }</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>    <a class="code hl_variable" href="namespacev8_1_1internal.html#a782acb70e9eabcd3faaccfb6a3bde48e">Address</a> map_address = sandbox-&gt;base() + map_word - kHeapObjectTag;</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>    <span class="keywordflow">if</span> (map_address == current) {</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>      info.GetReturnValue().Set(<span class="keyword">true</span>);</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>    }</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>    current = map_address;</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>  }</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>}</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span> </div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span><span class="keyword">static</span> <span class="keywordtype">void</span> SandboxIsWritableImpl(</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>    <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info,</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    ArgumentObjectExtractorFunction getArgumentObject) {</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#a84fbbdbd472303acde12e2cc65e316f3">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span> </div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> obj;</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>  <span class="keywordflow">if</span> (!getArgumentObject(info, &amp;obj)) {</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>  }</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span> </div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>  MemoryChunkMetadata* chunk = <a class="code hl_function" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a34b0d9ac55f0ded87015ec95d6a43d46">MemoryChunkMetadata::FromHeapObject</a>(obj);</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>  <span class="keywordtype">bool</span> is_writable = chunk-&gt;IsWritable();</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>  info.GetReturnValue().Set(is_writable);</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>}</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span> </div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span><span class="comment">// Sandbox.isWritable(Object) -&gt; Bool</span></div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span><span class="keywordtype">void</span> SandboxIsWritable(<span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>  SandboxIsWritableImpl(info, &amp;GetArgumentObjectPassedAsReference);</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>}</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span> </div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span><span class="comment">// Sandbox.isWritableObjectAt(Number) -&gt; Bool</span></div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span><span class="keywordtype">void</span> SandboxIsWritableObjectAt(</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>  SandboxIsWritableImpl(info, &amp;GetArgumentObjectPassedAsAddress);</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>}</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span> </div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span><span class="keyword">static</span> <span class="keywordtype">void</span> SandboxGetSizeOfImpl(</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>    <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info,</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>    ArgumentObjectExtractorFunction getArgumentObject) {</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#a84fbbdbd472303acde12e2cc65e316f3">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span> </div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> obj;</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>  <span class="keywordflow">if</span> (!getArgumentObject(info, &amp;obj)) {</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>  }</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span> </div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>  <span class="keywordtype">int</span> size = obj-&gt;Size();</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>  info.GetReturnValue().Set(size);</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>}</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span> </div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span><span class="comment">// Sandbox.getSizeOf(Object) -&gt; Number</span></div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span><span class="keywordtype">void</span> SandboxGetSizeOf(<span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>  SandboxGetSizeOfImpl(info, &amp;GetArgumentObjectPassedAsReference);</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>}</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span> </div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span><span class="comment">// Sandbox.getSizeOfObjectAt(Number) -&gt; Number</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span><span class="keywordtype">void</span> SandboxGetSizeOfObjectAt(<span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>  SandboxGetSizeOfImpl(info, &amp;GetArgumentObjectPassedAsAddress);</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>}</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span> </div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span><span class="keyword">static</span> <span class="keywordtype">void</span> SandboxGetInstanceTypeOfImpl(</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info,</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    ArgumentObjectExtractorFunction getArgumentObject) {</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#a84fbbdbd472303acde12e2cc65e316f3">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>  v8::Isolate* isolate = info.GetIsolate();</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span> </div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> obj;</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>  <span class="keywordflow">if</span> (!getArgumentObject(info, &amp;obj)) {</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>  }</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span> </div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>  <a class="code hl_enumeration" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">InstanceType</a> type = obj-&gt;map()-&gt;instance_type();</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>  std::stringstream out;</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>  out &lt;&lt; <a class="code hl_variable" href="wasm-inlining-into-js_8cc.html#a66874a4e937e4192b2b42e57f55251e8">type</a>;</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>  MaybeLocal&lt;v8::String&gt; <a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a> =</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>      v8::String::NewFromUtf8(isolate, out.str().c_str());</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>  info.GetReturnValue().Set(<a class="code hl_variable" href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a>.ToLocalChecked());</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>}</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span> </div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span><span class="comment">// Sandbox.getInstanceTypeOf(Object) -&gt; String</span></div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span><span class="keywordtype">void</span> SandboxGetInstanceTypeOf(<span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>  SandboxGetInstanceTypeOfImpl(info, &amp;GetArgumentObjectPassedAsReference);</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>}</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span> </div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span><span class="comment">// Sandbox.getInstanceTypeOfObjectAt(Number) -&gt; String</span></div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span><span class="keywordtype">void</span> SandboxGetInstanceTypeOfObjectAt(</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>    <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>  SandboxGetInstanceTypeOfImpl(info, &amp;GetArgumentObjectPassedAsAddress);</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>}</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span> </div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span><span class="keyword">static</span> <span class="keywordtype">void</span> SandboxGetInstanceTypeIdOfImpl(</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>    <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info,</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>    ArgumentObjectExtractorFunction getArgumentObject) {</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#a84fbbdbd472303acde12e2cc65e316f3">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span> </div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> obj;</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>  <span class="keywordflow">if</span> (!getArgumentObject(info, &amp;obj)) {</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>  }</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span> </div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>  <a class="code hl_enumeration" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">InstanceType</a> type = obj-&gt;map()-&gt;instance_type();</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>  <span class="keyword">static_assert</span>(std::is_same_v&lt;std::underlying_type_t&lt;InstanceType&gt;, <a class="code hl_typedef" href="namespaceunibrow.html#abcc5d3424c551c568df4199a48bea1c2">uint16_t</a>&gt;);</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>  <span class="keywordflow">if</span> (type &gt; <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8feadc185a3c3f94edb13394c0c545746580">LAST_TYPE</a>) {</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>    <span class="comment">// This can happen with corrupted objects. Canonicalize to a special</span></div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>    <span class="comment">// &quot;unknown&quot; instance type to indicate that this is an unknown type.</span></div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="namespaceunibrow.html#abcc5d3424c551c568df4199a48bea1c2">uint16_t</a> kUnknownInstanceType = std::numeric_limits&lt;uint16_t&gt;::max();</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>    type = <span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">InstanceType</a><span class="keyword">&gt;</span>(kUnknownInstanceType);</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>  }</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span> </div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>  info.GetReturnValue().Set(type);</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>}</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span> </div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span><span class="comment">// Sandbox.getInstanceTypeIdOf(Object) -&gt; Number</span></div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span><span class="keywordtype">void</span> SandboxGetInstanceTypeIdOf(</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>  SandboxGetInstanceTypeIdOfImpl(info, &amp;GetArgumentObjectPassedAsReference);</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>}</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span> </div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span><span class="comment">// Sandbox.getInstanceTypeIdOfObjectAt(Number) -&gt; Number</span></div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span><span class="keywordtype">void</span> SandboxGetInstanceTypeIdOfObjectAt(</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>    <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>  SandboxGetInstanceTypeIdOfImpl(info, &amp;GetArgumentObjectPassedAsAddress);</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>}</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span> </div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span><span class="comment">// Sandbox.getInstanceTypeIdFor(String) -&gt; Number</span></div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span><span class="keywordtype">void</span> SandboxGetInstanceTypeIdFor(</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>    <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#a84fbbdbd472303acde12e2cc65e316f3">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>  v8::Isolate* isolate = info.GetIsolate();</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span> </div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>  v8::String::Utf8Value type_name(isolate, info[0]);</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>  <span class="keywordflow">if</span> (!*type_name) {</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>    isolate-&gt;ThrowError(<span class="stringliteral">&quot;First argument must be a string&quot;</span>);</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>  }</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span> </div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>  <span class="keyword">auto</span>&amp; all_types = SandboxTesting::GetInstanceTypeMap();</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>  <span class="keywordflow">if</span> (all_types.find(*type_name) == all_types.end()) {</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>    isolate-&gt;ThrowError(</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>        <span class="stringliteral">&quot;Unknown type name. If needed, add it in &quot;</span></div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>        <span class="stringliteral">&quot;SandboxTesting::GetInstanceTypeMap&quot;</span>);</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>  }</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span> </div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>  <a class="code hl_enumeration" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">InstanceType</a> type_id = all_types[*type_name];</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>  info.GetReturnValue().Set(type_id);</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>}</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span> </div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span><span class="comment">// Obtain the offset of a field in an object.</span></div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span><span class="comment">//</span></div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span><span class="comment">// This can be used to obtain the offsets of internal object fields in order to</span></div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span><span class="comment">// avoid hardcoding offsets into testcases. It basically makes the various</span></div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span><span class="comment">// Foo::kBarOffset constants accessible from JavaScript. The main benefit of</span></div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span><span class="comment">// that is that testcases continue to work if the field offset changes.</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span><span class="comment">// Additionally, if a field is removed, testcases that use it will fail and can</span></div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span><span class="comment">// then be deleted if they are no longer useful.</span></div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span><span class="comment">//</span></div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span><span class="comment">// TODO(saelo): instead of this, consider adding an API like</span></div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span><span class="comment">// `Sandbox.getTypeDescriptor(Number|String) -&gt; Object` which, given an</span></div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span><span class="comment">// instance type id or name, returns an object containing the offset constants</span></div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span><span class="comment">// as properties as well as potentially other information such as the types of</span></div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span><span class="comment">// the object&#39;s fields.</span></div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span><span class="comment">//</span></div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span><span class="comment">// Sandbox.getFieldOffset(Number, String) -&gt; Number</span></div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span><span class="keywordtype">void</span> SandboxGetFieldOffset(<span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>  <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_function" href="namespacev8_1_1internal.html#a84fbbdbd472303acde12e2cc65e316f3">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>  v8::Isolate* isolate = info.GetIsolate();</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>  Local&lt;v8::Context&gt; <a class="code hl_variable" href="js-call-reducer_8cc.html#a0835767fe473cead88c1afdf3175bce8">context</a> = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span> </div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>  <span class="keywordflow">if</span> (!info[0]-&gt;IsInt32()) {</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>    isolate-&gt;ThrowError(<span class="stringliteral">&quot;Second argument must be an integer&quot;</span>);</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>  }</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span> </div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>  <span class="keywordtype">int</span> raw_type = info[0]-&gt;Int32Value(<a class="code hl_variable" href="js-call-reducer_8cc.html#a0835767fe473cead88c1afdf3175bce8">context</a>).FromMaybe(-1);</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>  <span class="keywordflow">if</span> (raw_type &lt; FIRST_TYPE || raw_type &gt; <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8feadc185a3c3f94edb13394c0c545746580">LAST_TYPE</a>) {</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    isolate-&gt;ThrowError(<span class="stringliteral">&quot;Invalid instance type&quot;</span>);</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>  }</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>  <a class="code hl_enumeration" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">InstanceType</a> instance_type = <span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">InstanceType</a><span class="keyword">&gt;</span>(raw_type);</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span> </div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>  v8::String::Utf8Value field_name(isolate, info[1]);</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>  <span class="keywordflow">if</span> (!*field_name) {</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>    isolate-&gt;ThrowError(<span class="stringliteral">&quot;Second argument must be a string&quot;</span>);</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>  }</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span> </div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>  <span class="keyword">auto</span>&amp; all_fields = SandboxTesting::GetFieldOffsetMap();</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>  <span class="keywordflow">if</span> (all_fields.find(instance_type) == all_fields.end()) {</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>    isolate-&gt;ThrowError(</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>        <span class="stringliteral">&quot;Unknown object type. If needed, add it in &quot;</span></div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>        <span class="stringliteral">&quot;SandboxTesting::GetFieldOffsetMap&quot;</span>);</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>  }</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span> </div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>  <span class="keyword">auto</span>&amp; obj_fields = all_fields[instance_type];</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>  <span class="keywordflow">if</span> (obj_fields.find(*field_name) == obj_fields.end()) {</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>    isolate-&gt;ThrowError(</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>        <span class="stringliteral">&quot;Unknown field. If needed, add it in &quot;</span></div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>        <span class="stringliteral">&quot;SandboxTesting::GetFieldOffsetMap&quot;</span>);</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>  }</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span> </div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a> = obj_fields[*field_name];</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>  info.GetReturnValue().Set(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>);</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>}</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span> </div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>Handle&lt;FunctionTemplateInfo&gt; NewFunctionTemplate(</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>    Isolate* isolate, FunctionCallback func,</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>    ConstructorBehavior constructor_behavior) {</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>  <span class="comment">// Use the API functions here as they are more convenient to use.</span></div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>  v8::Isolate* api_isolate = <span class="keyword">reinterpret_cast&lt;</span>v8::Isolate*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a>);</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>  Local&lt;FunctionTemplate&gt; function_template =</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>      FunctionTemplate::New(api_isolate, func, {}, {}, 0, constructor_behavior,</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>                            SideEffectType::kHasSideEffect);</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1Utils.html#a09ad82a6479237cb1f3dab296eb0fd45">v8::Utils::OpenHandle</a>(*function_template);</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>}</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span> </div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>Handle&lt;JSFunction&gt; CreateFunc(Isolate* isolate, FunctionCallback func,</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>                              Handle&lt;String&gt; name, <span class="keywordtype">bool</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a465f206d51e97dfac9c574f1c26ec8c7">is_constructor</a>) {</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>  ConstructorBehavior constructor_behavior = <a class="code hl_variable" href="namespacev8_1_1internal.html#a465f206d51e97dfac9c574f1c26ec8c7">is_constructor</a></div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>                                                 ? ConstructorBehavior::kAllow</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>                                                 : ConstructorBehavior::kThrow;</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>  Handle&lt;FunctionTemplateInfo&gt; function_template =</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>      NewFunctionTemplate(isolate, func, constructor_behavior);</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1ApiNatives.html#a8c3652e604de77b7475d0ca84dc83975">ApiNatives::InstantiateFunction</a>(isolate, function_template, name)</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>      .ToHandleChecked();</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>}</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span> </div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span><span class="keywordtype">void</span> InstallFunc(Isolate* isolate, Handle&lt;JSObject&gt; holder,</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>                 FunctionCallback func, <span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">int</span> num_parameters,</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>                 <span class="keywordtype">bool</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a465f206d51e97dfac9c574f1c26ec8c7">is_constructor</a>) {</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>  Factory* factory = isolate-&gt;factory();</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>  Handle&lt;String&gt; function_name = factory-&gt;NewStringFromAsciiChecked(name);</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>  Handle&lt;JSFunction&gt; function =</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>      CreateFunc(isolate, func, function_name, <a class="code hl_variable" href="namespacev8_1_1internal.html#a465f206d51e97dfac9c574f1c26ec8c7">is_constructor</a>);</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>  function-&gt;shared()-&gt;set_length(num_parameters);</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>  <a class="code hl_function" href="classv8_1_1internal_1_1JSObject.html#a16c9b19de5218c056da014960fba72ae">JSObject::AddProperty</a>(isolate, holder, function_name, function, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>);</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>}</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span> </div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span><span class="keywordtype">void</span> InstallGetter(Isolate* isolate, Handle&lt;JSObject&gt; <span class="keywordtype">object</span>,</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>                   FunctionCallback func, <span class="keyword">const</span> <span class="keywordtype">char</span>* name) {</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>  Factory* factory = isolate-&gt;factory();</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>  Handle&lt;String&gt; property_name = factory-&gt;NewStringFromAsciiChecked(name);</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>  Handle&lt;JSFunction&gt; <a class="code hl_variable" href="bytecode-generator_8cc.html#ac44f078841b0e4ca9889f5da5ec95590">getter</a> = CreateFunc(isolate, func, property_name, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>  Handle&lt;Object&gt; <a class="code hl_variable" href="namespacev8_1_1internal.html#a55eed44eaa9dbd54a74a0390def124b6">setter</a> = factory-&gt;null_value();</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>  <a class="code hl_function" href="classv8_1_1internal_1_1JSObject.html#a12fe4efd2f3cc83f32b085560c845a75">JSObject::DefineOwnAccessorIgnoreAttributes</a>(<span class="keywordtype">object</span>, property_name, <a class="code hl_variable" href="bytecode-generator_8cc.html#ac44f078841b0e4ca9889f5da5ec95590">getter</a>,</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>                                              <a class="code hl_variable" href="namespacev8_1_1internal.html#a55eed44eaa9dbd54a74a0390def124b6">setter</a>, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2">FROZEN</a>);</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>}</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span> </div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span><span class="keywordtype">void</span> InstallFunction(Isolate* isolate, Handle&lt;JSObject&gt; holder,</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>                     FunctionCallback func, <span class="keyword">const</span> <span class="keywordtype">char</span>* name,</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>                     <span class="keywordtype">int</span> num_parameters) {</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>  InstallFunc(isolate, holder, func, name, num_parameters, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>}</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span> </div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span><span class="keywordtype">void</span> InstallConstructor(Isolate* isolate, Handle&lt;JSObject&gt; holder,</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>                        FunctionCallback func, <span class="keyword">const</span> <span class="keywordtype">char</span>* name,</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>                        <span class="keywordtype">int</span> num_parameters) {</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>  InstallFunc(isolate, holder, func, name, num_parameters, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>}</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span> </div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span><span class="keywordtype">void</span> SandboxTesting::InstallMemoryCorruptionApi(Isolate* isolate) {</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span><span class="preprocessor">#ifndef V8_ENABLE_MEMORY_CORRUPTION_API</span></div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span><span class="preprocessor">#error &quot;This function should not be available in any shipping build &quot;          \</span></div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span><span class="preprocessor">       &quot;where it could potentially be abused to facilitate exploitation.&quot;</span></div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span> </div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(Sandbox::current()-&gt;is_initialized());</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span> </div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>  <span class="comment">// Create the special Sandbox object that provides read/write access to the</span></div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>  <span class="comment">// sandbox address space alongside other miscellaneous functionality.</span></div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>  Handle&lt;JSObject&gt; sandbox = isolate-&gt;factory()-&gt;NewJSObject(</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>      isolate-&gt;object_function(), <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">AllocationType::kOld</a>);</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span> </div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>  InstallGetter(isolate, sandbox, SandboxGetBase, <span class="stringliteral">&quot;base&quot;</span>);</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>  InstallGetter(isolate, sandbox, SandboxGetByteLength, <span class="stringliteral">&quot;byteLength&quot;</span>);</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>  InstallConstructor(isolate, sandbox, SandboxMemoryView, <span class="stringliteral">&quot;MemoryView&quot;</span>, 2);</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>  InstallFunction(isolate, sandbox, SandboxGetAddressOf, <span class="stringliteral">&quot;getAddressOf&quot;</span>, 1);</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>  InstallFunction(isolate, sandbox, SandboxGetObjectAt, <span class="stringliteral">&quot;getObjectAt&quot;</span>, 1);</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>  InstallFunction(isolate, sandbox, SandboxIsValidObjectAt, <span class="stringliteral">&quot;isValidObjectAt&quot;</span>,</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>                  1);</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>  InstallFunction(isolate, sandbox, SandboxIsWritable, <span class="stringliteral">&quot;isWritable&quot;</span>, 1);</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>  InstallFunction(isolate, sandbox, SandboxIsWritableObjectAt,</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>                  <span class="stringliteral">&quot;isWritableObjectAt&quot;</span>, 1);</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>  InstallFunction(isolate, sandbox, SandboxGetSizeOf, <span class="stringliteral">&quot;getSizeOf&quot;</span>, 1);</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>  InstallFunction(isolate, sandbox, SandboxGetSizeOfObjectAt,</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>                  <span class="stringliteral">&quot;getSizeOfObjectAt&quot;</span>, 1);</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>  InstallFunction(isolate, sandbox, SandboxGetInstanceTypeOf,</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>                  <span class="stringliteral">&quot;getInstanceTypeOf&quot;</span>, 1);</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>  InstallFunction(isolate, sandbox, SandboxGetInstanceTypeOfObjectAt,</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>                  <span class="stringliteral">&quot;getInstanceTypeOfObjectAt&quot;</span>, 1);</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>  InstallFunction(isolate, sandbox, SandboxGetInstanceTypeIdOf,</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>                  <span class="stringliteral">&quot;getInstanceTypeIdOf&quot;</span>, 1);</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>  InstallFunction(isolate, sandbox, SandboxGetInstanceTypeIdOfObjectAt,</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>                  <span class="stringliteral">&quot;getInstanceTypeIdOfObjectAt&quot;</span>, 1);</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>  InstallFunction(isolate, sandbox, SandboxGetInstanceTypeIdFor,</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>                  <span class="stringliteral">&quot;getInstanceTypeIdFor&quot;</span>, 1);</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>  InstallFunction(isolate, sandbox, SandboxGetFieldOffset, <span class="stringliteral">&quot;getFieldOffset&quot;</span>, 2);</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span> </div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>  <span class="comment">// Install the Sandbox object as property on the global object.</span></div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>  Handle&lt;JSGlobalObject&gt; global = isolate-&gt;global_object();</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>  Handle&lt;String&gt; name =</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>      isolate-&gt;factory()-&gt;NewStringFromAsciiChecked(<span class="stringliteral">&quot;Sandbox&quot;</span>);</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>  <a class="code hl_function" href="classv8_1_1internal_1_1JSObject.html#a16c9b19de5218c056da014960fba72ae">JSObject::AddProperty</a>(isolate, global, name, sandbox, <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868">DONT_ENUM</a>);</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>}</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span> </div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_MEMORY_CORRUPTION_API</span></div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span> </div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span><span class="preprocessor">#ifdef V8_OS_LINUX</span></div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span> </div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span><span class="keywordtype">void</span> PrintToStderr(<span class="keyword">const</span> <span class="keywordtype">char</span>* output) {</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>  <span class="comment">// NOTE: This code MUST be async-signal safe.</span></div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>  <span class="comment">// NO malloc or stdio is allowed here.</span></div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>  ssize_t return_val = write(STDERR_FILENO, output, strlen(output));</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>  <a class="code hl_define" href="macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(return_val);</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>}</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span> </div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>[[noreturn]] <span class="keywordtype">void</span> FilterCrash(<span class="keyword">const</span> <span class="keywordtype">char</span>* reason) {</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>  <span class="comment">// NOTE: This code MUST be async-signal safe.</span></div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>  <span class="comment">// NO malloc or stdio is allowed here.</span></div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>  PrintToStderr(reason);</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>  <span class="comment">// In sandbox fuzzing mode, we want to exit with a non-zero status to</span></div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>  <span class="comment">// indicate to the fuzzer that the sample &quot;failed&quot; (ran into an unrecoverable</span></div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>  <span class="comment">// error) and should probably not be mutated further. Otherwise, we exit with</span></div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>  <span class="comment">// zero, which is for example needed for regression tests to make them &quot;pass&quot;</span></div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>  <span class="comment">// when no sandbox violation is detected.</span></div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>  <span class="keywordtype">int</span> status =</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>      SandboxTesting::mode() == SandboxTesting::Mode::kForFuzzing ? -1 : 0;</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>  _exit(status);</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>}</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span> </div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span><span class="comment">// Signal handler checking whether a memory access violation happened inside or</span></div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span><span class="comment">// outside of the sandbox address space. If inside, the signal is ignored and</span></div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span><span class="comment">// the process terminated normally, in the latter case the original signal</span></div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span><span class="comment">// handler is restored and the signal delivered again.</span></div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span><span class="keyword">struct </span>sigaction g_old_sigabrt_handler, g_old_sigtrap_handler,</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>    g_old_sigbus_handler, g_old_sigsegv_handler;</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span> </div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span><span class="keywordtype">void</span> UninstallCrashFilter() {</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>  <span class="comment">// NOTE: This code MUST be async-signal safe.</span></div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>  <span class="comment">// NO malloc or stdio is allowed here.</span></div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span> </div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>  <span class="comment">// It&#39;s important that we always restore all signal handlers. For example, if</span></div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>  <span class="comment">// we forward a SIGSEGV to Asan&#39;s signal handler, that signal handler may</span></div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>  <span class="comment">// terminate the process with SIGABRT, which we must then *not* ignore.</span></div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>  <span class="comment">// Should any of the sigaction calls below ever fail, the default signal</span></div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>  <span class="comment">// handler will be invoked (due to SA_RESETHAND) and will terminate the</span></div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>  <span class="comment">// process, so there&#39;s no need to attempt to handle that condition.</span></div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>  sigaction(SIGABRT, &amp;g_old_sigabrt_handler, <span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>  sigaction(SIGTRAP, &amp;g_old_sigtrap_handler, <span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>  sigaction(SIGBUS, &amp;g_old_sigbus_handler, <span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>  sigaction(SIGSEGV, &amp;g_old_sigsegv_handler, <span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span> </div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>  <span class="comment">// We should also uninstall the sanitizer death callback as our crash filter</span></div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>  <span class="comment">// may hand a crash over to ASan, which should then not enter our crash</span></div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>  <span class="comment">// filtering logic a second time.</span></div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span><span class="preprocessor">#ifdef V8_USE_ADDRESS_SANITIZER</span></div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>  __sanitizer_set_death_callback(<span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>}</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span> </div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span><span class="keywordtype">void</span> CrashFilter(<span class="keywordtype">int</span> signal, siginfo_t* info, <span class="keywordtype">void</span>* void_context) {</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>  <span class="comment">// NOTE: This code MUST be async-signal safe.</span></div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>  <span class="comment">// NO malloc or stdio is allowed here.</span></div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span> </div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>  <span class="keywordflow">if</span> (signal == SIGABRT) {</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>    <span class="comment">// SIGABRT typically indicates a failed CHECK or similar, which is harmless.</span></div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>    FilterCrash(<span class="stringliteral">&quot;Caught harmless signal (SIGABRT). Exiting process...\n&quot;</span>);</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>  }</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span> </div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>  <span class="keywordflow">if</span> (signal == SIGTRAP) {</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>    <span class="comment">// Similarly, SIGTRAP may for example indicate UNREACHABLE code.</span></div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>    FilterCrash(<span class="stringliteral">&quot;Caught harmless signal (SIGTRAP). Exiting process...\n&quot;</span>);</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>  }</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span> </div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a782acb70e9eabcd3faaccfb6a3bde48e">Address</a> faultaddr = <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_variable" href="namespacev8_1_1internal.html#a782acb70e9eabcd3faaccfb6a3bde48e">Address</a><span class="keyword">&gt;</span>(info-&gt;si_addr);</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span> </div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>  <span class="keywordflow">if</span> (Sandbox::current()-&gt;Contains(faultaddr)) {</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>    FilterCrash(</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>        <span class="stringliteral">&quot;Caught harmless memory access violation (inside sandbox address &quot;</span></div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>        <span class="stringliteral">&quot;space). Exiting process...\n&quot;</span>);</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>  }</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span> </div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>  <span class="keywordflow">if</span> (info-&gt;si_code == SI_KERNEL &amp;&amp; faultaddr == 0) {</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>    <span class="comment">// This combination appears to indicate a crash at a non-canonical address</span></div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>    <span class="comment">// on Linux. Crashes at non-canonical addresses are for example caused by</span></div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>    <span class="comment">// failed external pointer type checks. Memory accesses that _always_ land</span></div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>    <span class="comment">// at a non-canonical address are not exploitable and so these are filtered</span></div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>    <span class="comment">// out here. However, testcases need to be written with this in mind and</span></div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>    <span class="comment">// must cause crashes at valid addresses.</span></div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>    FilterCrash(</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>        <span class="stringliteral">&quot;Caught harmless memory access violation (non-canonical address). &quot;</span></div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>        <span class="stringliteral">&quot;Exiting process...\n&quot;</span>);</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>  }</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span> </div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>  <span class="keywordflow">if</span> (faultaddr &gt;= 0x8000&#39;0000&#39;0000&#39;0000ULL) {</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>    <span class="comment">// On Linux, it appears that the kernel will still report valid (i.e.</span></div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>    <span class="comment">// canonical) kernel space addresses via the si_addr field, so we need to</span></div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>    <span class="comment">// handle these separately. We&#39;ve already filtered out non-canonical</span></div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>    <span class="comment">// addresses above, so here we can just test if the most-significant bit of</span></div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>    <span class="comment">// the address is set, and if so assume that it&#39;s a kernel address.</span></div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>    FilterCrash(</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>        <span class="stringliteral">&quot;Caught harmless memory access violation (kernel space address). &quot;</span></div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>        <span class="stringliteral">&quot;Exiting process...\n&quot;</span>);</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>  }</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span> </div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>  <span class="keywordflow">if</span> (faultaddr &lt; 0x1000) {</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>    <span class="comment">// Nullptr dereferences are harmless as nothing can be mapped there. We use</span></div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>    <span class="comment">// the typical page size (which is also the default value of mmap_min_addr</span></div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>    <span class="comment">// on Linux) to determine what counts as a nullptr dereference here.</span></div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>    FilterCrash(</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>        <span class="stringliteral">&quot;Caught harmless memory access violation (nullptr dereference). &quot;</span></div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>        <span class="stringliteral">&quot;Exiting process...\n&quot;</span>);</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>  }</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span> </div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>  <span class="keywordflow">if</span> (faultaddr &lt; 4ULL * GB) {</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>    <span class="comment">// Currently we also ignore access violations in the first 4GB of the</span></div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>    <span class="comment">// virtual address space. See crbug.com/1470641 for more details.</span></div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>    FilterCrash(</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>        <span class="stringliteral">&quot;Caught harmless memory access violation (first 4GB of virtual address &quot;</span></div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>        <span class="stringliteral">&quot;space). Exiting process...\n&quot;</span>);</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>  }</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span> </div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>  <span class="comment">// Stack overflow detection.</span></div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>  <span class="comment">// On Linux, we generally have two types of stacks:</span></div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>  <span class="comment">//  1. The main thread&#39;s stack, allocated by the kernel, and</span></div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>  <span class="comment">//  2. The stacks of any other thread, allocated by the application</span></div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>  <span class="comment">// These stacks differ in some ways, and that affects the way stack overflows</span></div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>  <span class="comment">// (caused e.g. by unbounded recursion) materialize: for (1) the kernel will</span></div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>  <span class="comment">// use a &quot;gap&quot; region below the stack segment, i.e. an unmapped area into</span></div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>  <span class="comment">// which the kernel itself will not place any mappings and into which the</span></div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>  <span class="comment">// stack cannot grow. A stack overflow therefore crashes with a SEGV_MAPERR.</span></div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>  <span class="comment">// On the other hand, for (2) the application is responsible for allocating</span></div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>  <span class="comment">// the stack and therefore also for allocating any guard regions around it.</span></div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>  <span class="comment">// As these guard regions must be regular mappings (with PROT_NONE), a stack</span></div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>  <span class="comment">// overflow will crash with a SEGV_ACCERR.</span></div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>  <span class="comment">//</span></div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>  <span class="comment">// It&#39;s relatively hard to reliably and accurately detect stack overflow, so</span></div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>  <span class="comment">// here we use a simple heuristic: did we crash on any kind of access</span></div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>  <span class="comment">// violation on an address just below the current thread&#39;s stack region. This</span></div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>  <span class="comment">// may cause both false positives (e.g. an access not through the stack</span></div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>  <span class="comment">// pointer register that happens to also land just below the stack) and false</span></div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>  <span class="comment">// negatives (e.g. a stack overflow on the main thread that &quot;jumps over&quot; the</span></div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>  <span class="comment">// first page of the gap region), but is probably good enough in practice.</span></div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>  pthread_attr_t attr;</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>  <span class="keywordtype">int</span> pthread_error = pthread_getattr_np(pthread_self(), &amp;attr);</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>  <span class="keywordflow">if</span> (!pthread_error) {</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>    uintptr_t stack_base;</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>    <span class="keywordtype">size_t</span> stack_size;</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>    pthread_error = pthread_attr_getstack(</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>        &amp;attr, <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>**<span class="keyword">&gt;</span>(&amp;stack_base), &amp;stack_size);</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>    <span class="comment">// The main thread&#39;s stack on Linux typically has a fairly large gap region</span></div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>    <span class="comment">// (1MB by default), but other thread&#39;s stacks usually have smaller guard</span></div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>    <span class="comment">// regions so here we&#39;re conservative and assume that the guard region</span></div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>    <span class="comment">// consists only of a single page.</span></div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> kMinStackGuardRegionSize = sysconf(_SC_PAGESIZE);</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>    uintptr_t stack_guard_region_start = stack_base - kMinStackGuardRegionSize;</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>    uintptr_t stack_guard_region_end = stack_base;</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>    <span class="keywordflow">if</span> (!pthread_error &amp;&amp; stack_guard_region_start &lt;= faultaddr &amp;&amp;</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>        faultaddr &lt; stack_guard_region_end) {</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>      FilterCrash(<span class="stringliteral">&quot;Caught harmless stack overflow. Exiting process...\n&quot;</span>);</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>    }</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>  }</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span> </div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>  <span class="keywordflow">if</span> (info-&gt;si_code == SEGV_ACCERR) {</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>    <span class="comment">// This indicates an access to a valid mapping but with insufficient</span></div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>    <span class="comment">// permissions, for example accessing a region mapped with PROT_NONE, or</span></div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>    <span class="comment">// writing to a read-only mapping.</span></div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>    <span class="comment">//</span></div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>    <span class="comment">// The sandbox relies on such accesses crashing in a safe way in some</span></div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>    <span class="comment">// cases. For example, the accesses into the various pointer tables are not</span></div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>    <span class="comment">// bounds checked, but instead it is guaranteed that an out-of-bounds</span></div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>    <span class="comment">// access will hit a PROT_NONE mapping.</span></div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>    <span class="comment">//</span></div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>    <span class="comment">// Memory accesses that _always_ cause such a permission violation are not</span></div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>    <span class="comment">// exploitable and the crashes are therefore filtered out here. However,</span></div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>    <span class="comment">// testcases need to be written with this behavior in mind and should</span></div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>    <span class="comment">// typically try to access non-existing memory to demonstrate the ability</span></div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>    <span class="comment">// to escape from the sandbox.</span></div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>    FilterCrash(</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>        <span class="stringliteral">&quot;Caught harmless memory access violation (memory permission &quot;</span></div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>        <span class="stringliteral">&quot;violation). Exiting process...\n&quot;</span>);</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>  }</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span> </div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>  <span class="comment">// Otherwise it&#39;s a sandbox violation, so restore the original signal</span></div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>  <span class="comment">// handlers, then return from this handler. The faulting instruction will be</span></div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>  <span class="comment">// re-executed and will again trigger the access violation, but now the</span></div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>  <span class="comment">// signal will be handled by the original signal handler.</span></div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>  UninstallCrashFilter();</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span> </div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>  PrintToStderr(<span class="stringliteral">&quot;\n## V8 sandbox violation detected!\n\n&quot;</span>);</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>}</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span> </div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span><span class="preprocessor">#ifdef V8_USE_ADDRESS_SANITIZER</span></div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span><span class="keywordtype">void</span> AsanFaultHandler() {</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a782acb70e9eabcd3faaccfb6a3bde48e">Address</a> faultaddr = <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_variable" href="namespacev8_1_1internal.html#a782acb70e9eabcd3faaccfb6a3bde48e">Address</a><span class="keyword">&gt;</span>(__asan_get_report_address());</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span> </div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>  <span class="keywordflow">if</span> (faultaddr == kNullAddress) {</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>    FilterCrash(</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>        <span class="stringliteral">&quot;Caught ASan fault without a fault address. Ignoring it as we cannot &quot;</span></div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>        <span class="stringliteral">&quot;check if it is a sandbox violation. Exiting process...\n&quot;</span>);</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>  }</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span> </div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>  <span class="keywordflow">if</span> (Sandbox::current()-&gt;Contains(faultaddr)) {</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>    FilterCrash(</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>        <span class="stringliteral">&quot;Caught harmless ASan fault (inside sandbox address space). Exiting &quot;</span></div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>        <span class="stringliteral">&quot;process...\n&quot;</span>);</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>  }</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span> </div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>  <span class="comment">// Asan may report the failure via abort(), so we should also restore the</span></div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>  <span class="comment">// original signal handlers here.</span></div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>  UninstallCrashFilter();</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span> </div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>  PrintToStderr(<span class="stringliteral">&quot;\n## V8 sandbox violation detected!\n\n&quot;</span>);</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>}</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span><span class="preprocessor">#endif  </span><span class="comment">// V8_USE_ADDRESS_SANITIZER</span></div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span> </div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span><span class="keywordtype">void</span> InstallCrashFilter() {</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>  <span class="comment">// Register an alternate stack for signal delivery so that signal handlers</span></div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>  <span class="comment">// can run properly even if for example the stack pointer has been corrupted</span></div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>  <span class="comment">// or the stack has overflowed.</span></div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>  <span class="comment">// Note that the alternate stack is currently only registered for the main</span></div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>  <span class="comment">// thread. Stack pointer corruption or stack overflows on background threads</span></div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>  <span class="comment">// may therefore still cause the signal handler to crash.</span></div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>  VirtualAddressSpace* vas = <a class="code hl_function" href="namespacev8_1_1internal.html#a927fdd6d2695ea1cee819f49508ace7e">GetPlatformVirtualAddressSpace</a>();</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>  <a class="code hl_variable" href="namespacev8_1_1internal.html#a782acb70e9eabcd3faaccfb6a3bde48e">Address</a> alternate_stack =</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>      vas-&gt;AllocatePages(VirtualAddressSpace::kNoHint, SIGSTKSZ,</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>                         vas-&gt;page_size(), PagePermissions::kReadWrite);</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>  <a class="code hl_define" href="logging_8h.html#aa958a8a4e5dda3abaa031977268ae60e">CHECK_NE</a>(alternate_stack, kNullAddress);</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>  stack_t signalstack = {</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>      .ss_sp = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(alternate_stack),</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>      .ss_flags = 0,</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>      .ss_size = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(SIGSTKSZ),</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>  };</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>  <a class="code hl_define" href="logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(sigaltstack(&amp;signalstack, <span class="keyword">nullptr</span>), 0);</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span> </div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>  <span class="keyword">struct </span>sigaction action;</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>  memset(&amp;action, 0, <span class="keyword">sizeof</span>(action));</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>  action.sa_flags = SA_SIGINFO | SA_ONSTACK;</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>  action.sa_sigaction = &amp;CrashFilter;</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>  sigemptyset(&amp;action.sa_mask);</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span> </div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>  <span class="keywordtype">bool</span> success = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>  success &amp;= (sigaction(SIGABRT, &amp;action, &amp;g_old_sigabrt_handler) == 0);</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>  success &amp;= (sigaction(SIGTRAP, &amp;action, &amp;g_old_sigtrap_handler) == 0);</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>  success &amp;= (sigaction(SIGBUS, &amp;action, &amp;g_old_sigbus_handler) == 0);</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>  success &amp;= (sigaction(SIGSEGV, &amp;action, &amp;g_old_sigsegv_handler) == 0);</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(success);</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span> </div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span><span class="preprocessor">#if defined(V8_USE_ADDRESS_SANITIZER)</span></div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>  __sanitizer_set_death_callback(&amp;AsanFaultHandler);</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span><span class="preprocessor">#elif defined(V8_USE_MEMORY_SANITIZER) || \</span></div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span><span class="preprocessor">    defined(V8_USE_UNDEFINED_BEHAVIOR_SANITIZER)</span></div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>  <span class="comment">// TODO(saelo): can we also test for the other sanitizers here somehow?</span></div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>  <a class="code hl_define" href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;The sandbox crash filter currently only supports AddressSanitizer&quot;</span>);</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>}</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span> </div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span><span class="preprocessor">#endif  </span><span class="comment">// V8_OS_LINUX</span></div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>}  <span class="comment">// namespace</span></div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span> </div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span><span class="keywordtype">void</span> SandboxTesting::Enable(Mode mode) {</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>  <a class="code hl_define" href="logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(mode_, Mode::kDisabled);</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>  <a class="code hl_define" href="logging_8h.html#aa958a8a4e5dda3abaa031977268ae60e">CHECK_NE</a>(mode, Mode::kDisabled);</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>  <a class="code hl_define" href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(Sandbox::current()-&gt;is_initialized());</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span> </div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>  mode_ = <a class="code hl_function" href="namespacev8_1_1internal.html#ab0ae72cf03464e00d457857ecbc91b35">mode</a>;</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span> </div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>  fprintf(stderr,</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>          <span class="stringliteral">&quot;Sandbox testing mode is enabled. Only sandbox violations will be &quot;</span></div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>          <span class="stringliteral">&quot;reported, all other crashes will be ignored.\n&quot;</span>);</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span> </div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span><span class="preprocessor">#ifdef V8_OS_LINUX</span></div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>  InstallCrashFilter();</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>  <a class="code hl_define" href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;The sandbox crash filter is currently only available on Linux&quot;</span>);</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span><span class="preprocessor">#endif  </span><span class="comment">// V8_OS_LINUX</span></div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>}</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span> </div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>SandboxTesting::InstanceTypeMap&amp; SandboxTesting::GetInstanceTypeMap() {</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>  <span class="comment">// This mechanism is currently very crude and needs to be manually maintained</span></div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>  <span class="comment">// and extended (e.g. when adding a js test for the sandbox). In the future,</span></div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>  <span class="comment">// it would be nice to somehow automatically generate this map from the</span></div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>  <span class="comment">// object definitions and also support the class inheritance hierarchy.</span></div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>  <span class="keyword">static</span> base::LeakyObject&lt;InstanceTypeMap&gt; g_known_instance_types;</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>  <span class="keyword">auto</span>&amp; types = *g_known_instance_types.get();</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>  <span class="keywordtype">bool</span> is_initialized = types.size() != 0;</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>  <span class="keywordflow">if</span> (!is_initialized) {</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>    types[<span class="stringliteral">&quot;JS_OBJECT_TYPE&quot;</span>] = JS_OBJECT_TYPE;</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>    types[<span class="stringliteral">&quot;JS_FUNCTION_TYPE&quot;</span>] = JS_FUNCTION_TYPE;</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>    types[<span class="stringliteral">&quot;JS_ARRAY_TYPE&quot;</span>] = JS_ARRAY_TYPE;</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>    types[<span class="stringliteral">&quot;JS_ARRAY_BUFFER_TYPE&quot;</span>] = JS_ARRAY_BUFFER_TYPE;</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>    types[<span class="stringliteral">&quot;JS_TYPED_ARRAY_TYPE&quot;</span>] = JS_TYPED_ARRAY_TYPE;</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>    types[<span class="stringliteral">&quot;SEQ_ONE_BYTE_STRING_TYPE&quot;</span>] = <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea13460db6af18b22e39fe21bc5a59ecf4">SEQ_ONE_BYTE_STRING_TYPE</a>;</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>    types[<span class="stringliteral">&quot;SEQ_TWO_BYTE_STRING_TYPE&quot;</span>] = <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea98c54bdac95309719a3443a670a8aec0">SEQ_TWO_BYTE_STRING_TYPE</a>;</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>    types[<span class="stringliteral">&quot;INTERNALIZED_ONE_BYTE_STRING_TYPE&quot;</span>] =</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>        <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8feadb75c9ce61827ad68919644008afc39c">INTERNALIZED_ONE_BYTE_STRING_TYPE</a>;</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>    types[<span class="stringliteral">&quot;SLICED_ONE_BYTE_STRING_TYPE&quot;</span>] = <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea7d41f263aeff5f74d677977964ccd2da">SLICED_ONE_BYTE_STRING_TYPE</a>;</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>    types[<span class="stringliteral">&quot;CONS_ONE_BYTE_STRING_TYPE&quot;</span>] = <a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea462b48aac171df5c4d0f4b1e070836a9">CONS_ONE_BYTE_STRING_TYPE</a>;</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>    types[<span class="stringliteral">&quot;SHARED_FUNCTION_INFO_TYPE&quot;</span>] = SHARED_FUNCTION_INFO_TYPE;</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>    types[<span class="stringliteral">&quot;SCRIPT_TYPE&quot;</span>] = SCRIPT_TYPE;</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span><span class="preprocessor">#ifdef V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>    types[<span class="stringliteral">&quot;WASM_MODULE_OBJECT_TYPE&quot;</span>] = WASM_MODULE_OBJECT_TYPE;</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>    types[<span class="stringliteral">&quot;WASM_INSTANCE_OBJECT_TYPE&quot;</span>] = WASM_INSTANCE_OBJECT_TYPE;</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>    types[<span class="stringliteral">&quot;WASM_FUNC_REF_TYPE&quot;</span>] = WASM_FUNC_REF_TYPE;</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>    types[<span class="stringliteral">&quot;WASM_TABLE_OBJECT_TYPE&quot;</span>] = WASM_TABLE_OBJECT_TYPE;</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>  }</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>  <span class="keywordflow">return</span> types;</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>}</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span> </div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>SandboxTesting::FieldOffsetMap&amp; SandboxTesting::GetFieldOffsetMap() {</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>  <span class="comment">// This mechanism is currently very crude and needs to be manually maintained</span></div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>  <span class="comment">// and extended (e.g. when adding a js test for the sandbox). In the future,</span></div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>  <span class="comment">// it would be nice to somehow automatically generate this map from the</span></div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>  <span class="comment">// object definitions and also support the class inheritance hierarchy.</span></div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>  <span class="keyword">static</span> base::LeakyObject&lt;FieldOffsetMap&gt; g_known_fields;</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>  <span class="keyword">auto</span>&amp; fields = *g_known_fields.get();</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>  <span class="keywordtype">bool</span> is_initialized = fields.size() != 0;</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>  <span class="keywordflow">if</span> (!is_initialized) {</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span><span class="preprocessor">#ifdef V8_ENABLE_LEAPTIERING</span></div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>    fields[JS_FUNCTION_TYPE][<span class="stringliteral">&quot;dispatch_handle&quot;</span>] =</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>        JSFunction::kDispatchHandleOffset;</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_LEAPTIERING</span></div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>    fields[JS_FUNCTION_TYPE][<span class="stringliteral">&quot;shared_function_info&quot;</span>] =</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>        JSFunction::kSharedFunctionInfoOffset;</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>    fields[JS_ARRAY_TYPE][<span class="stringliteral">&quot;elements&quot;</span>] = JSArray::kElementsOffset;</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>    fields[JS_ARRAY_TYPE][<span class="stringliteral">&quot;length&quot;</span>] = JSArray::kLengthOffset;</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>    fields[JS_TYPED_ARRAY_TYPE][<span class="stringliteral">&quot;length&quot;</span>] = JSTypedArray::kRawLengthOffset;</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>    fields[JS_TYPED_ARRAY_TYPE][<span class="stringliteral">&quot;byte_length&quot;</span>] =</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>        JSTypedArray::kRawByteLengthOffset;</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>    fields[JS_TYPED_ARRAY_TYPE][<span class="stringliteral">&quot;byte_offset&quot;</span>] =</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>        JSTypedArray::kRawByteOffsetOffset;</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>    fields[JS_TYPED_ARRAY_TYPE][<span class="stringliteral">&quot;external_pointer&quot;</span>] =</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>        JSTypedArray::kExternalPointerOffset;</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>    fields[JS_TYPED_ARRAY_TYPE][<span class="stringliteral">&quot;base_pointer&quot;</span>] =</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>        JSTypedArray::kBasePointerOffset;</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>    fields[<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea13460db6af18b22e39fe21bc5a59ecf4">SEQ_ONE_BYTE_STRING_TYPE</a>][<span class="stringliteral">&quot;length&quot;</span>] =</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>        offsetof(SeqOneByteString, length_);</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>    fields[<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea98c54bdac95309719a3443a670a8aec0">SEQ_TWO_BYTE_STRING_TYPE</a>][<span class="stringliteral">&quot;hash&quot;</span>] =</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>        offsetof(SeqTwoByteString, raw_hash_field_);</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>    fields[<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea98c54bdac95309719a3443a670a8aec0">SEQ_TWO_BYTE_STRING_TYPE</a>][<span class="stringliteral">&quot;length&quot;</span>] =</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>        offsetof(SeqTwoByteString, length_);</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>    fields[<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8feadb75c9ce61827ad68919644008afc39c">INTERNALIZED_ONE_BYTE_STRING_TYPE</a>][<span class="stringliteral">&quot;length&quot;</span>] =</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>        offsetof(InternalizedString, length_);</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>    fields[<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea7d41f263aeff5f74d677977964ccd2da">SLICED_ONE_BYTE_STRING_TYPE</a>][<span class="stringliteral">&quot;parent&quot;</span>] =</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>        offsetof(SlicedString, parent_);</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>    fields[<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea462b48aac171df5c4d0f4b1e070836a9">CONS_ONE_BYTE_STRING_TYPE</a>][<span class="stringliteral">&quot;length&quot;</span>] = offsetof(ConsString, length_);</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>    fields[<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea462b48aac171df5c4d0f4b1e070836a9">CONS_ONE_BYTE_STRING_TYPE</a>][<span class="stringliteral">&quot;first&quot;</span>] = offsetof(ConsString, first_);</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>    fields[<a class="code hl_enumvalue" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea462b48aac171df5c4d0f4b1e070836a9">CONS_ONE_BYTE_STRING_TYPE</a>][<span class="stringliteral">&quot;second&quot;</span>] = offsetof(ConsString, second_);</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>    fields[SHARED_FUNCTION_INFO_TYPE][<span class="stringliteral">&quot;trusted_function_data&quot;</span>] =</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>        SharedFunctionInfo::kTrustedFunctionDataOffset;</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>    fields[SHARED_FUNCTION_INFO_TYPE][<span class="stringliteral">&quot;length&quot;</span>] =</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>        SharedFunctionInfo::kLengthOffset;</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>    fields[SHARED_FUNCTION_INFO_TYPE][<span class="stringliteral">&quot;formal_parameter_count&quot;</span>] =</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>        SharedFunctionInfo::kFormalParameterCountOffset;</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>    fields[SCRIPT_TYPE][<span class="stringliteral">&quot;wasm_managed_native_module&quot;</span>] =</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>        Script::kEvalFromPositionOffset;</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span><span class="preprocessor">#ifdef V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>    fields[WASM_MODULE_OBJECT_TYPE][<span class="stringliteral">&quot;managed_native_module&quot;</span>] =</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>        WasmModuleObject::kManagedNativeModuleOffset;</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>    fields[WASM_MODULE_OBJECT_TYPE][<span class="stringliteral">&quot;script&quot;</span>] = WasmModuleObject::kScriptOffset;</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>    fields[WASM_INSTANCE_OBJECT_TYPE][<span class="stringliteral">&quot;module_object&quot;</span>] =</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>        WasmInstanceObject::kModuleObjectOffset;</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>    fields[WASM_FUNC_REF_TYPE][<span class="stringliteral">&quot;trusted_internal&quot;</span>] =</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>        WasmFuncRef::kTrustedInternalOffset;</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>    fields[WASM_TABLE_OBJECT_TYPE][<span class="stringliteral">&quot;entries&quot;</span>] = WasmTableObject::kEntriesOffset;</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>    fields[WASM_TABLE_OBJECT_TYPE][<span class="stringliteral">&quot;current_length&quot;</span>] =</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>        WasmTableObject::kCurrentLengthOffset;</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>    fields[WASM_TABLE_OBJECT_TYPE][<span class="stringliteral">&quot;maximum_length&quot;</span>] =</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>        WasmTableObject::kMaximumLengthOffset;</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>    fields[WASM_TABLE_OBJECT_TYPE][<span class="stringliteral">&quot;raw_type&quot;</span>] =</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>        WasmTableObject::kRawTypeOffset;</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>  }</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>  <span class="keywordflow">return</span> fields;</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>}</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span> </div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span><span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_SANDBOX</span></div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span> </div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>}  <span class="comment">// namespace internal</span></div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>}  <span class="comment">// namespace v8</span></div>
<div class="ttc" id="aapi-inl_8h_html"><div class="ttname"><a href="api-inl_8h.html">api-inl.h</a></div></div>
<div class="ttc" id="aapi-natives_8h_html"><div class="ttname"><a href="api-natives_8h.html">api-natives.h</a></div></div>
<div class="ttc" id="abacking-store_8h_html"><div class="ttname"><a href="backing-store_8h.html">backing-store.h</a></div></div>
<div class="ttc" id="abytecode-generator_8cc_html_ac44f078841b0e4ca9889f5da5ec95590"><div class="ttname"><a href="bytecode-generator_8cc.html#ac44f078841b0e4ca9889f5da5ec95590">getter</a></div><div class="ttdeci">PropertyT * getter</div><div class="ttdef"><b>Definition</b> <a href="bytecode-generator_8cc_source.html#l01337">bytecode-generator.cc:1337</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a></div><div class="ttdef"><b>Definition</b> <a href="wasm-js_8h_source.html#l00019">wasm-js.h:19</a></div></div>
<div class="ttc" id="aclassv8_1_1Utils_html_a09ad82a6479237cb1f3dab296eb0fd45"><div class="ttname"><a href="classv8_1_1Utils.html#a09ad82a6479237cb1f3dab296eb0fd45">v8::Utils::OpenHandle</a></div><div class="ttdeci">static v8::internal::Handle&lt; To &gt; OpenHandle(v8::Local&lt; From &gt; handle)</div><div class="ttdef"><b>Definition</b> <a href="api_8h_source.html#l00274">api.h:274</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ApiNatives_html_a8c3652e604de77b7475d0ca84dc83975"><div class="ttname"><a href="classv8_1_1internal_1_1ApiNatives.html#a8c3652e604de77b7475d0ca84dc83975">v8::internal::ApiNatives::InstantiateFunction</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; JSFunction &gt; InstantiateFunction(Isolate *isolate, DirectHandle&lt; NativeContext &gt; native_context, DirectHandle&lt; FunctionTemplateInfo &gt; data, MaybeDirectHandle&lt; Name &gt; maybe_name={})</div><div class="ttdef"><b>Definition</b> <a href="api-natives_8cc_source.html#l00495">api-natives.cc:495</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1BackingStore_html_a2067951c5d4377b698d7799bc63af02a"><div class="ttname"><a href="classv8_1_1internal_1_1BackingStore.html#a2067951c5d4377b698d7799bc63af02a">v8::internal::BackingStore::WrapAllocation</a></div><div class="ttdeci">static std::unique_ptr&lt; BackingStore &gt; WrapAllocation(void *allocation_base, size_t allocation_length, v8::BackingStore::DeleterCallback deleter, void *deleter_data, SharedFlag shared)</div><div class="ttdef"><b>Definition</b> <a href="backing-store_8cc_source.html#l00654">backing-store.cc:654</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapObject_html_a15742205ff1152213fb1a203c2859073"><div class="ttname"><a href="classv8_1_1internal_1_1HeapObject.html#a15742205ff1152213fb1a203c2859073">v8::internal::HeapObject::FromAddress</a></div><div class="ttdeci">static Tagged&lt; HeapObject &gt; FromAddress(Address address)</div><div class="ttdef"><b>Definition</b> <a href="heap-object_8h_source.html#l00220">heap-object.h:220</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSObject_html_a12fe4efd2f3cc83f32b085560c845a75"><div class="ttname"><a href="classv8_1_1internal_1_1JSObject.html#a12fe4efd2f3cc83f32b085560c845a75">v8::internal::JSObject::DefineOwnAccessorIgnoreAttributes</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE MaybeHandle&lt; Object &gt; DefineOwnAccessorIgnoreAttributes(DirectHandle&lt; JSObject &gt; object, DirectHandle&lt; Name &gt; name, DirectHandle&lt; Object &gt; getter, DirectHandle&lt; Object &gt; setter, PropertyAttributes attributes)</div><div class="ttdef"><b>Definition</b> <a href="js-objects_8cc_source.html#l04726">js-objects.cc:4726</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSObject_html_a16c9b19de5218c056da014960fba72ae"><div class="ttname"><a href="classv8_1_1internal_1_1JSObject.html#a16c9b19de5218c056da014960fba72ae">v8::internal::JSObject::AddProperty</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void AddProperty(Isolate *isolate, DirectHandle&lt; JSObject &gt; object, DirectHandle&lt; Name &gt; name, DirectHandle&lt; Object &gt; value, PropertyAttributes attributes)</div><div class="ttdef"><b>Definition</b> <a href="js-objects_8cc_source.html#l03606">js-objects.cc:3606</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunkMetadata_html_a34b0d9ac55f0ded87015ec95d6a43d46"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a34b0d9ac55f0ded87015ec95d6a43d46">v8::internal::MemoryChunkMetadata::FromHeapObject</a></div><div class="ttdeci">static V8_INLINE MemoryChunkMetadata * FromHeapObject(Tagged&lt; HeapObject &gt; o)</div><div class="ttdef"><b>Definition</b> <a href="memory-chunk-metadata-inl_8h_source.html#l00020">memory-chunk-metadata-inl.h:20</a></div></div>
<div class="ttc" id="acommon_2globals_8h_html"><div class="ttname"><a href="common_2globals_8h.html">globals.h</a></div></div>
<div class="ttc" id="aearley-parser_8cc_html_a69620d3d0bf3441e9802e4853271cad4"><div class="ttname"><a href="earley-parser_8cc.html#a69620d3d0bf3441e9802e4853271cad4">current</a></div><div class="ttdeci">LineAndColumn current</div><div class="ttdef"><b>Definition</b> <a href="earley-parser_8cc_source.html#l00022">earley-parser.cc:22</a></div></div>
<div class="ttc" id="aexecution_2isolate-inl_8h_html"><div class="ttname"><a href="execution_2isolate-inl_8h.html">isolate-inl.h</a></div></div>
<div class="ttc" id="afactory_8h_html"><div class="ttname"><a href="factory_8h.html">factory.h</a></div></div>
<div class="ttc" id="agraph-builder_8cc_html_a9990dda08de44f6aee0aaf44c50da7d9"><div class="ttname"><a href="graph-builder_8cc.html#a9990dda08de44f6aee0aaf44c50da7d9">isolate</a></div><div class="ttdeci">Isolate * isolate</div><div class="ttdef"><b>Definition</b> <a href="graph-builder_8cc_source.html#l00058">graph-builder.cc:58</a></div></div>
<div class="ttc" id="ainstruction-selector-ia32_8cc_html_a97bd6c077f3c7769f575b82988b9b668"><div class="ttname"><a href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a></div><div class="ttdeci">int32_t offset</div><div class="ttdef"><b>Definition</b> <a href="instruction-selector-ia32_8cc_source.html#l00072">instruction-selector-ia32.cc:72</a></div></div>
<div class="ttc" id="ajs-call-reducer_8cc_html_a0835767fe473cead88c1afdf3175bce8"><div class="ttname"><a href="js-call-reducer_8cc.html#a0835767fe473cead88c1afdf3175bce8">context</a></div><div class="ttdeci">TNode&lt; Context &gt; context</div><div class="ttdef"><b>Definition</b> <a href="js-call-reducer_8cc_source.html#l01496">js-call-reducer.cc:1496</a></div></div>
<div class="ttc" id="ajs-objects_8h_html"><div class="ttname"><a href="js-objects_8h.html">js-objects.h</a></div></div>
<div class="ttc" id="ajump-threading_8cc_html_a41f8c58d2c01bf65b8ee199c3f87fc80"><div class="ttname"><a href="jump-threading_8cc.html#a41f8c58d2c01bf65b8ee199c3f87fc80">result</a></div><div class="ttdeci">ZoneVector&lt; RpoNumber &gt; &amp; result</div><div class="ttdef"><b>Definition</b> <a href="jump-threading_8cc_source.html#l00021">jump-threading.cc:21</a></div></div>
<div class="ttc" id="alogging_8h_html_a0d093cb749cfc7ab5993726392df681f"><div class="ttname"><a href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a></div><div class="ttdeci">#define FATAL(...)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00047">logging.h:47</a></div></div>
<div class="ttc" id="alogging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00124">logging.h:124</a></div></div>
<div class="ttc" id="alogging_8h_html_a56e883b55c80205b4d1727679c68b2bd"><div class="ttname"><a href="logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a></div><div class="ttdeci">#define CHECK_LE(lhs, rhs)</div></div>
<div class="ttc" id="alogging_8h_html_aa958a8a4e5dda3abaa031977268ae60e"><div class="ttname"><a href="logging_8h.html#aa958a8a4e5dda3abaa031977268ae60e">CHECK_NE</a></div><div class="ttdeci">#define CHECK_NE(lhs, rhs)</div></div>
<div class="ttc" id="alogging_8h_html_aca32614b4d2aea7dd9abdeb222bf02f3"><div class="ttname"><a href="logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a></div><div class="ttdeci">#define CHECK_EQ(lhs, rhs)</div></div>
<div class="ttc" id="alogging_8h_html_ae17f8119c108cf3070bad3449c7e0006"><div class="ttname"><a href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a></div><div class="ttdeci">#define DCHECK(condition)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00482">logging.h:482</a></div></div>
<div class="ttc" id="amacros_8h_html_a280b0798f270f4b3f361c9ab64832956"><div class="ttname"><a href="macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a></div><div class="ttdeci">#define USE(...)</div><div class="ttdef"><b>Definition</b> <a href="macros_8h_source.html#l00281">macros.h:281</a></div></div>
<div class="ttc" id="anamespaceheap_html"><div class="ttname"><a href="namespaceheap.html">heap</a></div><div class="ttdef"><b>Definition</b> <a href="base_2platform_2platform_8h_source.html#l00073">platform.h:73</a></div></div>
<div class="ttc" id="anamespaceunibrow_html_abcc5d3424c551c568df4199a48bea1c2"><div class="ttname"><a href="namespaceunibrow.html#abcc5d3424c551c568df4199a48bea1c2">unibrow::uint16_t</a></div><div class="ttdeci">unsigned short uint16_t</div><div class="ttdef"><b>Definition</b> <a href="unicode_8cc_source.html#l00039">unicode.cc:39</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition</b> <a href="api-arguments-inl_8h_source.html#l00018">api-arguments-inl.h:18</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">v8::internal::NONE</a></div><div class="ttdeci">@ NONE</div><div class="ttdef"><b>Definition</b> <a href="property-details_8h_source.html#l00019">property-details.h:19</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868">v8::internal::DONT_ENUM</a></div><div class="ttdeci">@ DONT_ENUM</div><div class="ttdef"><b>Definition</b> <a href="property-details_8h_source.html#l00021">property-details.h:21</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2">v8::internal::FROZEN</a></div><div class="ttdeci">@ FROZEN</div><div class="ttdef"><b>Definition</b> <a href="property-details_8h_source.html#l00027">property-details.h:27</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a465f206d51e97dfac9c574f1c26ec8c7"><div class="ttname"><a href="namespacev8_1_1internal.html#a465f206d51e97dfac9c574f1c26ec8c7">v8::internal::is_constructor</a></div><div class="ttdeci">is_constructor</div><div class="ttdef"><b>Definition</b> <a href="debug-objects-inl_8h_source.html#l00079">debug-objects-inl.h:79</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a4e2118a7c0d730210e0cb87b511cba70"><div class="ttname"><a href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">v8::internal::bool</a></div><div class="ttdeci">bool</div><div class="ttdef"><b>Definition</b> <a href="js-function-inl_8h_source.html#l00452">js-function-inl.h:452</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5031451934208565c827c86d9eb86c5a"><div class="ttname"><a href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">v8::internal::internal</a></div><div class="ttdeci">internal</div><div class="ttdef"><b>Definition</b> <a href="wasm-objects-inl_8h_source.html#l00457">wasm-objects-inl.h:457</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a55eed44eaa9dbd54a74a0390def124b6"><div class="ttname"><a href="namespacev8_1_1internal.html#a55eed44eaa9dbd54a74a0390def124b6">v8::internal::setter</a></div><div class="ttdeci">setter</div><div class="ttdef"><b>Definition</b> <a href="api-callbacks-inl_8h_source.html#l00034">api-callbacks-inl.h:34</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a57f5ecf71b9a2757b0555b2be4c640b8"><div class="ttname"><a href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">v8::internal::Tagged&lt; HeapObject &gt;</a></div><div class="ttdeci">kInterpreterTrampolineOffset Tagged&lt; HeapObject &gt;</div><div class="ttdef"><b>Definition</b> <a href="shared-function-info-inl_8h_source.html#l00116">shared-function-info-inl.h:116</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5c8372373f65497f1fb4414d5c0eaa36"><div class="ttname"><a href="namespacev8_1_1internal.html#a5c8372373f65497f1fb4414d5c0eaa36">v8::internal::kMaxSafeIntegerUint64</a></div><div class="ttdeci">constexpr uint64_t kMaxSafeIntegerUint64</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l01939">globals.h:1939</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff"><div class="ttname"><a href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">v8::internal::AllocationType::kOld</a></div><div class="ttdeci">@ kOld</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a680ace1d3e86dae2df93867132a3c160af80e42734f3024456dd90ae366cecf3e"><div class="ttname"><a href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160af80e42734f3024456dd90ae366cecf3e">v8::internal::SharedFlag::kNotShared</a></div><div class="ttdeci">@ kNotShared</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a782acb70e9eabcd3faaccfb6a3bde48e"><div class="ttname"><a href="namespacev8_1_1internal.html#a782acb70e9eabcd3faaccfb6a3bde48e">v8::internal::Address</a></div><div class="ttdeci">Address</div><div class="ttdef"><b>Definition</b> <a href="api-callbacks-inl_8h_source.html#l00034">api-callbacks-inl.h:34</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a84fbbdbd472303acde12e2cc65e316f3"><div class="ttname"><a href="namespacev8_1_1internal.html#a84fbbdbd472303acde12e2cc65e316f3">v8::internal::ValidateCallbackInfo</a></div><div class="ttdeci">bool V8_EXPORT ValidateCallbackInfo(const FunctionCallbackInfo&lt; void &gt; &amp;info)</div><div class="ttdef"><b>Definition</b> <a href="api_8cc_source.html#l12405">api.cc:12405</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a927fdd6d2695ea1cee819f49508ace7e"><div class="ttname"><a href="namespacev8_1_1internal.html#a927fdd6d2695ea1cee819f49508ace7e">v8::internal::GetPlatformVirtualAddressSpace</a></div><div class="ttdeci">v8::VirtualAddressSpace * GetPlatformVirtualAddressSpace()</div><div class="ttdef"><b>Definition</b> <a href="utils_2allocation_8cc_source.html#l00071">allocation.cc:71</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9312a9fc987dba9376a530956f94e8fe"><div class="ttname"><a href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">v8::internal::InstanceType</a></div><div class="ttdeci">InstanceType</div><div class="ttdef"><b>Definition</b> <a href="instance-type_8h_source.html#l00105">instance-type.h:105</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9312a9fc987dba9376a530956f94e8fea13460db6af18b22e39fe21bc5a59ecf4"><div class="ttname"><a href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea13460db6af18b22e39fe21bc5a59ecf4">v8::internal::SEQ_ONE_BYTE_STRING_TYPE</a></div><div class="ttdeci">@ SEQ_ONE_BYTE_STRING_TYPE</div><div class="ttdef"><b>Definition</b> <a href="instance-type_8h_source.html#l00124">instance-type.h:123</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9312a9fc987dba9376a530956f94e8fea462b48aac171df5c4d0f4b1e070836a9"><div class="ttname"><a href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea462b48aac171df5c4d0f4b1e070836a9">v8::internal::CONS_ONE_BYTE_STRING_TYPE</a></div><div class="ttdeci">@ CONS_ONE_BYTE_STRING_TYPE</div><div class="ttdef"><b>Definition</b> <a href="instance-type_8h_source.html#l00128">instance-type.h:127</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9312a9fc987dba9376a530956f94e8fea7d41f263aeff5f74d677977964ccd2da"><div class="ttname"><a href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea7d41f263aeff5f74d677977964ccd2da">v8::internal::SLICED_ONE_BYTE_STRING_TYPE</a></div><div class="ttdeci">@ SLICED_ONE_BYTE_STRING_TYPE</div><div class="ttdef"><b>Definition</b> <a href="instance-type_8h_source.html#l00132">instance-type.h:131</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9312a9fc987dba9376a530956f94e8fea98c54bdac95309719a3443a670a8aec0"><div class="ttname"><a href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea98c54bdac95309719a3443a670a8aec0">v8::internal::SEQ_TWO_BYTE_STRING_TYPE</a></div><div class="ttdeci">@ SEQ_TWO_BYTE_STRING_TYPE</div><div class="ttdef"><b>Definition</b> <a href="instance-type_8h_source.html#l00122">instance-type.h:121</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9312a9fc987dba9376a530956f94e8feadb75c9ce61827ad68919644008afc39c"><div class="ttname"><a href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8feadb75c9ce61827ad68919644008afc39c">v8::internal::INTERNALIZED_ONE_BYTE_STRING_TYPE</a></div><div class="ttdeci">@ INTERNALIZED_ONE_BYTE_STRING_TYPE</div><div class="ttdef"><b>Definition</b> <a href="instance-type_8h_source.html#l00110">instance-type.h:109</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9312a9fc987dba9376a530956f94e8feadc185a3c3f94edb13394c0c545746580"><div class="ttname"><a href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8feadc185a3c3f94edb13394c0c545746580">v8::internal::LAST_TYPE</a></div><div class="ttdeci">@ LAST_TYPE</div><div class="ttdef"><b>Definition</b> <a href="instance-type_8h_source.html#l00186">instance-type.h:186</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa8084566d0c455780c660ab2c7159062"><div class="ttname"><a href="namespacev8_1_1internal.html#aa8084566d0c455780c660ab2c7159062">v8::internal::IsHeapObject</a></div><div class="ttdeci">V8_INLINE constexpr bool IsHeapObject(TaggedImpl&lt; kRefType, StorageType &gt; obj)</div><div class="ttdef"><b>Definition</b> <a href="objects_8h_source.html#l00659">objects.h:659</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab0ae72cf03464e00d457857ecbc91b35"><div class="ttname"><a href="namespacev8_1_1internal.html#ab0ae72cf03464e00d457857ecbc91b35">v8::internal::mode</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enable experimental feedback collection in generic lowering enable Turboshaft s WasmLoadElimination run instruction selection on Turboshaft IR directly enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information build the Turboshaft graph from Maglev trace emitted Turboshaft instructions profile guided optimization for empty feedback vector invocation count for maglev for functions which according to profile_guided_optimization are likely to deoptimize before reaching this invocation count Immediately re optimize code after some lazy deopts Enables the lazy new space shrinking strategy max size of a semi the new space consists of two semi spaces young and full garbage collection phases are not overlapping Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in allocation gc speed Starts incremental marking with kUserVisible priority threshold for starting incremental marking immediately in percent of available minor GC task trigger in percent of the current heap limit use a separate phase for stack scanning in scavenge max worker number of concurrent for NumberOfWorkerThreads start background threads that allocate memory concurrent_array_buffer_sweeping use parallel threads to clear weak refs in the atomic pause trace progress of the incremental marking trace object counts and memory usage report a tick only when allocated zone memory changes by this amount TracingFlags::gc_stats TracingFlags::gc_stats track native contexts that are expected to be garbage collected verify heap pointers before and after GC use memory reducer for small heaps External memory limits are computed as part of global limits in v8 Heap specifies heap growing factor Perform compaction on full GCs based on V8 s default heuristics Perform compaction on every full GC Perform code space compaction when finalizing a full GC with stack Stress GC compaction to flush out Stress GC compaction by selecting random percent of pages as evacuation candidates Overrides stress_compaction flush of bytecode when it has not been executed recently Flush code when tab goes into the background Use per context worklist for marking force incremental marking for small heaps and run it more often force marking at random points between and force scavenge at random points between and reclaim otherwise unreachable unmodified wrapper objects when possible Delay before memory reducer start virtual randomize memory reservations by ignoring any hints passed when allocating pages use incremental marking for CppHeap cppheap_concurrent_marking c value for membalancer A special constant to balance between memory and space tradeoff The smaller the more memory it uses enable use of SSE4 instructions if available enable use of AVX VNNI instructions if available enable use of POPCNT instruction if available force all emitted branches to be in long mode(MIPS/PPC only)&quot;) DEFINE_BOOL(partial_constant_pool</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab9df0bf289155b5ae1d6da682adf1d6f"><div class="ttname"><a href="namespacev8_1_1internal.html#ab9df0bf289155b5ae1d6da682adf1d6f">v8::internal::handle</a></div><div class="ttdeci">V8_INLINE Handle&lt; T &gt; handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition</b> <a href="handles-inl_8h_source.html#l00070">handles-inl.h:70</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aff82af2c2f7b200915e30bcfedca6f85"><div class="ttname"><a href="namespacev8_1_1internal.html#aff82af2c2f7b200915e30bcfedca6f85">v8::internal::Cast</a></div><div class="ttdeci">Tagged&lt; To &gt; Cast(Tagged&lt; From &gt; value, const v8::SourceLocation &amp;loc=INIT_SOURCE_LOCATION_IN_DEBUG)</div><div class="ttdef"><b>Definition</b> <a href="casting_8h_source.html#l00148">casting.h:148</a></div></div>
<div class="ttc" id="anamespacev8_html"><div class="ttname"><a href="namespacev8.html">v8</a></div><div class="ttdef"><b>Definition</b> <a href="api-arguments-inl_8h_source.html#l00017">api-arguments-inl.h:17</a></div></div>
<div class="ttc" id="anamespacev8_html_a4bce9e4e66d366fa8bd12770af5d4ae7"><div class="ttname"><a href="namespacev8.html#a4bce9e4e66d366fa8bd12770af5d4ae7">v8::ToLocal</a></div><div class="ttdeci">bool ToLocal(v8::internal::MaybeDirectHandle&lt; v8::internal::Object &gt; maybe, Local&lt; T &gt; *local)</div><div class="ttdef"><b>Definition</b> <a href="api_8h_source.html#l00303">api.h:303</a></div></div>
<div class="ttc" id="anamespacev8_html_acef90d7697062c30ad3fb7ee221e760d"><div class="ttname"><a href="namespacev8.html#acef90d7697062c30ad3fb7ee221e760d">v8::ToApiHandle</a></div><div class="ttdeci">v8::Local&lt; T &gt; ToApiHandle(v8::internal::DirectHandle&lt; v8::internal::Object &gt; obj)</div><div class="ttdef"><b>Definition</b> <a href="api_8h_source.html#l00297">api.h:297</a></div></div>
<div class="ttc" id="asandbox_8h_html"><div class="ttname"><a href="sandbox_8h.html">sandbox.h</a></div></div>
<div class="ttc" id="atemplates_8h_html"><div class="ttname"><a href="templates_8h.html">templates.h</a></div></div>
<div class="ttc" id="atesting_8h_html"><div class="ttname"><a href="testing_8h.html">testing.h</a></div></div>
<div class="ttc" id="awasm-inlining-into-js_8cc_html_a66874a4e937e4192b2b42e57f55251e8"><div class="ttname"><a href="wasm-inlining-into-js_8cc.html#a66874a4e937e4192b2b42e57f55251e8">type</a></div><div class="ttdeci">wasm::ValueType type</div><div class="ttdef"><b>Definition</b> <a href="wasm-inlining-into-js_8cc_source.html#l00028">wasm-inlining-into-js.cc:28</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_2666c81470adc64840ad535dbb7c3c8b.html">sandbox</a></li><li class="navelem"><a class="el" href="sandbox_2testing_8cc.html">testing.cc</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
