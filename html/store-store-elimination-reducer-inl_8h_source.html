<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>v8: src/compiler/turboshaft/store-store-elimination-reducer-inl.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="v8.svg"/></td>
  <td id="projectalign">
   <div id="projectname">v8
   </div>
   <div id="projectbrief">V8 is Googleâ€™s open source high-performance JavaScript and WebAssembly engine, written in C++. It is used in Chrome and in Node.js, among others. It implements ECMAScript and WebAssembly, and runs on Windows, macOS, and Linux systems that use x64, IA-32, or ARM processors. V8 can be embedded into any C++ application.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('store-store-elimination-reducer-inl_8h_source.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">store-store-elimination-reducer-inl.h</div></div>
</div><!--header-->
<div class="contents">
<a href="store-store-elimination-reducer-inl_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">// Copyright 2023 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#ifndef V8_COMPILER_TURBOSHAFT_STORE_STORE_ELIMINATION_REDUCER_INL_H_</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#define V8_COMPILER_TURBOSHAFT_STORE_STORE_ELIMINATION_REDUCER_INL_H_</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span> </div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span> </div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &quot;<a class="code" href="compiler_2turboshaft_2assembler_8h.html">src/compiler/turboshaft/assembler.h</a>&quot;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &quot;<a class="code" href="graph_8h.html">src/compiler/turboshaft/graph.h</a>&quot;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &quot;<a class="code" href="operations_8h.html">src/compiler/turboshaft/operations.h</a>&quot;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &quot;<a class="code" href="sidetable_8h.html">src/compiler/turboshaft/sidetable.h</a>&quot;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &quot;<a class="code" href="snapshot-table_8h.html">src/compiler/turboshaft/snapshot-table.h</a>&quot;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &quot;<a class="code" href="uniform-reducer-adapter_8h.html">src/compiler/turboshaft/uniform-reducer-adapter.h</a>&quot;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;<a class="code" href="heap-layout-inl_8h.html">src/heap/heap-layout-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;<a class="code" href="heap-object-inl_8h.html">src/objects/heap-object-inl.h</a>&quot;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span> </div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html">v8::internal::compiler::turboshaft</a> {</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span> </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="comment">// 1. StoreStoreEliminationReducer tries to identify and remove redundant</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="comment">// stores. E.g. for an input like</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="comment">//</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="comment">//   let o = {};</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="comment">//   o.x = 2;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="comment">//   o.y = 3;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="comment">//   o.x = 4;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="comment">//   use(o.x);</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="comment">//</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="comment">// we don&#39;t need the first store to `o.x` because the value is overwritten</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="comment">// before it can be observed.</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="comment">//</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="comment">// The analysis considers loads and stores as corresponding pairs of `base` (the</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="comment">// OpIndex that defines `o` in the above example) and `offset` (that is the</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="comment">// static offset at which the field is stored inside the object). We run the</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="comment">// analysis backwards and track potentially redundant stores in a</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="comment">// `MaybeRedundantStoresTable` roughly as follows:</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="comment">//</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="comment">//   1. When we see a `base`+`offset` store and</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="comment">//     a. `base`+`offset` is observable in the table, we keep the store, but</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="comment">//        track following `base`+`offset` stores as unobservable in the table.</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="comment">//     b. `base`+`offset` is unobservable in the table, we can eliminate the</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="comment">//        store and keep the table unchanged.</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="comment">//     c. `base`+`offset` is gc-observable in the table, we eliminate it only</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="comment">//        if it is not an initializing store, otherwise, we keep it and update</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="comment">//        the table accordingly.</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="comment">//   2. When we see a `base`+`offset` load, we mark all stores to this `offset`</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="comment">//      as observable in the table. Notice that we do this regardless of the</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="comment">//      `base`, because they might alias potentially.</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="comment">//   3. When we see an allocation, we mark all stores that are currently</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="comment">//      unobservable, as gc-observable. The idea behind gc-observability is</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="comment">//      that we do not observe the actual value stored, but we need to make</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="comment">//      sure that the fields are written at least once, so that the GC does not</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="comment">//      see uninitialized fields.</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="comment">//   4. When we see another operation that can observe memory, we mark all</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="comment">//      stores as observable.</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="comment">//</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span><span class="comment">// Notice that the table also tracks the `size` of the store, such that if</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span><span class="comment">// fields are partially written, we don&#39;t incorrectly treat them as redundant to</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span><span class="comment">// the full store (this can happen in strings for example).</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span><span class="comment">//</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="comment">// When the analysis reaches a branch, we combine values using traditional least</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="comment">// upper bound operation on the `StoreObservability` lattice. After processing a</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="comment">// loop header, we revisit the loop if the resulting state has changed until we</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span><span class="comment">// reach a fixpoint.</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span><span class="comment">//</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><span class="comment">//</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span><span class="comment">// 2. StoreStoreEliminationReducer tries to merge 2 continuous 32-bits stores</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><span class="comment">// into a 64-bits one.</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span><span class="comment">// When v8 create a new js object, it will initialize it&#39;s in object fields to</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span><span class="comment">// some constant value after allocation, like `undefined`. When pointer</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span><span class="comment">// compression is enabled, they are continuous 32-bits stores, and the store</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span><span class="comment">// values are usually constants (heap object). This reducer will try to merge 2</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span><span class="comment">// continuous 32-bits stores into a 64-bits one.</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span> </div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><span class="preprocessor">#include &quot;<a class="code" href="define-assembler-macros_8inc.html">src/compiler/turboshaft/define-assembler-macros.inc</a>&quot;</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span> </div>
<div class="foldopen" id="foldopen00078" data-start="{" data-end="};">
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91">   78</a></span><span class="keyword">enum class</span> <a class="code hl_enumeration" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91">StoreObservability</a> {</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>  <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91a5a080381c12d4a70ca076ea043f8d395">kUnobservable</a> = 0,</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>  <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91ad5dcf10586b91c42cb6e45fa6be03875">kGCObservable</a> = 1,</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>  <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91ac306b549a081b948702bb08b47976f31">kObservable</a> = 2,</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>};</div>
</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="foldopen" id="foldopen00084" data-start="{" data-end="}">
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a6d000d21e07da3526c02710c3c99b006">   84</a></span><span class="keyword">inline</span> std::ostream&amp; <a class="code hl_function" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a0d0f5f60e0c98fe5585c09f1afbdafb4">operator&lt;&lt;</a>(std::ostream&amp; os,</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>                                <a class="code hl_enumeration" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91">StoreObservability</a> observability) {</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>  <span class="keywordflow">switch</span> (observability) {</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91a5a080381c12d4a70ca076ea043f8d395">StoreObservability::kUnobservable</a>:</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>      <span class="keywordflow">return</span> os &lt;&lt; <span class="stringliteral">&quot;Unobservable&quot;</span>;</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91ad5dcf10586b91c42cb6e45fa6be03875">StoreObservability::kGCObservable</a>:</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>      <span class="keywordflow">return</span> os &lt;&lt; <span class="stringliteral">&quot;GCObservable&quot;</span>;</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91ac306b549a081b948702bb08b47976f31">StoreObservability::kObservable</a>:</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>      <span class="keywordflow">return</span> os &lt;&lt; <span class="stringliteral">&quot;Observable&quot;</span>;</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>  }</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>}</div>
</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span> </div>
<div class="foldopen" id="foldopen00096" data-start="{" data-end="};">
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno"><a class="line" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresKeyData.html">   96</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresKeyData.html">MaybeRedundantStoresKeyData</a> {</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno"><a class="line" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresKeyData.html#a1eaf005a513ee94e6eb7ca0e5c3923d0">   97</a></span>  <a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html">OpIndex</a> <a class="code hl_variable" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresKeyData.html#a1eaf005a513ee94e6eb7ca0e5c3923d0">base</a>;</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno"><a class="line" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresKeyData.html#afab69f7a325e4e39da9d30b0e8a5c395">   98</a></span>  int32_t <a class="code hl_variable" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresKeyData.html#afab69f7a325e4e39da9d30b0e8a5c395">offset</a>;</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno"><a class="line" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresKeyData.html#a1f8c1a90c6fd9517b0e8d74f000357d3">   99</a></span>  uint8_t <a class="code hl_variable" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresKeyData.html#a1f8c1a90c6fd9517b0e8d74f000357d3">size</a>;</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno"><a class="line" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresKeyData.html#ac436747f13463dba3e708d5de9beb423">  100</a></span>  <a class="code hl_class" href="classv8_1_1base_1_1IntrusiveSetIndex.html">IntrusiveSetIndex</a> <a class="code hl_variable" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresKeyData.html#ac436747f13463dba3e708d5de9beb423">active_keys_index</a> = {};</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>};</div>
</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span> </div>
<div class="foldopen" id="foldopen00103" data-start="{" data-end="};">
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html">  103</a></span><span class="keyword">class </span><a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html">MaybeRedundantStoresTable</a></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    : <span class="keyword">public</span> <a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable.html">ChangeTrackingSnapshotTable</a>&lt;MaybeRedundantStoresTable,</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>                                         StoreObservability,</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>                                         MaybeRedundantStoresKeyData&gt; {</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>  <span class="keyword">using </span><a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable.html">super</a> =</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>      <a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable.html">ChangeTrackingSnapshotTable</a>&lt;<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#af8e6806858749887c1771a8ee22df393">MaybeRedundantStoresTable</a>, <a class="code hl_enumeration" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91">StoreObservability</a>,</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>                                  <a class="code hl_struct" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresKeyData.html">MaybeRedundantStoresKeyData</a>&gt;;</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span> </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span> <span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen00112" data-start="{" data-end="}">
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#af8e6806858749887c1771a8ee22df393">  112</a></span>  <span class="keyword">explicit</span> <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#af8e6806858749887c1771a8ee22df393">MaybeRedundantStoresTable</a>(<span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph.html">Graph</a>&amp; <a class="code hl_variable" href="add-type-assertions-reducer_8cc.html#a2360aba01fa93c8493ba96683c4fb89c">graph</a>, <a class="code hl_class" href="classv8_1_1internal_1_1Zone.html">Zone</a>* zone)</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>      : <a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable.html">ChangeTrackingSnapshotTable</a>(zone),</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>        graph_(<a class="code hl_variable" href="add-type-assertions-reducer_8cc.html#a2360aba01fa93c8493ba96683c4fb89c">graph</a>),</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>        block_to_snapshot_mapping_(zone),</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>        key_mapping_(zone),</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>        active_keys_(zone),</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>        successor_snapshots_(zone) {}</div>
</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span> </div>
<div class="foldopen" id="foldopen00120" data-start="{" data-end="}">
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#a3fd6a1d794e0fce0d06a87d0a341862f">  120</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#a3fd6a1d794e0fce0d06a87d0a341862f">OnNewKey</a>(<a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTableKey.html">Key</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <a class="code hl_enumeration" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91">StoreObservability</a> value) {</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    <a class="code hl_define" href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(value, <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91ac306b549a081b948702bb08b47976f31">StoreObservability::kObservable</a>);</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!active_keys_.<a class="code hl_function" href="classv8_1_1base_1_1IntrusiveSet.html#ac415abfb53a967b66c6c0d01e0167471">Contains</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>));</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>  }</div>
</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span> </div>
<div class="foldopen" id="foldopen00125" data-start="{" data-end="}">
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#afe6a27ed1f76e1953acab79b69e45592">  125</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#afe6a27ed1f76e1953acab79b69e45592">OnValueChange</a>(<a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTableKey.html">Key</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <a class="code hl_enumeration" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91">StoreObservability</a> old_value,</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>                     <a class="code hl_enumeration" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91">StoreObservability</a> new_value) {</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <a class="code hl_define" href="logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(old_value, new_value);</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    <span class="keywordflow">if</span> (new_value == <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91ac306b549a081b948702bb08b47976f31">StoreObservability::kObservable</a>) {</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>      active_keys_.<a class="code hl_function" href="classv8_1_1base_1_1IntrusiveSet.html#a628ecaaddcc176d97b1fb4b8fbceba5b">Remove</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (old_value == <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91ac306b549a081b948702bb08b47976f31">StoreObservability::kObservable</a>) {</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>      active_keys_.<a class="code hl_function" href="classv8_1_1base_1_1IntrusiveSet.html#a23a3918daad4d30749438a8a5ff2a24e">Add</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    }</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>  }</div>
</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span> </div>
<div class="foldopen" id="foldopen00135" data-start="{" data-end="}">
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#a52018efd11c15fc731b11a77b770ef86">  135</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#a52018efd11c15fc731b11a77b770ef86">BeginBlock</a>(<span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block.html">Block</a>* block) {</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <span class="comment">// Seal the current block first.</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable.html#a30b904280e476a95d2c4023e78b6df34">IsSealed</a>()) {</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>      <a class="code hl_define" href="logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(current_block_);</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>      <span class="comment">// If we bind a new block while the previous one is still unsealed, we</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>      <span class="comment">// finalize it.</span></div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>      <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable.html#ab199226a59658c849f293f60a45dba42">Seal</a>();</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    }</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span> </div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    <span class="comment">// Collect the snapshots of all successors.</span></div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    {</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>      <span class="keyword">auto</span> successors = <a class="code hl_function" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#aed07c78e2eeb53baffd38e0d33f2d10e">SuccessorBlocks</a>(block-&gt;LastOperation(graph_));</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>      successor_snapshots_.clear();</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block.html">Block</a>* s : successors) {</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>        std::optional&lt;Snapshot&gt; s_snapshot =</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>            block_to_snapshot_mapping_[s-&gt;index()];</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>        <span class="comment">// When we visit the loop for the first time, the loop header hasn&#39;t</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>        <span class="comment">// been visited yet, so we ignore it.</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>        <a class="code hl_define" href="logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(!s_snapshot.has_value(), s-&gt;IsLoop());</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>        <span class="keywordflow">if</span> (!s_snapshot.has_value()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>        successor_snapshots_.push_back(*s_snapshot);</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>      }</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    }</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span> </div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    <span class="comment">// Start a new snapshot for this block by merging information from</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    <span class="comment">// successors.</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable.html#a74edc01bcfd03f2388e12fb9b0ae17a3">StartNewSnapshot</a>(</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>        <a class="code hl_function" href="namespacev8_1_1base.html#ab277246c6caecad159bbc8755cf6bb54">base::VectorOf</a>(successor_snapshots_),</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>        [](<a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTableKey.html">Key</a>, <a class="code hl_class" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const StoreObservability&gt;</a> successors) {</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>          <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91">StoreObservability</a><span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>              *std::max_element(successors.<a class="code hl_function" href="classv8_1_1base_1_1Vector.html#ad0021e2947c974d78adbbc1d543d43a5">begin</a>(), successors.<a class="code hl_function" href="classv8_1_1base_1_1Vector.html#afdc96a0835f83b82c7e2f157e95b3387">end</a>()));</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>        });</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span> </div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    current_block_ = <a class="code hl_variable" href="jump-threading_8cc.html#a32270f820477d0234549c564c87eb009">block</a>;</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>  }</div>
</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span> </div>
<div class="foldopen" id="foldopen00172" data-start="{" data-end="}">
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#a72c5a2fbae5e9006468328c481388070">  172</a></span>  <a class="code hl_enumeration" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91">StoreObservability</a> <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#a72c5a2fbae5e9006468328c481388070">GetObservability</a>(<a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html">OpIndex</a> base, int32_t <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>,</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>                                      uint8_t size) {</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    <a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTableKey.html">Key</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a> = map_to_key(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a>, <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>, size);</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>.data().size &lt; size) <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91ac306b549a081b948702bb08b47976f31">StoreObservability::kObservable</a>;</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">Get</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>  }</div>
</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span> </div>
<div class="foldopen" id="foldopen00179" data-start="{" data-end="}">
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#ad8c299260988b2f0cf8532f8f33cc349">  179</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#ad8c299260988b2f0cf8532f8f33cc349">MarkStoreAsUnobservable</a>(<a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html">OpIndex</a> base, int32_t <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>, uint8_t size) {</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    <span class="comment">// We can only shadow stores to the exact same `base`+`offset` and keep</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <span class="comment">// everything else because they might or might not alias.</span></div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTableKey.html">Key</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a> = map_to_key(<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a>, <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>, size);</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    <span class="comment">// If the `size` we want to mark unobservable here is less than the size we</span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    <span class="comment">// have seen for this key before, we do not overwrite the entire field, so</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    <span class="comment">// preceeding stores are not (fully) unobservable.</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <span class="keywordflow">if</span> (size &lt; <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>.data().size) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable.html#a53c82e370d574fd01b929a970423af0c">Set</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91a5a080381c12d4a70ca076ea043f8d395">StoreObservability::kUnobservable</a>);</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>  }</div>
</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span> </div>
<div class="foldopen" id="foldopen00190" data-start="{" data-end="}">
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#a180c2af297e872e4bcdd72ecfb9fe1d4">  190</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#a180c2af297e872e4bcdd72ecfb9fe1d4">MarkPotentiallyAliasingStoresAsObservable</a>(<a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html">OpIndex</a> base, int32_t <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>) {</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    <span class="comment">// For now, we consider all stores to the same offset as potentially</span></div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    <span class="comment">// aliasing. We might improve this to eliminate more precisely, if we have</span></div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    <span class="comment">// some sort of aliasing information.</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <span class="keywordflow">for</span> (<a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTableKey.html">Key</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a> : active_keys_) {</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>.data().offset == <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>)</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>        <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable.html#a53c82e370d574fd01b929a970423af0c">Set</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91ac306b549a081b948702bb08b47976f31">StoreObservability::kObservable</a>);</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    }</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>  }</div>
</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span> </div>
<div class="foldopen" id="foldopen00200" data-start="{" data-end="}">
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#afac9ab4893676b4aebadbfd2b691b571">  200</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#afac9ab4893676b4aebadbfd2b691b571">MarkAllStoresAsObservable</a>() {</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>    <span class="keywordflow">for</span> (<a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTableKey.html">Key</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a> : active_keys_) {</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>      <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable.html#a53c82e370d574fd01b929a970423af0c">Set</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91ac306b549a081b948702bb08b47976f31">StoreObservability::kObservable</a>);</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    }</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>  }</div>
</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span> </div>
<div class="foldopen" id="foldopen00206" data-start="{" data-end="}">
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#aa9ad60798a91525dad233a44d294b27d">  206</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#aa9ad60798a91525dad233a44d294b27d">MarkAllStoresAsGCObservable</a>() {</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    <span class="keywordflow">for</span> (<a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTableKey.html">Key</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a> : active_keys_) {</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>      <span class="keyword">auto</span> current = <a class="code hl_function" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">Get</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>      <a class="code hl_define" href="logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(current, <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91ac306b549a081b948702bb08b47976f31">StoreObservability::kObservable</a>);</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>      <span class="keywordflow">if</span> (current == <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91a5a080381c12d4a70ca076ea043f8d395">StoreObservability::kUnobservable</a>) {</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>        <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable.html#a53c82e370d574fd01b929a970423af0c">Set</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91ad5dcf10586b91c42cb6e45fa6be03875">StoreObservability::kGCObservable</a>);</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>      }</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>    }</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>  }</div>
</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span> </div>
<div class="foldopen" id="foldopen00216" data-start="{" data-end="}">
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#afc4baa614dee6a27d46d674db43d0e9d">  216</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#afc4baa614dee6a27d46d674db43d0e9d">Seal</a>(<span class="keywordtype">bool</span>* snapshot_has_changed = <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>    <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable.html#a30b904280e476a95d2c4023e78b6df34">IsSealed</a>());</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>    <a class="code hl_define" href="logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(current_block_);</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(current_block_-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block.html#ad6c2f9b5b13eee3121df951653915777">index</a>().<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BlockIndex.html#a19a5ec57a91168db25d482944a3036b3">valid</a>());</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <span class="keyword">auto</span>&amp; snapshot = block_to_snapshot_mapping_[current_block_-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block.html#ad6c2f9b5b13eee3121df951653915777">index</a>()];</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    <span class="keywordflow">if</span> (!snapshot_has_changed) {</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>      snapshot = <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable.html#ab199226a59658c849f293f60a45dba42">super::Seal</a>();</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!snapshot.has_value()) {</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>      *snapshot_has_changed = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>      snapshot = <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable.html#ab199226a59658c849f293f60a45dba42">super::Seal</a>();</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>      <span class="keyword">auto</span> new_snapshot = <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable.html#ab199226a59658c849f293f60a45dba42">super::Seal</a>();</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>      *snapshot_has_changed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>      <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable.html#a74edc01bcfd03f2388e12fb9b0ae17a3">StartNewSnapshot</a>(</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>          <a class="code hl_function" href="namespacev8_1_1base.html#ab277246c6caecad159bbc8755cf6bb54">base::VectorOf</a>({snapshot.value(), new_snapshot}),</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>          [&amp;](<a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTableKey.html">Key</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <a class="code hl_class" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const StoreObservability&gt;</a> successors) {</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>            <a class="code hl_define" href="logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(successors[0], successors[1]);</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>            <span class="keywordflow">if</span> (successors[0] != successors[1]) *snapshot_has_changed = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>            <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91">StoreObservability</a><span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>                *std::max_element(successors.begin(), successors.end()));</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>          });</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>      snapshot = <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable.html#ab199226a59658c849f293f60a45dba42">super::Seal</a>();</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>    }</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    current_block_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>  }</div>
</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span> </div>
<div class="foldopen" id="foldopen00242" data-start="{" data-end="}">
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#a130f5f10253070ec1e63bd0e7f6fb55f">  242</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#a130f5f10253070ec1e63bd0e7f6fb55f">Print</a>(std::ostream&amp; os, <span class="keyword">const</span> <span class="keywordtype">char</span>* sep = <span class="stringliteral">&quot;\n&quot;</span>)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>    <span class="keywordtype">bool</span> first = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>    <span class="keywordflow">for</span> (<a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTableKey.html">Key</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a> : active_keys_) {</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>      os &lt;&lt; (first ? <span class="stringliteral">&quot;&quot;</span> : sep) &lt;&lt; <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>.data().base.id() &lt;&lt; <span class="stringliteral">&quot;@&quot;</span></div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>         &lt;&lt; <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>.data().offset &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a class="code hl_function" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">Get</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>      first = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>    }</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>  }</div>
</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span> </div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span> <span class="keyword">private</span>:</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>  <a class="code hl_typedef" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable.html#ab4a41fca15edddaeef16a2ef428a69a2">Key</a> map_to_key(<a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html">OpIndex</a> base, int32_t <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>, uint8_t size) {</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>    std::pair p{<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a>, <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>};</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>    <span class="keyword">auto</span> it = key_mapping_.find(p);</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>    <span class="keywordflow">if</span> (it != key_mapping_.end()) <span class="keywordflow">return</span> it-&gt;second;</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>    <a class="code hl_typedef" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable.html#ab4a41fca15edddaeef16a2ef428a69a2">Key</a> new_key = <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable.html#a74b759663c86013b6f6483fa3da9086d">NewKey</a>(<a class="code hl_struct" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresKeyData.html">MaybeRedundantStoresKeyData</a>{<a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a>, <a class="code hl_variable" href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a>, size},</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>                         <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91ac306b549a081b948702bb08b47976f31">StoreObservability::kObservable</a>);</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    key_mapping_.emplace(p, new_key);</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    <span class="keywordflow">return</span> new_key;</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>  }</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>  <span class="keyword">struct </span>GetActiveKeysIndex {</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    IntrusiveSetIndex&amp; operator()(<a class="code hl_typedef" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable.html#ab4a41fca15edddaeef16a2ef428a69a2">Key</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>.data().active_keys_index;</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>    }</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>  };</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span> </div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>  <span class="keyword">const</span> Graph&amp; graph_;</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>  GrowingBlockSidetable&lt;std::optional&lt;Snapshot&gt;&gt; block_to_snapshot_mapping_;</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>  ZoneAbslFlatHashMap&lt;std::pair&lt;OpIndex, int32_t&gt;, <a class="code hl_typedef" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable.html#ab4a41fca15edddaeef16a2ef428a69a2">Key</a>&gt; key_mapping_;</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>  <span class="comment">// In `active_keys_`, we track the keys of all stores that arge gc-observable</span></div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>  <span class="comment">// or unobservable. Keys that are mapped to the default value (observable) are</span></div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>  <span class="comment">// removed from the `active_keys_`.</span></div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>  ZoneIntrusiveSet&lt;Key, GetActiveKeysIndex&gt; active_keys_;</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>  <span class="keyword">const</span> Block* current_block_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>  <span class="comment">// {successor_snapshots_} and {temp_key_vector_} are used as temporary vectors</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>  <span class="comment">// inside functions. We store them as members to avoid reallocation.</span></div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>  ZoneVector&lt;Snapshot&gt; successor_snapshots_;</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>};</div>
</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span> </div>
<div class="foldopen" id="foldopen00280" data-start="{" data-end="};">
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1RedundantStoreAnalysis.html">  280</a></span><span class="keyword">class </span><a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1RedundantStoreAnalysis.html">RedundantStoreAnalysis</a> {</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span> <span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen00282" data-start="{" data-end="}">
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1RedundantStoreAnalysis.html#a9ac2e04fc4ef63e906c88e30fd5d6e55">  282</a></span>  <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1RedundantStoreAnalysis.html#a9ac2e04fc4ef63e906c88e30fd5d6e55">RedundantStoreAnalysis</a>(<span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph.html">Graph</a>&amp; <a class="code hl_variable" href="add-type-assertions-reducer_8cc.html#a2360aba01fa93c8493ba96683c4fb89c">graph</a>, <a class="code hl_class" href="classv8_1_1internal_1_1Zone.html">Zone</a>* <a class="code hl_variable" href="add-type-assertions-reducer_8cc.html#a92305aa4ca35c6155a1ad3c018b28c49">phase_zone</a>)</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>      : graph_(<a class="code hl_variable" href="add-type-assertions-reducer_8cc.html#a2360aba01fa93c8493ba96683c4fb89c">graph</a>), table_(<a class="code hl_variable" href="add-type-assertions-reducer_8cc.html#a2360aba01fa93c8493ba96683c4fb89c">graph</a>, <a class="code hl_variable" href="add-type-assertions-reducer_8cc.html#a92305aa4ca35c6155a1ad3c018b28c49">phase_zone</a>) {}</div>
</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span> </div>
<div class="foldopen" id="foldopen00285" data-start="{" data-end="}">
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1RedundantStoreAnalysis.html#a7b0d059930afa9f85b742731b0ed48ef">  285</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1RedundantStoreAnalysis.html#a7b0d059930afa9f85b742731b0ed48ef">Run</a>(<a class="code hl_class" href="classv8_1_1internal_1_1ZoneSet.html">ZoneSet&lt;OpIndex&gt;</a>&amp; eliminable_stores,</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>           <a class="code hl_class" href="classv8_1_1internal_1_1ZoneMap.html">ZoneMap&lt;OpIndex, uint64_t&gt;</a>&amp; mergeable_store_pairs) {</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    eliminable_stores_ = &amp;eliminable_stores;</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>    mergeable_store_pairs_ = &amp;mergeable_store_pairs;</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>    <span class="keywordflow">for</span> (uint32_t processed = graph_.<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph.html#a435939b812a751ad9fe6fc11e009b1a9">block_count</a>(); processed &gt; 0;</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>         --processed) {</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>      <a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BlockIndex.html">BlockIndex</a> block_index = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BlockIndex.html">BlockIndex</a><span class="keyword">&gt;</span>(processed - 1);</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span> </div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>      <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block.html">Block</a>&amp; block = graph_.<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph.html#aeed116b6871e22124b6c561dbcd459c3">Get</a>(block_index);</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>      <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1RedundantStoreAnalysis.html#ac428ddb171d10068ffa58c13b15052be">ProcessBlock</a>(block);</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span> </div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>      <span class="comment">// If this block is a loop header, check if this loop needs to be</span></div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>      <span class="comment">// revisited.</span></div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>      <span class="keywordflow">if</span> (block.IsLoop()) {</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>        <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!table_.<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable.html#a30b904280e476a95d2c4023e78b6df34">IsSealed</a>());</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>        <span class="keywordtype">bool</span> needs_revisit = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>        table_.<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#afc4baa614dee6a27d46d674db43d0e9d">Seal</a>(&amp;needs_revisit);</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>        <span class="keywordflow">if</span> (needs_revisit) {</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>          <a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block.html">Block</a>* back_edge = block.<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block.html#adb9a42019bdb496b68a895f2e45f3a2c">LastPredecessor</a>();</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>          <a class="code hl_define" href="logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(back_edge-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block.html#ad6c2f9b5b13eee3121df951653915777">index</a>(), block_index);</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>          processed = back_edge-&gt;<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block.html#ad6c2f9b5b13eee3121df951653915777">index</a>().<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BlockIndex.html#a52fe0f1480e02030fbc95943716f782c">id</a>() + 1;</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>        }</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>      }</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>    }</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>    eliminable_stores_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>    mergeable_store_pairs_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>  }</div>
</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span> </div>
<div class="foldopen" id="foldopen00313" data-start="{" data-end="}">
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1RedundantStoreAnalysis.html#ac428ddb171d10068ffa58c13b15052be">  313</a></span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1RedundantStoreAnalysis.html#ac428ddb171d10068ffa58c13b15052be">ProcessBlock</a>(<span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block.html">Block</a>&amp; block) {</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    table_.<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#a52018efd11c15fc731b11a77b770ef86">BeginBlock</a>(&amp;block);</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span> </div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    <span class="keyword">auto</span> op_range = graph_.<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph.html#a9ed7d04ba7f99933176ea20ebf6ac735">OperationIndices</a>(block);</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = op_range.end(); it != op_range.begin();) {</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>      --it;</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>      <a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html">OpIndex</a> <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = *it;</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>      <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1Operation.html">Operation</a>&amp; op = graph_.<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph.html#aeed116b6871e22124b6c561dbcd459c3">Get</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span> </div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>      <span class="keywordflow">switch</span> (op.<a class="code hl_variable" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1Operation.html#aac52cceece273f2b7d45e26c7660b72a">opcode</a>) {</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>        <span class="keywordflow">case</span> Opcode::kStore: {</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>          <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp.html">StoreOp</a>&amp; store = op.<a class="code hl_function" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1Operation.html#ab59ad050bc10fc2715950fe756efd940">Cast</a>&lt;<a class="code hl_struct" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp.html">StoreOp</a>&gt;();</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>          <span class="comment">// TODO(nicohartmann@): Use the new effect flags to distinguish heap</span></div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>          <span class="comment">// access once available.</span></div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>          <span class="keyword">const</span> <span class="keywordtype">bool</span> is_on_heap_store = store.<a class="code hl_variable" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp.html#a82754fd8597fe885e53b242e4f10fde0">kind</a>.<a class="code hl_variable" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1LoadOp_1_1Kind.html#ae9e8df438e9d6688db7e93b30065e60f">tagged_base</a>;</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>          <span class="keyword">const</span> <span class="keywordtype">bool</span> is_field_store = !store.index().valid();</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>          <span class="keyword">const</span> uint8_t size = store.stored_rep.SizeInBytes();</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>          <span class="comment">// For now we consider only stores of fields of objects on the heap.</span></div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>          <span class="keywordflow">if</span> (is_on_heap_store &amp;&amp; is_field_store) {</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>            <span class="keywordtype">bool</span> is_eliminable_store = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>            <span class="keywordflow">switch</span> (table_.<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#a72c5a2fbae5e9006468328c481388070">GetObservability</a>(store.base(), store.offset, size)) {</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>              <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91a5a080381c12d4a70ca076ea043f8d395">StoreObservability::kUnobservable</a>:</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>                eliminable_stores_-&gt;insert(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>                last_field_initialization_store_ = <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html#a19b67749ed68fc8a4883e936589372cc">OpIndex::Invalid</a>();</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>                is_eliminable_store = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>              <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91ad5dcf10586b91c42cb6e45fa6be03875">StoreObservability::kGCObservable</a>:</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>                <span class="keywordflow">if</span> (store.maybe_initializing_or_transitioning) {</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>                  <span class="comment">// We cannot eliminate this store, but we mark all following</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>                  <span class="comment">// stores to the same `base+offset` as unobservable.</span></div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>                  table_.<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#ad8c299260988b2f0cf8532f8f33cc349">MarkStoreAsUnobservable</a>(store.base(), store.offset,</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>                                                 size);</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>                  eliminable_stores_-&gt;insert(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>                  last_field_initialization_store_ = <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html#a19b67749ed68fc8a4883e936589372cc">OpIndex::Invalid</a>();</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>                  is_eliminable_store = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>                }</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>              <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91ac306b549a081b948702bb08b47976f31">StoreObservability::kObservable</a>:</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>                <span class="comment">// We cannot eliminate this store, but we mark all following</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>                <span class="comment">// stores to the same `base+offset` as unobservable.</span></div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>                table_.<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#ad8c299260988b2f0cf8532f8f33cc349">MarkStoreAsUnobservable</a>(store.base(), store.offset,</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>                                               size);</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>            }</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span> </div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>            <span class="comment">// Try to merge 2 consecutive 32-bit stores into a single 64-bit</span></div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>            <span class="comment">// one.</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="common_2globals_8h.html#a4afce385590f5205d231ec1e9216b2ee">COMPRESS_POINTERS_BOOL</a> &amp;&amp; !is_eliminable_store &amp;&amp;</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>                store.maybe_initializing_or_transitioning &amp;&amp;</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>                store.kind == <a class="code hl_function" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1LoadOp_1_1Kind.html#a1af9380810652e7404f37c93cc8235fc">StoreOp::Kind::TaggedBase</a>() &amp;&amp;</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>                store.write_barrier == <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1compiler.html#a1ee0d1fd80275438925bc568ec289797a3cb0f5f3b0a3f679f11bec177e0cdd98">WriteBarrierKind::kNoWriteBarrier</a> &amp;&amp;</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>                store.stored_rep.IsCompressibleTagged()) {</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>              <span class="keywordflow">if</span> (last_field_initialization_store_.<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html#ad3816bb041449b3d13b53d55896c8b77">valid</a>() &amp;&amp;</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>                  graph_.<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph.html#a850f988ca0c12f8c03e305d06276c3c1">NextIndex</a>(<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) == last_field_initialization_store_) {</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp.html">StoreOp</a>&amp; store0 = <a class="code hl_function" href="namespacev8_1_1internal.html#a6011cd3fa0a6bf8d8c8533bacf7898ba">store</a>;</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp.html">StoreOp</a>&amp; store1 =</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>                    graph_.<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph.html#aeed116b6871e22124b6c561dbcd459c3">Get</a>(last_field_initialization_store_)</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>                        .<a class="code hl_function" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1Operation.html#ab59ad050bc10fc2715950fe756efd940">Cast</a>&lt;<a class="code hl_struct" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp.html">StoreOp</a>&gt;();</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span> </div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>                <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!store0.<a class="code hl_function" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp.html#aa14c843070bf72bbb7455d3585355bf2">index</a>().<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OptionalOpIndex.html#ad3816bb041449b3d13b53d55896c8b77">valid</a>());</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>                <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!store1.<a class="code hl_function" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp.html#aa14c843070bf72bbb7455d3585355bf2">index</a>().<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OptionalOpIndex.html#ad3816bb041449b3d13b53d55896c8b77">valid</a>());</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span> </div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1ConstantOp.html">ConstantOp</a>* c0 =</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>                    graph_.<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph.html#aeed116b6871e22124b6c561dbcd459c3">Get</a>(store0.<a class="code hl_function" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp.html#ab5f77979314689d05b2774c12dc231ed">value</a>()).<a class="code hl_function" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1Operation.html#ab0900d5726ed9973e226cdbafc507262">TryCast</a>&lt;<a class="code hl_struct" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1ConstantOp.html">ConstantOp</a>&gt;();</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1ConstantOp.html">ConstantOp</a>* c1 =</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>                    graph_.<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph.html#aeed116b6871e22124b6c561dbcd459c3">Get</a>(store1.<a class="code hl_function" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp.html#ab5f77979314689d05b2774c12dc231ed">value</a>()).<a class="code hl_function" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1Operation.html#ab0900d5726ed9973e226cdbafc507262">TryCast</a>&lt;<a class="code hl_struct" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1ConstantOp.html">ConstantOp</a>&gt;();</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span> </div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>                <span class="comment">// TODO(dmercadier): for now, we only apply this optimization</span></div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>                <span class="comment">// when storing read-only values, because otherwise the GC will</span></div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>                <span class="comment">// lose track of Handles when we convert them to a raw Word64.</span></div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>                <span class="comment">// However, if we were to keep the reloc info up-to-date, then</span></div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>                <span class="comment">// this might work for any object. To do this, we might need to</span></div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>                <span class="comment">// delay this optimization to later (instruction selector for</span></div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>                <span class="comment">// instance).</span></div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>                <span class="keywordflow">if</span> (c0 &amp;&amp; c1 &amp;&amp; c0-&gt;<a class="code hl_variable" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1ConstantOp.html#a04de06faf6eb5c01d4d34620457093ca">kind</a> == <a class="code hl_enumvalue" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1ConstantOp.html#a490c02cb400dd46345c7ecf2eedd6ef1a1bf8538b56a513d2eab5804890582c1c">ConstantOp::Kind::kHeapObject</a> &amp;&amp;</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>                    c1-&gt;kind == <a class="code hl_enumvalue" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1ConstantOp.html#a490c02cb400dd46345c7ecf2eedd6ef1a1bf8538b56a513d2eab5804890582c1c">ConstantOp::Kind::kHeapObject</a> &amp;&amp;</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>                    store1.<a class="code hl_variable" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp.html#a026887d8632f53111c1886df2b815d9b">offset</a> - store0.<a class="code hl_variable" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp.html#a026887d8632f53111c1886df2b815d9b">offset</a> == 4 &amp;&amp;</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>                    <a class="code hl_function" href="classv8_1_1internal_1_1HeapLayout.html#a91ac1680dc7f626bd8675e14ac660240">HeapLayout::InReadOnlySpace</a>(*c0-&gt;<a class="code hl_function" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1ConstantOp.html#a5ef0bf1a4a30a30dd0cd8b2098094dae">handle</a>()) &amp;&amp;</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>                    <a class="code hl_function" href="classv8_1_1internal_1_1HeapLayout.html#a91ac1680dc7f626bd8675e14ac660240">HeapLayout::InReadOnlySpace</a>(*c1-&gt;handle())) {</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>                  uint32_t high = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(c1-&gt;handle()-&gt;ptr());</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>                  uint32_t low = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(c0-&gt;<a class="code hl_function" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1ConstantOp.html#a5ef0bf1a4a30a30dd0cd8b2098094dae">handle</a>()-&gt;ptr());</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span><span class="preprocessor">#if V8_TARGET_BIG_ENDIAN</span></div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>                  uint64_t merged = <a class="code hl_function" href="macros_8h.html#adff3f6029f9e791f368af3b0ba52be65">make_uint64</a>(low, high);</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>                  uint64_t merged = <a class="code hl_function" href="macros_8h.html#adff3f6029f9e791f368af3b0ba52be65">make_uint64</a>(high, low);</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>                  mergeable_store_pairs_-&gt;insert({<a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, merged});</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span> </div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>                  eliminable_stores_-&gt;insert(last_field_initialization_store_);</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>                  last_field_initialization_store_ = <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html#a19b67749ed68fc8a4883e936589372cc">OpIndex::Invalid</a>();</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>                }</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span> </div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>              } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>                last_field_initialization_store_ = <a class="code hl_variable" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>;</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>              }</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>            }</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>          }</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>        }</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>        <span class="keywordflow">case</span> Opcode::kLoad: {</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>          <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1LoadOp.html">LoadOp</a>&amp; load = op.<a class="code hl_function" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1Operation.html#ab59ad050bc10fc2715950fe756efd940">Cast</a>&lt;<a class="code hl_struct" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1LoadOp.html">LoadOp</a>&gt;();</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>          <span class="comment">// TODO(nicohartmann@): Use the new effect flags to distinguish heap</span></div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>          <span class="comment">// access once available.</span></div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>          <span class="keyword">const</span> <span class="keywordtype">bool</span> is_on_heap_load = load.<a class="code hl_variable" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1LoadOp.html#a2a896e4319a19fab610d48f2549dedac">kind</a>.<a class="code hl_variable" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1LoadOp_1_1Kind.html#ae9e8df438e9d6688db7e93b30065e60f">tagged_base</a>;</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>          <span class="keyword">const</span> <span class="keywordtype">bool</span> is_field_load = !load.index().valid();</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>          <span class="comment">// For now we consider only loads of fields of objects on the heap.</span></div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>          <span class="keywordflow">if</span> (is_on_heap_load &amp;&amp; is_field_load) {</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>            table_.<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#a180c2af297e872e4bcdd72ecfb9fe1d4">MarkPotentiallyAliasingStoresAsObservable</a>(load.base(),</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>                                                             load.offset);</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>          }</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>        }</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>        <span class="keywordflow">default</span>: {</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>          <a class="code hl_struct" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpEffects.html">OpEffects</a> effects = op.<a class="code hl_function" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1Operation.html#adfb79cc12b33d07e4fdae7d3414eb24d">Effects</a>();</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>          <span class="keywordflow">if</span> (effects.<a class="code hl_function" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpEffects.html#a3dadb496b921c407552264fd7961e4c0">can_read_mutable_memory</a>()) {</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>            table_.<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#afac9ab4893676b4aebadbfd2b691b571">MarkAllStoresAsObservable</a>();</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (effects.<a class="code hl_function" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpEffects.html#ad80f2bbea2a22dfc9a6d4fc3215a2b83">requires_consistent_heap</a>()) {</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>            table_.<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#aa9ad60798a91525dad233a44d294b27d">MarkAllStoresAsGCObservable</a>();</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>          }</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>        } <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>      }</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>    }</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>  }</div>
</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span> </div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span> <span class="keyword">private</span>:</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>  <span class="keyword">const</span> <a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph.html">Graph</a>&amp; graph_;</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>  <a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html">MaybeRedundantStoresTable</a> table_;</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>  <a class="code hl_class" href="classv8_1_1internal_1_1ZoneSet.html">ZoneSet&lt;OpIndex&gt;</a>* eliminable_stores_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span> </div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>  <a class="code hl_class" href="classv8_1_1internal_1_1ZoneMap.html">ZoneMap&lt;OpIndex, uint64_t&gt;</a>* mergeable_store_pairs_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>  <a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html">OpIndex</a> last_field_initialization_store_ = <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html#a19b67749ed68fc8a4883e936589372cc">OpIndex::Invalid</a>();</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>};</div>
</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span> </div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span><span class="keyword">template</span> &lt;<span class="keyword">class</span> Next&gt;</div>
<div class="foldopen" id="foldopen00448" data-start="{" data-end="};">
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreStoreEliminationReducer.html">  448</a></span><span class="keyword">class </span><a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreStoreEliminationReducer.html">StoreStoreEliminationReducer</a> : <span class="keyword">public</span> Next {</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span> <span class="keyword">public</span>:</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>  <a class="code hl_define" href="compiler_2turboshaft_2assembler_8h.html#a095f0ecaadff2bbeedfb014d9e0f9acd">TURBOSHAFT_REDUCER_BOILERPLATE</a>(StoreStoreElimination)</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span> </div>
<div class="foldopen" id="foldopen00452" data-start="{" data-end="}">
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreStoreEliminationReducer.html#a4e7fe2e800efac5f53464fc37d00f825">  452</a></span>  void <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreStoreEliminationReducer.html#a4e7fe2e800efac5f53464fc37d00f825">Analyze</a>() {</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>    analysis_.<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1RedundantStoreAnalysis.html#a7b0d059930afa9f85b742731b0ed48ef">Run</a>(eliminable_stores_, mergeable_store_pairs_);</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>    Next::Analyze();</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>  }</div>
</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span> </div>
<div class="foldopen" id="foldopen00457" data-start="{" data-end="}">
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreStoreEliminationReducer.html#a6c38c5ce55b14548f96d5f42d2433f67">  457</a></span>  <a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html">OpIndex</a> <a class="code hl_define" href="builtins-number-tsa_8cc.html#a31e5477f0c29b3d9b6fbff51ce53a579">REDUCE_INPUT_GRAPH</a>(<a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreStoreEliminationReducer.html#a6c38c5ce55b14548f96d5f42d2433f67">Store</a>)(<a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html">OpIndex</a> ig_index, <span class="keyword">const</span> <a class="code hl_struct" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp.html">StoreOp</a>&amp; <a class="code hl_function" href="namespacev8_1_1internal.html#a6011cd3fa0a6bf8d8c8533bacf7898ba">store</a>) {</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>    <span class="keywordflow">if</span> (eliminable_stores_.count(ig_index) &gt; 0) {</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html#a19b67749ed68fc8a4883e936589372cc">OpIndex::Invalid</a>();</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mergeable_store_pairs_.count(ig_index) &gt; 0) {</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>      <a class="code hl_define" href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code hl_define" href="common_2globals_8h.html#a4afce385590f5205d231ec1e9216b2ee">COMPRESS_POINTERS_BOOL</a>);</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>      <a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html">OpIndex</a> value = <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> Word64Constant(mergeable_store_pairs_[ig_index]);</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>      <a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreStoreEliminationReducer.html#a6c38c5ce55b14548f96d5f42d2433f67">Store</a>(<a class="code hl_define" href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a> MapToNewGraph(store.base()), value,</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>               <a class="code hl_function" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1LoadOp_1_1Kind.html#a1af9380810652e7404f37c93cc8235fc">StoreOp::Kind::TaggedBase</a>(), <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryRepresentation.html#ae87de69362087b454494a43ad8441257">MemoryRepresentation::Uint64</a>(),</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>               <a class="code hl_enumvalue" href="namespacev8_1_1internal_1_1compiler.html#a1ee0d1fd80275438925bc568ec289797a3cb0f5f3b0a3f679f11bec177e0cdd98">WriteBarrierKind::kNoWriteBarrier</a>, store.offset);</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html#a19b67749ed68fc8a4883e936589372cc">OpIndex::Invalid</a>();</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>    }</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>    <span class="keywordflow">return</span> Next::ReduceInputGraphStore(ig_index, store);</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>  }</div>
</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span> </div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span> <span class="keyword">private</span>:</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>  <a class="code hl_class" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1RedundantStoreAnalysis.html">RedundantStoreAnalysis</a> analysis_{Asm().input_graph(), Asm().phase_zone()};</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>  <a class="code hl_class" href="classv8_1_1internal_1_1ZoneSet.html">ZoneSet&lt;OpIndex&gt;</a> eliminable_stores_{Asm().phase_zone()};</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>  <a class="code hl_class" href="classv8_1_1internal_1_1ZoneMap.html">ZoneMap&lt;OpIndex, uint64_t&gt;</a> mergeable_store_pairs_{Asm().phase_zone()};</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>};</div>
</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span> </div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span><span class="preprocessor">#include &quot;<a class="code" href="undef-assembler-macros_8inc.html">src/compiler/turboshaft/undef-assembler-macros.inc</a>&quot;</span></div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span> </div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>}  <span class="comment">// namespace v8::internal::compiler::turboshaft</span></div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span> </div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span><span class="preprocessor">#endif  </span><span class="comment">// V8_COMPILER_TURBOSHAFT_STORE_STORE_ELIMINATION_REDUCER_INL_H_</span></div>
<div class="ttc" id="aadd-type-assertions-reducer_8cc_html_a2360aba01fa93c8493ba96683c4fb89c"><div class="ttname"><a href="add-type-assertions-reducer_8cc.html#a2360aba01fa93c8493ba96683c4fb89c">graph</a></div><div class="ttdeci">Graph * graph</div><div class="ttdef"><b>Definition</b> <a href="add-type-assertions-reducer_8cc_source.html#l00021">add-type-assertions-reducer.cc:21</a></div></div>
<div class="ttc" id="aadd-type-assertions-reducer_8cc_html_a92305aa4ca35c6155a1ad3c018b28c49"><div class="ttname"><a href="add-type-assertions-reducer_8cc.html#a92305aa4ca35c6155a1ad3c018b28c49">phase_zone</a></div><div class="ttdeci">Zone * phase_zone</div><div class="ttdef"><b>Definition</b> <a href="add-type-assertions-reducer_8cc_source.html#l00018">add-type-assertions-reducer.cc:18</a></div></div>
<div class="ttc" id="abaseline-assembler-arm-inl_8h_html_a0a87998f4e8cee4888f2a89df3d5639b"><div class="ttname"><a href="baseline-assembler-arm-inl_8h.html#a0a87998f4e8cee4888f2a89df3d5639b">__</a></div><div class="ttdeci">#define __</div><div class="ttdef"><b>Definition</b> <a href="baseline-assembler-arm-inl_8h_source.html#l00052">baseline-assembler-arm-inl.h:52</a></div></div>
<div class="ttc" id="abuiltins-number-tsa_8cc_html_a31e5477f0c29b3d9b6fbff51ce53a579"><div class="ttname"><a href="builtins-number-tsa_8cc.html#a31e5477f0c29b3d9b6fbff51ce53a579">REDUCE_INPUT_GRAPH</a></div><div class="ttdeci">#define REDUCE_INPUT_GRAPH(operation)</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1IntrusiveSetIndex_html"><div class="ttname"><a href="classv8_1_1base_1_1IntrusiveSetIndex.html">v8::base::IntrusiveSetIndex</a></div><div class="ttdef"><b>Definition</b> <a href="intrusive-set_8h_source.html#l00016">intrusive-set.h:16</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1IntrusiveSet_html_a23a3918daad4d30749438a8a5ff2a24e"><div class="ttname"><a href="classv8_1_1base_1_1IntrusiveSet.html#a23a3918daad4d30749438a8a5ff2a24e">v8::base::IntrusiveSet::Add</a></div><div class="ttdeci">void Add(T x)</div><div class="ttdef"><b>Definition</b> <a href="intrusive-set_8h_source.html#l00056">intrusive-set.h:56</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1IntrusiveSet_html_a628ecaaddcc176d97b1fb4b8fbceba5b"><div class="ttname"><a href="classv8_1_1base_1_1IntrusiveSet.html#a628ecaaddcc176d97b1fb4b8fbceba5b">v8::base::IntrusiveSet::Remove</a></div><div class="ttdeci">void Remove(T x)</div><div class="ttdef"><b>Definition</b> <a href="intrusive-set_8h_source.html#l00064">intrusive-set.h:64</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1IntrusiveSet_html_ac415abfb53a967b66c6c0d01e0167471"><div class="ttname"><a href="classv8_1_1base_1_1IntrusiveSet.html#ac415abfb53a967b66c6c0d01e0167471">v8::base::IntrusiveSet::Contains</a></div><div class="ttdeci">bool Contains(T x) const</div><div class="ttdef"><b>Definition</b> <a href="intrusive-set_8h_source.html#l00053">intrusive-set.h:53</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html">v8::base::Vector</a></div><div class="ttdef"><b>Definition</b> <a href="zone-list_8h_source.html#l00015">zone-list.h:15</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_ad0021e2947c974d78adbbc1d543d43a5"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#ad0021e2947c974d78adbbc1d543d43a5">v8::base::Vector::begin</a></div><div class="ttdeci">constexpr T * begin() const</div><div class="ttdef"><b>Definition</b> <a href="vector_8h_source.html#l00096">vector.h:96</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_afdc96a0835f83b82c7e2f157e95b3387"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#afdc96a0835f83b82c7e2f157e95b3387">v8::base::Vector::end</a></div><div class="ttdeci">constexpr T * end() const</div><div class="ttdef"><b>Definition</b> <a href="vector_8h_source.html#l00103">vector.h:103</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapLayout_html_a91ac1680dc7f626bd8675e14ac660240"><div class="ttname"><a href="classv8_1_1internal_1_1HeapLayout.html#a91ac1680dc7f626bd8675e14ac660240">v8::internal::HeapLayout::InReadOnlySpace</a></div><div class="ttdeci">static V8_INLINE bool InReadOnlySpace(Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition</b> <a href="heap-layout-inl_8h_source.html#l00018">heap-layout-inl.h:18</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ZoneMap_html"><div class="ttname"><a href="classv8_1_1internal_1_1ZoneMap.html">v8::internal::ZoneMap</a></div><div class="ttdef"><b>Definition</b> <a href="zone-containers_8h_source.html#l00697">zone-containers.h:698</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ZoneSet_html"><div class="ttname"><a href="classv8_1_1internal_1_1ZoneSet.html">v8::internal::ZoneSet</a></div><div class="ttdef"><b>Definition</b> <a href="zone-containers_8h_source.html#l00675">zone-containers.h:675</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Zone_html"><div class="ttname"><a href="classv8_1_1internal_1_1Zone.html">v8::internal::Zone</a></div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00043">zone.h:43</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1BlockIndex_html"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BlockIndex.html">v8::internal::compiler::turboshaft::BlockIndex</a></div><div class="ttdef"><b>Definition</b> <a href="index_8h_source.html#l00860">index.h:860</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1BlockIndex_html_a19a5ec57a91168db25d482944a3036b3"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BlockIndex.html#a19a5ec57a91168db25d482944a3036b3">v8::internal::compiler::turboshaft::BlockIndex::valid</a></div><div class="ttdeci">bool valid() const</div><div class="ttdef"><b>Definition</b> <a href="index_8h_source.html#l00866">index.h:866</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1BlockIndex_html_a52fe0f1480e02030fbc95943716f782c"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BlockIndex.html#a52fe0f1480e02030fbc95943716f782c">v8::internal::compiler::turboshaft::BlockIndex::id</a></div><div class="ttdeci">uint32_t id() const</div><div class="ttdef"><b>Definition</b> <a href="index_8h_source.html#l00865">index.h:865</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block_html"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block.html">v8::internal::compiler::turboshaft::Block</a></div><div class="ttdef"><b>Definition</b> <a href="graph_8h_source.html#l00306">graph.h:306</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block_html_ad6c2f9b5b13eee3121df951653915777"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block.html#ad6c2f9b5b13eee3121df951653915777">v8::internal::compiler::turboshaft::Block::index</a></div><div class="ttdeci">BlockIndex index() const</div><div class="ttdef"><b>Definition</b> <a href="graph_8h_source.html#l00320">graph.h:320</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block_html_adb9a42019bdb496b68a895f2e45f3a2c"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block.html#adb9a42019bdb496b68a895f2e45f3a2c">v8::internal::compiler::turboshaft::Block::LastPredecessor</a></div><div class="ttdeci">Block * LastPredecessor() const</div><div class="ttdef"><b>Definition</b> <a href="graph_8h_source.html#l00385">graph.h:385</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable_html"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable.html">v8::internal::compiler::turboshaft::ChangeTrackingSnapshotTable</a></div><div class="ttdef"><b>Definition</b> <a href="snapshot-table_8h_source.html#l00519">snapshot-table.h:519</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable_html_a53c82e370d574fd01b929a970423af0c"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable.html#a53c82e370d574fd01b929a970423af0c">v8::internal::compiler::turboshaft::ChangeTrackingSnapshotTable&lt; MaybeRedundantStoresTable, StoreObservability, MaybeRedundantStoresKeyData &gt;::Set</a></div><div class="ttdeci">void Set(Key key, StoreObservability new_value)</div><div class="ttdef"><b>Definition</b> <a href="snapshot-table_8h_source.html#l00556">snapshot-table.h:556</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable_html_a74b759663c86013b6f6483fa3da9086d"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable.html#a74b759663c86013b6f6483fa3da9086d">v8::internal::compiler::turboshaft::ChangeTrackingSnapshotTable&lt; MaybeRedundantStoresTable, StoreObservability, MaybeRedundantStoresKeyData &gt;::NewKey</a></div><div class="ttdeci">Key NewKey(MaybeRedundantStoresKeyData data, StoreObservability initial_value=StoreObservability{})</div><div class="ttdef"><b>Definition</b> <a href="snapshot-table_8h_source.html#l00568">snapshot-table.h:568</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable_html_a74edc01bcfd03f2388e12fb9b0ae17a3"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable.html#a74edc01bcfd03f2388e12fb9b0ae17a3">v8::internal::compiler::turboshaft::ChangeTrackingSnapshotTable&lt; MaybeRedundantStoresTable, StoreObservability, MaybeRedundantStoresKeyData &gt;::StartNewSnapshot</a></div><div class="ttdeci">void StartNewSnapshot(base::Vector&lt; const Snapshot &gt; predecessors)</div><div class="ttdef"><b>Definition</b> <a href="snapshot-table_8h_source.html#l00526">snapshot-table.h:526</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable_html_ab4a41fca15edddaeef16a2ef428a69a2"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1ChangeTrackingSnapshotTable.html#ab4a41fca15edddaeef16a2ef428a69a2">v8::internal::compiler::turboshaft::ChangeTrackingSnapshotTable&lt; MaybeRedundantStoresTable, StoreObservability, MaybeRedundantStoresKeyData &gt;::Key</a></div><div class="ttdeci">SnapshotTableKey&lt; StoreObservability, MaybeRedundantStoresKeyData &gt; Key</div><div class="ttdef"><b>Definition</b> <a href="snapshot-table_8h_source.html#l00523">snapshot-table.h:99</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph_html"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph.html">v8::internal::compiler::turboshaft::Graph</a></div><div class="ttdef"><b>Definition</b> <a href="graph_8h_source.html#l00578">graph.h:578</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph_html_a435939b812a751ad9fe6fc11e009b1a9"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph.html#a435939b812a751ad9fe6fc11e009b1a9">v8::internal::compiler::turboshaft::Graph::block_count</a></div><div class="ttdeci">uint32_t block_count() const</div><div class="ttdef"><b>Definition</b> <a href="graph_8h_source.html#l00840">graph.h:840</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph_html_a850f988ca0c12f8c03e305d06276c3c1"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph.html#a850f988ca0c12f8c03e305d06276c3c1">v8::internal::compiler::turboshaft::Graph::NextIndex</a></div><div class="ttdeci">OpIndex NextIndex(const OpIndex idx) const</div><div class="ttdef"><b>Definition</b> <a href="graph_8h_source.html#l00688">graph.h:688</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph_html_a9ed7d04ba7f99933176ea20ebf6ac735"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph.html#a9ed7d04ba7f99933176ea20ebf6ac735">v8::internal::compiler::turboshaft::Graph::OperationIndices</a></div><div class="ttdeci">base::iterator_range&lt; OpIndexIterator &gt; OperationIndices(const Block &amp;block) const</div><div class="ttdef"><b>Definition</b> <a href="graph_8h_source.html#l00957">graph.h:957</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph_html_aeed116b6871e22124b6c561dbcd459c3"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph.html#aeed116b6871e22124b6c561dbcd459c3">v8::internal::compiler::turboshaft::Graph::Get</a></div><div class="ttdeci">V8_INLINE const Operation &amp; Get(OpIndex i) const</div><div class="ttdef"><b>Definition</b> <a href="graph_8h_source.html#l00618">graph.h:618</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable_html"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html">v8::internal::compiler::turboshaft::MaybeRedundantStoresTable</a></div><div class="ttdef"><b>Definition</b> <a href="#l00103">store-store-elimination-reducer-inl.h:106</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable_html_a130f5f10253070ec1e63bd0e7f6fb55f"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#a130f5f10253070ec1e63bd0e7f6fb55f">v8::internal::compiler::turboshaft::MaybeRedundantStoresTable::Print</a></div><div class="ttdeci">void Print(std::ostream &amp;os, const char *sep=&quot;\n&quot;) const</div><div class="ttdef"><b>Definition</b> <a href="#l00242">store-store-elimination-reducer-inl.h:242</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable_html_a180c2af297e872e4bcdd72ecfb9fe1d4"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#a180c2af297e872e4bcdd72ecfb9fe1d4">v8::internal::compiler::turboshaft::MaybeRedundantStoresTable::MarkPotentiallyAliasingStoresAsObservable</a></div><div class="ttdeci">void MarkPotentiallyAliasingStoresAsObservable(OpIndex base, int32_t offset)</div><div class="ttdef"><b>Definition</b> <a href="#l00190">store-store-elimination-reducer-inl.h:190</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable_html_a3fd6a1d794e0fce0d06a87d0a341862f"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#a3fd6a1d794e0fce0d06a87d0a341862f">v8::internal::compiler::turboshaft::MaybeRedundantStoresTable::OnNewKey</a></div><div class="ttdeci">void OnNewKey(Key key, StoreObservability value)</div><div class="ttdef"><b>Definition</b> <a href="#l00120">store-store-elimination-reducer-inl.h:120</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable_html_a52018efd11c15fc731b11a77b770ef86"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#a52018efd11c15fc731b11a77b770ef86">v8::internal::compiler::turboshaft::MaybeRedundantStoresTable::BeginBlock</a></div><div class="ttdeci">void BeginBlock(const Block *block)</div><div class="ttdef"><b>Definition</b> <a href="#l00135">store-store-elimination-reducer-inl.h:135</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable_html_a72c5a2fbae5e9006468328c481388070"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#a72c5a2fbae5e9006468328c481388070">v8::internal::compiler::turboshaft::MaybeRedundantStoresTable::GetObservability</a></div><div class="ttdeci">StoreObservability GetObservability(OpIndex base, int32_t offset, uint8_t size)</div><div class="ttdef"><b>Definition</b> <a href="#l00172">store-store-elimination-reducer-inl.h:172</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable_html_aa9ad60798a91525dad233a44d294b27d"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#aa9ad60798a91525dad233a44d294b27d">v8::internal::compiler::turboshaft::MaybeRedundantStoresTable::MarkAllStoresAsGCObservable</a></div><div class="ttdeci">void MarkAllStoresAsGCObservable()</div><div class="ttdef"><b>Definition</b> <a href="#l00206">store-store-elimination-reducer-inl.h:206</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable_html_ad8c299260988b2f0cf8532f8f33cc349"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#ad8c299260988b2f0cf8532f8f33cc349">v8::internal::compiler::turboshaft::MaybeRedundantStoresTable::MarkStoreAsUnobservable</a></div><div class="ttdeci">void MarkStoreAsUnobservable(OpIndex base, int32_t offset, uint8_t size)</div><div class="ttdef"><b>Definition</b> <a href="#l00179">store-store-elimination-reducer-inl.h:179</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable_html_af8e6806858749887c1771a8ee22df393"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#af8e6806858749887c1771a8ee22df393">v8::internal::compiler::turboshaft::MaybeRedundantStoresTable::MaybeRedundantStoresTable</a></div><div class="ttdeci">MaybeRedundantStoresTable(const Graph &amp;graph, Zone *zone)</div><div class="ttdef"><b>Definition</b> <a href="#l00112">store-store-elimination-reducer-inl.h:112</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable_html_afac9ab4893676b4aebadbfd2b691b571"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#afac9ab4893676b4aebadbfd2b691b571">v8::internal::compiler::turboshaft::MaybeRedundantStoresTable::MarkAllStoresAsObservable</a></div><div class="ttdeci">void MarkAllStoresAsObservable()</div><div class="ttdef"><b>Definition</b> <a href="#l00200">store-store-elimination-reducer-inl.h:200</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable_html_afc4baa614dee6a27d46d674db43d0e9d"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#afc4baa614dee6a27d46d674db43d0e9d">v8::internal::compiler::turboshaft::MaybeRedundantStoresTable::Seal</a></div><div class="ttdeci">void Seal(bool *snapshot_has_changed=nullptr)</div><div class="ttdef"><b>Definition</b> <a href="#l00216">store-store-elimination-reducer-inl.h:216</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable_html_afe6a27ed1f76e1953acab79b69e45592"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresTable.html#afe6a27ed1f76e1953acab79b69e45592">v8::internal::compiler::turboshaft::MaybeRedundantStoresTable::OnValueChange</a></div><div class="ttdeci">void OnValueChange(Key key, StoreObservability old_value, StoreObservability new_value)</div><div class="ttdef"><b>Definition</b> <a href="#l00125">store-store-elimination-reducer-inl.h:125</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryRepresentation_html_ae87de69362087b454494a43ad8441257"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryRepresentation.html#ae87de69362087b454494a43ad8441257">v8::internal::compiler::turboshaft::MemoryRepresentation::Uint64</a></div><div class="ttdeci">static constexpr MemoryRepresentation Uint64()</div><div class="ttdef"><b>Definition</b> <a href="representations_8h_source.html#l00571">representations.h:571</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex_html"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html">v8::internal::compiler::turboshaft::OpIndex</a></div><div class="ttdef"><b>Definition</b> <a href="index_8h_source.html#l00037">index.h:37</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex_html_a19b67749ed68fc8a4883e936589372cc"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html#a19b67749ed68fc8a4883e936589372cc">v8::internal::compiler::turboshaft::OpIndex::Invalid</a></div><div class="ttdeci">static constexpr OpIndex Invalid()</div><div class="ttdef"><b>Definition</b> <a href="index_8h_source.html#l00086">index.h:86</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex_html_ad3816bb041449b3d13b53d55896c8b77"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html#ad3816bb041449b3d13b53d55896c8b77">v8::internal::compiler::turboshaft::OpIndex::valid</a></div><div class="ttdeci">constexpr bool valid() const</div><div class="ttdef"><b>Definition</b> <a href="index_8h_source.html#l00084">index.h:84</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1OptionalOpIndex_html_ad3816bb041449b3d13b53d55896c8b77"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OptionalOpIndex.html#ad3816bb041449b3d13b53d55896c8b77">v8::internal::compiler::turboshaft::OptionalOpIndex::valid</a></div><div class="ttdeci">constexpr bool valid() const</div><div class="ttdef"><b>Definition</b> <a href="index_8h_source.html#l00084">index.h:84</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1RedundantStoreAnalysis_html"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1RedundantStoreAnalysis.html">v8::internal::compiler::turboshaft::RedundantStoreAnalysis</a></div><div class="ttdef"><b>Definition</b> <a href="#l00280">store-store-elimination-reducer-inl.h:280</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1RedundantStoreAnalysis_html_a7b0d059930afa9f85b742731b0ed48ef"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1RedundantStoreAnalysis.html#a7b0d059930afa9f85b742731b0ed48ef">v8::internal::compiler::turboshaft::RedundantStoreAnalysis::Run</a></div><div class="ttdeci">void Run(ZoneSet&lt; OpIndex &gt; &amp;eliminable_stores, ZoneMap&lt; OpIndex, uint64_t &gt; &amp;mergeable_store_pairs)</div><div class="ttdef"><b>Definition</b> <a href="#l00285">store-store-elimination-reducer-inl.h:285</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1RedundantStoreAnalysis_html_a9ac2e04fc4ef63e906c88e30fd5d6e55"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1RedundantStoreAnalysis.html#a9ac2e04fc4ef63e906c88e30fd5d6e55">v8::internal::compiler::turboshaft::RedundantStoreAnalysis::RedundantStoreAnalysis</a></div><div class="ttdeci">RedundantStoreAnalysis(const Graph &amp;graph, Zone *phase_zone)</div><div class="ttdef"><b>Definition</b> <a href="#l00282">store-store-elimination-reducer-inl.h:282</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1RedundantStoreAnalysis_html_ac428ddb171d10068ffa58c13b15052be"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1RedundantStoreAnalysis.html#ac428ddb171d10068ffa58c13b15052be">v8::internal::compiler::turboshaft::RedundantStoreAnalysis::ProcessBlock</a></div><div class="ttdeci">void ProcessBlock(const Block &amp;block)</div><div class="ttdef"><b>Definition</b> <a href="#l00313">store-store-elimination-reducer-inl.h:313</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTableKey_html"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTableKey.html">v8::internal::compiler::turboshaft::SnapshotTableKey</a></div><div class="ttdef"><b>Definition</b> <a href="snapshot-table_8h_source.html#l00073">snapshot-table.h:73</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable_html_a30b904280e476a95d2c4023e78b6df34"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable.html#a30b904280e476a95d2c4023e78b6df34">v8::internal::compiler::turboshaft::SnapshotTable&lt; StoreObservability, MaybeRedundantStoresKeyData &gt;::IsSealed</a></div><div class="ttdeci">bool IsSealed()</div><div class="ttdef"><b>Definition</b> <a href="snapshot-table_8h_source.html#l00266">snapshot-table.h:266</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable_html_ab199226a59658c849f293f60a45dba42"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1SnapshotTable.html#ab199226a59658c849f293f60a45dba42">v8::internal::compiler::turboshaft::SnapshotTable&lt; StoreObservability, MaybeRedundantStoresKeyData &gt;::Seal</a></div><div class="ttdeci">Snapshot Seal()</div><div class="ttdef"><b>Definition</b> <a href="snapshot-table_8h_source.html#l00199">snapshot-table.h:199</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreStoreEliminationReducer_html"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreStoreEliminationReducer.html">v8::internal::compiler::turboshaft::StoreStoreEliminationReducer</a></div><div class="ttdef"><b>Definition</b> <a href="#l00448">store-store-elimination-reducer-inl.h:448</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreStoreEliminationReducer_html_a4e7fe2e800efac5f53464fc37d00f825"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreStoreEliminationReducer.html#a4e7fe2e800efac5f53464fc37d00f825">v8::internal::compiler::turboshaft::StoreStoreEliminationReducer::Analyze</a></div><div class="ttdeci">void Analyze()</div><div class="ttdef"><b>Definition</b> <a href="#l00452">store-store-elimination-reducer-inl.h:452</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreStoreEliminationReducer_html_a6c38c5ce55b14548f96d5f42d2433f67"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreStoreEliminationReducer.html#a6c38c5ce55b14548f96d5f42d2433f67">v8::internal::compiler::turboshaft::StoreStoreEliminationReducer::Store</a></div><div class="ttdeci">OpIndex REDUCE_INPUT_GRAPH Store(OpIndex ig_index, const StoreOp &amp;store)</div><div class="ttdef"><b>Definition</b> <a href="#l00457">store-store-elimination-reducer-inl.h:457</a></div></div>
<div class="ttc" id="acommon_2globals_8h_html_a4afce385590f5205d231ec1e9216b2ee"><div class="ttname"><a href="common_2globals_8h.html#a4afce385590f5205d231ec1e9216b2ee">COMPRESS_POINTERS_BOOL</a></div><div class="ttdeci">#define COMPRESS_POINTERS_BOOL</div><div class="ttdef"><b>Definition</b> <a href="common_2globals_8h_source.html#l00099">globals.h:99</a></div></div>
<div class="ttc" id="acompiler_2turboshaft_2assembler_8h_html"><div class="ttname"><a href="compiler_2turboshaft_2assembler_8h.html">assembler.h</a></div></div>
<div class="ttc" id="acompiler_2turboshaft_2assembler_8h_html_a095f0ecaadff2bbeedfb014d9e0f9acd"><div class="ttname"><a href="compiler_2turboshaft_2assembler_8h.html#a095f0ecaadff2bbeedfb014d9e0f9acd">TURBOSHAFT_REDUCER_BOILERPLATE</a></div><div class="ttdeci">#define TURBOSHAFT_REDUCER_BOILERPLATE(Name)</div><div class="ttdef"><b>Definition</b> <a href="compiler_2turboshaft_2assembler_8h_source.html#l00823">assembler.h:823</a></div></div>
<div class="ttc" id="adefine-assembler-macros_8inc_html"><div class="ttname"><a href="define-assembler-macros_8inc.html">define-assembler-macros.inc</a></div></div>
<div class="ttc" id="agraph_8h_html"><div class="ttname"><a href="graph_8h.html">graph.h</a></div></div>
<div class="ttc" id="aheap-layout-inl_8h_html"><div class="ttname"><a href="heap-layout-inl_8h.html">heap-layout-inl.h</a></div></div>
<div class="ttc" id="aheap-object-inl_8h_html"><div class="ttname"><a href="heap-object-inl_8h.html">heap-object-inl.h</a></div></div>
<div class="ttc" id="ainstruction-selector-ia32_8cc_html_a115c48491bb37004f5ac67eb46ac2c23"><div class="ttname"><a href="instruction-selector-ia32_8cc.html#a115c48491bb37004f5ac67eb46ac2c23">base</a></div><div class="ttdeci">turboshaft::OpIndex base</div><div class="ttdef"><b>Definition</b> <a href="instruction-selector-ia32_8cc_source.html#l00070">instruction-selector-ia32.cc:70</a></div></div>
<div class="ttc" id="ainstruction-selector-ia32_8cc_html_a97bd6c077f3c7769f575b82988b9b668"><div class="ttname"><a href="instruction-selector-ia32_8cc.html#a97bd6c077f3c7769f575b82988b9b668">offset</a></div><div class="ttdeci">int32_t offset</div><div class="ttdef"><b>Definition</b> <a href="instruction-selector-ia32_8cc_source.html#l00072">instruction-selector-ia32.cc:72</a></div></div>
<div class="ttc" id="ajump-threading_8cc_html_a32270f820477d0234549c564c87eb009"><div class="ttname"><a href="jump-threading_8cc.html#a32270f820477d0234549c564c87eb009">block</a></div><div class="ttdeci">RpoNumber block</div><div class="ttdef"><b>Definition</b> <a href="jump-threading_8cc_source.html#l00062">jump-threading.cc:62</a></div></div>
<div class="ttc" id="alogging_8h_html_a16b382527f19b805fc8f856668f2270b"><div class="ttname"><a href="logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a></div><div class="ttdeci">#define DCHECK_LE(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00490">logging.h:490</a></div></div>
<div class="ttc" id="alogging_8h_html_a2209830df6b59d1ec1fdf66b9352924f"><div class="ttname"><a href="logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a></div><div class="ttdeci">#define DCHECK_NULL(val)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00491">logging.h:491</a></div></div>
<div class="ttc" id="alogging_8h_html_a7b9f9517fedacc2a1a56c2bbb9d03688"><div class="ttname"><a href="logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a></div><div class="ttdeci">#define DCHECK_NOT_NULL(val)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00492">logging.h:492</a></div></div>
<div class="ttc" id="alogging_8h_html_a96a75539aa82216cdde2250a11126ea0"><div class="ttname"><a href="logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a></div><div class="ttdeci">#define DCHECK_IMPLIES(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00493">logging.h:493</a></div></div>
<div class="ttc" id="alogging_8h_html_a986dc8f4ec6dcd0644efe205c13f8eb7"><div class="ttname"><a href="logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a></div><div class="ttdeci">#define DCHECK_NE(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00486">logging.h:486</a></div></div>
<div class="ttc" id="alogging_8h_html_aabec5c3b7a8628298a25f044dcf89c25"><div class="ttname"><a href="logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a></div><div class="ttdeci">#define DCHECK_GE(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00488">logging.h:488</a></div></div>
<div class="ttc" id="alogging_8h_html_ae17f8119c108cf3070bad3449c7e0006"><div class="ttname"><a href="logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a></div><div class="ttdeci">#define DCHECK(condition)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00482">logging.h:482</a></div></div>
<div class="ttc" id="alogging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00485">logging.h:485</a></div></div>
<div class="ttc" id="amacros_8h_html_adff3f6029f9e791f368af3b0ba52be65"><div class="ttname"><a href="macros_8h.html#adff3f6029f9e791f368af3b0ba52be65">make_uint64</a></div><div class="ttdeci">uint64_t make_uint64(uint32_t high, uint32_t low)</div><div class="ttdef"><b>Definition</b> <a href="macros_8h_source.html#l00353">macros.h:353</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ab277246c6caecad159bbc8755cf6bb54"><div class="ttname"><a href="namespacev8_1_1base.html#ab277246c6caecad159bbc8755cf6bb54">v8::base::VectorOf</a></div><div class="ttdeci">constexpr Vector&lt; T &gt; VectorOf(T *start, size_t size)</div><div class="ttdef"><b>Definition</b> <a href="vector_8h_source.html#l00360">vector.h:360</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_html"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html">v8::internal::compiler::turboshaft</a></div><div class="ttdef"><b>Definition</b> <a href="builtins_8h_source.html#l00033">builtins.h:33</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_html_a0d0f5f60e0c98fe5585c09f1afbdafb4"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a0d0f5f60e0c98fe5585c09f1afbdafb4">v8::internal::compiler::turboshaft::operator&lt;&lt;</a></div><div class="ttdeci">std::ostream &amp; operator&lt;&lt;(std::ostream &amp;os, PaddingSpace padding)</div><div class="ttdef"><b>Definition</b> <a href="copying-phase_8cc_source.html#l00018">copying-phase.cc:18</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_html_a2b5e79bd829824237e784a6cde29309e"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">v8::internal::compiler::turboshaft::Get</a></div><div class="ttdeci">V8_INLINE const Operation &amp; Get(const Graph &amp;graph, OpIndex index)</div><div class="ttdef"><b>Definition</b> <a href="graph_8h_source.html#l01231">graph.h:1231</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_html_ae9cfb0cbf25995854a5afe27c051ff91"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91">v8::internal::compiler::turboshaft::StoreObservability</a></div><div class="ttdeci">StoreObservability</div><div class="ttdef"><b>Definition</b> <a href="#l00078">store-store-elimination-reducer-inl.h:78</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_html_ae9cfb0cbf25995854a5afe27c051ff91a5a080381c12d4a70ca076ea043f8d395"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91a5a080381c12d4a70ca076ea043f8d395">v8::internal::compiler::turboshaft::StoreObservability::kUnobservable</a></div><div class="ttdeci">@ kUnobservable</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_html_ae9cfb0cbf25995854a5afe27c051ff91ac306b549a081b948702bb08b47976f31"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91ac306b549a081b948702bb08b47976f31">v8::internal::compiler::turboshaft::StoreObservability::kObservable</a></div><div class="ttdeci">@ kObservable</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_html_ae9cfb0cbf25995854a5afe27c051ff91ad5dcf10586b91c42cb6e45fa6be03875"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ae9cfb0cbf25995854a5afe27c051ff91ad5dcf10586b91c42cb6e45fa6be03875">v8::internal::compiler::turboshaft::StoreObservability::kGCObservable</a></div><div class="ttdeci">@ kGCObservable</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_html_aed07c78e2eeb53baffd38e0d33f2d10e"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#aed07c78e2eeb53baffd38e0d33f2d10e">v8::internal::compiler::turboshaft::SuccessorBlocks</a></div><div class="ttdeci">base::SmallVector&lt; Block *, 4 &gt; SuccessorBlocks(const Block &amp;block, const Graph &amp;graph)</div><div class="ttdef"><b>Definition</b> <a href="operations_8cc_source.html#l01917">operations.cc:1917</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_a1ee0d1fd80275438925bc568ec289797a3cb0f5f3b0a3f679f11bec177e0cdd98"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#a1ee0d1fd80275438925bc568ec289797a3cb0f5f3b0a3f679f11bec177e0cdd98">v8::internal::compiler::kNoWriteBarrier</a></div><div class="ttdeci">@ kNoWriteBarrier</div><div class="ttdef"><b>Definition</b> <a href="write-barrier-kind_8h_source.html#l00018">write-barrier-kind.h:18</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0cfab207d565dcf62ebf50f3987e05de"><div class="ttname"><a href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">v8::internal::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition</b> <a href="heap-snapshot-generator_8cc_source.html#l01584">heap-snapshot-generator.cc:1584</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6011cd3fa0a6bf8d8c8533bacf7898ba"><div class="ttname"><a href="namespacev8_1_1internal.html#a6011cd3fa0a6bf8d8c8533bacf7898ba">v8::internal::store</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enable experimental feedback collection in generic lowering enable Turboshaft s WasmLoadElimination run instruction selection on Turboshaft IR directly enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information build the Turboshaft graph from Maglev trace emitted Turboshaft instructions profile guided optimization for empty feedback vector invocation count for maglev for functions which according to profile_guided_optimization are likely to deoptimize before reaching this invocation count Immediately re optimize code after some lazy deopts Enables the lazy new space shrinking strategy max size of a semi the new space consists of two semi spaces young and full garbage collection phases are not overlapping Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in allocation gc speed Starts incremental marking with kUserVisible priority threshold for starting incremental marking immediately in percent of available minor GC task trigger in percent of the current heap limit use a separate phase for stack scanning in scavenge max worker number of concurrent for NumberOfWorkerThreads start background threads that allocate memory concurrent_array_buffer_sweeping use parallel threads to clear weak refs in the atomic pause trace progress of the incremental marking trace object counts and memory usage report a tick only when allocated zone memory changes by this amount TracingFlags::gc_stats store(v8::tracing::TracingCategoryObserver::ENABLED_BY_NATIVE)) DEFINE_GENERIC_IMPLICATION(trace_gc_object_stats</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a67a51b6314a9bc8a8c44c5fe14149e6c"><div class="ttname"><a href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">v8::internal::key</a></div><div class="ttdeci">int32_t key</div><div class="ttdef"><b>Definition</b> <a href="external-reference_8cc_source.html#l01345">external-reference.cc:1345</a></div></div>
<div class="ttc" id="aoperations_8h_html"><div class="ttname"><a href="operations_8h.html">operations.h</a></div></div>
<div class="ttc" id="asidetable_8h_html"><div class="ttname"><a href="sidetable_8h.html">sidetable.h</a></div></div>
<div class="ttc" id="asnapshot-table_8h_html"><div class="ttname"><a href="snapshot-table_8h.html">snapshot-table.h</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1ConstantOp_html"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1ConstantOp.html">v8::internal::compiler::turboshaft::ConstantOp</a></div><div class="ttdef"><b>Definition</b> <a href="operations_8h_source.html#l02574">operations.h:2574</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1ConstantOp_html_a04de06faf6eb5c01d4d34620457093ca"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1ConstantOp.html#a04de06faf6eb5c01d4d34620457093ca">v8::internal::compiler::turboshaft::ConstantOp::kind</a></div><div class="ttdeci">Kind kind</div><div class="ttdef"><b>Definition</b> <a href="operations_8h_source.html#l02593">operations.h:2593</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1ConstantOp_html_a490c02cb400dd46345c7ecf2eedd6ef1a1bf8538b56a513d2eab5804890582c1c"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1ConstantOp.html#a490c02cb400dd46345c7ecf2eedd6ef1a1bf8538b56a513d2eab5804890582c1c">v8::internal::compiler::turboshaft::ConstantOp::Kind::kHeapObject</a></div><div class="ttdeci">@ kHeapObject</div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1ConstantOp_html_a5ef0bf1a4a30a30dd0cd8b2098094dae"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1ConstantOp.html#a5ef0bf1a4a30a30dd0cd8b2098094dae">v8::internal::compiler::turboshaft::ConstantOp::handle</a></div><div class="ttdeci">IndirectHandle&lt; i::HeapObject &gt; handle() const</div><div class="ttdef"><b>Definition</b> <a href="operations_8h_source.html#l02724">operations.h:2724</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1LoadOp_1_1Kind_html_a1af9380810652e7404f37c93cc8235fc"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1LoadOp_1_1Kind.html#a1af9380810652e7404f37c93cc8235fc">v8::internal::compiler::turboshaft::LoadOp::Kind::TaggedBase</a></div><div class="ttdeci">static constexpr Kind TaggedBase()</div><div class="ttdef"><b>Definition</b> <a href="operations_8h_source.html#l02884">operations.h:2884</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1LoadOp_1_1Kind_html_ae9e8df438e9d6688db7e93b30065e60f"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1LoadOp_1_1Kind.html#ae9e8df438e9d6688db7e93b30065e60f">v8::internal::compiler::turboshaft::LoadOp::Kind::tagged_base</a></div><div class="ttdeci">bool tagged_base</div><div class="ttdef"><b>Definition</b> <a href="operations_8h_source.html#l02832">operations.h:2832</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1LoadOp_html"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1LoadOp.html">v8::internal::compiler::turboshaft::LoadOp</a></div><div class="ttdef"><b>Definition</b> <a href="operations_8h_source.html#l02829">operations.h:2829</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1LoadOp_html_a2a896e4319a19fab610d48f2549dedac"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1LoadOp.html#a2a896e4319a19fab610d48f2549dedac">v8::internal::compiler::turboshaft::LoadOp::kind</a></div><div class="ttdeci">Kind kind</div><div class="ttdef"><b>Definition</b> <a href="operations_8h_source.html#l02964">operations.h:2964</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresKeyData_html"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresKeyData.html">v8::internal::compiler::turboshaft::MaybeRedundantStoresKeyData</a></div><div class="ttdef"><b>Definition</b> <a href="#l00096">store-store-elimination-reducer-inl.h:96</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresKeyData_html_a1eaf005a513ee94e6eb7ca0e5c3923d0"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresKeyData.html#a1eaf005a513ee94e6eb7ca0e5c3923d0">v8::internal::compiler::turboshaft::MaybeRedundantStoresKeyData::base</a></div><div class="ttdeci">OpIndex base</div><div class="ttdef"><b>Definition</b> <a href="#l00097">store-store-elimination-reducer-inl.h:97</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresKeyData_html_a1f8c1a90c6fd9517b0e8d74f000357d3"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresKeyData.html#a1f8c1a90c6fd9517b0e8d74f000357d3">v8::internal::compiler::turboshaft::MaybeRedundantStoresKeyData::size</a></div><div class="ttdeci">uint8_t size</div><div class="ttdef"><b>Definition</b> <a href="#l00099">store-store-elimination-reducer-inl.h:99</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresKeyData_html_ac436747f13463dba3e708d5de9beb423"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresKeyData.html#ac436747f13463dba3e708d5de9beb423">v8::internal::compiler::turboshaft::MaybeRedundantStoresKeyData::active_keys_index</a></div><div class="ttdeci">IntrusiveSetIndex active_keys_index</div><div class="ttdef"><b>Definition</b> <a href="#l00100">store-store-elimination-reducer-inl.h:100</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresKeyData_html_afab69f7a325e4e39da9d30b0e8a5c395"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1MaybeRedundantStoresKeyData.html#afab69f7a325e4e39da9d30b0e8a5c395">v8::internal::compiler::turboshaft::MaybeRedundantStoresKeyData::offset</a></div><div class="ttdeci">int32_t offset</div><div class="ttdef"><b>Definition</b> <a href="#l00098">store-store-elimination-reducer-inl.h:98</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpEffects_html"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpEffects.html">v8::internal::compiler::turboshaft::OpEffects</a></div><div class="ttdef"><b>Definition</b> <a href="operations_8h_source.html#l00613">operations.h:613</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpEffects_html_a3dadb496b921c407552264fd7961e4c0"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpEffects.html#a3dadb496b921c407552264fd7961e4c0">v8::internal::compiler::turboshaft::OpEffects::can_read_mutable_memory</a></div><div class="ttdeci">bool can_read_mutable_memory() const</div><div class="ttdef"><b>Definition</b> <a href="operations_8h_source.html#l00827">operations.h:827</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpEffects_html_ad80f2bbea2a22dfc9a6d4fc3215a2b83"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpEffects.html#ad80f2bbea2a22dfc9a6d4fc3215a2b83">v8::internal::compiler::turboshaft::OpEffects::requires_consistent_heap</a></div><div class="ttdeci">bool requires_consistent_heap() const</div><div class="ttdef"><b>Definition</b> <a href="operations_8h_source.html#l00830">operations.h:830</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1Operation_html"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1Operation.html">v8::internal::compiler::turboshaft::Operation</a></div><div class="ttdef"><b>Definition</b> <a href="operations_8h_source.html#l00920">operations.h:920</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1Operation_html_aac52cceece273f2b7d45e26c7660b72a"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1Operation.html#aac52cceece273f2b7d45e26c7660b72a">v8::internal::compiler::turboshaft::Operation::opcode</a></div><div class="ttdeci">const Opcode opcode</div><div class="ttdef"><b>Definition</b> <a href="operations_8h_source.html#l00930">operations.h:930</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1Operation_html_ab0900d5726ed9973e226cdbafc507262"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1Operation.html#ab0900d5726ed9973e226cdbafc507262">v8::internal::compiler::turboshaft::Operation::TryCast</a></div><div class="ttdeci">const underlying_operation_t&lt; Op &gt; * TryCast() const</div><div class="ttdef"><b>Definition</b> <a href="operations_8h_source.html#l00976">operations.h:976</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1Operation_html_ab59ad050bc10fc2715950fe756efd940"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1Operation.html#ab59ad050bc10fc2715950fe756efd940">v8::internal::compiler::turboshaft::Operation::Cast</a></div><div class="ttdeci">underlying_operation_t&lt; Op &gt; &amp; Cast()</div><div class="ttdef"><b>Definition</b> <a href="operations_8h_source.html#l00966">operations.h:966</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1Operation_html_adfb79cc12b33d07e4fdae7d3414eb24d"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1Operation.html#adfb79cc12b33d07e4fdae7d3414eb24d">v8::internal::compiler::turboshaft::Operation::Effects</a></div><div class="ttdeci">OpEffects Effects() const</div><div class="ttdef"><b>Definition</b> <a href="operations_8h_source.html#l08962">operations.h:8962</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp_html"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp.html">v8::internal::compiler::turboshaft::StoreOp</a></div><div class="ttdef"><b>Definition</b> <a href="operations_8h_source.html#l03354">operations.h:3354</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp_html_a026887d8632f53111c1886df2b815d9b"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp.html#a026887d8632f53111c1886df2b815d9b">v8::internal::compiler::turboshaft::StoreOp::offset</a></div><div class="ttdeci">int32_t offset</div><div class="ttdef"><b>Definition</b> <a href="operations_8h_source.html#l03360">operations.h:3360</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp_html_a82754fd8597fe885e53b242e4f10fde0"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp.html#a82754fd8597fe885e53b242e4f10fde0">v8::internal::compiler::turboshaft::StoreOp::kind</a></div><div class="ttdeci">Kind kind</div><div class="ttdef"><b>Definition</b> <a href="operations_8h_source.html#l03356">operations.h:3356</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp_html_aa14c843070bf72bbb7455d3585355bf2"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp.html#aa14c843070bf72bbb7455d3585355bf2">v8::internal::compiler::turboshaft::StoreOp::index</a></div><div class="ttdeci">OptionalOpIndex index() const</div><div class="ttdef"><b>Definition</b> <a href="operations_8h_source.html#l03408">operations.h:3408</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp_html_ab5f77979314689d05b2774c12dc231ed"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp.html#ab5f77979314689d05b2774c12dc231ed">v8::internal::compiler::turboshaft::StoreOp::value</a></div><div class="ttdeci">OpIndex value() const</div><div class="ttdef"><b>Definition</b> <a href="operations_8h_source.html#l03407">operations.h:3407</a></div></div>
<div class="ttc" id="aundef-assembler-macros_8inc_html"><div class="ttname"><a href="undef-assembler-macros_8inc.html">undef-assembler-macros.inc</a></div></div>
<div class="ttc" id="auniform-reducer-adapter_8h_html"><div class="ttname"><a href="uniform-reducer-adapter_8h.html">uniform-reducer-adapter.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_f13bc85843fa14191e0ad4a3a157cf60.html">compiler</a></li><li class="navelem"><a class="el" href="dir_d950b3d0fa1ff1d1c017f7a9e0e0bf7c.html">turboshaft</a></li><li class="navelem"><a class="el" href="store-store-elimination-reducer-inl_8h.html">store-store-elimination-reducer-inl.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
